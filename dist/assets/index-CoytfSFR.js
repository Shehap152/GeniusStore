var u4=Object.defineProperty;var h4=(t,e,n)=>e in t?u4(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var X=(t,e,n)=>h4(t,typeof e!="symbol"?e+"":e,n);function d4(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Dd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var lx={exports:{}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ec=Symbol.for("react.element"),f4=Symbol.for("react.portal"),p4=Symbol.for("react.fragment"),m4=Symbol.for("react.strict_mode"),g4=Symbol.for("react.profiler"),y4=Symbol.for("react.provider"),v4=Symbol.for("react.context"),_4=Symbol.for("react.forward_ref"),w4=Symbol.for("react.suspense"),E4=Symbol.for("react.memo"),T4=Symbol.for("react.lazy"),Y_=Symbol.iterator;function x4(t){return t===null||typeof t!="object"?null:(t=Y_&&t[Y_]||t["@@iterator"],typeof t=="function"?t:null)}var cx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ux=Object.assign,hx={};function Jo(t,e,n){this.props=t,this.context=e,this.refs=hx,this.updater=n||cx}Jo.prototype.isReactComponent={};Jo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Jo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function dx(){}dx.prototype=Jo.prototype;function ly(t,e,n){this.props=t,this.context=e,this.refs=hx,this.updater=n||cx}var cy=ly.prototype=new dx;cy.constructor=ly;ux(cy,Jo.prototype);cy.isPureReactComponent=!0;var X_=Array.isArray,fx=Object.prototype.hasOwnProperty,uy={current:null},px={key:!0,ref:!0,__self:!0,__source:!0};function mx(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)fx.call(e,r)&&!px.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ec,type:t,key:s,ref:o,props:i,_owner:uy.current}}function b4(t,e){return{$$typeof:Ec,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function hy(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ec}function S4(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var J_=/\/+/g;function Kf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?S4(""+t.key):e.toString(36)}function Xu(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ec:case f4:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Kf(o,0):r,X_(i)?(n="",t!=null&&(n=t.replace(J_,"$&/")+"/"),Xu(i,e,n,"",function(c){return c})):i!=null&&(hy(i)&&(i=b4(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(J_,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",X_(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Kf(s,a);o+=Xu(s,e,n,l,i)}else if(l=x4(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Kf(s,a++),o+=Xu(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function cu(t,e,n){if(t==null)return t;var r=[],i=0;return Xu(t,r,"","",function(s){return e.call(n,s,i++)}),r}function I4(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var qt={current:null},Ju={transition:null},k4={ReactCurrentDispatcher:qt,ReactCurrentBatchConfig:Ju,ReactCurrentOwner:uy};function gx(){throw Error("act(...) is not supported in production builds of React.")}le.Children={map:cu,forEach:function(t,e,n){cu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return cu(t,function(){e++}),e},toArray:function(t){return cu(t,function(e){return e})||[]},only:function(t){if(!hy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};le.Component=Jo;le.Fragment=p4;le.Profiler=g4;le.PureComponent=ly;le.StrictMode=m4;le.Suspense=w4;le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=k4;le.act=gx;le.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=ux({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=uy.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)fx.call(e,l)&&!px.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Ec,type:t.type,key:i,ref:s,props:r,_owner:o}};le.createContext=function(t){return t={$$typeof:v4,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:y4,_context:t},t.Consumer=t};le.createElement=mx;le.createFactory=function(t){var e=mx.bind(null,t);return e.type=t,e};le.createRef=function(){return{current:null}};le.forwardRef=function(t){return{$$typeof:_4,render:t}};le.isValidElement=hy;le.lazy=function(t){return{$$typeof:T4,_payload:{_status:-1,_result:t},_init:I4}};le.memo=function(t,e){return{$$typeof:E4,type:t,compare:e===void 0?null:e}};le.startTransition=function(t){var e=Ju.transition;Ju.transition={};try{t()}finally{Ju.transition=e}};le.unstable_act=gx;le.useCallback=function(t,e){return qt.current.useCallback(t,e)};le.useContext=function(t){return qt.current.useContext(t)};le.useDebugValue=function(){};le.useDeferredValue=function(t){return qt.current.useDeferredValue(t)};le.useEffect=function(t,e){return qt.current.useEffect(t,e)};le.useId=function(){return qt.current.useId()};le.useImperativeHandle=function(t,e,n){return qt.current.useImperativeHandle(t,e,n)};le.useInsertionEffect=function(t,e){return qt.current.useInsertionEffect(t,e)};le.useLayoutEffect=function(t,e){return qt.current.useLayoutEffect(t,e)};le.useMemo=function(t,e){return qt.current.useMemo(t,e)};le.useReducer=function(t,e,n){return qt.current.useReducer(t,e,n)};le.useRef=function(t){return qt.current.useRef(t)};le.useState=function(t){return qt.current.useState(t)};le.useSyncExternalStore=function(t,e,n){return qt.current.useSyncExternalStore(t,e,n)};le.useTransition=function(){return qt.current.useTransition()};le.version="18.3.1";lx.exports=le;var N=lx.exports;const g=Dd(N),C4=d4({__proto__:null,default:g},[N]);var im={},yx={exports:{}},fn={},vx={exports:{}},_x={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,W){var K=B.length;B.push(W);e:for(;0<K;){var de=K-1>>>1,se=B[de];if(0<i(se,W))B[de]=W,B[K]=se,K=de;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var W=B[0],K=B.pop();if(K!==W){B[0]=K;e:for(var de=0,se=B.length,ce=se>>>1;de<ce;){var Fe=2*(de+1)-1,Ge=B[Fe],Re=Fe+1,Bt=B[Re];if(0>i(Ge,K))Re<se&&0>i(Bt,Ge)?(B[de]=Bt,B[Re]=K,de=Re):(B[de]=Ge,B[Fe]=K,de=Fe);else if(Re<se&&0>i(Bt,K))B[de]=Bt,B[Re]=K,de=Re;else break e}}return W}function i(B,W){var K=B.sortIndex-W.sortIndex;return K!==0?K:B.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,f=3,m=!1,v=!1,w=!1,T=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(B){for(var W=n(c);W!==null;){if(W.callback===null)r(c);else if(W.startTime<=B)r(c),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(c)}}function R(B){if(w=!1,b(B),!v)if(n(l)!==null)v=!0,Te(D);else{var W=n(c);W!==null&&te(R,W.startTime-B)}}function D(B,W){v=!1,w&&(w=!1,_(E),E=-1),m=!0;var K=f;try{for(b(W),d=n(l);d!==null&&(!(d.expirationTime>W)||B&&!A());){var de=d.callback;if(typeof de=="function"){d.callback=null,f=d.priorityLevel;var se=de(d.expirationTime<=W);W=t.unstable_now(),typeof se=="function"?d.callback=se:d===n(l)&&r(l),b(W)}else r(l);d=n(l)}if(d!==null)var ce=!0;else{var Fe=n(c);Fe!==null&&te(R,Fe.startTime-W),ce=!1}return ce}finally{d=null,f=K,m=!1}}var O=!1,S=null,E=-1,k=5,C=-1;function A(){return!(t.unstable_now()-C<k)}function M(){if(S!==null){var B=t.unstable_now();C=B;var W=!0;try{W=S(!0,B)}finally{W?P():(O=!1,S=null)}}else O=!1}var P;if(typeof x=="function")P=function(){x(M)};else if(typeof MessageChannel<"u"){var he=new MessageChannel,oe=he.port2;he.port1.onmessage=M,P=function(){oe.postMessage(null)}}else P=function(){T(M,0)};function Te(B){S=B,O||(O=!0,P())}function te(B,W){E=T(function(){B(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,Te(D))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(B){switch(f){case 1:case 2:case 3:var W=3;break;default:W=f}var K=f;f=W;try{return B()}finally{f=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,W){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var K=f;f=B;try{return W()}finally{f=K}},t.unstable_scheduleCallback=function(B,W,K){var de=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?de+K:de):K=de,B){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=K+se,B={id:u++,callback:W,priorityLevel:B,startTime:K,expirationTime:se,sortIndex:-1},K>de?(B.sortIndex=K,e(c,B),n(l)===null&&B===n(c)&&(w?(_(E),E=-1):w=!0,te(R,K-de))):(B.sortIndex=se,e(l,B),v||m||(v=!0,Te(D))),B},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(B){var W=f;return function(){var K=f;f=W;try{return B.apply(this,arguments)}finally{f=K}}}})(_x);vx.exports=_x;var P4=vx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A4=N,dn=P4;function j(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var wx=new Set,Ml={};function Ms(t,e){Ro(t,e),Ro(t+"Capture",e)}function Ro(t,e){for(Ml[t]=e,t=0;t<e.length;t++)wx.add(e[t])}var Ar=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sm=Object.prototype.hasOwnProperty,R4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Z_={},e1={};function D4(t){return sm.call(e1,t)?!0:sm.call(Z_,t)?!1:R4.test(t)?e1[t]=!0:(Z_[t]=!0,!1)}function M4(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function N4(t,e,n,r){if(e===null||typeof e>"u"||M4(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Kt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var xt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){xt[t]=new Kt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];xt[e]=new Kt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){xt[t]=new Kt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){xt[t]=new Kt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){xt[t]=new Kt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){xt[t]=new Kt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){xt[t]=new Kt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){xt[t]=new Kt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){xt[t]=new Kt(t,5,!1,t.toLowerCase(),null,!1,!1)});var dy=/[\-:]([a-z])/g;function fy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(dy,fy);xt[e]=new Kt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(dy,fy);xt[e]=new Kt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(dy,fy);xt[e]=new Kt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){xt[t]=new Kt(t,1,!1,t.toLowerCase(),null,!1,!1)});xt.xlinkHref=new Kt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){xt[t]=new Kt(t,1,!1,t.toLowerCase(),null,!0,!0)});function py(t,e,n,r){var i=xt.hasOwnProperty(e)?xt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(N4(e,n,i,r)&&(n=null),r||i===null?D4(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Br=A4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,uu=Symbol.for("react.element"),Js=Symbol.for("react.portal"),Zs=Symbol.for("react.fragment"),my=Symbol.for("react.strict_mode"),om=Symbol.for("react.profiler"),Ex=Symbol.for("react.provider"),Tx=Symbol.for("react.context"),gy=Symbol.for("react.forward_ref"),am=Symbol.for("react.suspense"),lm=Symbol.for("react.suspense_list"),yy=Symbol.for("react.memo"),ei=Symbol.for("react.lazy"),xx=Symbol.for("react.offscreen"),t1=Symbol.iterator;function Ca(t){return t===null||typeof t!="object"?null:(t=t1&&t[t1]||t["@@iterator"],typeof t=="function"?t:null)}var $e=Object.assign,Gf;function qa(t){if(Gf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Gf=e&&e[1]||""}return`
`+Gf+t}var Qf=!1;function Yf(t,e){if(!t||Qf)return"";Qf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Qf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?qa(t):""}function O4(t){switch(t.tag){case 5:return qa(t.type);case 16:return qa("Lazy");case 13:return qa("Suspense");case 19:return qa("SuspenseList");case 0:case 2:case 15:return t=Yf(t.type,!1),t;case 11:return t=Yf(t.type.render,!1),t;case 1:return t=Yf(t.type,!0),t;default:return""}}function cm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Zs:return"Fragment";case Js:return"Portal";case om:return"Profiler";case my:return"StrictMode";case am:return"Suspense";case lm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Tx:return(t.displayName||"Context")+".Consumer";case Ex:return(t._context.displayName||"Context")+".Provider";case gy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case yy:return e=t.displayName||null,e!==null?e:cm(t.type)||"Memo";case ei:e=t._payload,t=t._init;try{return cm(t(e))}catch{}}return null}function L4(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return cm(e);case 8:return e===my?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Pi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function bx(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function V4(t){var e=bx(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function hu(t){t._valueTracker||(t._valueTracker=V4(t))}function Sx(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=bx(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ch(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function um(t,e){var n=e.checked;return $e({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function n1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Pi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Ix(t,e){e=e.checked,e!=null&&py(t,"checked",e,!1)}function hm(t,e){Ix(t,e);var n=Pi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?dm(t,e.type,n):e.hasOwnProperty("defaultValue")&&dm(t,e.type,Pi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function r1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function dm(t,e,n){(e!=="number"||Ch(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ka=Array.isArray;function vo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Pi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function fm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(j(91));return $e({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function i1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(j(92));if(Ka(n)){if(1<n.length)throw Error(j(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Pi(n)}}function kx(t,e){var n=Pi(e.value),r=Pi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function s1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Cx(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Cx(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var du,Px=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(du=du||document.createElement("div"),du.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=du.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Nl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ll={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},F4=["Webkit","ms","Moz","O"];Object.keys(ll).forEach(function(t){F4.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ll[e]=ll[t]})});function Ax(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ll.hasOwnProperty(t)&&ll[t]?(""+e).trim():e+"px"}function Rx(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Ax(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var U4=$e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mm(t,e){if(e){if(U4[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(j(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(j(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(j(61))}if(e.style!=null&&typeof e.style!="object")throw Error(j(62))}}function gm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ym=null;function vy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var vm=null,_o=null,wo=null;function o1(t){if(t=bc(t)){if(typeof vm!="function")throw Error(j(280));var e=t.stateNode;e&&(e=Vd(e),vm(t.stateNode,t.type,e))}}function Dx(t){_o?wo?wo.push(t):wo=[t]:_o=t}function Mx(){if(_o){var t=_o,e=wo;if(wo=_o=null,o1(t),e)for(t=0;t<e.length;t++)o1(e[t])}}function Nx(t,e){return t(e)}function Ox(){}var Xf=!1;function Lx(t,e,n){if(Xf)return t(e,n);Xf=!0;try{return Nx(t,e,n)}finally{Xf=!1,(_o!==null||wo!==null)&&(Ox(),Mx())}}function Ol(t,e){var n=t.stateNode;if(n===null)return null;var r=Vd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(j(231,e,typeof n));return n}var _m=!1;if(Ar)try{var Pa={};Object.defineProperty(Pa,"passive",{get:function(){_m=!0}}),window.addEventListener("test",Pa,Pa),window.removeEventListener("test",Pa,Pa)}catch{_m=!1}function B4(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var cl=!1,Ph=null,Ah=!1,wm=null,j4={onError:function(t){cl=!0,Ph=t}};function z4(t,e,n,r,i,s,o,a,l){cl=!1,Ph=null,B4.apply(j4,arguments)}function $4(t,e,n,r,i,s,o,a,l){if(z4.apply(this,arguments),cl){if(cl){var c=Ph;cl=!1,Ph=null}else throw Error(j(198));Ah||(Ah=!0,wm=c)}}function Ns(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Vx(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function a1(t){if(Ns(t)!==t)throw Error(j(188))}function H4(t){var e=t.alternate;if(!e){if(e=Ns(t),e===null)throw Error(j(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return a1(i),t;if(s===r)return a1(i),e;s=s.sibling}throw Error(j(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(j(189))}}if(n.alternate!==r)throw Error(j(190))}if(n.tag!==3)throw Error(j(188));return n.stateNode.current===n?t:e}function Fx(t){return t=H4(t),t!==null?Ux(t):null}function Ux(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Ux(t);if(e!==null)return e;t=t.sibling}return null}var Bx=dn.unstable_scheduleCallback,l1=dn.unstable_cancelCallback,W4=dn.unstable_shouldYield,q4=dn.unstable_requestPaint,Xe=dn.unstable_now,K4=dn.unstable_getCurrentPriorityLevel,_y=dn.unstable_ImmediatePriority,jx=dn.unstable_UserBlockingPriority,Rh=dn.unstable_NormalPriority,G4=dn.unstable_LowPriority,zx=dn.unstable_IdlePriority,Md=null,er=null;function Q4(t){if(er&&typeof er.onCommitFiberRoot=="function")try{er.onCommitFiberRoot(Md,t,void 0,(t.current.flags&128)===128)}catch{}}var Bn=Math.clz32?Math.clz32:J4,Y4=Math.log,X4=Math.LN2;function J4(t){return t>>>=0,t===0?32:31-(Y4(t)/X4|0)|0}var fu=64,pu=4194304;function Ga(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Dh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Ga(a):(s&=o,s!==0&&(r=Ga(s)))}else o=n&~i,o!==0?r=Ga(o):s!==0&&(r=Ga(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Bn(e),i=1<<n,r|=t[n],e&=~i;return r}function Z4(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Bn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=Z4(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Em(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function $x(){var t=fu;return fu<<=1,!(fu&4194240)&&(fu=64),t}function Jf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Tc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Bn(e),t[e]=n}function tR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Bn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function wy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Bn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var be=0;function Hx(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Wx,Ey,qx,Kx,Gx,Tm=!1,mu=[],fi=null,pi=null,mi=null,Ll=new Map,Vl=new Map,ni=[],nR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function c1(t,e){switch(t){case"focusin":case"focusout":fi=null;break;case"dragenter":case"dragleave":pi=null;break;case"mouseover":case"mouseout":mi=null;break;case"pointerover":case"pointerout":Ll.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vl.delete(e.pointerId)}}function Aa(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=bc(e),e!==null&&Ey(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function rR(t,e,n,r,i){switch(e){case"focusin":return fi=Aa(fi,t,e,n,r,i),!0;case"dragenter":return pi=Aa(pi,t,e,n,r,i),!0;case"mouseover":return mi=Aa(mi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ll.set(s,Aa(Ll.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Vl.set(s,Aa(Vl.get(s)||null,t,e,n,r,i)),!0}return!1}function Qx(t){var e=os(t.target);if(e!==null){var n=Ns(e);if(n!==null){if(e=n.tag,e===13){if(e=Vx(n),e!==null){t.blockedOn=e,Gx(t.priority,function(){qx(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Zu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=xm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ym=r,n.target.dispatchEvent(r),ym=null}else return e=bc(n),e!==null&&Ey(e),t.blockedOn=n,!1;e.shift()}return!0}function u1(t,e,n){Zu(t)&&n.delete(e)}function iR(){Tm=!1,fi!==null&&Zu(fi)&&(fi=null),pi!==null&&Zu(pi)&&(pi=null),mi!==null&&Zu(mi)&&(mi=null),Ll.forEach(u1),Vl.forEach(u1)}function Ra(t,e){t.blockedOn===e&&(t.blockedOn=null,Tm||(Tm=!0,dn.unstable_scheduleCallback(dn.unstable_NormalPriority,iR)))}function Fl(t){function e(i){return Ra(i,t)}if(0<mu.length){Ra(mu[0],t);for(var n=1;n<mu.length;n++){var r=mu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(fi!==null&&Ra(fi,t),pi!==null&&Ra(pi,t),mi!==null&&Ra(mi,t),Ll.forEach(e),Vl.forEach(e),n=0;n<ni.length;n++)r=ni[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ni.length&&(n=ni[0],n.blockedOn===null);)Qx(n),n.blockedOn===null&&ni.shift()}var Eo=Br.ReactCurrentBatchConfig,Mh=!0;function sR(t,e,n,r){var i=be,s=Eo.transition;Eo.transition=null;try{be=1,Ty(t,e,n,r)}finally{be=i,Eo.transition=s}}function oR(t,e,n,r){var i=be,s=Eo.transition;Eo.transition=null;try{be=4,Ty(t,e,n,r)}finally{be=i,Eo.transition=s}}function Ty(t,e,n,r){if(Mh){var i=xm(t,e,n,r);if(i===null)lp(t,e,r,Nh,n),c1(t,r);else if(rR(i,t,e,n,r))r.stopPropagation();else if(c1(t,r),e&4&&-1<nR.indexOf(t)){for(;i!==null;){var s=bc(i);if(s!==null&&Wx(s),s=xm(t,e,n,r),s===null&&lp(t,e,r,Nh,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else lp(t,e,r,null,n)}}var Nh=null;function xm(t,e,n,r){if(Nh=null,t=vy(r),t=os(t),t!==null)if(e=Ns(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Vx(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Nh=t,null}function Yx(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(K4()){case _y:return 1;case jx:return 4;case Rh:case G4:return 16;case zx:return 536870912;default:return 16}default:return 16}}var li=null,xy=null,eh=null;function Xx(){if(eh)return eh;var t,e=xy,n=e.length,r,i="value"in li?li.value:li.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return eh=i.slice(t,1<r?1-r:void 0)}function th(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function gu(){return!0}function h1(){return!1}function pn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?gu:h1,this.isPropagationStopped=h1,this}return $e(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=gu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=gu)},persist:function(){},isPersistent:gu}),e}var Zo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},by=pn(Zo),xc=$e({},Zo,{view:0,detail:0}),aR=pn(xc),Zf,ep,Da,Nd=$e({},xc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Da&&(Da&&t.type==="mousemove"?(Zf=t.screenX-Da.screenX,ep=t.screenY-Da.screenY):ep=Zf=0,Da=t),Zf)},movementY:function(t){return"movementY"in t?t.movementY:ep}}),d1=pn(Nd),lR=$e({},Nd,{dataTransfer:0}),cR=pn(lR),uR=$e({},xc,{relatedTarget:0}),tp=pn(uR),hR=$e({},Zo,{animationName:0,elapsedTime:0,pseudoElement:0}),dR=pn(hR),fR=$e({},Zo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),pR=pn(fR),mR=$e({},Zo,{data:0}),f1=pn(mR),gR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _R(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=vR[t])?!!e[t]:!1}function Sy(){return _R}var wR=$e({},xc,{key:function(t){if(t.key){var e=gR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=th(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?yR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sy,charCode:function(t){return t.type==="keypress"?th(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?th(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ER=pn(wR),TR=$e({},Nd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),p1=pn(TR),xR=$e({},xc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sy}),bR=pn(xR),SR=$e({},Zo,{propertyName:0,elapsedTime:0,pseudoElement:0}),IR=pn(SR),kR=$e({},Nd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),CR=pn(kR),PR=[9,13,27,32],Iy=Ar&&"CompositionEvent"in window,ul=null;Ar&&"documentMode"in document&&(ul=document.documentMode);var AR=Ar&&"TextEvent"in window&&!ul,Jx=Ar&&(!Iy||ul&&8<ul&&11>=ul),m1=" ",g1=!1;function Zx(t,e){switch(t){case"keyup":return PR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function eb(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var eo=!1;function RR(t,e){switch(t){case"compositionend":return eb(e);case"keypress":return e.which!==32?null:(g1=!0,m1);case"textInput":return t=e.data,t===m1&&g1?null:t;default:return null}}function DR(t,e){if(eo)return t==="compositionend"||!Iy&&Zx(t,e)?(t=Xx(),eh=xy=li=null,eo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Jx&&e.locale!=="ko"?null:e.data;default:return null}}var MR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function y1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!MR[t.type]:e==="textarea"}function tb(t,e,n,r){Dx(r),e=Oh(e,"onChange"),0<e.length&&(n=new by("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var hl=null,Ul=null;function NR(t){db(t,0)}function Od(t){var e=ro(t);if(Sx(e))return t}function OR(t,e){if(t==="change")return e}var nb=!1;if(Ar){var np;if(Ar){var rp="oninput"in document;if(!rp){var v1=document.createElement("div");v1.setAttribute("oninput","return;"),rp=typeof v1.oninput=="function"}np=rp}else np=!1;nb=np&&(!document.documentMode||9<document.documentMode)}function _1(){hl&&(hl.detachEvent("onpropertychange",rb),Ul=hl=null)}function rb(t){if(t.propertyName==="value"&&Od(Ul)){var e=[];tb(e,Ul,t,vy(t)),Lx(NR,e)}}function LR(t,e,n){t==="focusin"?(_1(),hl=e,Ul=n,hl.attachEvent("onpropertychange",rb)):t==="focusout"&&_1()}function VR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Od(Ul)}function FR(t,e){if(t==="click")return Od(e)}function UR(t,e){if(t==="input"||t==="change")return Od(e)}function BR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var $n=typeof Object.is=="function"?Object.is:BR;function Bl(t,e){if($n(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!sm.call(e,i)||!$n(t[i],e[i]))return!1}return!0}function w1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function E1(t,e){var n=w1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=w1(n)}}function ib(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ib(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function sb(){for(var t=window,e=Ch();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ch(t.document)}return e}function ky(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function jR(t){var e=sb(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&ib(n.ownerDocument.documentElement,n)){if(r!==null&&ky(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=E1(n,s);var o=E1(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var zR=Ar&&"documentMode"in document&&11>=document.documentMode,to=null,bm=null,dl=null,Sm=!1;function T1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Sm||to==null||to!==Ch(r)||(r=to,"selectionStart"in r&&ky(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),dl&&Bl(dl,r)||(dl=r,r=Oh(bm,"onSelect"),0<r.length&&(e=new by("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=to)))}function yu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var no={animationend:yu("Animation","AnimationEnd"),animationiteration:yu("Animation","AnimationIteration"),animationstart:yu("Animation","AnimationStart"),transitionend:yu("Transition","TransitionEnd")},ip={},ob={};Ar&&(ob=document.createElement("div").style,"AnimationEvent"in window||(delete no.animationend.animation,delete no.animationiteration.animation,delete no.animationstart.animation),"TransitionEvent"in window||delete no.transitionend.transition);function Ld(t){if(ip[t])return ip[t];if(!no[t])return t;var e=no[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in ob)return ip[t]=e[n];return t}var ab=Ld("animationend"),lb=Ld("animationiteration"),cb=Ld("animationstart"),ub=Ld("transitionend"),hb=new Map,x1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vi(t,e){hb.set(t,e),Ms(e,[t])}for(var sp=0;sp<x1.length;sp++){var op=x1[sp],$R=op.toLowerCase(),HR=op[0].toUpperCase()+op.slice(1);Vi($R,"on"+HR)}Vi(ab,"onAnimationEnd");Vi(lb,"onAnimationIteration");Vi(cb,"onAnimationStart");Vi("dblclick","onDoubleClick");Vi("focusin","onFocus");Vi("focusout","onBlur");Vi(ub,"onTransitionEnd");Ro("onMouseEnter",["mouseout","mouseover"]);Ro("onMouseLeave",["mouseout","mouseover"]);Ro("onPointerEnter",["pointerout","pointerover"]);Ro("onPointerLeave",["pointerout","pointerover"]);Ms("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ms("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ms("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ms("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ms("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ms("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WR=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qa));function b1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,$4(r,e,void 0,t),t.currentTarget=null}function db(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;b1(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;b1(i,a,c),s=l}}}if(Ah)throw t=wm,Ah=!1,wm=null,t}function Me(t,e){var n=e[Am];n===void 0&&(n=e[Am]=new Set);var r=t+"__bubble";n.has(r)||(fb(e,t,2,!1),n.add(r))}function ap(t,e,n){var r=0;e&&(r|=4),fb(n,t,r,e)}var vu="_reactListening"+Math.random().toString(36).slice(2);function jl(t){if(!t[vu]){t[vu]=!0,wx.forEach(function(n){n!=="selectionchange"&&(WR.has(n)||ap(n,!1,t),ap(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[vu]||(e[vu]=!0,ap("selectionchange",!1,e))}}function fb(t,e,n,r){switch(Yx(e)){case 1:var i=sR;break;case 4:i=oR;break;default:i=Ty}n=i.bind(null,e,n,t),i=void 0,!_m||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function lp(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=os(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Lx(function(){var c=s,u=vy(n),d=[];e:{var f=hb.get(t);if(f!==void 0){var m=by,v=t;switch(t){case"keypress":if(th(n)===0)break e;case"keydown":case"keyup":m=ER;break;case"focusin":v="focus",m=tp;break;case"focusout":v="blur",m=tp;break;case"beforeblur":case"afterblur":m=tp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=d1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=cR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=bR;break;case ab:case lb:case cb:m=dR;break;case ub:m=IR;break;case"scroll":m=aR;break;case"wheel":m=CR;break;case"copy":case"cut":case"paste":m=pR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=p1}var w=(e&4)!==0,T=!w&&t==="scroll",_=w?f!==null?f+"Capture":null:f;w=[];for(var x=c,b;x!==null;){b=x;var R=b.stateNode;if(b.tag===5&&R!==null&&(b=R,_!==null&&(R=Ol(x,_),R!=null&&w.push(zl(x,R,b)))),T)break;x=x.return}0<w.length&&(f=new m(f,v,null,n,u),d.push({event:f,listeners:w}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==ym&&(v=n.relatedTarget||n.fromElement)&&(os(v)||v[Rr]))break e;if((m||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=c,v=v?os(v):null,v!==null&&(T=Ns(v),v!==T||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=c),m!==v)){if(w=d1,R="onMouseLeave",_="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(w=p1,R="onPointerLeave",_="onPointerEnter",x="pointer"),T=m==null?f:ro(m),b=v==null?f:ro(v),f=new w(R,x+"leave",m,n,u),f.target=T,f.relatedTarget=b,R=null,os(u)===c&&(w=new w(_,x+"enter",v,n,u),w.target=b,w.relatedTarget=T,R=w),T=R,m&&v)t:{for(w=m,_=v,x=0,b=w;b;b=qs(b))x++;for(b=0,R=_;R;R=qs(R))b++;for(;0<x-b;)w=qs(w),x--;for(;0<b-x;)_=qs(_),b--;for(;x--;){if(w===_||_!==null&&w===_.alternate)break t;w=qs(w),_=qs(_)}w=null}else w=null;m!==null&&S1(d,f,m,w,!1),v!==null&&T!==null&&S1(d,T,v,w,!0)}}e:{if(f=c?ro(c):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var D=OR;else if(y1(f))if(nb)D=UR;else{D=VR;var O=LR}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(D=FR);if(D&&(D=D(t,c))){tb(d,D,n,u);break e}O&&O(t,f,c),t==="focusout"&&(O=f._wrapperState)&&O.controlled&&f.type==="number"&&dm(f,"number",f.value)}switch(O=c?ro(c):window,t){case"focusin":(y1(O)||O.contentEditable==="true")&&(to=O,bm=c,dl=null);break;case"focusout":dl=bm=to=null;break;case"mousedown":Sm=!0;break;case"contextmenu":case"mouseup":case"dragend":Sm=!1,T1(d,n,u);break;case"selectionchange":if(zR)break;case"keydown":case"keyup":T1(d,n,u)}var S;if(Iy)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else eo?Zx(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(Jx&&n.locale!=="ko"&&(eo||E!=="onCompositionStart"?E==="onCompositionEnd"&&eo&&(S=Xx()):(li=u,xy="value"in li?li.value:li.textContent,eo=!0)),O=Oh(c,E),0<O.length&&(E=new f1(E,t,null,n,u),d.push({event:E,listeners:O}),S?E.data=S:(S=eb(n),S!==null&&(E.data=S)))),(S=AR?RR(t,n):DR(t,n))&&(c=Oh(c,"onBeforeInput"),0<c.length&&(u=new f1("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=S))}db(d,e)})}function zl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Oh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ol(t,n),s!=null&&r.unshift(zl(t,s,i)),s=Ol(t,e),s!=null&&r.push(zl(t,s,i))),t=t.return}return r}function qs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function S1(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Ol(n,s),l!=null&&o.unshift(zl(n,l,a))):i||(l=Ol(n,s),l!=null&&o.push(zl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var qR=/\r\n?/g,KR=/\u0000|\uFFFD/g;function I1(t){return(typeof t=="string"?t:""+t).replace(qR,`
`).replace(KR,"")}function _u(t,e,n){if(e=I1(e),I1(t)!==e&&n)throw Error(j(425))}function Lh(){}var Im=null,km=null;function Cm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Pm=typeof setTimeout=="function"?setTimeout:void 0,GR=typeof clearTimeout=="function"?clearTimeout:void 0,k1=typeof Promise=="function"?Promise:void 0,QR=typeof queueMicrotask=="function"?queueMicrotask:typeof k1<"u"?function(t){return k1.resolve(null).then(t).catch(YR)}:Pm;function YR(t){setTimeout(function(){throw t})}function cp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Fl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Fl(e)}function gi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function C1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ea=Math.random().toString(36).slice(2),Zn="__reactFiber$"+ea,$l="__reactProps$"+ea,Rr="__reactContainer$"+ea,Am="__reactEvents$"+ea,XR="__reactListeners$"+ea,JR="__reactHandles$"+ea;function os(t){var e=t[Zn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Rr]||n[Zn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=C1(t);t!==null;){if(n=t[Zn])return n;t=C1(t)}return e}t=n,n=t.parentNode}return null}function bc(t){return t=t[Zn]||t[Rr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ro(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(j(33))}function Vd(t){return t[$l]||null}var Rm=[],io=-1;function Fi(t){return{current:t}}function Le(t){0>io||(t.current=Rm[io],Rm[io]=null,io--)}function Ce(t,e){io++,Rm[io]=t.current,t.current=e}var Ai={},Ft=Fi(Ai),en=Fi(!1),Es=Ai;function Do(t,e){var n=t.type.contextTypes;if(!n)return Ai;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function tn(t){return t=t.childContextTypes,t!=null}function Vh(){Le(en),Le(Ft)}function P1(t,e,n){if(Ft.current!==Ai)throw Error(j(168));Ce(Ft,e),Ce(en,n)}function pb(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(j(108,L4(t)||"Unknown",i));return $e({},n,r)}function Fh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ai,Es=Ft.current,Ce(Ft,t),Ce(en,en.current),!0}function A1(t,e,n){var r=t.stateNode;if(!r)throw Error(j(169));n?(t=pb(t,e,Es),r.__reactInternalMemoizedMergedChildContext=t,Le(en),Le(Ft),Ce(Ft,t)):Le(en),Ce(en,n)}var Er=null,Fd=!1,up=!1;function mb(t){Er===null?Er=[t]:Er.push(t)}function ZR(t){Fd=!0,mb(t)}function Ui(){if(!up&&Er!==null){up=!0;var t=0,e=be;try{var n=Er;for(be=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Er=null,Fd=!1}catch(i){throw Er!==null&&(Er=Er.slice(t+1)),Bx(_y,Ui),i}finally{be=e,up=!1}}return null}var so=[],oo=0,Uh=null,Bh=0,_n=[],wn=0,Ts=null,xr=1,br="";function es(t,e){so[oo++]=Bh,so[oo++]=Uh,Uh=t,Bh=e}function gb(t,e,n){_n[wn++]=xr,_n[wn++]=br,_n[wn++]=Ts,Ts=t;var r=xr;t=br;var i=32-Bn(r)-1;r&=~(1<<i),n+=1;var s=32-Bn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,xr=1<<32-Bn(e)+i|n<<i|r,br=s+t}else xr=1<<s|n<<i|r,br=t}function Cy(t){t.return!==null&&(es(t,1),gb(t,1,0))}function Py(t){for(;t===Uh;)Uh=so[--oo],so[oo]=null,Bh=so[--oo],so[oo]=null;for(;t===Ts;)Ts=_n[--wn],_n[wn]=null,br=_n[--wn],_n[wn]=null,xr=_n[--wn],_n[wn]=null}var hn=null,cn=null,Ve=!1,Vn=null;function yb(t,e){var n=En(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function R1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,hn=t,cn=gi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,hn=t,cn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ts!==null?{id:xr,overflow:br}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=En(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,hn=t,cn=null,!0):!1;default:return!1}}function Dm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Mm(t){if(Ve){var e=cn;if(e){var n=e;if(!R1(t,e)){if(Dm(t))throw Error(j(418));e=gi(n.nextSibling);var r=hn;e&&R1(t,e)?yb(r,n):(t.flags=t.flags&-4097|2,Ve=!1,hn=t)}}else{if(Dm(t))throw Error(j(418));t.flags=t.flags&-4097|2,Ve=!1,hn=t}}}function D1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;hn=t}function wu(t){if(t!==hn)return!1;if(!Ve)return D1(t),Ve=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Cm(t.type,t.memoizedProps)),e&&(e=cn)){if(Dm(t))throw vb(),Error(j(418));for(;e;)yb(t,e),e=gi(e.nextSibling)}if(D1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(j(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){cn=gi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}cn=null}}else cn=hn?gi(t.stateNode.nextSibling):null;return!0}function vb(){for(var t=cn;t;)t=gi(t.nextSibling)}function Mo(){cn=hn=null,Ve=!1}function Ay(t){Vn===null?Vn=[t]:Vn.push(t)}var e3=Br.ReactCurrentBatchConfig;function Ma(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(j(309));var r=n.stateNode}if(!r)throw Error(j(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(j(284));if(!n._owner)throw Error(j(290,t))}return t}function Eu(t,e){throw t=Object.prototype.toString.call(e),Error(j(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function M1(t){var e=t._init;return e(t._payload)}function _b(t){function e(_,x){if(t){var b=_.deletions;b===null?(_.deletions=[x],_.flags|=16):b.push(x)}}function n(_,x){if(!t)return null;for(;x!==null;)e(_,x),x=x.sibling;return null}function r(_,x){for(_=new Map;x!==null;)x.key!==null?_.set(x.key,x):_.set(x.index,x),x=x.sibling;return _}function i(_,x){return _=wi(_,x),_.index=0,_.sibling=null,_}function s(_,x,b){return _.index=b,t?(b=_.alternate,b!==null?(b=b.index,b<x?(_.flags|=2,x):b):(_.flags|=2,x)):(_.flags|=1048576,x)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,x,b,R){return x===null||x.tag!==6?(x=yp(b,_.mode,R),x.return=_,x):(x=i(x,b),x.return=_,x)}function l(_,x,b,R){var D=b.type;return D===Zs?u(_,x,b.props.children,R,b.key):x!==null&&(x.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===ei&&M1(D)===x.type)?(R=i(x,b.props),R.ref=Ma(_,x,b),R.return=_,R):(R=lh(b.type,b.key,b.props,null,_.mode,R),R.ref=Ma(_,x,b),R.return=_,R)}function c(_,x,b,R){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=vp(b,_.mode,R),x.return=_,x):(x=i(x,b.children||[]),x.return=_,x)}function u(_,x,b,R,D){return x===null||x.tag!==7?(x=gs(b,_.mode,R,D),x.return=_,x):(x=i(x,b),x.return=_,x)}function d(_,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return x=yp(""+x,_.mode,b),x.return=_,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case uu:return b=lh(x.type,x.key,x.props,null,_.mode,b),b.ref=Ma(_,null,x),b.return=_,b;case Js:return x=vp(x,_.mode,b),x.return=_,x;case ei:var R=x._init;return d(_,R(x._payload),b)}if(Ka(x)||Ca(x))return x=gs(x,_.mode,b,null),x.return=_,x;Eu(_,x)}return null}function f(_,x,b,R){var D=x!==null?x.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return D!==null?null:a(_,x,""+b,R);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case uu:return b.key===D?l(_,x,b,R):null;case Js:return b.key===D?c(_,x,b,R):null;case ei:return D=b._init,f(_,x,D(b._payload),R)}if(Ka(b)||Ca(b))return D!==null?null:u(_,x,b,R,null);Eu(_,b)}return null}function m(_,x,b,R,D){if(typeof R=="string"&&R!==""||typeof R=="number")return _=_.get(b)||null,a(x,_,""+R,D);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case uu:return _=_.get(R.key===null?b:R.key)||null,l(x,_,R,D);case Js:return _=_.get(R.key===null?b:R.key)||null,c(x,_,R,D);case ei:var O=R._init;return m(_,x,b,O(R._payload),D)}if(Ka(R)||Ca(R))return _=_.get(b)||null,u(x,_,R,D,null);Eu(x,R)}return null}function v(_,x,b,R){for(var D=null,O=null,S=x,E=x=0,k=null;S!==null&&E<b.length;E++){S.index>E?(k=S,S=null):k=S.sibling;var C=f(_,S,b[E],R);if(C===null){S===null&&(S=k);break}t&&S&&C.alternate===null&&e(_,S),x=s(C,x,E),O===null?D=C:O.sibling=C,O=C,S=k}if(E===b.length)return n(_,S),Ve&&es(_,E),D;if(S===null){for(;E<b.length;E++)S=d(_,b[E],R),S!==null&&(x=s(S,x,E),O===null?D=S:O.sibling=S,O=S);return Ve&&es(_,E),D}for(S=r(_,S);E<b.length;E++)k=m(S,_,E,b[E],R),k!==null&&(t&&k.alternate!==null&&S.delete(k.key===null?E:k.key),x=s(k,x,E),O===null?D=k:O.sibling=k,O=k);return t&&S.forEach(function(A){return e(_,A)}),Ve&&es(_,E),D}function w(_,x,b,R){var D=Ca(b);if(typeof D!="function")throw Error(j(150));if(b=D.call(b),b==null)throw Error(j(151));for(var O=D=null,S=x,E=x=0,k=null,C=b.next();S!==null&&!C.done;E++,C=b.next()){S.index>E?(k=S,S=null):k=S.sibling;var A=f(_,S,C.value,R);if(A===null){S===null&&(S=k);break}t&&S&&A.alternate===null&&e(_,S),x=s(A,x,E),O===null?D=A:O.sibling=A,O=A,S=k}if(C.done)return n(_,S),Ve&&es(_,E),D;if(S===null){for(;!C.done;E++,C=b.next())C=d(_,C.value,R),C!==null&&(x=s(C,x,E),O===null?D=C:O.sibling=C,O=C);return Ve&&es(_,E),D}for(S=r(_,S);!C.done;E++,C=b.next())C=m(S,_,E,C.value,R),C!==null&&(t&&C.alternate!==null&&S.delete(C.key===null?E:C.key),x=s(C,x,E),O===null?D=C:O.sibling=C,O=C);return t&&S.forEach(function(M){return e(_,M)}),Ve&&es(_,E),D}function T(_,x,b,R){if(typeof b=="object"&&b!==null&&b.type===Zs&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case uu:e:{for(var D=b.key,O=x;O!==null;){if(O.key===D){if(D=b.type,D===Zs){if(O.tag===7){n(_,O.sibling),x=i(O,b.props.children),x.return=_,_=x;break e}}else if(O.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===ei&&M1(D)===O.type){n(_,O.sibling),x=i(O,b.props),x.ref=Ma(_,O,b),x.return=_,_=x;break e}n(_,O);break}else e(_,O);O=O.sibling}b.type===Zs?(x=gs(b.props.children,_.mode,R,b.key),x.return=_,_=x):(R=lh(b.type,b.key,b.props,null,_.mode,R),R.ref=Ma(_,x,b),R.return=_,_=R)}return o(_);case Js:e:{for(O=b.key;x!==null;){if(x.key===O)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){n(_,x.sibling),x=i(x,b.children||[]),x.return=_,_=x;break e}else{n(_,x);break}else e(_,x);x=x.sibling}x=vp(b,_.mode,R),x.return=_,_=x}return o(_);case ei:return O=b._init,T(_,x,O(b._payload),R)}if(Ka(b))return v(_,x,b,R);if(Ca(b))return w(_,x,b,R);Eu(_,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,x!==null&&x.tag===6?(n(_,x.sibling),x=i(x,b),x.return=_,_=x):(n(_,x),x=yp(b,_.mode,R),x.return=_,_=x),o(_)):n(_,x)}return T}var No=_b(!0),wb=_b(!1),jh=Fi(null),zh=null,ao=null,Ry=null;function Dy(){Ry=ao=zh=null}function My(t){var e=jh.current;Le(jh),t._currentValue=e}function Nm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function To(t,e){zh=t,Ry=ao=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Jt=!0),t.firstContext=null)}function In(t){var e=t._currentValue;if(Ry!==t)if(t={context:t,memoizedValue:e,next:null},ao===null){if(zh===null)throw Error(j(308));ao=t,zh.dependencies={lanes:0,firstContext:t}}else ao=ao.next=t;return e}var as=null;function Ny(t){as===null?as=[t]:as.push(t)}function Eb(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Ny(e)):(n.next=i.next,i.next=n),e.interleaved=n,Dr(t,r)}function Dr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ti=!1;function Oy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Tb(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Pr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function yi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ge&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Dr(t,n)}return i=r.interleaved,i===null?(e.next=e,Ny(r)):(e.next=i.next,i.next=e),r.interleaved=e,Dr(t,n)}function nh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,wy(t,n)}}function N1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function $h(t,e,n,r){var i=t.updateQueue;ti=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,u=c=l=null,a=s;do{var f=a.lane,m=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,w=a;switch(f=e,m=n,w.tag){case 1:if(v=w.payload,typeof v=="function"){d=v.call(m,d,f);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,f=typeof v=="function"?v.call(m,d,f):v,f==null)break e;d=$e({},d,f);break e;case 2:ti=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=m,l=d):u=u.next=m,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);bs|=o,t.lanes=o,t.memoizedState=d}}function O1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(j(191,i));i.call(r)}}}var Sc={},tr=Fi(Sc),Hl=Fi(Sc),Wl=Fi(Sc);function ls(t){if(t===Sc)throw Error(j(174));return t}function Ly(t,e){switch(Ce(Wl,e),Ce(Hl,t),Ce(tr,Sc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:pm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=pm(e,t)}Le(tr),Ce(tr,e)}function Oo(){Le(tr),Le(Hl),Le(Wl)}function xb(t){ls(Wl.current);var e=ls(tr.current),n=pm(e,t.type);e!==n&&(Ce(Hl,t),Ce(tr,n))}function Vy(t){Hl.current===t&&(Le(tr),Le(Hl))}var Ue=Fi(0);function Hh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var hp=[];function Fy(){for(var t=0;t<hp.length;t++)hp[t]._workInProgressVersionPrimary=null;hp.length=0}var rh=Br.ReactCurrentDispatcher,dp=Br.ReactCurrentBatchConfig,xs=0,je=null,st=null,ut=null,Wh=!1,fl=!1,ql=0,t3=0;function Pt(){throw Error(j(321))}function Uy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!$n(t[n],e[n]))return!1;return!0}function By(t,e,n,r,i,s){if(xs=s,je=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,rh.current=t===null||t.memoizedState===null?s3:o3,t=n(r,i),fl){s=0;do{if(fl=!1,ql=0,25<=s)throw Error(j(301));s+=1,ut=st=null,e.updateQueue=null,rh.current=a3,t=n(r,i)}while(fl)}if(rh.current=qh,e=st!==null&&st.next!==null,xs=0,ut=st=je=null,Wh=!1,e)throw Error(j(300));return t}function jy(){var t=ql!==0;return ql=0,t}function Xn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ut===null?je.memoizedState=ut=t:ut=ut.next=t,ut}function kn(){if(st===null){var t=je.alternate;t=t!==null?t.memoizedState:null}else t=st.next;var e=ut===null?je.memoizedState:ut.next;if(e!==null)ut=e,st=t;else{if(t===null)throw Error(j(310));st=t,t={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},ut===null?je.memoizedState=ut=t:ut=ut.next=t}return ut}function Kl(t,e){return typeof e=="function"?e(t):e}function fp(t){var e=kn(),n=e.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=t;var r=st,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((xs&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,je.lanes|=u,bs|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,$n(r,e.memoizedState)||(Jt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,je.lanes|=s,bs|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function pp(t){var e=kn(),n=e.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);$n(s,e.memoizedState)||(Jt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function bb(){}function Sb(t,e){var n=je,r=kn(),i=e(),s=!$n(r.memoizedState,i);if(s&&(r.memoizedState=i,Jt=!0),r=r.queue,zy(Cb.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ut!==null&&ut.memoizedState.tag&1){if(n.flags|=2048,Gl(9,kb.bind(null,n,r,i,e),void 0,null),dt===null)throw Error(j(349));xs&30||Ib(n,e,i)}return i}function Ib(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=je.updateQueue,e===null?(e={lastEffect:null,stores:null},je.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function kb(t,e,n,r){e.value=n,e.getSnapshot=r,Pb(e)&&Ab(t)}function Cb(t,e,n){return n(function(){Pb(e)&&Ab(t)})}function Pb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!$n(t,n)}catch{return!0}}function Ab(t){var e=Dr(t,1);e!==null&&jn(e,t,1,-1)}function L1(t){var e=Xn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Kl,lastRenderedState:t},e.queue=t,t=t.dispatch=i3.bind(null,je,t),[e.memoizedState,t]}function Gl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=je.updateQueue,e===null?(e={lastEffect:null,stores:null},je.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Rb(){return kn().memoizedState}function ih(t,e,n,r){var i=Xn();je.flags|=t,i.memoizedState=Gl(1|e,n,void 0,r===void 0?null:r)}function Ud(t,e,n,r){var i=kn();r=r===void 0?null:r;var s=void 0;if(st!==null){var o=st.memoizedState;if(s=o.destroy,r!==null&&Uy(r,o.deps)){i.memoizedState=Gl(e,n,s,r);return}}je.flags|=t,i.memoizedState=Gl(1|e,n,s,r)}function V1(t,e){return ih(8390656,8,t,e)}function zy(t,e){return Ud(2048,8,t,e)}function Db(t,e){return Ud(4,2,t,e)}function Mb(t,e){return Ud(4,4,t,e)}function Nb(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Ob(t,e,n){return n=n!=null?n.concat([t]):null,Ud(4,4,Nb.bind(null,e,t),n)}function $y(){}function Lb(t,e){var n=kn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Uy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Vb(t,e){var n=kn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Uy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Fb(t,e,n){return xs&21?($n(n,e)||(n=$x(),je.lanes|=n,bs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Jt=!0),t.memoizedState=n)}function n3(t,e){var n=be;be=n!==0&&4>n?n:4,t(!0);var r=dp.transition;dp.transition={};try{t(!1),e()}finally{be=n,dp.transition=r}}function Ub(){return kn().memoizedState}function r3(t,e,n){var r=_i(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Bb(t))jb(e,n);else if(n=Eb(t,e,n,r),n!==null){var i=Wt();jn(n,t,r,i),zb(n,e,r)}}function i3(t,e,n){var r=_i(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Bb(t))jb(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,$n(a,o)){var l=e.interleaved;l===null?(i.next=i,Ny(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Eb(t,e,i,r),n!==null&&(i=Wt(),jn(n,t,r,i),zb(n,e,r))}}function Bb(t){var e=t.alternate;return t===je||e!==null&&e===je}function jb(t,e){fl=Wh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function zb(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,wy(t,n)}}var qh={readContext:In,useCallback:Pt,useContext:Pt,useEffect:Pt,useImperativeHandle:Pt,useInsertionEffect:Pt,useLayoutEffect:Pt,useMemo:Pt,useReducer:Pt,useRef:Pt,useState:Pt,useDebugValue:Pt,useDeferredValue:Pt,useTransition:Pt,useMutableSource:Pt,useSyncExternalStore:Pt,useId:Pt,unstable_isNewReconciler:!1},s3={readContext:In,useCallback:function(t,e){return Xn().memoizedState=[t,e===void 0?null:e],t},useContext:In,useEffect:V1,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ih(4194308,4,Nb.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ih(4194308,4,t,e)},useInsertionEffect:function(t,e){return ih(4,2,t,e)},useMemo:function(t,e){var n=Xn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Xn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=r3.bind(null,je,t),[r.memoizedState,t]},useRef:function(t){var e=Xn();return t={current:t},e.memoizedState=t},useState:L1,useDebugValue:$y,useDeferredValue:function(t){return Xn().memoizedState=t},useTransition:function(){var t=L1(!1),e=t[0];return t=n3.bind(null,t[1]),Xn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=je,i=Xn();if(Ve){if(n===void 0)throw Error(j(407));n=n()}else{if(n=e(),dt===null)throw Error(j(349));xs&30||Ib(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,V1(Cb.bind(null,r,s,t),[t]),r.flags|=2048,Gl(9,kb.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Xn(),e=dt.identifierPrefix;if(Ve){var n=br,r=xr;n=(r&~(1<<32-Bn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ql++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=t3++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},o3={readContext:In,useCallback:Lb,useContext:In,useEffect:zy,useImperativeHandle:Ob,useInsertionEffect:Db,useLayoutEffect:Mb,useMemo:Vb,useReducer:fp,useRef:Rb,useState:function(){return fp(Kl)},useDebugValue:$y,useDeferredValue:function(t){var e=kn();return Fb(e,st.memoizedState,t)},useTransition:function(){var t=fp(Kl)[0],e=kn().memoizedState;return[t,e]},useMutableSource:bb,useSyncExternalStore:Sb,useId:Ub,unstable_isNewReconciler:!1},a3={readContext:In,useCallback:Lb,useContext:In,useEffect:zy,useImperativeHandle:Ob,useInsertionEffect:Db,useLayoutEffect:Mb,useMemo:Vb,useReducer:pp,useRef:Rb,useState:function(){return pp(Kl)},useDebugValue:$y,useDeferredValue:function(t){var e=kn();return st===null?e.memoizedState=t:Fb(e,st.memoizedState,t)},useTransition:function(){var t=pp(Kl)[0],e=kn().memoizedState;return[t,e]},useMutableSource:bb,useSyncExternalStore:Sb,useId:Ub,unstable_isNewReconciler:!1};function On(t,e){if(t&&t.defaultProps){e=$e({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Om(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:$e({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Bd={isMounted:function(t){return(t=t._reactInternals)?Ns(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Wt(),i=_i(t),s=Pr(r,i);s.payload=e,n!=null&&(s.callback=n),e=yi(t,s,i),e!==null&&(jn(e,t,i,r),nh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Wt(),i=_i(t),s=Pr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=yi(t,s,i),e!==null&&(jn(e,t,i,r),nh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Wt(),r=_i(t),i=Pr(n,r);i.tag=2,e!=null&&(i.callback=e),e=yi(t,i,r),e!==null&&(jn(e,t,r,n),nh(e,t,r))}};function F1(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Bl(n,r)||!Bl(i,s):!0}function $b(t,e,n){var r=!1,i=Ai,s=e.contextType;return typeof s=="object"&&s!==null?s=In(s):(i=tn(e)?Es:Ft.current,r=e.contextTypes,s=(r=r!=null)?Do(t,i):Ai),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Bd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function U1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Bd.enqueueReplaceState(e,e.state,null)}function Lm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Oy(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=In(s):(s=tn(e)?Es:Ft.current,i.context=Do(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Om(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Bd.enqueueReplaceState(i,i.state,null),$h(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Lo(t,e){try{var n="",r=e;do n+=O4(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function mp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Vm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var l3=typeof WeakMap=="function"?WeakMap:Map;function Hb(t,e,n){n=Pr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Gh||(Gh=!0,Km=r),Vm(t,e)},n}function Wb(t,e,n){n=Pr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Vm(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Vm(t,e),typeof r!="function"&&(vi===null?vi=new Set([this]):vi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function B1(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new l3;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=T3.bind(null,t,e,n),e.then(t,t))}function j1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function z1(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Pr(-1,1),e.tag=2,yi(n,e,1))),n.lanes|=1),t)}var c3=Br.ReactCurrentOwner,Jt=!1;function $t(t,e,n,r){e.child=t===null?wb(e,null,n,r):No(e,t.child,n,r)}function $1(t,e,n,r,i){n=n.render;var s=e.ref;return To(e,i),r=By(t,e,n,r,s,i),n=jy(),t!==null&&!Jt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Mr(t,e,i)):(Ve&&n&&Cy(e),e.flags|=1,$t(t,e,r,i),e.child)}function H1(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Xy(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,qb(t,e,s,r,i)):(t=lh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Bl,n(o,r)&&t.ref===e.ref)return Mr(t,e,i)}return e.flags|=1,t=wi(s,r),t.ref=e.ref,t.return=e,e.child=t}function qb(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Bl(s,r)&&t.ref===e.ref)if(Jt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Jt=!0);else return e.lanes=t.lanes,Mr(t,e,i)}return Fm(t,e,n,r,i)}function Kb(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ce(co,ln),ln|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ce(co,ln),ln|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ce(co,ln),ln|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ce(co,ln),ln|=r;return $t(t,e,i,n),e.child}function Gb(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Fm(t,e,n,r,i){var s=tn(n)?Es:Ft.current;return s=Do(e,s),To(e,i),n=By(t,e,n,r,s,i),r=jy(),t!==null&&!Jt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Mr(t,e,i)):(Ve&&r&&Cy(e),e.flags|=1,$t(t,e,n,i),e.child)}function W1(t,e,n,r,i){if(tn(n)){var s=!0;Fh(e)}else s=!1;if(To(e,i),e.stateNode===null)sh(t,e),$b(e,n,r),Lm(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=In(c):(c=tn(n)?Es:Ft.current,c=Do(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&U1(e,o,r,c),ti=!1;var f=e.memoizedState;o.state=f,$h(e,r,o,i),l=e.memoizedState,a!==r||f!==l||en.current||ti?(typeof u=="function"&&(Om(e,n,u,r),l=e.memoizedState),(a=ti||F1(e,n,a,r,f,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Tb(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:On(e.type,a),o.props=c,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=In(l):(l=tn(n)?Es:Ft.current,l=Do(e,l));var m=n.getDerivedStateFromProps;(u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&U1(e,o,r,l),ti=!1,f=e.memoizedState,o.state=f,$h(e,r,o,i);var v=e.memoizedState;a!==d||f!==v||en.current||ti?(typeof m=="function"&&(Om(e,n,m,r),v=e.memoizedState),(c=ti||F1(e,n,c,r,f,v,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Um(t,e,n,r,s,i)}function Um(t,e,n,r,i,s){Gb(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&A1(e,n,!1),Mr(t,e,s);r=e.stateNode,c3.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=No(e,t.child,null,s),e.child=No(e,null,a,s)):$t(t,e,a,s),e.memoizedState=r.state,i&&A1(e,n,!0),e.child}function Qb(t){var e=t.stateNode;e.pendingContext?P1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&P1(t,e.context,!1),Ly(t,e.containerInfo)}function q1(t,e,n,r,i){return Mo(),Ay(i),e.flags|=256,$t(t,e,n,r),e.child}var Bm={dehydrated:null,treeContext:null,retryLane:0};function jm(t){return{baseLanes:t,cachePool:null,transitions:null}}function Yb(t,e,n){var r=e.pendingProps,i=Ue.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ce(Ue,i&1),t===null)return Mm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=$d(o,r,0,null),t=gs(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=jm(n),e.memoizedState=Bm,t):Hy(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return u3(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=wi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=wi(a,s):(s=gs(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?jm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Bm,r}return s=t.child,t=s.sibling,r=wi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Hy(t,e){return e=$d({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Tu(t,e,n,r){return r!==null&&Ay(r),No(e,t.child,null,n),t=Hy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function u3(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=mp(Error(j(422))),Tu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=$d({mode:"visible",children:r.children},i,0,null),s=gs(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&No(e,t.child,null,o),e.child.memoizedState=jm(o),e.memoizedState=Bm,s);if(!(e.mode&1))return Tu(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(j(419)),r=mp(s,r,void 0),Tu(t,e,o,r)}if(a=(o&t.childLanes)!==0,Jt||a){if(r=dt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Dr(t,i),jn(r,t,i,-1))}return Yy(),r=mp(Error(j(421))),Tu(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=x3.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,cn=gi(i.nextSibling),hn=e,Ve=!0,Vn=null,t!==null&&(_n[wn++]=xr,_n[wn++]=br,_n[wn++]=Ts,xr=t.id,br=t.overflow,Ts=e),e=Hy(e,r.children),e.flags|=4096,e)}function K1(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Nm(t.return,e,n)}function gp(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Xb(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if($t(t,e,r.children,n),r=Ue.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&K1(t,n,e);else if(t.tag===19)K1(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ce(Ue,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Hh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),gp(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Hh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}gp(e,!0,n,null,s);break;case"together":gp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function sh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Mr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),bs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(j(153));if(e.child!==null){for(t=e.child,n=wi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=wi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function h3(t,e,n){switch(e.tag){case 3:Qb(e),Mo();break;case 5:xb(e);break;case 1:tn(e.type)&&Fh(e);break;case 4:Ly(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ce(jh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ce(Ue,Ue.current&1),e.flags|=128,null):n&e.child.childLanes?Yb(t,e,n):(Ce(Ue,Ue.current&1),t=Mr(t,e,n),t!==null?t.sibling:null);Ce(Ue,Ue.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Xb(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ce(Ue,Ue.current),r)break;return null;case 22:case 23:return e.lanes=0,Kb(t,e,n)}return Mr(t,e,n)}var Jb,zm,Zb,eS;Jb=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};zm=function(){};Zb=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ls(tr.current);var s=null;switch(n){case"input":i=um(t,i),r=um(t,r),s=[];break;case"select":i=$e({},i,{value:void 0}),r=$e({},r,{value:void 0}),s=[];break;case"textarea":i=fm(t,i),r=fm(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Lh)}mm(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ml.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ml.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Me("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};eS=function(t,e,n,r){n!==r&&(e.flags|=4)};function Na(t,e){if(!Ve)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function At(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function d3(t,e,n){var r=e.pendingProps;switch(Py(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(e),null;case 1:return tn(e.type)&&Vh(),At(e),null;case 3:return r=e.stateNode,Oo(),Le(en),Le(Ft),Fy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(wu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Vn!==null&&(Ym(Vn),Vn=null))),zm(t,e),At(e),null;case 5:Vy(e);var i=ls(Wl.current);if(n=e.type,t!==null&&e.stateNode!=null)Zb(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(j(166));return At(e),null}if(t=ls(tr.current),wu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Zn]=e,r[$l]=s,t=(e.mode&1)!==0,n){case"dialog":Me("cancel",r),Me("close",r);break;case"iframe":case"object":case"embed":Me("load",r);break;case"video":case"audio":for(i=0;i<Qa.length;i++)Me(Qa[i],r);break;case"source":Me("error",r);break;case"img":case"image":case"link":Me("error",r),Me("load",r);break;case"details":Me("toggle",r);break;case"input":n1(r,s),Me("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Me("invalid",r);break;case"textarea":i1(r,s),Me("invalid",r)}mm(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&_u(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&_u(r.textContent,a,t),i=["children",""+a]):Ml.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Me("scroll",r)}switch(n){case"input":hu(r),r1(r,s,!0);break;case"textarea":hu(r),s1(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Lh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Cx(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Zn]=e,t[$l]=r,Jb(t,e,!1,!1),e.stateNode=t;e:{switch(o=gm(n,r),n){case"dialog":Me("cancel",t),Me("close",t),i=r;break;case"iframe":case"object":case"embed":Me("load",t),i=r;break;case"video":case"audio":for(i=0;i<Qa.length;i++)Me(Qa[i],t);i=r;break;case"source":Me("error",t),i=r;break;case"img":case"image":case"link":Me("error",t),Me("load",t),i=r;break;case"details":Me("toggle",t),i=r;break;case"input":n1(t,r),i=um(t,r),Me("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=$e({},r,{value:void 0}),Me("invalid",t);break;case"textarea":i1(t,r),i=fm(t,r),Me("invalid",t);break;default:i=r}mm(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Rx(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Px(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Nl(t,l):typeof l=="number"&&Nl(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ml.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Me("scroll",t):l!=null&&py(t,s,l,o))}switch(n){case"input":hu(t),r1(t,r,!1);break;case"textarea":hu(t),s1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Pi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?vo(t,!!r.multiple,s,!1):r.defaultValue!=null&&vo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Lh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return At(e),null;case 6:if(t&&e.stateNode!=null)eS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(j(166));if(n=ls(Wl.current),ls(tr.current),wu(e)){if(r=e.stateNode,n=e.memoizedProps,r[Zn]=e,(s=r.nodeValue!==n)&&(t=hn,t!==null))switch(t.tag){case 3:_u(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&_u(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Zn]=e,e.stateNode=r}return At(e),null;case 13:if(Le(Ue),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ve&&cn!==null&&e.mode&1&&!(e.flags&128))vb(),Mo(),e.flags|=98560,s=!1;else if(s=wu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(j(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(j(317));s[Zn]=e}else Mo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;At(e),s=!1}else Vn!==null&&(Ym(Vn),Vn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ue.current&1?ot===0&&(ot=3):Yy())),e.updateQueue!==null&&(e.flags|=4),At(e),null);case 4:return Oo(),zm(t,e),t===null&&jl(e.stateNode.containerInfo),At(e),null;case 10:return My(e.type._context),At(e),null;case 17:return tn(e.type)&&Vh(),At(e),null;case 19:if(Le(Ue),s=e.memoizedState,s===null)return At(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Na(s,!1);else{if(ot!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Hh(t),o!==null){for(e.flags|=128,Na(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ce(Ue,Ue.current&1|2),e.child}t=t.sibling}s.tail!==null&&Xe()>Vo&&(e.flags|=128,r=!0,Na(s,!1),e.lanes=4194304)}else{if(!r)if(t=Hh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Na(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ve)return At(e),null}else 2*Xe()-s.renderingStartTime>Vo&&n!==1073741824&&(e.flags|=128,r=!0,Na(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Xe(),e.sibling=null,n=Ue.current,Ce(Ue,r?n&1|2:n&1),e):(At(e),null);case 22:case 23:return Qy(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ln&1073741824&&(At(e),e.subtreeFlags&6&&(e.flags|=8192)):At(e),null;case 24:return null;case 25:return null}throw Error(j(156,e.tag))}function f3(t,e){switch(Py(e),e.tag){case 1:return tn(e.type)&&Vh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Oo(),Le(en),Le(Ft),Fy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Vy(e),null;case 13:if(Le(Ue),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(j(340));Mo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Le(Ue),null;case 4:return Oo(),null;case 10:return My(e.type._context),null;case 22:case 23:return Qy(),null;case 24:return null;default:return null}}var xu=!1,Nt=!1,p3=typeof WeakSet=="function"?WeakSet:Set,$=null;function lo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ke(t,e,r)}else n.current=null}function $m(t,e,n){try{n()}catch(r){Ke(t,e,r)}}var G1=!1;function m3(t,e){if(Im=Mh,t=sb(),ky(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,f=null;t:for(;;){for(var m;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)f=d,d=m;for(;;){if(d===t)break t;if(f===n&&++c===i&&(a=o),f===s&&++u===r&&(l=o),(m=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(km={focusedElem:t,selectionRange:n},Mh=!1,$=e;$!==null;)if(e=$,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,$=t;else for(;$!==null;){e=$;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,T=v.memoizedState,_=e.stateNode,x=_.getSnapshotBeforeUpdate(e.elementType===e.type?w:On(e.type,w),T);_.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(R){Ke(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,$=t;break}$=e.return}return v=G1,G1=!1,v}function pl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&$m(e,n,s)}i=i.next}while(i!==r)}}function jd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Hm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function tS(t){var e=t.alternate;e!==null&&(t.alternate=null,tS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Zn],delete e[$l],delete e[Am],delete e[XR],delete e[JR])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function nS(t){return t.tag===5||t.tag===3||t.tag===4}function Q1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||nS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Wm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Lh));else if(r!==4&&(t=t.child,t!==null))for(Wm(t,e,n),t=t.sibling;t!==null;)Wm(t,e,n),t=t.sibling}function qm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(qm(t,e,n),t=t.sibling;t!==null;)qm(t,e,n),t=t.sibling}var gt=null,Ln=!1;function Kr(t,e,n){for(n=n.child;n!==null;)rS(t,e,n),n=n.sibling}function rS(t,e,n){if(er&&typeof er.onCommitFiberUnmount=="function")try{er.onCommitFiberUnmount(Md,n)}catch{}switch(n.tag){case 5:Nt||lo(n,e);case 6:var r=gt,i=Ln;gt=null,Kr(t,e,n),gt=r,Ln=i,gt!==null&&(Ln?(t=gt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):gt.removeChild(n.stateNode));break;case 18:gt!==null&&(Ln?(t=gt,n=n.stateNode,t.nodeType===8?cp(t.parentNode,n):t.nodeType===1&&cp(t,n),Fl(t)):cp(gt,n.stateNode));break;case 4:r=gt,i=Ln,gt=n.stateNode.containerInfo,Ln=!0,Kr(t,e,n),gt=r,Ln=i;break;case 0:case 11:case 14:case 15:if(!Nt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&$m(n,e,o),i=i.next}while(i!==r)}Kr(t,e,n);break;case 1:if(!Nt&&(lo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ke(n,e,a)}Kr(t,e,n);break;case 21:Kr(t,e,n);break;case 22:n.mode&1?(Nt=(r=Nt)||n.memoizedState!==null,Kr(t,e,n),Nt=r):Kr(t,e,n);break;default:Kr(t,e,n)}}function Y1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new p3),e.forEach(function(r){var i=b3.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Rn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:gt=a.stateNode,Ln=!1;break e;case 3:gt=a.stateNode.containerInfo,Ln=!0;break e;case 4:gt=a.stateNode.containerInfo,Ln=!0;break e}a=a.return}if(gt===null)throw Error(j(160));rS(s,o,i),gt=null,Ln=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Ke(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)iS(e,t),e=e.sibling}function iS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Rn(e,t),Kn(t),r&4){try{pl(3,t,t.return),jd(3,t)}catch(w){Ke(t,t.return,w)}try{pl(5,t,t.return)}catch(w){Ke(t,t.return,w)}}break;case 1:Rn(e,t),Kn(t),r&512&&n!==null&&lo(n,n.return);break;case 5:if(Rn(e,t),Kn(t),r&512&&n!==null&&lo(n,n.return),t.flags&32){var i=t.stateNode;try{Nl(i,"")}catch(w){Ke(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Ix(i,s),gm(a,o);var c=gm(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?Rx(i,d):u==="dangerouslySetInnerHTML"?Px(i,d):u==="children"?Nl(i,d):py(i,u,d,c)}switch(a){case"input":hm(i,s);break;case"textarea":kx(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?vo(i,!!s.multiple,m,!1):f!==!!s.multiple&&(s.defaultValue!=null?vo(i,!!s.multiple,s.defaultValue,!0):vo(i,!!s.multiple,s.multiple?[]:"",!1))}i[$l]=s}catch(w){Ke(t,t.return,w)}}break;case 6:if(Rn(e,t),Kn(t),r&4){if(t.stateNode===null)throw Error(j(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(w){Ke(t,t.return,w)}}break;case 3:if(Rn(e,t),Kn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Fl(e.containerInfo)}catch(w){Ke(t,t.return,w)}break;case 4:Rn(e,t),Kn(t);break;case 13:Rn(e,t),Kn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Ky=Xe())),r&4&&Y1(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Nt=(c=Nt)||u,Rn(e,t),Nt=c):Rn(e,t),Kn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for($=t,u=t.child;u!==null;){for(d=$=u;$!==null;){switch(f=$,m=f.child,f.tag){case 0:case 11:case 14:case 15:pl(4,f,f.return);break;case 1:lo(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(w){Ke(r,n,w)}}break;case 5:lo(f,f.return);break;case 22:if(f.memoizedState!==null){J1(d);continue}}m!==null?(m.return=f,$=m):J1(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Ax("display",o))}catch(w){Ke(t,t.return,w)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(w){Ke(t,t.return,w)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Rn(e,t),Kn(t),r&4&&Y1(t);break;case 21:break;default:Rn(e,t),Kn(t)}}function Kn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(nS(n)){var r=n;break e}n=n.return}throw Error(j(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Nl(i,""),r.flags&=-33);var s=Q1(t);qm(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Q1(t);Wm(t,a,o);break;default:throw Error(j(161))}}catch(l){Ke(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function g3(t,e,n){$=t,sS(t)}function sS(t,e,n){for(var r=(t.mode&1)!==0;$!==null;){var i=$,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||xu;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Nt;a=xu;var c=Nt;if(xu=o,(Nt=l)&&!c)for($=i;$!==null;)o=$,l=o.child,o.tag===22&&o.memoizedState!==null?Z1(i):l!==null?(l.return=o,$=l):Z1(i);for(;s!==null;)$=s,sS(s),s=s.sibling;$=i,xu=a,Nt=c}X1(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,$=s):X1(t)}}function X1(t){for(;$!==null;){var e=$;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Nt||jd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Nt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:On(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&O1(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}O1(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Fl(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}Nt||e.flags&512&&Hm(e)}catch(f){Ke(e,e.return,f)}}if(e===t){$=null;break}if(n=e.sibling,n!==null){n.return=e.return,$=n;break}$=e.return}}function J1(t){for(;$!==null;){var e=$;if(e===t){$=null;break}var n=e.sibling;if(n!==null){n.return=e.return,$=n;break}$=e.return}}function Z1(t){for(;$!==null;){var e=$;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{jd(4,e)}catch(l){Ke(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ke(e,i,l)}}var s=e.return;try{Hm(e)}catch(l){Ke(e,s,l)}break;case 5:var o=e.return;try{Hm(e)}catch(l){Ke(e,o,l)}}}catch(l){Ke(e,e.return,l)}if(e===t){$=null;break}var a=e.sibling;if(a!==null){a.return=e.return,$=a;break}$=e.return}}var y3=Math.ceil,Kh=Br.ReactCurrentDispatcher,Wy=Br.ReactCurrentOwner,bn=Br.ReactCurrentBatchConfig,ge=0,dt=null,rt=null,Et=0,ln=0,co=Fi(0),ot=0,Ql=null,bs=0,zd=0,qy=0,ml=null,Qt=null,Ky=0,Vo=1/0,wr=null,Gh=!1,Km=null,vi=null,bu=!1,ci=null,Qh=0,gl=0,Gm=null,oh=-1,ah=0;function Wt(){return ge&6?Xe():oh!==-1?oh:oh=Xe()}function _i(t){return t.mode&1?ge&2&&Et!==0?Et&-Et:e3.transition!==null?(ah===0&&(ah=$x()),ah):(t=be,t!==0||(t=window.event,t=t===void 0?16:Yx(t.type)),t):1}function jn(t,e,n,r){if(50<gl)throw gl=0,Gm=null,Error(j(185));Tc(t,n,r),(!(ge&2)||t!==dt)&&(t===dt&&(!(ge&2)&&(zd|=n),ot===4&&ri(t,Et)),nn(t,r),n===1&&ge===0&&!(e.mode&1)&&(Vo=Xe()+500,Fd&&Ui()))}function nn(t,e){var n=t.callbackNode;eR(t,e);var r=Dh(t,t===dt?Et:0);if(r===0)n!==null&&l1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&l1(n),e===1)t.tag===0?ZR(ew.bind(null,t)):mb(ew.bind(null,t)),QR(function(){!(ge&6)&&Ui()}),n=null;else{switch(Hx(r)){case 1:n=_y;break;case 4:n=jx;break;case 16:n=Rh;break;case 536870912:n=zx;break;default:n=Rh}n=fS(n,oS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function oS(t,e){if(oh=-1,ah=0,ge&6)throw Error(j(327));var n=t.callbackNode;if(xo()&&t.callbackNode!==n)return null;var r=Dh(t,t===dt?Et:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Yh(t,r);else{e=r;var i=ge;ge|=2;var s=lS();(dt!==t||Et!==e)&&(wr=null,Vo=Xe()+500,ms(t,e));do try{w3();break}catch(a){aS(t,a)}while(!0);Dy(),Kh.current=s,ge=i,rt!==null?e=0:(dt=null,Et=0,e=ot)}if(e!==0){if(e===2&&(i=Em(t),i!==0&&(r=i,e=Qm(t,i))),e===1)throw n=Ql,ms(t,0),ri(t,r),nn(t,Xe()),n;if(e===6)ri(t,r);else{if(i=t.current.alternate,!(r&30)&&!v3(i)&&(e=Yh(t,r),e===2&&(s=Em(t),s!==0&&(r=s,e=Qm(t,s))),e===1))throw n=Ql,ms(t,0),ri(t,r),nn(t,Xe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(j(345));case 2:ts(t,Qt,wr);break;case 3:if(ri(t,r),(r&130023424)===r&&(e=Ky+500-Xe(),10<e)){if(Dh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Wt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Pm(ts.bind(null,t,Qt,wr),e);break}ts(t,Qt,wr);break;case 4:if(ri(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Bn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Xe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*y3(r/1960))-r,10<r){t.timeoutHandle=Pm(ts.bind(null,t,Qt,wr),r);break}ts(t,Qt,wr);break;case 5:ts(t,Qt,wr);break;default:throw Error(j(329))}}}return nn(t,Xe()),t.callbackNode===n?oS.bind(null,t):null}function Qm(t,e){var n=ml;return t.current.memoizedState.isDehydrated&&(ms(t,e).flags|=256),t=Yh(t,e),t!==2&&(e=Qt,Qt=n,e!==null&&Ym(e)),t}function Ym(t){Qt===null?Qt=t:Qt.push.apply(Qt,t)}function v3(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!$n(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ri(t,e){for(e&=~qy,e&=~zd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Bn(e),r=1<<n;t[n]=-1,e&=~r}}function ew(t){if(ge&6)throw Error(j(327));xo();var e=Dh(t,0);if(!(e&1))return nn(t,Xe()),null;var n=Yh(t,e);if(t.tag!==0&&n===2){var r=Em(t);r!==0&&(e=r,n=Qm(t,r))}if(n===1)throw n=Ql,ms(t,0),ri(t,e),nn(t,Xe()),n;if(n===6)throw Error(j(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ts(t,Qt,wr),nn(t,Xe()),null}function Gy(t,e){var n=ge;ge|=1;try{return t(e)}finally{ge=n,ge===0&&(Vo=Xe()+500,Fd&&Ui())}}function Ss(t){ci!==null&&ci.tag===0&&!(ge&6)&&xo();var e=ge;ge|=1;var n=bn.transition,r=be;try{if(bn.transition=null,be=1,t)return t()}finally{be=r,bn.transition=n,ge=e,!(ge&6)&&Ui()}}function Qy(){ln=co.current,Le(co)}function ms(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,GR(n)),rt!==null)for(n=rt.return;n!==null;){var r=n;switch(Py(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Vh();break;case 3:Oo(),Le(en),Le(Ft),Fy();break;case 5:Vy(r);break;case 4:Oo();break;case 13:Le(Ue);break;case 19:Le(Ue);break;case 10:My(r.type._context);break;case 22:case 23:Qy()}n=n.return}if(dt=t,rt=t=wi(t.current,null),Et=ln=e,ot=0,Ql=null,qy=zd=bs=0,Qt=ml=null,as!==null){for(e=0;e<as.length;e++)if(n=as[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}as=null}return t}function aS(t,e){do{var n=rt;try{if(Dy(),rh.current=qh,Wh){for(var r=je.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Wh=!1}if(xs=0,ut=st=je=null,fl=!1,ql=0,Wy.current=null,n===null||n.return===null){ot=1,Ql=e,rt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Et,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=j1(o);if(m!==null){m.flags&=-257,z1(m,o,a,s,e),m.mode&1&&B1(s,c,e),e=m,l=c;var v=e.updateQueue;if(v===null){var w=new Set;w.add(l),e.updateQueue=w}else v.add(l);break e}else{if(!(e&1)){B1(s,c,e),Yy();break e}l=Error(j(426))}}else if(Ve&&a.mode&1){var T=j1(o);if(T!==null){!(T.flags&65536)&&(T.flags|=256),z1(T,o,a,s,e),Ay(Lo(l,a));break e}}s=l=Lo(l,a),ot!==4&&(ot=2),ml===null?ml=[s]:ml.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=Hb(s,l,e);N1(s,_);break e;case 1:a=l;var x=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(vi===null||!vi.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e;var R=Wb(s,a,e);N1(s,R);break e}}s=s.return}while(s!==null)}uS(n)}catch(D){e=D,rt===n&&n!==null&&(rt=n=n.return);continue}break}while(!0)}function lS(){var t=Kh.current;return Kh.current=qh,t===null?qh:t}function Yy(){(ot===0||ot===3||ot===2)&&(ot=4),dt===null||!(bs&268435455)&&!(zd&268435455)||ri(dt,Et)}function Yh(t,e){var n=ge;ge|=2;var r=lS();(dt!==t||Et!==e)&&(wr=null,ms(t,e));do try{_3();break}catch(i){aS(t,i)}while(!0);if(Dy(),ge=n,Kh.current=r,rt!==null)throw Error(j(261));return dt=null,Et=0,ot}function _3(){for(;rt!==null;)cS(rt)}function w3(){for(;rt!==null&&!W4();)cS(rt)}function cS(t){var e=dS(t.alternate,t,ln);t.memoizedProps=t.pendingProps,e===null?uS(t):rt=e,Wy.current=null}function uS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=f3(n,e),n!==null){n.flags&=32767,rt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ot=6,rt=null;return}}else if(n=d3(n,e,ln),n!==null){rt=n;return}if(e=e.sibling,e!==null){rt=e;return}rt=e=t}while(e!==null);ot===0&&(ot=5)}function ts(t,e,n){var r=be,i=bn.transition;try{bn.transition=null,be=1,E3(t,e,n,r)}finally{bn.transition=i,be=r}return null}function E3(t,e,n,r){do xo();while(ci!==null);if(ge&6)throw Error(j(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(j(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(tR(t,s),t===dt&&(rt=dt=null,Et=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||bu||(bu=!0,fS(Rh,function(){return xo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=bn.transition,bn.transition=null;var o=be;be=1;var a=ge;ge|=4,Wy.current=null,m3(t,n),iS(n,t),jR(km),Mh=!!Im,km=Im=null,t.current=n,g3(n),q4(),ge=a,be=o,bn.transition=s}else t.current=n;if(bu&&(bu=!1,ci=t,Qh=i),s=t.pendingLanes,s===0&&(vi=null),Q4(n.stateNode),nn(t,Xe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Gh)throw Gh=!1,t=Km,Km=null,t;return Qh&1&&t.tag!==0&&xo(),s=t.pendingLanes,s&1?t===Gm?gl++:(gl=0,Gm=t):gl=0,Ui(),null}function xo(){if(ci!==null){var t=Hx(Qh),e=bn.transition,n=be;try{if(bn.transition=null,be=16>t?16:t,ci===null)var r=!1;else{if(t=ci,ci=null,Qh=0,ge&6)throw Error(j(331));var i=ge;for(ge|=4,$=t.current;$!==null;){var s=$,o=s.child;if($.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for($=c;$!==null;){var u=$;switch(u.tag){case 0:case 11:case 15:pl(8,u,s)}var d=u.child;if(d!==null)d.return=u,$=d;else for(;$!==null;){u=$;var f=u.sibling,m=u.return;if(tS(u),u===c){$=null;break}if(f!==null){f.return=m,$=f;break}$=m}}}var v=s.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var T=w.sibling;w.sibling=null,w=T}while(w!==null)}}$=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,$=o;else e:for(;$!==null;){if(s=$,s.flags&2048)switch(s.tag){case 0:case 11:case 15:pl(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,$=_;break e}$=s.return}}var x=t.current;for($=x;$!==null;){o=$;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,$=b;else e:for(o=x;$!==null;){if(a=$,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:jd(9,a)}}catch(D){Ke(a,a.return,D)}if(a===o){$=null;break e}var R=a.sibling;if(R!==null){R.return=a.return,$=R;break e}$=a.return}}if(ge=i,Ui(),er&&typeof er.onPostCommitFiberRoot=="function")try{er.onPostCommitFiberRoot(Md,t)}catch{}r=!0}return r}finally{be=n,bn.transition=e}}return!1}function tw(t,e,n){e=Lo(n,e),e=Hb(t,e,1),t=yi(t,e,1),e=Wt(),t!==null&&(Tc(t,1,e),nn(t,e))}function Ke(t,e,n){if(t.tag===3)tw(t,t,n);else for(;e!==null;){if(e.tag===3){tw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(vi===null||!vi.has(r))){t=Lo(n,t),t=Wb(e,t,1),e=yi(e,t,1),t=Wt(),e!==null&&(Tc(e,1,t),nn(e,t));break}}e=e.return}}function T3(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Wt(),t.pingedLanes|=t.suspendedLanes&n,dt===t&&(Et&n)===n&&(ot===4||ot===3&&(Et&130023424)===Et&&500>Xe()-Ky?ms(t,0):qy|=n),nn(t,e)}function hS(t,e){e===0&&(t.mode&1?(e=pu,pu<<=1,!(pu&130023424)&&(pu=4194304)):e=1);var n=Wt();t=Dr(t,e),t!==null&&(Tc(t,e,n),nn(t,n))}function x3(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),hS(t,n)}function b3(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(j(314))}r!==null&&r.delete(e),hS(t,n)}var dS;dS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||en.current)Jt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Jt=!1,h3(t,e,n);Jt=!!(t.flags&131072)}else Jt=!1,Ve&&e.flags&1048576&&gb(e,Bh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;sh(t,e),t=e.pendingProps;var i=Do(e,Ft.current);To(e,n),i=By(null,e,r,t,i,n);var s=jy();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,tn(r)?(s=!0,Fh(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Oy(e),i.updater=Bd,e.stateNode=i,i._reactInternals=e,Lm(e,r,t,n),e=Um(null,e,r,!0,s,n)):(e.tag=0,Ve&&s&&Cy(e),$t(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(sh(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=I3(r),t=On(r,t),i){case 0:e=Fm(null,e,r,t,n);break e;case 1:e=W1(null,e,r,t,n);break e;case 11:e=$1(null,e,r,t,n);break e;case 14:e=H1(null,e,r,On(r.type,t),n);break e}throw Error(j(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:On(r,i),Fm(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:On(r,i),W1(t,e,r,i,n);case 3:e:{if(Qb(e),t===null)throw Error(j(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Tb(t,e),$h(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Lo(Error(j(423)),e),e=q1(t,e,r,n,i);break e}else if(r!==i){i=Lo(Error(j(424)),e),e=q1(t,e,r,n,i);break e}else for(cn=gi(e.stateNode.containerInfo.firstChild),hn=e,Ve=!0,Vn=null,n=wb(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Mo(),r===i){e=Mr(t,e,n);break e}$t(t,e,r,n)}e=e.child}return e;case 5:return xb(e),t===null&&Mm(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Cm(r,i)?o=null:s!==null&&Cm(r,s)&&(e.flags|=32),Gb(t,e),$t(t,e,o,n),e.child;case 6:return t===null&&Mm(e),null;case 13:return Yb(t,e,n);case 4:return Ly(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=No(e,null,r,n):$t(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:On(r,i),$1(t,e,r,i,n);case 7:return $t(t,e,e.pendingProps,n),e.child;case 8:return $t(t,e,e.pendingProps.children,n),e.child;case 12:return $t(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ce(jh,r._currentValue),r._currentValue=o,s!==null)if($n(s.value,o)){if(s.children===i.children&&!en.current){e=Mr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Pr(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Nm(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(j(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Nm(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}$t(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,To(e,n),i=In(i),r=r(i),e.flags|=1,$t(t,e,r,n),e.child;case 14:return r=e.type,i=On(r,e.pendingProps),i=On(r.type,i),H1(t,e,r,i,n);case 15:return qb(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:On(r,i),sh(t,e),e.tag=1,tn(r)?(t=!0,Fh(e)):t=!1,To(e,n),$b(e,r,i),Lm(e,r,i,n),Um(null,e,r,!0,t,n);case 19:return Xb(t,e,n);case 22:return Kb(t,e,n)}throw Error(j(156,e.tag))};function fS(t,e){return Bx(t,e)}function S3(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(t,e,n,r){return new S3(t,e,n,r)}function Xy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function I3(t){if(typeof t=="function")return Xy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===gy)return 11;if(t===yy)return 14}return 2}function wi(t,e){var n=t.alternate;return n===null?(n=En(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function lh(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Xy(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Zs:return gs(n.children,i,s,e);case my:o=8,i|=8;break;case om:return t=En(12,n,e,i|2),t.elementType=om,t.lanes=s,t;case am:return t=En(13,n,e,i),t.elementType=am,t.lanes=s,t;case lm:return t=En(19,n,e,i),t.elementType=lm,t.lanes=s,t;case xx:return $d(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ex:o=10;break e;case Tx:o=9;break e;case gy:o=11;break e;case yy:o=14;break e;case ei:o=16,r=null;break e}throw Error(j(130,t==null?t:typeof t,""))}return e=En(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function gs(t,e,n,r){return t=En(7,t,r,e),t.lanes=n,t}function $d(t,e,n,r){return t=En(22,t,r,e),t.elementType=xx,t.lanes=n,t.stateNode={isHidden:!1},t}function yp(t,e,n){return t=En(6,t,null,e),t.lanes=n,t}function vp(t,e,n){return e=En(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function k3(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Jf(0),this.expirationTimes=Jf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Jy(t,e,n,r,i,s,o,a,l){return t=new k3(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=En(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oy(s),t}function C3(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Js,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function pS(t){if(!t)return Ai;t=t._reactInternals;e:{if(Ns(t)!==t||t.tag!==1)throw Error(j(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(tn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(j(171))}if(t.tag===1){var n=t.type;if(tn(n))return pb(t,n,e)}return e}function mS(t,e,n,r,i,s,o,a,l){return t=Jy(n,r,!0,t,i,s,o,a,l),t.context=pS(null),n=t.current,r=Wt(),i=_i(n),s=Pr(r,i),s.callback=e??null,yi(n,s,i),t.current.lanes=i,Tc(t,i,r),nn(t,r),t}function Hd(t,e,n,r){var i=e.current,s=Wt(),o=_i(i);return n=pS(n),e.context===null?e.context=n:e.pendingContext=n,e=Pr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=yi(i,e,o),t!==null&&(jn(t,i,o,s),nh(t,i,o)),o}function Xh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function nw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Zy(t,e){nw(t,e),(t=t.alternate)&&nw(t,e)}function P3(){return null}var gS=typeof reportError=="function"?reportError:function(t){console.error(t)};function e0(t){this._internalRoot=t}Wd.prototype.render=e0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(j(409));Hd(t,e,null,null)};Wd.prototype.unmount=e0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ss(function(){Hd(null,t,null,null)}),e[Rr]=null}};function Wd(t){this._internalRoot=t}Wd.prototype.unstable_scheduleHydration=function(t){if(t){var e=Kx();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ni.length&&e!==0&&e<ni[n].priority;n++);ni.splice(n,0,t),n===0&&Qx(t)}};function t0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function qd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function rw(){}function A3(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Xh(o);s.call(c)}}var o=mS(e,r,t,0,null,!1,!1,"",rw);return t._reactRootContainer=o,t[Rr]=o.current,jl(t.nodeType===8?t.parentNode:t),Ss(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Xh(l);a.call(c)}}var l=Jy(t,0,!1,null,null,!1,!1,"",rw);return t._reactRootContainer=l,t[Rr]=l.current,jl(t.nodeType===8?t.parentNode:t),Ss(function(){Hd(e,l,n,r)}),l}function Kd(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Xh(o);a.call(l)}}Hd(e,o,t,i)}else o=A3(n,e,t,i,r);return Xh(o)}Wx=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ga(e.pendingLanes);n!==0&&(wy(e,n|1),nn(e,Xe()),!(ge&6)&&(Vo=Xe()+500,Ui()))}break;case 13:Ss(function(){var r=Dr(t,1);if(r!==null){var i=Wt();jn(r,t,1,i)}}),Zy(t,1)}};Ey=function(t){if(t.tag===13){var e=Dr(t,134217728);if(e!==null){var n=Wt();jn(e,t,134217728,n)}Zy(t,134217728)}};qx=function(t){if(t.tag===13){var e=_i(t),n=Dr(t,e);if(n!==null){var r=Wt();jn(n,t,e,r)}Zy(t,e)}};Kx=function(){return be};Gx=function(t,e){var n=be;try{return be=t,e()}finally{be=n}};vm=function(t,e,n){switch(e){case"input":if(hm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Vd(r);if(!i)throw Error(j(90));Sx(r),hm(r,i)}}}break;case"textarea":kx(t,n);break;case"select":e=n.value,e!=null&&vo(t,!!n.multiple,e,!1)}};Nx=Gy;Ox=Ss;var R3={usingClientEntryPoint:!1,Events:[bc,ro,Vd,Dx,Mx,Gy]},Oa={findFiberByHostInstance:os,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},D3={bundleType:Oa.bundleType,version:Oa.version,rendererPackageName:Oa.rendererPackageName,rendererConfig:Oa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Br.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Fx(t),t===null?null:t.stateNode},findFiberByHostInstance:Oa.findFiberByHostInstance||P3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Su=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Su.isDisabled&&Su.supportsFiber)try{Md=Su.inject(D3),er=Su}catch{}}fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R3;fn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t0(e))throw Error(j(200));return C3(t,e,null,n)};fn.createRoot=function(t,e){if(!t0(t))throw Error(j(299));var n=!1,r="",i=gS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Jy(t,1,!1,null,null,n,!1,r,i),t[Rr]=e.current,jl(t.nodeType===8?t.parentNode:t),new e0(e)};fn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(j(188)):(t=Object.keys(t).join(","),Error(j(268,t)));return t=Fx(e),t=t===null?null:t.stateNode,t};fn.flushSync=function(t){return Ss(t)};fn.hydrate=function(t,e,n){if(!qd(e))throw Error(j(200));return Kd(null,t,e,!0,n)};fn.hydrateRoot=function(t,e,n){if(!t0(t))throw Error(j(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=gS;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=mS(e,null,t,1,n??null,i,!1,s,o),t[Rr]=e.current,jl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Wd(e)};fn.render=function(t,e,n){if(!qd(e))throw Error(j(200));return Kd(null,t,e,!1,n)};fn.unmountComponentAtNode=function(t){if(!qd(t))throw Error(j(40));return t._reactRootContainer?(Ss(function(){Kd(null,null,t,!1,function(){t._reactRootContainer=null,t[Rr]=null})}),!0):!1};fn.unstable_batchedUpdates=Gy;fn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!qd(n))throw Error(j(200));if(t==null||t._reactInternals===void 0)throw Error(j(38));return Kd(t,e,n,!1,r)};fn.version="18.3.1-next-f1338f8080-20240426";function yS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yS)}catch(t){console.error(t)}}yS(),yx.exports=fn;var M3=yx.exports,iw=M3;im.createRoot=iw.createRoot,im.hydrateRoot=iw.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yl(){return Yl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yl.apply(this,arguments)}var ui;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ui||(ui={}));const sw="popstate";function N3(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Xm("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Jh(i)}return L3(e,n,null,t)}function Ze(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function vS(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function O3(){return Math.random().toString(36).substr(2,8)}function ow(t,e){return{usr:t.state,key:t.key,idx:e}}function Xm(t,e,n,r){return n===void 0&&(n=null),Yl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ta(e):e,{state:n,key:e&&e.key||r||O3()})}function Jh(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ta(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function L3(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=ui.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Yl({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=ui.Pop;let T=u(),_=T==null?null:T-c;c=T,l&&l({action:a,location:w.location,delta:_})}function f(T,_){a=ui.Push;let x=Xm(w.location,T,_);c=u()+1;let b=ow(x,c),R=w.createHref(x);try{o.pushState(b,"",R)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(R)}s&&l&&l({action:a,location:w.location,delta:1})}function m(T,_){a=ui.Replace;let x=Xm(w.location,T,_);c=u();let b=ow(x,c),R=w.createHref(x);o.replaceState(b,"",R),s&&l&&l({action:a,location:w.location,delta:0})}function v(T){let _=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof T=="string"?T:Jh(T);return x=x.replace(/ $/,"%20"),Ze(_,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,_)}let w={get action(){return a},get location(){return t(i,o)},listen(T){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(sw,d),l=T,()=>{i.removeEventListener(sw,d),l=null}},createHref(T){return e(i,T)},createURL:v,encodeLocation(T){let _=v(T);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:f,replace:m,go(T){return o.go(T)}};return w}var aw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(aw||(aw={}));function V3(t,e,n){return n===void 0&&(n="/"),F3(t,e,n)}function F3(t,e,n,r){let i=typeof e=="string"?ta(e):e,s=n0(i.pathname||"/",n);if(s==null)return null;let o=_S(t);U3(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=X3(s);a=G3(o[l],c)}return a}function _S(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Ze(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Ei([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(Ze(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),_S(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:q3(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of wS(s.path))i(s,o,l)}),e}function wS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=wS(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function U3(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:K3(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const B3=/^:[\w-]+$/,j3=3,z3=2,$3=1,H3=10,W3=-2,lw=t=>t==="*";function q3(t,e){let n=t.split("/"),r=n.length;return n.some(lw)&&(r+=W3),e&&(r+=z3),n.filter(i=>!lw(i)).reduce((i,s)=>i+(B3.test(s)?j3:s===""?$3:H3),r)}function K3(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function G3(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=s==="/"?e:e.slice(s.length)||"/",d=Q3({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:Ei([s,d.pathname]),pathnameBase:t5(Ei([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=Ei([s,d.pathnameBase]))}return o}function Q3(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Y3(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:f,isOptional:m}=u;if(f==="*"){let w=a[d]||"";o=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const v=a[d];return m&&!v?c[f]=void 0:c[f]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function Y3(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),vS(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function X3(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return vS(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function n0(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function J3(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ta(t):t;return{pathname:n?n.startsWith("/")?n:Z3(n,e):e,search:n5(r),hash:r5(i)}}function Z3(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function _p(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function e5(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function r0(t,e){let n=e5(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function i0(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ta(t):(i=Yl({},t),Ze(!i.pathname||!i.pathname.includes("?"),_p("?","pathname","search",i)),Ze(!i.pathname||!i.pathname.includes("#"),_p("#","pathname","hash",i)),Ze(!i.search||!i.search.includes("#"),_p("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=J3(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Ei=t=>t.join("/").replace(/\/\/+/g,"/"),t5=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),n5=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,r5=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function i5(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const ES=["post","put","patch","delete"];new Set(ES);const s5=["get",...ES];new Set(s5);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xl(){return Xl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xl.apply(this,arguments)}const s0=N.createContext(null),o5=N.createContext(null),Bi=N.createContext(null),Gd=N.createContext(null),dr=N.createContext({outlet:null,matches:[],isDataRoute:!1}),TS=N.createContext(null);function a5(t,e){let{relative:n}=e===void 0?{}:e;na()||Ze(!1);let{basename:r,navigator:i}=N.useContext(Bi),{hash:s,pathname:o,search:a}=bS(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Ei([r,o])),i.createHref({pathname:l,search:a,hash:s})}function na(){return N.useContext(Gd)!=null}function jr(){return na()||Ze(!1),N.useContext(Gd).location}function xS(t){N.useContext(Bi).static||N.useLayoutEffect(t)}function ji(){let{isDataRoute:t}=N.useContext(dr);return t?x5():l5()}function l5(){na()||Ze(!1);let t=N.useContext(s0),{basename:e,future:n,navigator:r}=N.useContext(Bi),{matches:i}=N.useContext(dr),{pathname:s}=jr(),o=JSON.stringify(r0(i,n.v7_relativeSplatPath)),a=N.useRef(!1);return xS(()=>{a.current=!0}),N.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=i0(c,JSON.parse(o),s,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Ei([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,o,s,t])}const c5=N.createContext(null);function u5(t){let e=N.useContext(dr).outlet;return e&&N.createElement(c5.Provider,{value:t},e)}function h5(){let{matches:t}=N.useContext(dr),e=t[t.length-1];return e?e.params:{}}function bS(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=N.useContext(Bi),{matches:i}=N.useContext(dr),{pathname:s}=jr(),o=JSON.stringify(r0(i,r.v7_relativeSplatPath));return N.useMemo(()=>i0(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function d5(t,e){return f5(t,e)}function f5(t,e,n,r){na()||Ze(!1);let{navigator:i}=N.useContext(Bi),{matches:s}=N.useContext(dr),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=jr(),u;if(e){var d;let T=typeof e=="string"?ta(e):e;l==="/"||(d=T.pathname)!=null&&d.startsWith(l)||Ze(!1),u=T}else u=c;let f=u.pathname||"/",m=f;if(l!=="/"){let T=l.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(T.length).join("/")}let v=V3(t,{pathname:m}),w=v5(v&&v.map(T=>Object.assign({},T,{params:Object.assign({},a,T.params),pathname:Ei([l,i.encodeLocation?i.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?l:Ei([l,i.encodeLocation?i.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),s,n,r);return e&&w?N.createElement(Gd.Provider,{value:{location:Xl({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:ui.Pop}},w):w}function p5(){let t=T5(),e=i5(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:i},n):null,null)}const m5=N.createElement(p5,null);class g5 extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?N.createElement(dr.Provider,{value:this.props.routeContext},N.createElement(TS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function y5(t){let{routeContext:e,match:n,children:r}=t,i=N.useContext(s0);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),N.createElement(dr.Provider,{value:e},r)}function v5(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||Ze(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:m}=n,v=d.route.loader&&f[d.route.id]===void 0&&(!m||m[d.route.id]===void 0);if(d.route.lazy||v){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,f)=>{let m,v=!1,w=null,T=null;n&&(m=a&&d.route.id?a[d.route.id]:void 0,w=d.route.errorElement||m5,l&&(c<0&&f===0?(b5("route-fallback"),v=!0,T=null):c===f&&(v=!0,T=d.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,f+1)),x=()=>{let b;return m?b=w:v?b=T:d.route.Component?b=N.createElement(d.route.Component,null):d.route.element?b=d.route.element:b=u,N.createElement(y5,{match:d,routeContext:{outlet:u,matches:_,isDataRoute:n!=null},children:b})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?N.createElement(g5,{location:n.location,revalidation:n.revalidation,component:w,error:m,children:x(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):x()},null)}var SS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(SS||{}),IS=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(IS||{});function _5(t){let e=N.useContext(s0);return e||Ze(!1),e}function w5(t){let e=N.useContext(o5);return e||Ze(!1),e}function E5(t){let e=N.useContext(dr);return e||Ze(!1),e}function kS(t){let e=E5(),n=e.matches[e.matches.length-1];return n.route.id||Ze(!1),n.route.id}function T5(){var t;let e=N.useContext(TS),n=w5(),r=kS();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function x5(){let{router:t}=_5(SS.UseNavigateStable),e=kS(IS.UseNavigateStable),n=N.useRef(!1);return xS(()=>{n.current=!0}),N.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Xl({fromRouteId:e},s)))},[t,e])}const cw={};function b5(t,e,n){cw[t]||(cw[t]=!0)}function S5(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function wp(t){let{to:e,replace:n,state:r,relative:i}=t;na()||Ze(!1);let{future:s,static:o}=N.useContext(Bi),{matches:a}=N.useContext(dr),{pathname:l}=jr(),c=ji(),u=i0(e,r0(a,s.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(u);return N.useEffect(()=>c(JSON.parse(d),{replace:n,state:r,relative:i}),[c,d,i,n,r]),null}function I5(t){return u5(t.context)}function Qn(t){Ze(!1)}function k5(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ui.Pop,navigator:s,static:o=!1,future:a}=t;na()&&Ze(!1);let l=e.replace(/^\/*/,"/"),c=N.useMemo(()=>({basename:l,navigator:s,static:o,future:Xl({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=ta(r));let{pathname:u="/",search:d="",hash:f="",state:m=null,key:v="default"}=r,w=N.useMemo(()=>{let T=n0(u,l);return T==null?null:{location:{pathname:T,search:d,hash:f,state:m,key:v},navigationType:i}},[l,u,d,f,m,v,i]);return w==null?null:N.createElement(Bi.Provider,{value:c},N.createElement(Gd.Provider,{children:n,value:w}))}function C5(t){let{children:e,location:n}=t;return d5(Jm(e),n)}new Promise(()=>{});function Jm(t,e){e===void 0&&(e=[]);let n=[];return N.Children.forEach(t,(r,i)=>{if(!N.isValidElement(r))return;let s=[...e,i];if(r.type===N.Fragment){n.push.apply(n,Jm(r.props.children,s));return}r.type!==Qn&&Ze(!1),!r.props.index||!r.props.children||Ze(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Jm(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zm(){return Zm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zm.apply(this,arguments)}function P5(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function A5(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function R5(t,e){return t.button===0&&(!e||e==="_self")&&!A5(t)}const D5=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],M5="6";try{window.__reactRouterVersion=M5}catch{}const N5="startTransition",uw=C4[N5];function O5(t){let{basename:e,children:n,future:r,window:i}=t,s=N.useRef();s.current==null&&(s.current=N3({window:i,v5Compat:!0}));let o=s.current,[a,l]=N.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=N.useCallback(d=>{c&&uw?uw(()=>l(d)):l(d)},[l,c]);return N.useLayoutEffect(()=>o.listen(u),[o,u]),N.useEffect(()=>S5(r),[r]),N.createElement(k5,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const L5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",V5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,CS=N.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:d}=e,f=P5(e,D5),{basename:m}=N.useContext(Bi),v,w=!1;if(typeof c=="string"&&V5.test(c)&&(v=c,L5))try{let b=new URL(window.location.href),R=c.startsWith("//")?new URL(b.protocol+c):new URL(c),D=n0(R.pathname,m);R.origin===b.origin&&D!=null?c=D+R.search+R.hash:w=!0}catch{}let T=a5(c,{relative:i}),_=F5(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:d});function x(b){r&&r(b),b.defaultPrevented||_(b)}return N.createElement("a",Zm({},f,{href:v||T,onClick:w||s?r:x,ref:n,target:l}))});var hw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(hw||(hw={}));var dw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(dw||(dw={}));function F5(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=ji(),c=jr(),u=bS(t,{relative:o});return N.useCallback(d=>{if(R5(d,n)){d.preventDefault();let f=r!==void 0?r:Jh(c)===Jh(u);l(t,{replace:f,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,u,r,i,n,t,s,o,a])}var PS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},fw=g.createContext&&g.createContext(PS),U5=["attr","size","title"];function B5(t,e){if(t==null)return{};var n=j5(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function j5(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Zh(){return Zh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zh.apply(this,arguments)}function pw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ed(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pw(Object(n),!0).forEach(function(r){z5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function z5(t,e,n){return e=$5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $5(t){var e=H5(t,"string");return typeof e=="symbol"?e:e+""}function H5(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function AS(t){return t&&t.map((e,n)=>g.createElement(e.tag,ed({key:n},e.attr),AS(e.child)))}function Ae(t){return e=>g.createElement(W5,Zh({attr:ed({},t.attr)},e),AS(t.child))}function W5(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=B5(t,U5),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),g.createElement("svg",Zh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:ed(ed({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&g.createElement("title",null,s),t.children)};return fw!==void 0?g.createElement(fw.Consumer,null,n=>e(n)):e(PS)}function q5(t){return Ae({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M14 325.3c2.3-4.2 5.2-4.9 9.7-2.5 10.4 5.6 20.6 11.4 31.2 16.7a595.88 595.88 0 0 0 127.4 46.3 616.61 616.61 0 0 0 63.2 11.8 603.33 603.33 0 0 0 95 5.2c17.4-.4 34.8-1.8 52.1-3.8a603.66 603.66 0 0 0 163.3-42.8c2.9-1.2 5.9-2 9.1-1.2 6.7 1.8 9 9 4.1 13.9a70 70 0 0 1-9.6 7.4c-30.7 21.1-64.2 36.4-99.6 47.9a473.31 473.31 0 0 1-75.1 17.6 431 431 0 0 1-53.2 4.8 21.3 21.3 0 0 0-2.5.3H308a21.3 21.3 0 0 0-2.5-.3c-3.6-.2-7.2-.3-10.7-.4a426.3 426.3 0 0 1-50.4-5.3A448.4 448.4 0 0 1 164 420a443.33 443.33 0 0 1-145.6-87c-1.8-1.6-3-3.8-4.4-5.7zM172 65.1l-4.3.6a80.92 80.92 0 0 0-38 15.1c-2.4 1.7-4.6 3.5-7.1 5.4a4.29 4.29 0 0 1-.4-1.4c-.4-2.7-.8-5.5-1.3-8.2-.7-4.6-3-6.6-7.6-6.6h-11.5c-6.9 0-8.2 1.3-8.2 8.2v209.3c0 1 0 2 .1 3 .2 3 2 4.9 4.9 5 7 .1 14.1.1 21.1 0 2.9 0 4.7-2 5-5 .1-1 .1-2 .1-3v-72.4c1.1.9 1.7 1.4 2.2 1.9 17.9 14.9 38.5 19.8 61 15.4 20.4-4 34.6-16.5 43.8-34.9 7-13.9 9.9-28.7 10.3-44.1.5-17.1-1.2-33.9-8.1-49.8-8.5-19.6-22.6-32.5-43.9-36.9-3.2-.7-6.5-1-9.8-1.5-2.8-.1-5.5-.1-8.3-.1zM124.6 107a3.48 3.48 0 0 1 1.7-3.3c13.7-9.5 28.8-14.5 45.6-13.2 14.9 1.1 27.1 8.4 33.5 25.9 3.9 10.7 4.9 21.8 4.9 33 0 10.4-.8 20.6-4 30.6-6.8 21.3-22.4 29.4-42.6 28.5-14-.6-26.2-6-37.4-13.9a3.57 3.57 0 0 1-1.7-3.3c.1-14.1 0-28.1 0-42.2s.1-28 0-42.1zm205.7-41.9c-1 .1-2 .3-2.9.4a148 148 0 0 0-28.9 4.1c-6.1 1.6-12 3.8-17.9 5.8-3.6 1.2-5.4 3.8-5.3 7.7.1 3.3-.1 6.6 0 9.9.1 4.8 2.1 6.1 6.8 4.9 7.8-2 15.6-4.2 23.5-5.7 12.3-2.3 24.7-3.3 37.2-1.4 6.5 1 12.6 2.9 16.8 8.4 3.7 4.8 5.1 10.5 5.3 16.4.3 8.3.2 16.6.3 24.9a7.84 7.84 0 0 1-.2 1.4c-.5-.1-.9 0-1.3-.1a180.56 180.56 0 0 0-32-4.9c-11.3-.6-22.5.1-33.3 3.9-12.9 4.5-23.3 12.3-29.4 24.9-4.7 9.8-5.4 20.2-3.9 30.7 2 14 9 24.8 21.4 31.7 11.9 6.6 24.8 7.4 37.9 5.4 15.1-2.3 28.5-8.7 40.3-18.4a7.36 7.36 0 0 1 1.6-1.1c.6 3.8 1.1 7.4 1.8 11 .6 3.1 2.5 5.1 5.4 5.2 5.4.1 10.9.1 16.3 0a4.84 4.84 0 0 0 4.8-4.7 26.2 26.2 0 0 0 .1-2.8v-106a80 80 0 0 0-.9-12.9c-1.9-12.9-7.4-23.5-19-30.4-6.7-4-14.1-6-21.8-7.1-3.6-.5-7.2-.8-10.8-1.3-3.9.1-7.9.1-11.9.1zm35 127.7a3.33 3.33 0 0 1-1.5 3c-11.2 8.1-23.5 13.5-37.4 14.9-5.7.6-11.4.4-16.8-1.8a20.08 20.08 0 0 1-12.4-13.3 32.9 32.9 0 0 1-.1-19.4c2.5-8.3 8.4-13 16.4-15.6a61.33 61.33 0 0 1 24.8-2.2c8.4.7 16.6 2.3 25 3.4 1.6.2 2.1 1 2.1 2.6-.1 4.8 0 9.5 0 14.3s-.2 9.4-.1 14.1zm259.9 129.4c-1-5-4.8-6.9-9.1-8.3a88.42 88.42 0 0 0-21-3.9 147.32 147.32 0 0 0-39.2 1.9c-14.3 2.7-27.9 7.3-40 15.6a13.75 13.75 0 0 0-3.7 3.5 5.11 5.11 0 0 0-.5 4c.4 1.5 2.1 1.9 3.6 1.8a16.2 16.2 0 0 0 2.2-.1c7.8-.8 15.5-1.7 23.3-2.5 11.4-1.1 22.9-1.8 34.3-.9a71.64 71.64 0 0 1 14.4 2.7c5.1 1.4 7.4 5.2 7.6 10.4.4 8-1.4 15.7-3.5 23.3-4.1 15.4-10 30.3-15.8 45.1a17.6 17.6 0 0 0-1 3c-.5 2.9 1.2 4.8 4.1 4.1a10.56 10.56 0 0 0 4.8-2.5 145.91 145.91 0 0 0 12.7-13.4c12.8-16.4 20.3-35.3 24.7-55.6.8-3.6 1.4-7.3 2.1-10.9v-17.3zM493.1 199q-19.35-53.55-38.7-107.2c-2-5.7-4.2-11.3-6.3-16.9-1.1-2.9-3.2-4.8-6.4-4.8-7.6-.1-15.2-.2-22.9-.1-2.5 0-3.7 2-3.2 4.5a43.1 43.1 0 0 0 1.9 6.1q29.4 72.75 59.1 145.5c1.7 4.1 2.1 7.6.2 11.8-3.3 7.3-5.9 15-9.3 22.3-3 6.5-8 11.4-15.2 13.3a42.13 42.13 0 0 1-15.4 1.1c-2.5-.2-5-.8-7.5-1-3.4-.2-5.1 1.3-5.2 4.8q-.15 5 0 9.9c.1 5.5 2 8 7.4 8.9a108.18 108.18 0 0 0 16.9 2c17.1.4 30.7-6.5 39.5-21.4a131.63 131.63 0 0 0 9.2-18.4q35.55-89.7 70.6-179.6a26.62 26.62 0 0 0 1.6-5.5c.4-2.8-.9-4.4-3.7-4.4-6.6-.1-13.3 0-19.9 0a7.54 7.54 0 0 0-7.7 5.2c-.5 1.4-1.1 2.7-1.6 4.1l-34.8 100c-2.5 7.2-5.1 14.5-7.7 22.2-.4-1.1-.6-1.7-.9-2.4z"},child:[]}]})(t)}function K5(t){return Ae({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M116.9 158.5c-7.5 8.9-19.5 15.9-31.5 14.9-1.5-12 4.4-24.8 11.3-32.6 7.5-9.1 20.6-15.6 31.3-16.1 1.2 12.4-3.7 24.7-11.1 33.8m10.9 17.2c-17.4-1-32.3 9.9-40.5 9.9-8.4 0-21-9.4-34.8-9.1-17.9.3-34.5 10.4-43.6 26.5-18.8 32.3-4.9 80 13.3 106.3 8.9 13 19.5 27.3 33.5 26.8 13.3-.5 18.5-8.6 34.5-8.6 16.1 0 20.8 8.6 34.8 8.4 14.5-.3 23.6-13 32.5-26 10.1-14.8 14.3-29.1 14.5-29.9-.3-.3-28-10.9-28.3-42.9-.3-26.8 21.9-39.5 22.9-40.3-12.5-18.6-32-20.6-38.8-21.1m100.4-36.2v194.9h30.3v-66.6h41.9c38.3 0 65.1-26.3 65.1-64.3s-26.4-64-64.1-64h-73.2zm30.3 25.5h34.9c26.3 0 41.3 14 41.3 38.6s-15 38.8-41.4 38.8h-34.8V165zm162.2 170.9c19 0 36.6-9.6 44.6-24.9h.6v23.4h28v-97c0-28.1-22.5-46.3-57.1-46.3-32.1 0-55.9 18.4-56.8 43.6h27.3c2.3-12 13.4-19.9 28.6-19.9 18.5 0 28.9 8.6 28.9 24.5v10.8l-37.8 2.3c-35.1 2.1-54.1 16.5-54.1 41.5.1 25.2 19.7 42 47.8 42zm8.2-23.1c-16.1 0-26.4-7.8-26.4-19.6 0-12.3 9.9-19.4 28.8-20.5l33.6-2.1v11c0 18.2-15.5 31.2-36 31.2zm102.5 74.6c29.5 0 43.4-11.3 55.5-45.4L640 193h-30.8l-35.6 115.1h-.6L537.4 193h-31.6L557 334.9l-2.8 8.6c-4.6 14.6-12.1 20.3-25.5 20.3-2.4 0-7-.3-8.9-.5v23.4c1.8.4 9.3.7 11.6.7z"},child:[]}]})(t)}function G5(t){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(t)}function Q5(t){return Ae({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M105.72,215v41.25h57.1a49.66,49.66,0,0,1-21.14,32.6c-9.54,6.55-21.72,10.28-36,10.28-27.6,0-50.93-18.91-59.3-44.22a65.61,65.61,0,0,1,0-41l0,0c8.37-25.46,31.7-44.37,59.3-44.37a56.43,56.43,0,0,1,40.51,16.08L176.47,155a101.24,101.24,0,0,0-70.75-27.84,105.55,105.55,0,0,0-94.38,59.11,107.64,107.64,0,0,0,0,96.18v.15a105.41,105.41,0,0,0,94.38,59c28.47,0,52.55-9.53,70-25.91,20-18.61,31.41-46.15,31.41-78.91A133.76,133.76,0,0,0,205.38,215Zm389.41-4c-10.13-9.38-23.93-14.14-41.39-14.14-22.46,0-39.34,8.34-50.5,24.86l20.85,13.26q11.45-17,31.26-17a34.05,34.05,0,0,1,22.75,8.79A28.14,28.14,0,0,1,487.79,248v5.51c-9.1-5.07-20.55-7.75-34.64-7.75-16.44,0-29.65,3.88-39.49,11.77s-14.82,18.31-14.82,31.56a39.74,39.74,0,0,0,13.94,31.27c9.25,8.34,21,12.51,34.79,12.51,16.29,0,29.21-7.3,39-21.89h1v17.72h22.61V250C510.25,233.45,505.26,220.34,495.13,211ZM475.9,300.3a37.32,37.32,0,0,1-26.57,11.16A28.61,28.61,0,0,1,431,305.21a19.41,19.41,0,0,1-7.77-15.63c0-7,3.22-12.81,9.54-17.42s14.53-7,24.07-7C470,265,480.3,268,487.64,273.94,487.64,284.07,483.68,292.85,475.9,300.3Zm-93.65-142A55.71,55.71,0,0,0,341.74,142H279.07V328.74H302.7V253.1h39c16,0,29.5-5.36,40.51-15.93.88-.89,1.76-1.79,2.65-2.68A54.45,54.45,0,0,0,382.25,158.26Zm-16.58,62.23a30.65,30.65,0,0,1-23.34,9.68H302.7V165h39.63a32,32,0,0,1,22.6,9.23A33.18,33.18,0,0,1,365.67,220.49ZM614.31,201,577.77,292.7h-.45L539.9,201H514.21L566,320.55l-29.35,64.32H561L640,201Z"},child:[]}]})(t)}function Y5(t){return Ae({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function X5(t){return Ae({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M111.4 295.9c-3.5 19.2-17.4 108.7-21.5 134-.3 1.8-1 2.5-3 2.5H12.3c-7.6 0-13.1-6.6-12.1-13.9L58.8 46.6c1.5-9.6 10.1-16.9 20-16.9 152.3 0 165.1-3.7 204 11.4 60.1 23.3 65.6 79.5 44 140.3-21.5 62.6-72.5 89.5-140.1 90.3-43.4.7-69.5-7-75.3 24.2zM357.1 152c-1.8-1.3-2.5-1.8-3 1.3-2 11.4-5.1 22.5-8.8 33.6-39.9 113.8-150.5 103.9-204.5 103.9-6.1 0-10.1 3.3-10.9 9.4-22.6 140.4-27.1 169.7-27.1 169.7-1 7.1 3.5 12.9 10.6 12.9h63.5c8.6 0 15.7-6.3 17.4-14.9.7-5.4-1.1 6.1 14.4-91.3 4.6-22 14.3-19.7 29.3-19.7 71 0 126.4-28.8 142.9-112.3 6.5-34.8 4.6-71.4-23.8-92.6z"},child:[]}]})(t)}function J5(t){return Ae({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448,209.91a210.06,210.06,0,0,1-122.77-39.25V349.38A162.55,162.55,0,1,1,185,188.31V278.2a74.62,74.62,0,1,0,52.23,71.18V0l88,0a121.18,121.18,0,0,0,1.86,22.17h0A122.18,122.18,0,0,0,381,102.39a121.43,121.43,0,0,0,67,20.14Z"},child:[]}]})(t)}function Z5(t){return Ae({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"},child:[]}]})(t)}function eD(t){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function Qd(t){return Ae({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(t)}function mw(t){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 405.3V448c0 35.3 86 64 192 64s192-28.7 192-64v-42.7C342.7 434.4 267.2 448 192 448S41.3 434.4 0 405.3zM320 128c106 0 192-28.7 192-64S426 0 320 0 128 28.7 128 64s86 64 192 64zM0 300.4V352c0 35.3 86 64 192 64s192-28.7 192-64v-51.6c-41.3 34-116.9 51.6-192 51.6S41.3 334.4 0 300.4zm416 11c57.3-11.1 96-31.7 96-55.4v-42.7c-23.2 16.4-57.3 27.6-96 34.5v63.6zM192 160C86 160 0 195.8 0 240s86 80 192 80 192-35.8 192-80-86-80-192-80zm219.3 56.3c60-10.8 100.7-32 100.7-56.3v-42.7c-35.5 25.1-96.5 38.6-160.7 41.8 29.5 14.3 51.2 33.5 60 57.2z"},child:[]}]})(t)}function RS(t){return Ae({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(t)}function tD(t){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(t)}function nD(t){return Ae({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M485.5 0L576 160H474.9L405.7 0h79.8zm-128 0l69.2 160H149.3L218.5 0h139zm-267 0h79.8l-69.2 160H0L90.5 0zM0 192h100.7l123 251.7c1.5 3.1-2.7 5.9-5 3.3L0 192zm148.2 0h279.6l-137 318.2c-1 2.4-4.5 2.4-5.5 0L148.2 192zm204.1 251.7l123-251.7H576L357.3 446.9c-2.3 2.7-6.5-.1-5-3.2z"},child:[]}]})(t)}function rD(t){return Ae({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528 32H48C21.5 32 0 53.5 0 80v16h576V80c0-26.5-21.5-48-48-48zM0 432c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V128H0v304zm352-232c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zm0 64c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zm0 64c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zM176 192c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zM67.1 396.2C75.5 370.5 99.6 352 128 352h8.2c12.3 5.1 25.7 8 39.8 8s27.6-2.9 39.8-8h8.2c28.4 0 52.5 18.5 60.9 44.2 3.2 9.9-5.2 19.8-15.6 19.8H82.7c-10.4 0-18.8-10-15.6-19.8z"},child:[]}]})(t)}function iD(t){return Ae({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M272 0H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h224c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zM160 480c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm112-108c0 6.6-5.4 12-12 12H60c-6.6 0-12-5.4-12-12V60c0-6.6 5.4-12 12-12h200c6.6 0 12 5.4 12 12v312z"},child:[]}]})(t)}function sD(t){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"},child:[]}]})(t)}function oD(t){return Ae({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"},child:[]}]})(t)}function aD(t){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 56v240c0 13.255 10.745 24 24 24h80c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24H24C10.745 32 0 42.745 0 56zm40 200c0-13.255 10.745-24 24-24s24 10.745 24 24-10.745 24-24 24-24-10.745-24-24zm272 256c-20.183 0-29.485-39.293-33.931-57.795-5.206-21.666-10.589-44.07-25.393-58.902-32.469-32.524-49.503-73.967-89.117-113.111a11.98 11.98 0 0 1-3.558-8.521V59.901c0-6.541 5.243-11.878 11.783-11.998 15.831-.29 36.694-9.079 52.651-16.178C256.189 17.598 295.709.017 343.995 0h2.844c42.777 0 93.363.413 113.774 29.737 8.392 12.057 10.446 27.034 6.148 44.632 16.312 17.053 25.063 48.863 16.382 74.757 17.544 23.432 19.143 56.132 9.308 79.469l.11.11c11.893 11.949 19.523 31.259 19.439 49.197-.156 30.352-26.157 58.098-59.553 58.098H350.723C358.03 364.34 384 388.132 384 430.548 384 504 336 512 312 512z"},child:[]}]})(t)}function lD(t){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M104 224H24c-13.255 0-24 10.745-24 24v240c0 13.255 10.745 24 24 24h80c13.255 0 24-10.745 24-24V248c0-13.255-10.745-24-24-24zM64 472c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24zM384 81.452c0 42.416-25.97 66.208-33.277 94.548h101.723c33.397 0 59.397 27.746 59.553 58.098.084 17.938-7.546 37.249-19.439 49.197l-.11.11c9.836 23.337 8.237 56.037-9.308 79.469 8.681 25.895-.069 57.704-16.382 74.757 4.298 17.598 2.244 32.575-6.148 44.632C440.202 511.587 389.616 512 346.839 512l-2.845-.001c-48.287-.017-87.806-17.598-119.56-31.725-15.957-7.099-36.821-15.887-52.651-16.178-6.54-.12-11.783-5.457-11.783-11.998v-213.77c0-3.2 1.282-6.271 3.558-8.521 39.614-39.144 56.648-80.587 89.117-113.111 14.804-14.832 20.188-37.236 25.393-58.902C282.515 39.293 291.817 0 312 0c24 0 72 8 72 81.452z"},child:[]}]})(t)}function td(t){return Ae({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}function cD(t){return Ae({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function uD(t){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M461.2 128H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h384c8.84 0 16-7.16 16-16 0-26.51-21.49-48-48-48H64C28.65 32 0 60.65 0 96v320c0 35.35 28.65 64 64 64h397.2c28.02 0 50.8-21.53 50.8-48V176c0-26.47-22.78-48-50.8-48zM416 336c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},child:[]}]})(t)}const hD=[{name:"Facebook",icon:g.createElement(G5,null),url:"https://facebook.com"},{name:"Instagram",icon:g.createElement(Y5,null),url:"https://instagram.com"},{name:"TikTok",icon:g.createElement(J5,null),url:"https://tiktok.com"},{name:"YouTube",icon:g.createElement(Z5,null),url:"https://youtube.com"}],dD=()=>g.createElement("footer",{className:"bg-white dark:bg-gray-900/50 w-full mt-auto"},g.createElement("div",{className:"max-w-6xl mx-auto py-8 px-4 flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0"},g.createElement("p",{className:"text-gray-500 dark:text-gray-400"}," ",new Date().getFullYear()," TopUp Store. All Rights Reserved."),g.createElement("div",{className:"flex space-x-6"},hD.map(t=>g.createElement("a",{key:t.name,href:t.url,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-blue-500 dark:hover:text-blue-400 transition-colors text-2xl"},t.icon))))),fD=()=>{const[t,e]=N.useState(()=>{const n=localStorage.getItem("theme");return n?n==="dark":window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches});return N.useEffect(()=>{t?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},[t]),g.createElement("button",{className:"fixed top-4 right-4 z-50 px-3 py-1 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded shadow",onClick:()=>e(n=>!n),"aria-label":"Toggle dark mode"},t?" Dark":" Light")},pD=()=>g.createElement("div",{className:"flex flex-col min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors"},g.createElement(fD,null),g.createElement("main",{className:"flex-grow pb-20"},g.createElement(I5,null)),g.createElement(dD,null)),mD="/assets/pubg-DRAqToEh.png",gD="/assets/free_fire-v4FKHjLf.png",yD="/assets/pes-BtsoUCnt.png",vD="data:image/png;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiB2aWV3Qm94PSIwIDAgMjAwIDIwMCI+DQogIDxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiBmaWxsPSIjRTVFN0VCIi8+DQogIDx0ZXh0IHg9IjUwJSIgeT0iNTAlIiBkb21pbmFudC1iYXNlbGluZT0ibWlkZGxlIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMjAiIGZpbGw9IiM5Q0EzQUYiPkltYWdlPC90ZXh0Pg0KPC9zdmc+IA==",_D={PUBG:mD,"Free Fire":gD,PES:yD},wD=({game:t,selected:e,onSelect:n,orderCount:r})=>{const i=e===t.name,s=_D[t.name]||vD;return g.createElement("div",{className:`relative rounded-lg shadow-lg overflow-hidden cursor-pointer transform transition-transform duration-300 ${i?"scale-105 ring-4 ring-blue-500":"hover:scale-105 hover:-rotate-1"}`,onClick:()=>n(t.name)},g.createElement("img",{src:s,alt:`${t.name} Logo`,className:"w-full h-48 object-cover bg-gray-700"}),g.createElement("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/60 to-transparent"}),g.createElement("div",{className:"absolute bottom-4 left-4"},g.createElement("h3",{className:"text-xl font-bold text-white"},t.name),r>0&&g.createElement("p",{className:"text-sm font-semibold text-gray-200 mt-1"}," ",r.toLocaleString()," orders")))},ED=({value:t,onChange:e,orderCounts:n})=>{const r=[{name:"PUBG"},{name:"Free Fire"},{name:"PES"}],[i,s]=N.useState(t||"PUBG"),o=a=>{s(a),e&&e(a)};return g.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-8 w-full max-w-4xl"},r.map(a=>g.createElement(wD,{key:a.name,game:a,selected:i,onSelect:o,orderCount:n[a.name]||0})))};var gw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},TD=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},MS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(f=64)),r.push(n[u],n[d],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(DS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):TD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||d==null)throw new xD;const f=s<<2|a>>4;if(r.push(f),c!==64){const m=a<<4&240|c>>2;if(r.push(m),d!==64){const v=c<<6&192|d;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class xD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bD=function(t){const e=DS(t);return MS.encodeByteArray(e,!0)},nd=function(t){return bD(t).replace(/\./g,"")},NS=function(t){try{return MS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID=()=>SD().__FIREBASE_DEFAULTS__,kD=()=>{if(typeof process>"u"||typeof gw>"u")return;const t=gw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},CD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&NS(t[1]);return e&&JSON.parse(e)},Yd=()=>{try{return ID()||kD()||CD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},OS=t=>{var e,n;return(n=(e=Yd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},PD=t=>{const e=OS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},LS=()=>{var t;return(t=Yd())===null||t===void 0?void 0:t.config},VS=t=>{var e;return(e=Yd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[nd(JSON.stringify(n)),nd(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function DD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ut())}function MD(){var t;const e=(t=Yd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ND(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function OD(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function LD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function VD(){const t=Ut();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function FD(){return!MD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function UD(){try{return typeof indexedDB=="object"}catch{return!1}}function BD(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD="FirebaseError";class zr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=jD,Object.setPrototypeOf(this,zr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ic.prototype.create)}}class Ic{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?zD(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new zr(i,a,r)}}function zD(t,e){return t.replace($D,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const $D=/\{\$([^}]+)}/g;function HD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function rd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(yw(s)&&yw(o)){if(!rd(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function yw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ya(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Xa(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function WD(t,e){const n=new qD(t,e);return n.subscribe.bind(n)}class qD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");KD(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Ep),i.error===void 0&&(i.error=Ep),i.complete===void 0&&(i.complete=Ep);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function KD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ep(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(t){return t&&t._delegate?t._delegate:t}class Is{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new AD;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(YD(e))try{this.getOrInitializeService({instanceIdentifier:ns})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ns){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ns){return this.instances.has(e)}getOptions(e=ns){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:QD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ns){return this.component?this.component.multipleInstances?e:ns:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function QD(t){return t===ns?void 0:t}function YD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new GD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(fe||(fe={}));const JD={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},ZD=fe.INFO,eM={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},tM=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=eM[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class o0{constructor(e){this.name=e,this._logLevel=ZD,this._logHandler=tM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?JD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}}const nM=(t,e)=>e.some(n=>t instanceof n);let vw,_w;function rM(){return vw||(vw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iM(){return _w||(_w=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const FS=new WeakMap,eg=new WeakMap,US=new WeakMap,Tp=new WeakMap,a0=new WeakMap;function sM(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ti(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&FS.set(n,t)}).catch(()=>{}),a0.set(e,t),e}function oM(t){if(eg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});eg.set(t,e)}let tg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return eg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||US.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ti(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function aM(t){tg=t(tg)}function lM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(xp(this),e,...n);return US.set(r,e.sort?e.sort():[e]),Ti(r)}:iM().includes(t)?function(...e){return t.apply(xp(this),e),Ti(FS.get(this))}:function(...e){return Ti(t.apply(xp(this),e))}}function cM(t){return typeof t=="function"?lM(t):(t instanceof IDBTransaction&&oM(t),nM(t,rM())?new Proxy(t,tg):t)}function Ti(t){if(t instanceof IDBRequest)return sM(t);if(Tp.has(t))return Tp.get(t);const e=cM(t);return e!==t&&(Tp.set(t,e),a0.set(e,t)),e}const xp=t=>a0.get(t);function uM(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ti(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ti(o.result),l.oldVersion,l.newVersion,Ti(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const hM=["get","getKey","getAll","getAllKeys","count"],dM=["put","add","delete","clear"],bp=new Map;function ww(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(bp.get(e))return bp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=dM.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||hM.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return bp.set(e,s),s}aM(t=>({...t,get:(e,n,r)=>ww(e,n)||t.get(e,n,r),has:(e,n)=>!!ww(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(pM(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function pM(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ng="@firebase/app",Ew="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nr=new o0("@firebase/app"),mM="@firebase/app-compat",gM="@firebase/analytics-compat",yM="@firebase/analytics",vM="@firebase/app-check-compat",_M="@firebase/app-check",wM="@firebase/auth",EM="@firebase/auth-compat",TM="@firebase/database",xM="@firebase/data-connect",bM="@firebase/database-compat",SM="@firebase/functions",IM="@firebase/functions-compat",kM="@firebase/installations",CM="@firebase/installations-compat",PM="@firebase/messaging",AM="@firebase/messaging-compat",RM="@firebase/performance",DM="@firebase/performance-compat",MM="@firebase/remote-config",NM="@firebase/remote-config-compat",OM="@firebase/storage",LM="@firebase/storage-compat",VM="@firebase/firestore",FM="@firebase/vertexai-preview",UM="@firebase/firestore-compat",BM="firebase",jM="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rg="[DEFAULT]",zM={[ng]:"fire-core",[mM]:"fire-core-compat",[yM]:"fire-analytics",[gM]:"fire-analytics-compat",[_M]:"fire-app-check",[vM]:"fire-app-check-compat",[wM]:"fire-auth",[EM]:"fire-auth-compat",[TM]:"fire-rtdb",[xM]:"fire-data-connect",[bM]:"fire-rtdb-compat",[SM]:"fire-fn",[IM]:"fire-fn-compat",[kM]:"fire-iid",[CM]:"fire-iid-compat",[PM]:"fire-fcm",[AM]:"fire-fcm-compat",[RM]:"fire-perf",[DM]:"fire-perf-compat",[MM]:"fire-rc",[NM]:"fire-rc-compat",[OM]:"fire-gcs",[LM]:"fire-gcs-compat",[VM]:"fire-fst",[UM]:"fire-fst-compat",[FM]:"fire-vertex","fire-js":"fire-js",[BM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const id=new Map,$M=new Map,ig=new Map;function Tw(t,e){try{t.container.addComponent(e)}catch(n){Nr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Fo(t){const e=t.name;if(ig.has(e))return Nr.debug(`There were multiple attempts to register component ${e}.`),!1;ig.set(e,t);for(const n of id.values())Tw(n,t);for(const n of $M.values())Tw(n,t);return!0}function l0(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Sr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xi=new Ic("app","Firebase",HM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Is("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=jM;function BS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:rg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw xi.create("bad-app-name",{appName:String(i)});if(n||(n=LS()),!n)throw xi.create("no-options");const s=id.get(i);if(s){if(rd(n,s.options)&&rd(r,s.config))return s;throw xi.create("duplicate-app",{appName:i})}const o=new XD(i);for(const l of ig.values())o.addComponent(l);const a=new WM(n,r,o);return id.set(i,a),a}function jS(t=rg){const e=id.get(t);if(!e&&t===rg&&LS())return BS();if(!e)throw xi.create("no-app",{appName:t});return e}function bi(t,e,n){var r;let i=(r=zM[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Nr.warn(a.join(" "));return}Fo(new Is(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qM="firebase-heartbeat-database",KM=1,Jl="firebase-heartbeat-store";let Sp=null;function zS(){return Sp||(Sp=uM(qM,KM,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Jl)}catch(n){console.warn(n)}}}}).catch(t=>{throw xi.create("idb-open",{originalErrorMessage:t.message})})),Sp}async function GM(t){try{const n=(await zS()).transaction(Jl),r=await n.objectStore(Jl).get($S(t));return await n.done,r}catch(e){if(e instanceof zr)Nr.warn(e.message);else{const n=xi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Nr.warn(n.message)}}}async function xw(t,e){try{const r=(await zS()).transaction(Jl,"readwrite");await r.objectStore(Jl).put(e,$S(t)),await r.done}catch(n){if(n instanceof zr)Nr.warn(n.message);else{const r=xi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Nr.warn(r.message)}}}function $S(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QM=1024,YM=30*24*60*60*1e3;class XM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ZM(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=bw();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=YM}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Nr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=bw(),{heartbeatsToSend:r,unsentEntries:i}=JM(this._heartbeatsCache.heartbeats),s=nd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Nr.warn(n),""}}}function bw(){return new Date().toISOString().substring(0,10)}function JM(t,e=QM){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Sw(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Sw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class ZM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return UD()?BD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await GM(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return xw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return xw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Sw(t){return nd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eN(t){Fo(new Is("platform-logger",e=>new fM(e),"PRIVATE")),Fo(new Is("heartbeat",e=>new XM(e),"PRIVATE")),bi(ng,Ew,t),bi(ng,Ew,"esm2017"),bi("fire-js","")}eN("");var tN="firebase",nN="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bi(tN,nN,"app");var Iw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ys,HS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,E){function k(){}k.prototype=E.prototype,S.D=E.prototype,S.prototype=new k,S.prototype.constructor=S,S.C=function(C,A,M){for(var P=Array(arguments.length-2),he=2;he<arguments.length;he++)P[he-2]=arguments[he];return E.prototype[A].apply(C,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,E,k){k||(k=0);var C=Array(16);if(typeof E=="string")for(var A=0;16>A;++A)C[A]=E.charCodeAt(k++)|E.charCodeAt(k++)<<8|E.charCodeAt(k++)<<16|E.charCodeAt(k++)<<24;else for(A=0;16>A;++A)C[A]=E[k++]|E[k++]<<8|E[k++]<<16|E[k++]<<24;E=S.g[0],k=S.g[1],A=S.g[2];var M=S.g[3],P=E+(M^k&(A^M))+C[0]+3614090360&4294967295;E=k+(P<<7&4294967295|P>>>25),P=M+(A^E&(k^A))+C[1]+3905402710&4294967295,M=E+(P<<12&4294967295|P>>>20),P=A+(k^M&(E^k))+C[2]+606105819&4294967295,A=M+(P<<17&4294967295|P>>>15),P=k+(E^A&(M^E))+C[3]+3250441966&4294967295,k=A+(P<<22&4294967295|P>>>10),P=E+(M^k&(A^M))+C[4]+4118548399&4294967295,E=k+(P<<7&4294967295|P>>>25),P=M+(A^E&(k^A))+C[5]+1200080426&4294967295,M=E+(P<<12&4294967295|P>>>20),P=A+(k^M&(E^k))+C[6]+2821735955&4294967295,A=M+(P<<17&4294967295|P>>>15),P=k+(E^A&(M^E))+C[7]+4249261313&4294967295,k=A+(P<<22&4294967295|P>>>10),P=E+(M^k&(A^M))+C[8]+1770035416&4294967295,E=k+(P<<7&4294967295|P>>>25),P=M+(A^E&(k^A))+C[9]+2336552879&4294967295,M=E+(P<<12&4294967295|P>>>20),P=A+(k^M&(E^k))+C[10]+4294925233&4294967295,A=M+(P<<17&4294967295|P>>>15),P=k+(E^A&(M^E))+C[11]+2304563134&4294967295,k=A+(P<<22&4294967295|P>>>10),P=E+(M^k&(A^M))+C[12]+1804603682&4294967295,E=k+(P<<7&4294967295|P>>>25),P=M+(A^E&(k^A))+C[13]+4254626195&4294967295,M=E+(P<<12&4294967295|P>>>20),P=A+(k^M&(E^k))+C[14]+2792965006&4294967295,A=M+(P<<17&4294967295|P>>>15),P=k+(E^A&(M^E))+C[15]+1236535329&4294967295,k=A+(P<<22&4294967295|P>>>10),P=E+(A^M&(k^A))+C[1]+4129170786&4294967295,E=k+(P<<5&4294967295|P>>>27),P=M+(k^A&(E^k))+C[6]+3225465664&4294967295,M=E+(P<<9&4294967295|P>>>23),P=A+(E^k&(M^E))+C[11]+643717713&4294967295,A=M+(P<<14&4294967295|P>>>18),P=k+(M^E&(A^M))+C[0]+3921069994&4294967295,k=A+(P<<20&4294967295|P>>>12),P=E+(A^M&(k^A))+C[5]+3593408605&4294967295,E=k+(P<<5&4294967295|P>>>27),P=M+(k^A&(E^k))+C[10]+38016083&4294967295,M=E+(P<<9&4294967295|P>>>23),P=A+(E^k&(M^E))+C[15]+3634488961&4294967295,A=M+(P<<14&4294967295|P>>>18),P=k+(M^E&(A^M))+C[4]+3889429448&4294967295,k=A+(P<<20&4294967295|P>>>12),P=E+(A^M&(k^A))+C[9]+568446438&4294967295,E=k+(P<<5&4294967295|P>>>27),P=M+(k^A&(E^k))+C[14]+3275163606&4294967295,M=E+(P<<9&4294967295|P>>>23),P=A+(E^k&(M^E))+C[3]+4107603335&4294967295,A=M+(P<<14&4294967295|P>>>18),P=k+(M^E&(A^M))+C[8]+1163531501&4294967295,k=A+(P<<20&4294967295|P>>>12),P=E+(A^M&(k^A))+C[13]+2850285829&4294967295,E=k+(P<<5&4294967295|P>>>27),P=M+(k^A&(E^k))+C[2]+4243563512&4294967295,M=E+(P<<9&4294967295|P>>>23),P=A+(E^k&(M^E))+C[7]+1735328473&4294967295,A=M+(P<<14&4294967295|P>>>18),P=k+(M^E&(A^M))+C[12]+2368359562&4294967295,k=A+(P<<20&4294967295|P>>>12),P=E+(k^A^M)+C[5]+4294588738&4294967295,E=k+(P<<4&4294967295|P>>>28),P=M+(E^k^A)+C[8]+2272392833&4294967295,M=E+(P<<11&4294967295|P>>>21),P=A+(M^E^k)+C[11]+1839030562&4294967295,A=M+(P<<16&4294967295|P>>>16),P=k+(A^M^E)+C[14]+4259657740&4294967295,k=A+(P<<23&4294967295|P>>>9),P=E+(k^A^M)+C[1]+2763975236&4294967295,E=k+(P<<4&4294967295|P>>>28),P=M+(E^k^A)+C[4]+1272893353&4294967295,M=E+(P<<11&4294967295|P>>>21),P=A+(M^E^k)+C[7]+4139469664&4294967295,A=M+(P<<16&4294967295|P>>>16),P=k+(A^M^E)+C[10]+3200236656&4294967295,k=A+(P<<23&4294967295|P>>>9),P=E+(k^A^M)+C[13]+681279174&4294967295,E=k+(P<<4&4294967295|P>>>28),P=M+(E^k^A)+C[0]+3936430074&4294967295,M=E+(P<<11&4294967295|P>>>21),P=A+(M^E^k)+C[3]+3572445317&4294967295,A=M+(P<<16&4294967295|P>>>16),P=k+(A^M^E)+C[6]+76029189&4294967295,k=A+(P<<23&4294967295|P>>>9),P=E+(k^A^M)+C[9]+3654602809&4294967295,E=k+(P<<4&4294967295|P>>>28),P=M+(E^k^A)+C[12]+3873151461&4294967295,M=E+(P<<11&4294967295|P>>>21),P=A+(M^E^k)+C[15]+530742520&4294967295,A=M+(P<<16&4294967295|P>>>16),P=k+(A^M^E)+C[2]+3299628645&4294967295,k=A+(P<<23&4294967295|P>>>9),P=E+(A^(k|~M))+C[0]+4096336452&4294967295,E=k+(P<<6&4294967295|P>>>26),P=M+(k^(E|~A))+C[7]+1126891415&4294967295,M=E+(P<<10&4294967295|P>>>22),P=A+(E^(M|~k))+C[14]+2878612391&4294967295,A=M+(P<<15&4294967295|P>>>17),P=k+(M^(A|~E))+C[5]+4237533241&4294967295,k=A+(P<<21&4294967295|P>>>11),P=E+(A^(k|~M))+C[12]+1700485571&4294967295,E=k+(P<<6&4294967295|P>>>26),P=M+(k^(E|~A))+C[3]+2399980690&4294967295,M=E+(P<<10&4294967295|P>>>22),P=A+(E^(M|~k))+C[10]+4293915773&4294967295,A=M+(P<<15&4294967295|P>>>17),P=k+(M^(A|~E))+C[1]+2240044497&4294967295,k=A+(P<<21&4294967295|P>>>11),P=E+(A^(k|~M))+C[8]+1873313359&4294967295,E=k+(P<<6&4294967295|P>>>26),P=M+(k^(E|~A))+C[15]+4264355552&4294967295,M=E+(P<<10&4294967295|P>>>22),P=A+(E^(M|~k))+C[6]+2734768916&4294967295,A=M+(P<<15&4294967295|P>>>17),P=k+(M^(A|~E))+C[13]+1309151649&4294967295,k=A+(P<<21&4294967295|P>>>11),P=E+(A^(k|~M))+C[4]+4149444226&4294967295,E=k+(P<<6&4294967295|P>>>26),P=M+(k^(E|~A))+C[11]+3174756917&4294967295,M=E+(P<<10&4294967295|P>>>22),P=A+(E^(M|~k))+C[2]+718787259&4294967295,A=M+(P<<15&4294967295|P>>>17),P=k+(M^(A|~E))+C[9]+3951481745&4294967295,S.g[0]=S.g[0]+E&4294967295,S.g[1]=S.g[1]+(A+(P<<21&4294967295|P>>>11))&4294967295,S.g[2]=S.g[2]+A&4294967295,S.g[3]=S.g[3]+M&4294967295}r.prototype.u=function(S,E){E===void 0&&(E=S.length);for(var k=E-this.blockSize,C=this.B,A=this.h,M=0;M<E;){if(A==0)for(;M<=k;)i(this,S,M),M+=this.blockSize;if(typeof S=="string"){for(;M<E;)if(C[A++]=S.charCodeAt(M++),A==this.blockSize){i(this,C),A=0;break}}else for(;M<E;)if(C[A++]=S[M++],A==this.blockSize){i(this,C),A=0;break}}this.h=A,this.o+=E},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var E=1;E<S.length-8;++E)S[E]=0;var k=8*this.o;for(E=S.length-8;E<S.length;++E)S[E]=k&255,k/=256;for(this.u(S),S=Array(16),E=k=0;4>E;++E)for(var C=0;32>C;C+=8)S[k++]=this.g[E]>>>C&255;return S};function s(S,E){var k=a;return Object.prototype.hasOwnProperty.call(k,S)?k[S]:k[S]=E(S)}function o(S,E){this.h=E;for(var k=[],C=!0,A=S.length-1;0<=A;A--){var M=S[A]|0;C&&M==E||(k[A]=M,C=!1)}this.g=k}var a={};function l(S){return-128<=S&&128>S?s(S,function(E){return new o([E|0],0>E?-1:0)}):new o([S|0],0>S?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return d;if(0>S)return T(c(-S));for(var E=[],k=1,C=0;S>=k;C++)E[C]=S/k|0,k*=4294967296;return new o(E,0)}function u(S,E){if(S.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(S.charAt(0)=="-")return T(u(S.substring(1),E));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=c(Math.pow(E,8)),C=d,A=0;A<S.length;A+=8){var M=Math.min(8,S.length-A),P=parseInt(S.substring(A,A+M),E);8>M?(M=c(Math.pow(E,M)),C=C.j(M).add(c(P))):(C=C.j(k),C=C.add(c(P)))}return C}var d=l(0),f=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(w(this))return-T(this).m();for(var S=0,E=1,k=0;k<this.g.length;k++){var C=this.i(k);S+=(0<=C?C:4294967296+C)*E,E*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(v(this))return"0";if(w(this))return"-"+T(this).toString(S);for(var E=c(Math.pow(S,6)),k=this,C="";;){var A=R(k,E).g;k=_(k,A.j(E));var M=((0<k.g.length?k.g[0]:k.h)>>>0).toString(S);if(k=A,v(k))return M+C;for(;6>M.length;)M="0"+M;C=M+C}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function v(S){if(S.h!=0)return!1;for(var E=0;E<S.g.length;E++)if(S.g[E]!=0)return!1;return!0}function w(S){return S.h==-1}t.l=function(S){return S=_(this,S),w(S)?-1:v(S)?0:1};function T(S){for(var E=S.g.length,k=[],C=0;C<E;C++)k[C]=~S.g[C];return new o(k,~S.h).add(f)}t.abs=function(){return w(this)?T(this):this},t.add=function(S){for(var E=Math.max(this.g.length,S.g.length),k=[],C=0,A=0;A<=E;A++){var M=C+(this.i(A)&65535)+(S.i(A)&65535),P=(M>>>16)+(this.i(A)>>>16)+(S.i(A)>>>16);C=P>>>16,M&=65535,P&=65535,k[A]=P<<16|M}return new o(k,k[k.length-1]&-2147483648?-1:0)};function _(S,E){return S.add(T(E))}t.j=function(S){if(v(this)||v(S))return d;if(w(this))return w(S)?T(this).j(T(S)):T(T(this).j(S));if(w(S))return T(this.j(T(S)));if(0>this.l(m)&&0>S.l(m))return c(this.m()*S.m());for(var E=this.g.length+S.g.length,k=[],C=0;C<2*E;C++)k[C]=0;for(C=0;C<this.g.length;C++)for(var A=0;A<S.g.length;A++){var M=this.i(C)>>>16,P=this.i(C)&65535,he=S.i(A)>>>16,oe=S.i(A)&65535;k[2*C+2*A]+=P*oe,x(k,2*C+2*A),k[2*C+2*A+1]+=M*oe,x(k,2*C+2*A+1),k[2*C+2*A+1]+=P*he,x(k,2*C+2*A+1),k[2*C+2*A+2]+=M*he,x(k,2*C+2*A+2)}for(C=0;C<E;C++)k[C]=k[2*C+1]<<16|k[2*C];for(C=E;C<2*E;C++)k[C]=0;return new o(k,0)};function x(S,E){for(;(S[E]&65535)!=S[E];)S[E+1]+=S[E]>>>16,S[E]&=65535,E++}function b(S,E){this.g=S,this.h=E}function R(S,E){if(v(E))throw Error("division by zero");if(v(S))return new b(d,d);if(w(S))return E=R(T(S),E),new b(T(E.g),T(E.h));if(w(E))return E=R(S,T(E)),new b(T(E.g),E.h);if(30<S.g.length){if(w(S)||w(E))throw Error("slowDivide_ only works with positive integers.");for(var k=f,C=E;0>=C.l(S);)k=D(k),C=D(C);var A=O(k,1),M=O(C,1);for(C=O(C,2),k=O(k,2);!v(C);){var P=M.add(C);0>=P.l(S)&&(A=A.add(k),M=P),C=O(C,1),k=O(k,1)}return E=_(S,A.j(E)),new b(A,E)}for(A=d;0<=S.l(E);){for(k=Math.max(1,Math.floor(S.m()/E.m())),C=Math.ceil(Math.log(k)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),M=c(k),P=M.j(E);w(P)||0<P.l(S);)k-=C,M=c(k),P=M.j(E);v(M)&&(M=f),A=A.add(M),S=_(S,P)}return new b(A,S)}t.A=function(S){return R(this,S).h},t.and=function(S){for(var E=Math.max(this.g.length,S.g.length),k=[],C=0;C<E;C++)k[C]=this.i(C)&S.i(C);return new o(k,this.h&S.h)},t.or=function(S){for(var E=Math.max(this.g.length,S.g.length),k=[],C=0;C<E;C++)k[C]=this.i(C)|S.i(C);return new o(k,this.h|S.h)},t.xor=function(S){for(var E=Math.max(this.g.length,S.g.length),k=[],C=0;C<E;C++)k[C]=this.i(C)^S.i(C);return new o(k,this.h^S.h)};function D(S){for(var E=S.g.length+1,k=[],C=0;C<E;C++)k[C]=S.i(C)<<1|S.i(C-1)>>>31;return new o(k,S.h)}function O(S,E){var k=E>>5;E%=32;for(var C=S.g.length-k,A=[],M=0;M<C;M++)A[M]=0<E?S.i(M+k)>>>E|S.i(M+k+1)<<32-E:S.i(M+k);return new o(A,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,HS=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=u,ys=o}).apply(typeof Iw<"u"?Iw:typeof self<"u"?self:typeof window<"u"?window:{});var Iu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var WS,Ja,qS,ch,sg,KS,GS,QS;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,p,y){return h==Array.prototype||h==Object.prototype||(h[p]=y.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Iu=="object"&&Iu];for(var p=0;p<h.length;++p){var y=h[p];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=n(this);function i(h,p){if(p)e:{var y=r;h=h.split(".");for(var I=0;I<h.length-1;I++){var L=h[I];if(!(L in y))break e;y=y[L]}h=h[h.length-1],I=y[h],p=p(I),p!=I&&p!=null&&e(y,h,{configurable:!0,writable:!0,value:p})}}function s(h,p){h instanceof String&&(h+="");var y=0,I=!1,L={next:function(){if(!I&&y<h.length){var V=y++;return{value:p(V,h[V]),done:!1}}return I=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}i("Array.prototype.values",function(h){return h||function(){return s(this,function(p,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(h){var p=typeof h;return p=p!="object"?p:h?Array.isArray(h)?"array":p:"null",p=="array"||p=="object"&&typeof h.length=="number"}function c(h){var p=typeof h;return p=="object"&&h!=null||p=="function"}function u(h,p,y){return h.call.apply(h.bind,arguments)}function d(h,p,y){if(!h)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,I),h.apply(p,L)}}return function(){return h.apply(p,arguments)}}function f(h,p,y){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:d,f.apply(null,arguments)}function m(h,p){var y=Array.prototype.slice.call(arguments,1);return function(){var I=y.slice();return I.push.apply(I,arguments),h.apply(this,I)}}function v(h,p){function y(){}y.prototype=p.prototype,h.aa=p.prototype,h.prototype=new y,h.prototype.constructor=h,h.Qb=function(I,L,V){for(var z=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)z[ke-2]=arguments[ke];return p.prototype[L].apply(I,z)}}function w(h){const p=h.length;if(0<p){const y=Array(p);for(let I=0;I<p;I++)y[I]=h[I];return y}return[]}function T(h,p){for(let y=1;y<arguments.length;y++){const I=arguments[y];if(l(I)){const L=h.length||0,V=I.length||0;h.length=L+V;for(let z=0;z<V;z++)h[L+z]=I[z]}else h.push(I)}}class _{constructor(p,y){this.i=p,this.j=y,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function x(h){return/^[\s\xa0]*$/.test(h)}function b(){var h=a.navigator;return h&&(h=h.userAgent)?h:""}function R(h){return R[" "](h),h}R[" "]=function(){};var D=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function O(h,p,y){for(const I in h)p.call(y,h[I],I,h)}function S(h,p){for(const y in h)p.call(void 0,h[y],y,h)}function E(h){const p={};for(const y in h)p[y]=h[y];return p}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(h,p){let y,I;for(let L=1;L<arguments.length;L++){I=arguments[L];for(y in I)h[y]=I[y];for(let V=0;V<k.length;V++)y=k[V],Object.prototype.hasOwnProperty.call(I,y)&&(h[y]=I[y])}}function A(h){var p=1;h=h.split(":");const y=[];for(;0<p&&h.length;)y.push(h.shift()),p--;return h.length&&y.push(h.join(":")),y}function M(h){a.setTimeout(()=>{throw h},0)}function P(){var h=W;let p=null;return h.g&&(p=h.g,h.g=h.g.next,h.g||(h.h=null),p.next=null),p}class he{constructor(){this.h=this.g=null}add(p,y){const I=oe.get();I.set(p,y),this.h?this.h.next=I:this.g=I,this.h=I}}var oe=new _(()=>new Te,h=>h.reset());class Te{constructor(){this.next=this.g=this.h=null}set(p,y){this.h=p,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let te,B=!1,W=new he,K=()=>{const h=a.Promise.resolve(void 0);te=()=>{h.then(de)}};var de=()=>{for(var h;h=P();){try{h.h.call(h.g)}catch(y){M(y)}var p=oe;p.j(h),100>p.h&&(p.h++,h.next=p.g,p.g=h)}B=!1};function se(){this.s=this.s,this.C=this.C}se.prototype.s=!1,se.prototype.ma=function(){this.s||(this.s=!0,this.N())},se.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(h,p){this.type=h,this.g=this.target=p,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var Fe=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var h=!1,p=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const y=()=>{};a.addEventListener("test",y,p),a.removeEventListener("test",y,p)}catch{}return h}();function Ge(h,p){if(ce.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var y=this.type=h.type,I=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=p,p=h.relatedTarget){if(D){e:{try{R(p.nodeName);var L=!0;break e}catch{}L=!1}L||(p=null)}}else y=="mouseover"?p=h.fromElement:y=="mouseout"&&(p=h.toElement);this.relatedTarget=p,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Re[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Ge.aa.h.call(this)}}v(Ge,ce);var Re={2:"touch",3:"pen",4:"mouse"};Ge.prototype.h=function(){Ge.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Bt="closure_listenable_"+(1e6*Math.random()|0),$r=0;function G(h,p,y,I,L){this.listener=h,this.proxy=null,this.src=p,this.type=y,this.capture=!!I,this.ha=L,this.key=++$r,this.da=this.fa=!1}function Ie(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function ae(h){this.src=h,this.g={},this.h=0}ae.prototype.add=function(h,p,y,I,L){var V=h.toString();h=this.g[V],h||(h=this.g[V]=[],this.h++);var z=fr(h,p,I,L);return-1<z?(p=h[z],y||(p.fa=!1)):(p=new G(p,this.src,V,!!I,L),p.fa=y,h.push(p)),p};function sn(h,p){var y=p.type;if(y in h.g){var I=h.g[y],L=Array.prototype.indexOf.call(I,p,void 0),V;(V=0<=L)&&Array.prototype.splice.call(I,L,1),V&&(Ie(p),h.g[y].length==0&&(delete h.g[y],h.h--))}}function fr(h,p,y,I){for(var L=0;L<h.length;++L){var V=h[L];if(!V.da&&V.listener==p&&V.capture==!!y&&V.ha==I)return L}return-1}var Y="closure_lm_"+(1e6*Math.random()|0),ne={};function ye(h,p,y,I,L){if(Array.isArray(p)){for(var V=0;V<p.length;V++)ye(h,p[V],y,I,L);return null}return y=e_(y),h&&h[Bt]?h.K(p,y,c(I)?!!I.capture:!1,L):et(h,p,y,!1,I,L)}function et(h,p,y,I,L,V){if(!p)throw Error("Invalid event type");var z=c(L)?!!L.capture:!!L,ke=Pf(h);if(ke||(h[Y]=ke=new ae(h)),y=ke.add(p,y,I,z,V),y.proxy)return y;if(I=pa(),y.proxy=I,I.src=h,I.listener=y,h.addEventListener)Fe||(L=z),L===void 0&&(L=!1),h.addEventListener(p.toString(),I,L);else if(h.attachEvent)h.attachEvent(St(p.toString()),I);else if(h.addListener&&h.removeListener)h.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return y}function pa(){function h(y){return p.call(h.src,h.listener,y)}const p=qc;return h}function Wc(h,p,y,I,L){if(Array.isArray(p))for(var V=0;V<p.length;V++)Wc(h,p[V],y,I,L);else I=c(I)?!!I.capture:!!I,y=e_(y),h&&h[Bt]?(h=h.i,p=String(p).toString(),p in h.g&&(V=h.g[p],y=fr(V,y,I,L),-1<y&&(Ie(V[y]),Array.prototype.splice.call(V,y,1),V.length==0&&(delete h.g[p],h.h--)))):h&&(h=Pf(h))&&(p=h.g[p.toString()],h=-1,p&&(h=fr(p,y,I,L)),(y=-1<h?p[h]:null)&&ve(y))}function ve(h){if(typeof h!="number"&&h&&!h.da){var p=h.src;if(p&&p[Bt])sn(p.i,h);else{var y=h.type,I=h.proxy;p.removeEventListener?p.removeEventListener(y,I,h.capture):p.detachEvent?p.detachEvent(St(y),I):p.addListener&&p.removeListener&&p.removeListener(I),(y=Pf(p))?(sn(y,h),y.h==0&&(y.src=null,p[Y]=null)):Ie(h)}}}function St(h){return h in ne?ne[h]:ne[h]="on"+h}function qc(h,p){if(h.da)h=!0;else{p=new Ge(p,this);var y=h.listener,I=h.ha||h.src;h.fa&&ve(h),h=y.call(I,p)}return h}function Pf(h){return h=h[Y],h instanceof ae?h:null}var Af="__closure_events_fn_"+(1e9*Math.random()>>>0);function e_(h){return typeof h=="function"?h:(h[Af]||(h[Af]=function(p){return h.handleEvent(p)}),h[Af])}function It(){se.call(this),this.i=new ae(this),this.M=this,this.F=null}v(It,se),It.prototype[Bt]=!0,It.prototype.removeEventListener=function(h,p,y,I){Wc(this,h,p,y,I)};function jt(h,p){var y,I=h.F;if(I)for(y=[];I;I=I.F)y.push(I);if(h=h.M,I=p.type||p,typeof p=="string")p=new ce(p,h);else if(p instanceof ce)p.target=p.target||h;else{var L=p;p=new ce(I,h),C(p,L)}if(L=!0,y)for(var V=y.length-1;0<=V;V--){var z=p.g=y[V];L=Kc(z,I,!0,p)&&L}if(z=p.g=h,L=Kc(z,I,!0,p)&&L,L=Kc(z,I,!1,p)&&L,y)for(V=0;V<y.length;V++)z=p.g=y[V],L=Kc(z,I,!1,p)&&L}It.prototype.N=function(){if(It.aa.N.call(this),this.i){var h=this.i,p;for(p in h.g){for(var y=h.g[p],I=0;I<y.length;I++)Ie(y[I]);delete h.g[p],h.h--}}this.F=null},It.prototype.K=function(h,p,y,I){return this.i.add(String(h),p,!1,y,I)},It.prototype.L=function(h,p,y,I){return this.i.add(String(h),p,!0,y,I)};function Kc(h,p,y,I){if(p=h.i.g[String(p)],!p)return!0;p=p.concat();for(var L=!0,V=0;V<p.length;++V){var z=p[V];if(z&&!z.da&&z.capture==y){var ke=z.listener,mt=z.ha||z.src;z.fa&&sn(h.i,z),L=ke.call(mt,I)!==!1&&L}}return L&&!I.defaultPrevented}function t_(h,p,y){if(typeof h=="function")y&&(h=f(h,y));else if(h&&typeof h.handleEvent=="function")h=f(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(h,p||0)}function n_(h){h.g=t_(()=>{h.g=null,h.i&&(h.i=!1,n_(h))},h.l);const p=h.h;h.h=null,h.m.apply(null,p)}class FA extends se{constructor(p,y){super(),this.m=p,this.l=y,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:n_(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ma(h){se.call(this),this.h=h,this.g={}}v(ma,se);var r_=[];function i_(h){O(h.g,function(p,y){this.g.hasOwnProperty(y)&&ve(p)},h),h.g={}}ma.prototype.N=function(){ma.aa.N.call(this),i_(this)},ma.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rf=a.JSON.stringify,UA=a.JSON.parse,BA=class{stringify(h){return a.JSON.stringify(h,void 0)}parse(h){return a.JSON.parse(h,void 0)}};function Df(){}Df.prototype.h=null;function s_(h){return h.h||(h.h=h.i())}function o_(){}var ga={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Mf(){ce.call(this,"d")}v(Mf,ce);function Nf(){ce.call(this,"c")}v(Nf,ce);var qi={},a_=null;function Gc(){return a_=a_||new It}qi.La="serverreachability";function l_(h){ce.call(this,qi.La,h)}v(l_,ce);function ya(h){const p=Gc();jt(p,new l_(p))}qi.STAT_EVENT="statevent";function c_(h,p){ce.call(this,qi.STAT_EVENT,h),this.stat=p}v(c_,ce);function zt(h){const p=Gc();jt(p,new c_(p,h))}qi.Ma="timingevent";function u_(h,p){ce.call(this,qi.Ma,h),this.size=p}v(u_,ce);function va(h,p){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){h()},p)}function _a(){this.g=!0}_a.prototype.xa=function(){this.g=!1};function jA(h,p,y,I,L,V){h.info(function(){if(h.g)if(V)for(var z="",ke=V.split("&"),mt=0;mt<ke.length;mt++){var _e=ke[mt].split("=");if(1<_e.length){var kt=_e[0];_e=_e[1];var Ct=kt.split("_");z=2<=Ct.length&&Ct[1]=="type"?z+(kt+"="+_e+"&"):z+(kt+"=redacted&")}}else z=null;else z=V;return"XMLHTTP REQ ("+I+") [attempt "+L+"]: "+p+`
`+y+`
`+z})}function zA(h,p,y,I,L,V,z){h.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+L+"]: "+p+`
`+y+`
`+V+" "+z})}function zs(h,p,y,I){h.info(function(){return"XMLHTTP TEXT ("+p+"): "+HA(h,y)+(I?" "+I:"")})}function $A(h,p){h.info(function(){return"TIMEOUT: "+p})}_a.prototype.info=function(){};function HA(h,p){if(!h.g)return p;if(!p)return null;try{var y=JSON.parse(p);if(y){for(h=0;h<y.length;h++)if(Array.isArray(y[h])){var I=y[h];if(!(2>I.length)){var L=I[1];if(Array.isArray(L)&&!(1>L.length)){var V=L[0];if(V!="noop"&&V!="stop"&&V!="close")for(var z=1;z<L.length;z++)L[z]=""}}}}return Rf(y)}catch{return p}}var Qc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},h_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Of;function Yc(){}v(Yc,Df),Yc.prototype.g=function(){return new XMLHttpRequest},Yc.prototype.i=function(){return{}},Of=new Yc;function Hr(h,p,y,I){this.j=h,this.i=p,this.l=y,this.R=I||1,this.U=new ma(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new d_}function d_(){this.i=null,this.g="",this.h=!1}var f_={},Lf={};function Vf(h,p,y){h.L=1,h.v=eu(pr(p)),h.m=y,h.P=!0,p_(h,null)}function p_(h,p){h.F=Date.now(),Xc(h),h.A=pr(h.v);var y=h.A,I=h.R;Array.isArray(I)||(I=[String(I)]),C_(y.i,"t",I),h.C=0,y=h.j.J,h.h=new d_,h.g=q_(h.j,y?p:null,!h.m),0<h.O&&(h.M=new FA(f(h.Y,h,h.g),h.O)),p=h.U,y=h.g,I=h.ca;var L="readystatechange";Array.isArray(L)||(L&&(r_[0]=L.toString()),L=r_);for(var V=0;V<L.length;V++){var z=ye(y,L[V],I||p.handleEvent,!1,p.h||p);if(!z)break;p.g[z.key]=z}p=h.H?E(h.H):{},h.m?(h.u||(h.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,p)):(h.u="GET",h.g.ea(h.A,h.u,null,p)),ya(),jA(h.i,h.u,h.A,h.l,h.R,h.m)}Hr.prototype.ca=function(h){h=h.target;const p=this.M;p&&mr(h)==3?p.j():this.Y(h)},Hr.prototype.Y=function(h){try{if(h==this.g)e:{const Ct=mr(this.g);var p=this.g.Ba();const Ws=this.g.Z();if(!(3>Ct)&&(Ct!=3||this.g&&(this.h.h||this.g.oa()||O_(this.g)))){this.J||Ct!=4||p==7||(p==8||0>=Ws?ya(3):ya(2)),Ff(this);var y=this.g.Z();this.X=y;t:if(m_(this)){var I=O_(this.g);h="";var L=I.length,V=mr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ki(this),wa(this);var z="";break t}this.h.i=new a.TextDecoder}for(p=0;p<L;p++)this.h.h=!0,h+=this.h.i.decode(I[p],{stream:!(V&&p==L-1)});I.length=0,this.h.g+=h,this.C=0,z=this.h.g}else z=this.g.oa();if(this.o=y==200,zA(this.i,this.u,this.A,this.l,this.R,Ct,y),this.o){if(this.T&&!this.K){t:{if(this.g){var ke,mt=this.g;if((ke=mt.g?mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(ke)){var _e=ke;break t}}_e=null}if(y=_e)zs(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Uf(this,y);else{this.o=!1,this.s=3,zt(12),Ki(this),wa(this);break e}}if(this.P){y=!0;let An;for(;!this.J&&this.C<z.length;)if(An=WA(this,z),An==Lf){Ct==4&&(this.s=4,zt(14),y=!1),zs(this.i,this.l,null,"[Incomplete Response]");break}else if(An==f_){this.s=4,zt(15),zs(this.i,this.l,z,"[Invalid Chunk]"),y=!1;break}else zs(this.i,this.l,An,null),Uf(this,An);if(m_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||z.length!=0||this.h.h||(this.s=1,zt(16),y=!1),this.o=this.o&&y,!y)zs(this.i,this.l,z,"[Invalid Chunked Response]"),Ki(this),wa(this);else if(0<z.length&&!this.W){this.W=!0;var kt=this.j;kt.g==this&&kt.ba&&!kt.M&&(kt.j.info("Great, no buffering proxy detected. Bytes received: "+z.length),Wf(kt),kt.M=!0,zt(11))}}else zs(this.i,this.l,z,null),Uf(this,z);Ct==4&&Ki(this),this.o&&!this.J&&(Ct==4?z_(this.j,this):(this.o=!1,Xc(this)))}else l4(this.g),y==400&&0<z.indexOf("Unknown SID")?(this.s=3,zt(12)):(this.s=0,zt(13)),Ki(this),wa(this)}}}catch{}finally{}};function m_(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function WA(h,p){var y=h.C,I=p.indexOf(`
`,y);return I==-1?Lf:(y=Number(p.substring(y,I)),isNaN(y)?f_:(I+=1,I+y>p.length?Lf:(p=p.slice(I,I+y),h.C=I+y,p)))}Hr.prototype.cancel=function(){this.J=!0,Ki(this)};function Xc(h){h.S=Date.now()+h.I,g_(h,h.I)}function g_(h,p){if(h.B!=null)throw Error("WatchDog timer not null");h.B=va(f(h.ba,h),p)}function Ff(h){h.B&&(a.clearTimeout(h.B),h.B=null)}Hr.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?($A(this.i,this.A),this.L!=2&&(ya(),zt(17)),Ki(this),this.s=2,wa(this)):g_(this,this.S-h)};function wa(h){h.j.G==0||h.J||z_(h.j,h)}function Ki(h){Ff(h);var p=h.M;p&&typeof p.ma=="function"&&p.ma(),h.M=null,i_(h.U),h.g&&(p=h.g,h.g=null,p.abort(),p.ma())}function Uf(h,p){try{var y=h.j;if(y.G!=0&&(y.g==h||Bf(y.h,h))){if(!h.K&&Bf(y.h,h)&&y.G==3){try{var I=y.Da.g.parse(p)}catch{I=null}if(Array.isArray(I)&&I.length==3){var L=I;if(L[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<h.F)ou(y),iu(y);else break e;Hf(y),zt(18)}}else y.za=L[1],0<y.za-y.T&&37500>L[2]&&y.F&&y.v==0&&!y.C&&(y.C=va(f(y.Za,y),6e3));if(1>=__(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Qi(y,11)}else if((h.K||y.g==h)&&ou(y),!x(p))for(L=y.Da.g.parse(p),p=0;p<L.length;p++){let _e=L[p];if(y.T=_e[0],_e=_e[1],y.G==2)if(_e[0]=="c"){y.K=_e[1],y.ia=_e[2];const kt=_e[3];kt!=null&&(y.la=kt,y.j.info("VER="+y.la));const Ct=_e[4];Ct!=null&&(y.Aa=Ct,y.j.info("SVER="+y.Aa));const Ws=_e[5];Ws!=null&&typeof Ws=="number"&&0<Ws&&(I=1.5*Ws,y.L=I,y.j.info("backChannelRequestTimeoutMs_="+I)),I=y;const An=h.g;if(An){const lu=An.g?An.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(lu){var V=I.h;V.g||lu.indexOf("spdy")==-1&&lu.indexOf("quic")==-1&&lu.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(jf(V,V.h),V.h=null))}if(I.D){const qf=An.g?An.g.getResponseHeader("X-HTTP-Session-Id"):null;qf&&(I.ya=qf,De(I.I,I.D,qf))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-h.F,y.j.info("Handshake RTT: "+y.R+"ms")),I=y;var z=h;if(I.qa=W_(I,I.J?I.ia:null,I.W),z.K){w_(I.h,z);var ke=z,mt=I.L;mt&&(ke.I=mt),ke.B&&(Ff(ke),Xc(ke)),I.g=z}else B_(I);0<y.i.length&&su(y)}else _e[0]!="stop"&&_e[0]!="close"||Qi(y,7);else y.G==3&&(_e[0]=="stop"||_e[0]=="close"?_e[0]=="stop"?Qi(y,7):$f(y):_e[0]!="noop"&&y.l&&y.l.ta(_e),y.v=0)}}ya(4)}catch{}}var qA=class{constructor(h,p){this.g=h,this.map=p}};function y_(h){this.l=h||10,a.PerformanceNavigationTiming?(h=a.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function v_(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function __(h){return h.h?1:h.g?h.g.size:0}function Bf(h,p){return h.h?h.h==p:h.g?h.g.has(p):!1}function jf(h,p){h.g?h.g.add(p):h.h=p}function w_(h,p){h.h&&h.h==p?h.h=null:h.g&&h.g.has(p)&&h.g.delete(p)}y_.prototype.cancel=function(){if(this.i=E_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function E_(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let p=h.i;for(const y of h.g.values())p=p.concat(y.D);return p}return w(h.i)}function KA(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(l(h)){for(var p=[],y=h.length,I=0;I<y;I++)p.push(h[I]);return p}p=[],y=0;for(I in h)p[y++]=h[I];return p}function GA(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(l(h)||typeof h=="string"){var p=[];h=h.length;for(var y=0;y<h;y++)p.push(y);return p}p=[],y=0;for(const I in h)p[y++]=I;return p}}}function T_(h,p){if(h.forEach&&typeof h.forEach=="function")h.forEach(p,void 0);else if(l(h)||typeof h=="string")Array.prototype.forEach.call(h,p,void 0);else for(var y=GA(h),I=KA(h),L=I.length,V=0;V<L;V++)p.call(void 0,I[V],y&&y[V],h)}var x_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function QA(h,p){if(h){h=h.split("&");for(var y=0;y<h.length;y++){var I=h[y].indexOf("="),L=null;if(0<=I){var V=h[y].substring(0,I);L=h[y].substring(I+1)}else V=h[y];p(V,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Gi(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Gi){this.h=h.h,Jc(this,h.j),this.o=h.o,this.g=h.g,Zc(this,h.s),this.l=h.l;var p=h.i,y=new xa;y.i=p.i,p.g&&(y.g=new Map(p.g),y.h=p.h),b_(this,y),this.m=h.m}else h&&(p=String(h).match(x_))?(this.h=!1,Jc(this,p[1]||"",!0),this.o=Ea(p[2]||""),this.g=Ea(p[3]||"",!0),Zc(this,p[4]),this.l=Ea(p[5]||"",!0),b_(this,p[6]||"",!0),this.m=Ea(p[7]||"")):(this.h=!1,this.i=new xa(null,this.h))}Gi.prototype.toString=function(){var h=[],p=this.j;p&&h.push(Ta(p,S_,!0),":");var y=this.g;return(y||p=="file")&&(h.push("//"),(p=this.o)&&h.push(Ta(p,S_,!0),"@"),h.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&h.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&h.push("/"),h.push(Ta(y,y.charAt(0)=="/"?JA:XA,!0))),(y=this.i.toString())&&h.push("?",y),(y=this.m)&&h.push("#",Ta(y,e4)),h.join("")};function pr(h){return new Gi(h)}function Jc(h,p,y){h.j=y?Ea(p,!0):p,h.j&&(h.j=h.j.replace(/:$/,""))}function Zc(h,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);h.s=p}else h.s=null}function b_(h,p,y){p instanceof xa?(h.i=p,t4(h.i,h.h)):(y||(p=Ta(p,ZA)),h.i=new xa(p,h.h))}function De(h,p,y){h.i.set(p,y)}function eu(h){return De(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Ea(h,p){return h?p?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ta(h,p,y){return typeof h=="string"?(h=encodeURI(h).replace(p,YA),y&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function YA(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var S_=/[#\/\?@]/g,XA=/[#\?:]/g,JA=/[#\?]/g,ZA=/[#\?@]/g,e4=/#/g;function xa(h,p){this.h=this.g=null,this.i=h||null,this.j=!!p}function Wr(h){h.g||(h.g=new Map,h.h=0,h.i&&QA(h.i,function(p,y){h.add(decodeURIComponent(p.replace(/\+/g," ")),y)}))}t=xa.prototype,t.add=function(h,p){Wr(this),this.i=null,h=$s(this,h);var y=this.g.get(h);return y||this.g.set(h,y=[]),y.push(p),this.h+=1,this};function I_(h,p){Wr(h),p=$s(h,p),h.g.has(p)&&(h.i=null,h.h-=h.g.get(p).length,h.g.delete(p))}function k_(h,p){return Wr(h),p=$s(h,p),h.g.has(p)}t.forEach=function(h,p){Wr(this),this.g.forEach(function(y,I){y.forEach(function(L){h.call(p,L,I,this)},this)},this)},t.na=function(){Wr(this);const h=Array.from(this.g.values()),p=Array.from(this.g.keys()),y=[];for(let I=0;I<p.length;I++){const L=h[I];for(let V=0;V<L.length;V++)y.push(p[I])}return y},t.V=function(h){Wr(this);let p=[];if(typeof h=="string")k_(this,h)&&(p=p.concat(this.g.get($s(this,h))));else{h=Array.from(this.g.values());for(let y=0;y<h.length;y++)p=p.concat(h[y])}return p},t.set=function(h,p){return Wr(this),this.i=null,h=$s(this,h),k_(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[p]),this.h+=1,this},t.get=function(h,p){return h?(h=this.V(h),0<h.length?String(h[0]):p):p};function C_(h,p,y){I_(h,p),0<y.length&&(h.i=null,h.g.set($s(h,p),w(y)),h.h+=y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],p=Array.from(this.g.keys());for(var y=0;y<p.length;y++){var I=p[y];const V=encodeURIComponent(String(I)),z=this.V(I);for(I=0;I<z.length;I++){var L=V;z[I]!==""&&(L+="="+encodeURIComponent(String(z[I]))),h.push(L)}}return this.i=h.join("&")};function $s(h,p){return p=String(p),h.j&&(p=p.toLowerCase()),p}function t4(h,p){p&&!h.j&&(Wr(h),h.i=null,h.g.forEach(function(y,I){var L=I.toLowerCase();I!=L&&(I_(this,I),C_(this,L,y))},h)),h.j=p}function n4(h,p){const y=new _a;if(a.Image){const I=new Image;I.onload=m(qr,y,"TestLoadImage: loaded",!0,p,I),I.onerror=m(qr,y,"TestLoadImage: error",!1,p,I),I.onabort=m(qr,y,"TestLoadImage: abort",!1,p,I),I.ontimeout=m(qr,y,"TestLoadImage: timeout",!1,p,I),a.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=h}else p(!1)}function r4(h,p){const y=new _a,I=new AbortController,L=setTimeout(()=>{I.abort(),qr(y,"TestPingServer: timeout",!1,p)},1e4);fetch(h,{signal:I.signal}).then(V=>{clearTimeout(L),V.ok?qr(y,"TestPingServer: ok",!0,p):qr(y,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(L),qr(y,"TestPingServer: error",!1,p)})}function qr(h,p,y,I,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),I(y)}catch{}}function i4(){this.g=new BA}function s4(h,p,y){const I=y||"";try{T_(h,function(L,V){let z=L;c(L)&&(z=Rf(L)),p.push(I+V+"="+encodeURIComponent(z))})}catch(L){throw p.push(I+"type="+encodeURIComponent("_badmap")),L}}function tu(h){this.l=h.Ub||null,this.j=h.eb||!1}v(tu,Df),tu.prototype.g=function(){return new nu(this.l,this.j)},tu.prototype.i=function(h){return function(){return h}}({});function nu(h,p){It.call(this),this.D=h,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(nu,It),t=nu.prototype,t.open=function(h,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=p,this.readyState=1,Sa(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(p.body=h),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ba(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Sa(this)),this.g&&(this.readyState=3,Sa(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;P_(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function P_(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var p=h.value?h.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!h.done}))&&(this.response=this.responseText+=p)}h.done?ba(this):Sa(this),this.readyState==3&&P_(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,ba(this))},t.Qa=function(h){this.g&&(this.response=h,ba(this))},t.ga=function(){this.g&&ba(this)};function ba(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Sa(h)}t.setRequestHeader=function(h,p){this.u.append(h,p)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],p=this.h.entries();for(var y=p.next();!y.done;)y=y.value,h.push(y[0]+": "+y[1]),y=p.next();return h.join(`\r
`)};function Sa(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(nu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function A_(h){let p="";return O(h,function(y,I){p+=I,p+=":",p+=y,p+=`\r
`}),p}function zf(h,p,y){e:{for(I in y){var I=!1;break e}I=!0}I||(y=A_(y),typeof h=="string"?y!=null&&encodeURIComponent(String(y)):De(h,p,y))}function We(h){It.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(We,It);var o4=/^https?$/i,a4=["POST","PUT"];t=We.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,p,y,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);p=p?p.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Of.g(),this.v=this.o?s_(this.o):s_(Of),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(p,String(h),!0),this.B=!1}catch(V){R_(this,V);return}if(h=y||"",y=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var L in I)y.set(L,I[L]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const V of I.keys())y.set(V,I.get(V));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(y.keys()).find(V=>V.toLowerCase()=="content-type"),L=a.FormData&&h instanceof a.FormData,!(0<=Array.prototype.indexOf.call(a4,p,void 0))||I||L||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,z]of y)this.g.setRequestHeader(V,z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{N_(this),this.u=!0,this.g.send(h),this.u=!1}catch(V){R_(this,V)}};function R_(h,p){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=p,h.m=5,D_(h),ru(h)}function D_(h){h.A||(h.A=!0,jt(h,"complete"),jt(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,jt(this,"complete"),jt(this,"abort"),ru(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ru(this,!0)),We.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?M_(this):this.bb())},t.bb=function(){M_(this)};function M_(h){if(h.h&&typeof o<"u"&&(!h.v[1]||mr(h)!=4||h.Z()!=2)){if(h.u&&mr(h)==4)t_(h.Ea,0,h);else if(jt(h,"readystatechange"),mr(h)==4){h.h=!1;try{const z=h.Z();e:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var y;if(!(y=p)){var I;if(I=z===0){var L=String(h.D).match(x_)[1]||null;!L&&a.self&&a.self.location&&(L=a.self.location.protocol.slice(0,-1)),I=!o4.test(L?L.toLowerCase():"")}y=I}if(y)jt(h,"complete"),jt(h,"success");else{h.m=6;try{var V=2<mr(h)?h.g.statusText:""}catch{V=""}h.l=V+" ["+h.Z()+"]",D_(h)}}finally{ru(h)}}}}function ru(h,p){if(h.g){N_(h);const y=h.g,I=h.v[0]?()=>{}:null;h.g=null,h.v=null,p||jt(h,"ready");try{y.onreadystatechange=I}catch{}}}function N_(h){h.I&&(a.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function mr(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<mr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var p=this.g.responseText;return h&&p.indexOf(h)==0&&(p=p.substring(h.length)),UA(p)}};function O_(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function l4(h){const p={};h=(h.g&&2<=mr(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<h.length;I++){if(x(h[I]))continue;var y=A(h[I]);const L=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const V=p[L]||[];p[L]=V,V.push(y)}S(p,function(I){return I.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ia(h,p,y){return y&&y.internalChannelParams&&y.internalChannelParams[h]||p}function L_(h){this.Aa=0,this.i=[],this.j=new _a,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ia("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ia("baseRetryDelayMs",5e3,h),this.cb=Ia("retryDelaySeedMs",1e4,h),this.Wa=Ia("forwardChannelMaxRetries",2,h),this.wa=Ia("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new y_(h&&h.concurrentRequestLimit),this.Da=new i4,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=L_.prototype,t.la=8,t.G=1,t.connect=function(h,p,y,I){zt(0),this.W=h,this.H=p||{},y&&I!==void 0&&(this.H.OSID=y,this.H.OAID=I),this.F=this.X,this.I=W_(this,null,this.W),su(this)};function $f(h){if(V_(h),h.G==3){var p=h.U++,y=pr(h.I);if(De(y,"SID",h.K),De(y,"RID",p),De(y,"TYPE","terminate"),ka(h,y),p=new Hr(h,h.j,p),p.L=2,p.v=eu(pr(y)),y=!1,a.navigator&&a.navigator.sendBeacon)try{y=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!y&&a.Image&&(new Image().src=p.v,y=!0),y||(p.g=q_(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Xc(p)}H_(h)}function iu(h){h.g&&(Wf(h),h.g.cancel(),h.g=null)}function V_(h){iu(h),h.u&&(a.clearTimeout(h.u),h.u=null),ou(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&a.clearTimeout(h.s),h.s=null)}function su(h){if(!v_(h.h)&&!h.s){h.s=!0;var p=h.Ga;te||K(),B||(te(),B=!0),W.add(p,h),h.B=0}}function c4(h,p){return __(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=p.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=va(f(h.Ga,h,p),$_(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const L=new Hr(this,this.j,h);let V=this.o;if(this.S&&(V?(V=E(V),C(V,this.S)):V=this.S),this.m!==null||this.O||(L.H=V,V=null),this.P)e:{for(var p=0,y=0;y<this.i.length;y++){t:{var I=this.i[y];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(p+=I,4096<p){p=y;break e}if(p===4096||y===this.i.length-1){p=y+1;break e}}p=1e3}else p=1e3;p=U_(this,L,p),y=pr(this.I),De(y,"RID",h),De(y,"CVER",22),this.D&&De(y,"X-HTTP-Session-Id",this.D),ka(this,y),V&&(this.O?p="headers="+encodeURIComponent(String(A_(V)))+"&"+p:this.m&&zf(y,this.m,V)),jf(this.h,L),this.Ua&&De(y,"TYPE","init"),this.P?(De(y,"$req",p),De(y,"SID","null"),L.T=!0,Vf(L,y,null)):Vf(L,y,p),this.G=2}}else this.G==3&&(h?F_(this,h):this.i.length==0||v_(this.h)||F_(this))};function F_(h,p){var y;p?y=p.l:y=h.U++;const I=pr(h.I);De(I,"SID",h.K),De(I,"RID",y),De(I,"AID",h.T),ka(h,I),h.m&&h.o&&zf(I,h.m,h.o),y=new Hr(h,h.j,y,h.B+1),h.m===null&&(y.H=h.o),p&&(h.i=p.D.concat(h.i)),p=U_(h,y,1e3),y.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),jf(h.h,y),Vf(y,I,p)}function ka(h,p){h.H&&O(h.H,function(y,I){De(p,I,y)}),h.l&&T_({},function(y,I){De(p,I,y)})}function U_(h,p,y){y=Math.min(h.i.length,y);var I=h.l?f(h.l.Na,h.l,h):null;e:{var L=h.i;let V=-1;for(;;){const z=["count="+y];V==-1?0<y?(V=L[0].g,z.push("ofs="+V)):V=0:z.push("ofs="+V);let ke=!0;for(let mt=0;mt<y;mt++){let _e=L[mt].g;const kt=L[mt].map;if(_e-=V,0>_e)V=Math.max(0,L[mt].g-100),ke=!1;else try{s4(kt,z,"req"+_e+"_")}catch{I&&I(kt)}}if(ke){I=z.join("&");break e}}}return h=h.i.splice(0,y),p.D=h,I}function B_(h){if(!h.g&&!h.u){h.Y=1;var p=h.Fa;te||K(),B||(te(),B=!0),W.add(p,h),h.v=0}}function Hf(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=va(f(h.Fa,h),$_(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,j_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=va(f(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,zt(10),iu(this),j_(this))};function Wf(h){h.A!=null&&(a.clearTimeout(h.A),h.A=null)}function j_(h){h.g=new Hr(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var p=pr(h.qa);De(p,"RID","rpc"),De(p,"SID",h.K),De(p,"AID",h.T),De(p,"CI",h.F?"0":"1"),!h.F&&h.ja&&De(p,"TO",h.ja),De(p,"TYPE","xmlhttp"),ka(h,p),h.m&&h.o&&zf(p,h.m,h.o),h.L&&(h.g.I=h.L);var y=h.g;h=h.ia,y.L=1,y.v=eu(pr(p)),y.m=null,y.P=!0,p_(y,h)}t.Za=function(){this.C!=null&&(this.C=null,iu(this),Hf(this),zt(19))};function ou(h){h.C!=null&&(a.clearTimeout(h.C),h.C=null)}function z_(h,p){var y=null;if(h.g==p){ou(h),Wf(h),h.g=null;var I=2}else if(Bf(h.h,p))y=p.D,w_(h.h,p),I=1;else return;if(h.G!=0){if(p.o)if(I==1){y=p.m?p.m.length:0,p=Date.now()-p.F;var L=h.B;I=Gc(),jt(I,new u_(I,y)),su(h)}else B_(h);else if(L=p.s,L==3||L==0&&0<p.X||!(I==1&&c4(h,p)||I==2&&Hf(h)))switch(y&&0<y.length&&(p=h.h,p.i=p.i.concat(y)),L){case 1:Qi(h,5);break;case 4:Qi(h,10);break;case 3:Qi(h,6);break;default:Qi(h,2)}}}function $_(h,p){let y=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(y*=2),y*p}function Qi(h,p){if(h.j.info("Error code "+p),p==2){var y=f(h.fb,h),I=h.Xa;const L=!I;I=new Gi(I||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Jc(I,"https"),eu(I),L?n4(I.toString(),y):r4(I.toString(),y)}else zt(2);h.G=0,h.l&&h.l.sa(p),H_(h),V_(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),zt(2)):(this.j.info("Failed to ping google.com"),zt(1))};function H_(h){if(h.G=0,h.ka=[],h.l){const p=E_(h.h);(p.length!=0||h.i.length!=0)&&(T(h.ka,p),T(h.ka,h.i),h.h.i.length=0,w(h.i),h.i.length=0),h.l.ra()}}function W_(h,p,y){var I=y instanceof Gi?pr(y):new Gi(y);if(I.g!="")p&&(I.g=p+"."+I.g),Zc(I,I.s);else{var L=a.location;I=L.protocol,p=p?p+"."+L.hostname:L.hostname,L=+L.port;var V=new Gi(null);I&&Jc(V,I),p&&(V.g=p),L&&Zc(V,L),y&&(V.l=y),I=V}return y=h.D,p=h.ya,y&&p&&De(I,y,p),De(I,"VER",h.la),ka(h,I),I}function q_(h,p,y){if(p&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=h.Ca&&!h.pa?new We(new tu({eb:y})):new We(h.pa),p.Ha(h.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function K_(){}t=K_.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function au(){}au.prototype.g=function(h,p){return new on(h,p)};function on(h,p){It.call(this),this.g=new L_(p),this.l=h,this.h=p&&p.messageUrlParams||null,h=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(h?h["X-WebChannel-Content-Type"]=p.messageContentType:h={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(h?h["X-WebChannel-Client-Profile"]=p.va:h={"X-WebChannel-Client-Profile":p.va}),this.g.S=h,(h=p&&p.Sb)&&!x(h)&&(this.g.m=h),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!x(p)&&(this.g.D=p,h=this.h,h!==null&&p in h&&(h=this.h,p in h&&delete h[p])),this.j=new Hs(this)}v(on,It),on.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){$f(this.g)},on.prototype.o=function(h){var p=this.g;if(typeof h=="string"){var y={};y.__data__=h,h=y}else this.u&&(y={},y.__data__=Rf(h),h=y);p.i.push(new qA(p.Ya++,h)),p.G==3&&su(p)},on.prototype.N=function(){this.g.l=null,delete this.j,$f(this.g),delete this.g,on.aa.N.call(this)};function G_(h){Mf.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var p=h.__sm__;if(p){e:{for(const y in p){h=y;break e}h=void 0}(this.i=h)&&(h=this.i,p=p!==null&&h in p?p[h]:void 0),this.data=p}else this.data=h}v(G_,Mf);function Q_(){Nf.call(this),this.status=1}v(Q_,Nf);function Hs(h){this.g=h}v(Hs,K_),Hs.prototype.ua=function(){jt(this.g,"a")},Hs.prototype.ta=function(h){jt(this.g,new G_(h))},Hs.prototype.sa=function(h){jt(this.g,new Q_)},Hs.prototype.ra=function(){jt(this.g,"b")},au.prototype.createWebChannel=au.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,QS=function(){return new au},GS=function(){return Gc()},KS=qi,sg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Qc.NO_ERROR=0,Qc.TIMEOUT=8,Qc.HTTP_ERROR=6,ch=Qc,h_.COMPLETE="complete",qS=h_,o_.EventType=ga,ga.OPEN="a",ga.CLOSE="b",ga.ERROR="c",ga.MESSAGE="d",It.prototype.listen=It.prototype.K,Ja=o_,We.prototype.listenOnce=We.prototype.L,We.prototype.getLastError=We.prototype.Ka,We.prototype.getLastErrorCode=We.prototype.Ba,We.prototype.getStatus=We.prototype.Z,We.prototype.getResponseJson=We.prototype.Oa,We.prototype.getResponseText=We.prototype.oa,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Ha,WS=We}).apply(typeof Iu<"u"?Iu:typeof self<"u"?self:typeof window<"u"?window:{});const kw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Mt.UNAUTHENTICATED=new Mt(null),Mt.GOOGLE_CREDENTIALS=new Mt("google-credentials-uid"),Mt.FIRST_PARTY=new Mt("first-party-uid"),Mt.MOCK_USER=new Mt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ia="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks=new o0("@firebase/firestore");function La(){return ks.logLevel}function q(t,...e){if(ks.logLevel<=fe.DEBUG){const n=e.map(c0);ks.debug(`Firestore (${ia}): ${t}`,...n)}}function Or(t,...e){if(ks.logLevel<=fe.ERROR){const n=e.map(c0);ks.error(`Firestore (${ia}): ${t}`,...n)}}function Uo(t,...e){if(ks.logLevel<=fe.WARN){const n=e.map(c0);ks.warn(`Firestore (${ia}): ${t}`,...n)}}function c0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ee(t="Unexpected state"){const e=`FIRESTORE (${ia}) INTERNAL ASSERTION FAILED: `+t;throw Or(e),new Error(e)}function Se(t,e){t||ee()}function ie(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class H extends zr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class rN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Mt.UNAUTHENTICATED))}shutdown(){}}class iN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class sN{constructor(e){this.t=e,this.currentUser=Mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Se(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Si;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Si,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Si)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Se(typeof r.accessToken=="string"),new YS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Se(e===null||typeof e=="string"),new Mt(e)}}class oN{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Mt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class aN{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new oN(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Mt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class lN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cN{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Se(this.o===void 0);const r=s=>{s.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Se(typeof n.token=="string"),this.R=n.token,new lN(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uN(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=uN(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function we(t,e){return t<e?-1:t>e?1:0}function Bo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new H(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new H(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new at(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?we(this.nanoseconds,e.nanoseconds):we(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.timestamp=e}static fromTimestamp(e){return new re(e)}static min(){return new re(new at(0,0))}static max(){return new re(new at(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,n,r){n===void 0?n=0:n>e.length&&ee(),r===void 0?r=e.length-n:r>e.length-n&&ee(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Zl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Zl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Oe extends Zl{construct(e,n,r){return new Oe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new H(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Oe(n)}static emptyPath(){return new Oe([])}}const hN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wt extends Zl{construct(e,n,r){return new wt(e,n,r)}static isValidIdentifier(e){return hN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new wt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new H(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new H(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new H(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new H(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wt(n)}static emptyPath(){return new wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.path=e}static fromPath(e){return new Q(Oe.fromString(e))}static fromName(e){return new Q(Oe.fromString(e).popFirst(5))}static empty(){return new Q(Oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Oe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Oe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Q(new Oe(e.slice()))}}function dN(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=re.fromTimestamp(r===1e9?new at(n+1,0):new at(n,r));return new Ri(i,Q.empty(),e)}function fN(t){return new Ri(t.readTime,t.key,-1)}class Ri{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ri(re.min(),Q.empty(),-1)}static max(){return new Ri(re.max(),Q.empty(),-1)}}function pN(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Q.comparator(t.documentKey,e.documentKey),n!==0?n:we(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cc(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==mN)throw t;q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(i=>i?U.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new U((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,n){return new U((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function yN(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Pc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}u0.oe=-1;function Xd(t){return t==null}function sd(t){return t===0&&1/t==-1/0}function vN(t){return typeof t=="number"&&Number.isInteger(t)&&!sd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Os(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function JS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e,n){this.comparator=e,this.root=n||vt.EMPTY}insert(e,n){return new He(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,vt.BLACK,null,null))}remove(e){return new He(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ku(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ku(this.root,e,this.comparator,!1)}getReverseIterator(){return new ku(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ku(this.root,e,this.comparator,!0)}}class ku{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??vt.RED,this.left=i??vt.EMPTY,this.right=s??vt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new vt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return vt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return vt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ee();const e=this.left.check();if(e!==this.right.check())throw ee();return e+(this.isRed()?0:1)}}vt.EMPTY=null,vt.RED=!0,vt.BLACK=!1;vt.EMPTY=new class{constructor(){this.size=0}get key(){throw ee()}get value(){throw ee()}get color(){throw ee()}get left(){throw ee()}get right(){throw ee()}copy(e,n,r,i,s){return this}insert(e,n,r){return new vt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.comparator=e,this.data=new He(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Pw(this.data.getIterator())}getIteratorFrom(e){return new Pw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Tt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Tt(this.comparator);return n.data=e,n}}class Pw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.fields=e,e.sort(wt.comparator)}static empty(){return new un([])}unionWith(e){let n=new Tt(wt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new un(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Bo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new ZS("Invalid base64 string: "+s):s}}(e);return new bt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new bt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return we(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bt.EMPTY_BYTE_STRING=new bt("");const _N=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Di(t){if(Se(!!t),typeof t=="string"){let e=0;const n=_N.exec(t);if(Se(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ye(t.seconds),nanos:Ye(t.nanos)}}function Ye(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Cs(t){return typeof t=="string"?bt.fromBase64String(t):bt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h0(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function d0(t){const e=t.mapValue.fields.__previous_value__;return h0(e)?d0(e):e}function ec(t){const e=Di(t.mapValue.fields.__local_write_time__.timestampValue);return new at(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class tc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new tc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof tc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cu={mapValue:{}};function Ps(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?h0(t)?4:TN(t)?9007199254740991:EN(t)?10:11:ee()}function hr(t,e){if(t===e)return!0;const n=Ps(t);if(n!==Ps(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ec(t).isEqual(ec(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Di(i.timestampValue),a=Di(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Cs(i.bytesValue).isEqual(Cs(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ye(i.geoPointValue.latitude)===Ye(s.geoPointValue.latitude)&&Ye(i.geoPointValue.longitude)===Ye(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ye(i.integerValue)===Ye(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Ye(i.doubleValue),a=Ye(s.doubleValue);return o===a?sd(o)===sd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Bo(t.arrayValue.values||[],e.arrayValue.values||[],hr);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Cw(o)!==Cw(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!hr(o[l],a[l])))return!1;return!0}(t,e);default:return ee()}}function nc(t,e){return(t.values||[]).find(n=>hr(n,e))!==void 0}function jo(t,e){if(t===e)return 0;const n=Ps(t),r=Ps(e);if(n!==r)return we(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return we(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Ye(s.integerValue||s.doubleValue),l=Ye(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Aw(t.timestampValue,e.timestampValue);case 4:return Aw(ec(t),ec(e));case 5:return we(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Cs(s),l=Cs(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=we(a[c],l[c]);if(u!==0)return u}return we(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=we(Ye(s.latitude),Ye(o.latitude));return a!==0?a:we(Ye(s.longitude),Ye(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Rw(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,u;const d=s.fields||{},f=o.fields||{},m=(a=d.value)===null||a===void 0?void 0:a.arrayValue,v=(l=f.value)===null||l===void 0?void 0:l.arrayValue,w=we(((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0,((u=v==null?void 0:v.values)===null||u===void 0?void 0:u.length)||0);return w!==0?w:Rw(m,v)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Cu.mapValue&&o===Cu.mapValue)return 0;if(s===Cu.mapValue)return 1;if(o===Cu.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const f=we(l[d],u[d]);if(f!==0)return f;const m=jo(a[l[d]],c[u[d]]);if(m!==0)return m}return we(l.length,u.length)}(t.mapValue,e.mapValue);default:throw ee()}}function Aw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return we(t,e);const n=Di(t),r=Di(e),i=we(n.seconds,r.seconds);return i!==0?i:we(n.nanos,r.nanos)}function Rw(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=jo(n[i],r[i]);if(s)return s}return we(n.length,r.length)}function zo(t){return og(t)}function og(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Di(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Cs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=og(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${og(n.fields[o])}`;return i+"}"}(t.mapValue):ee()}function Dw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ag(t){return!!t&&"integerValue"in t}function f0(t){return!!t&&"arrayValue"in t}function Mw(t){return!!t&&"nullValue"in t}function Nw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function uh(t){return!!t&&"mapValue"in t}function EN(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function yl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Os(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=yl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=yl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function TN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.value=e}static empty(){return new Yt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!uh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=yl(n)}setAll(e){let n=wt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=yl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());uh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return hr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];uh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Os(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Yt(yl(this.value))}}function eI(t){const e=[];return Os(t.fields,(n,r)=>{const i=new wt([n]);if(uh(r)){const s=eI(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new un(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ot(e,0,re.min(),re.min(),re.min(),Yt.empty(),0)}static newFoundDocument(e,n,r,i){return new Ot(e,1,n,re.min(),r,i,0)}static newNoDocument(e,n){return new Ot(e,2,n,re.min(),re.min(),Yt.empty(),0)}static newUnknownDocument(e,n){return new Ot(e,3,n,re.min(),re.min(),Yt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ot&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ot(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,n){this.position=e,this.inclusive=n}}function Ow(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Q.comparator(Q.fromName(o.referenceValue),n.key):r=jo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Lw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!hr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,n="asc"){this.field=e,this.dir=n}}function xN(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{}class it extends tI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new SN(e,n,r):n==="array-contains"?new CN(e,r):n==="in"?new PN(e,r):n==="not-in"?new AN(e,r):n==="array-contains-any"?new RN(e,r):new it(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new IN(e,r):new kN(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(jo(n,this.value)):n!==null&&Ps(this.value)===Ps(n)&&this.matchesComparison(jo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hn extends tI{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Hn(e,n)}matches(e){return nI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function nI(t){return t.op==="and"}function rI(t){return bN(t)&&nI(t)}function bN(t){for(const e of t.filters)if(e instanceof Hn)return!1;return!0}function lg(t){if(t instanceof it)return t.field.canonicalString()+t.op.toString()+zo(t.value);if(rI(t))return t.filters.map(e=>lg(e)).join(",");{const e=t.filters.map(n=>lg(n)).join(",");return`${t.op}(${e})`}}function iI(t,e){return t instanceof it?function(r,i){return i instanceof it&&r.op===i.op&&r.field.isEqual(i.field)&&hr(r.value,i.value)}(t,e):t instanceof Hn?function(r,i){return i instanceof Hn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&iI(o,i.filters[a]),!0):!1}(t,e):void ee()}function sI(t){return t instanceof it?function(n){return`${n.field.canonicalString()} ${n.op} ${zo(n.value)}`}(t):t instanceof Hn?function(n){return n.op.toString()+" {"+n.getFilters().map(sI).join(" ,")+"}"}(t):"Filter"}class SN extends it{constructor(e,n,r){super(e,n,r),this.key=Q.fromName(r.referenceValue)}matches(e){const n=Q.comparator(e.key,this.key);return this.matchesComparison(n)}}class IN extends it{constructor(e,n){super(e,"in",n),this.keys=oI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class kN extends it{constructor(e,n){super(e,"not-in",n),this.keys=oI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function oI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Q.fromName(r.referenceValue))}class CN extends it{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return f0(n)&&nc(n.arrayValue,this.value)}}class PN extends it{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&nc(this.value.arrayValue,n)}}class AN extends it{constructor(e,n){super(e,"not-in",n)}matches(e){if(nc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!nc(this.value.arrayValue,n)}}class RN extends it{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!f0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>nc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function Vw(t,e=null,n=[],r=[],i=null,s=null,o=null){return new DN(t,e,n,r,i,s,o)}function p0(t){const e=ie(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>lg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Xd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>zo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>zo(r)).join(",")),e.ue=n}return e.ue}function m0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!xN(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!iI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Lw(t.startAt,e.startAt)&&Lw(t.endAt,e.endAt)}function cg(t){return Q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function MN(t,e,n,r,i,s,o,a){return new Ac(t,e,n,r,i,s,o,a)}function g0(t){return new Ac(t)}function Fw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function aI(t){return t.collectionGroup!==null}function vl(t){const e=ie(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Tt(wt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new ad(s,r))}),n.has(wt.keyField().canonicalString())||e.ce.push(new ad(wt.keyField(),r))}return e.ce}function nr(t){const e=ie(t);return e.le||(e.le=NN(e,vl(t))),e.le}function NN(t,e){if(t.limitType==="F")return Vw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new ad(i.field,s)});const n=t.endAt?new od(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new od(t.startAt.position,t.startAt.inclusive):null;return Vw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ug(t,e){const n=t.filters.concat([e]);return new Ac(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function hg(t,e,n){return new Ac(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Jd(t,e){return m0(nr(t),nr(e))&&t.limitType===e.limitType}function lI(t){return`${p0(nr(t))}|lt:${t.limitType}`}function Qs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>sI(i)).join(", ")}]`),Xd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>zo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>zo(i)).join(",")),`Target(${r})`}(nr(t))}; limitType=${t.limitType})`}function Zd(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Q.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of vl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=Ow(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,vl(r),i)||r.endAt&&!function(o,a,l){const c=Ow(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,vl(r),i))}(t,e)}function ON(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function cI(t){return(e,n)=>{let r=!1;for(const i of vl(t)){const s=LN(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function LN(t,e,n){const r=t.field.isKeyField()?Q.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?jo(l,c):ee()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ee()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Os(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return JS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN=new He(Q.comparator);function Lr(){return VN}const uI=new He(Q.comparator);function Za(...t){let e=uI;for(const n of t)e=e.insert(n.key,n);return e}function hI(t){let e=uI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function cs(){return _l()}function dI(){return _l()}function _l(){return new sa(t=>t.toString(),(t,e)=>t.isEqual(e))}const FN=new He(Q.comparator),UN=new Tt(Q.comparator);function ue(...t){let e=UN;for(const n of t)e=e.add(n);return e}const BN=new Tt(we);function jN(){return BN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sd(e)?"-0":e}}function fI(t){return{integerValue:""+t}}function pI(t,e){return vN(e)?fI(e):y0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(){this._=void 0}}function zN(t,e,n){return t instanceof ld?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&h0(s)&&(s=d0(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof rc?gI(t,e):t instanceof ic?yI(t,e):function(i,s){const o=mI(i,s),a=Uw(o)+Uw(i.Pe);return ag(o)&&ag(i.Pe)?fI(a):y0(i.serializer,a)}(t,e)}function $N(t,e,n){return t instanceof rc?gI(t,e):t instanceof ic?yI(t,e):n}function mI(t,e){return t instanceof sc?function(r){return ag(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class ld extends ef{}class rc extends ef{constructor(e){super(),this.elements=e}}function gI(t,e){const n=vI(e);for(const r of t.elements)n.some(i=>hr(i,r))||n.push(r);return{arrayValue:{values:n}}}class ic extends ef{constructor(e){super(),this.elements=e}}function yI(t,e){let n=vI(e);for(const r of t.elements)n=n.filter(i=>!hr(i,r));return{arrayValue:{values:n}}}class sc extends ef{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Uw(t){return Ye(t.integerValue||t.doubleValue)}function vI(t){return f0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e,n){this.field=e,this.transform=n}}function WN(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof rc&&i instanceof rc||r instanceof ic&&i instanceof ic?Bo(r.elements,i.elements,hr):r instanceof sc&&i instanceof sc?hr(r.Pe,i.Pe):r instanceof ld&&i instanceof ld}(t.transform,e.transform)}class qN{constructor(e,n){this.version=e,this.transformResults=n}}class zn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new zn}static exists(e){return new zn(void 0,e)}static updateTime(e){return new zn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class tf{}function _I(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new v0(t.key,zn.none()):new Rc(t.key,t.data,zn.none());{const n=t.data,r=Yt.empty();let i=new Tt(wt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new zi(t.key,r,new un(i.toArray()),zn.none())}}function KN(t,e,n){t instanceof Rc?function(i,s,o){const a=i.value.clone(),l=jw(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof zi?function(i,s,o){if(!hh(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=jw(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(wI(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function wl(t,e,n,r){return t instanceof Rc?function(s,o,a,l){if(!hh(s.precondition,o))return a;const c=s.value.clone(),u=zw(s.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof zi?function(s,o,a,l){if(!hh(s.precondition,o))return a;const c=zw(s.fieldTransforms,l,o),u=o.data;return u.setAll(wI(s)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return hh(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function GN(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=mI(r.transform,i||null);s!=null&&(n===null&&(n=Yt.empty()),n.set(r.field,s))}return n||null}function Bw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Bo(r,i,(s,o)=>WN(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Rc extends tf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class zi extends tf{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function wI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function jw(t,e,n){const r=new Map;Se(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,$N(o,a,n[i]))}return r}function zw(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,zN(s,o,e))}return r}class v0 extends tf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class QN extends tf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&KN(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=wl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=wl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=dI();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=_I(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(re.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ue())}isEqual(e){return this.batchId===e.batchId&&Bo(this.mutations,e.mutations,(n,r)=>Bw(n,r))&&Bo(this.baseMutations,e.baseMutations,(n,r)=>Bw(n,r))}}class _0{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Se(e.mutations.length===r.length);let i=function(){return FN}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new _0(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tt,pe;function ZN(t){switch(t){default:return ee();case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0}}function EI(t){if(t===void 0)return Or("GRPC error has no .code"),F.UNKNOWN;switch(t){case tt.OK:return F.OK;case tt.CANCELLED:return F.CANCELLED;case tt.UNKNOWN:return F.UNKNOWN;case tt.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case tt.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case tt.INTERNAL:return F.INTERNAL;case tt.UNAVAILABLE:return F.UNAVAILABLE;case tt.UNAUTHENTICATED:return F.UNAUTHENTICATED;case tt.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case tt.NOT_FOUND:return F.NOT_FOUND;case tt.ALREADY_EXISTS:return F.ALREADY_EXISTS;case tt.PERMISSION_DENIED:return F.PERMISSION_DENIED;case tt.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case tt.ABORTED:return F.ABORTED;case tt.OUT_OF_RANGE:return F.OUT_OF_RANGE;case tt.UNIMPLEMENTED:return F.UNIMPLEMENTED;case tt.DATA_LOSS:return F.DATA_LOSS;default:return ee()}}(pe=tt||(tt={}))[pe.OK=0]="OK",pe[pe.CANCELLED=1]="CANCELLED",pe[pe.UNKNOWN=2]="UNKNOWN",pe[pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pe[pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pe[pe.NOT_FOUND=5]="NOT_FOUND",pe[pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",pe[pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",pe[pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",pe[pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pe[pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pe[pe.ABORTED=10]="ABORTED",pe[pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",pe[pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",pe[pe.INTERNAL=13]="INTERNAL",pe[pe.UNAVAILABLE=14]="UNAVAILABLE",pe[pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e6(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t6=new ys([4294967295,4294967295],0);function $w(t){const e=e6().encode(t),n=new HS;return n.update(e),new Uint8Array(n.digest())}function Hw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ys([n,r],0),new ys([i,s],0)]}class w0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new el(`Invalid padding: ${n}`);if(r<0)throw new el(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new el(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new el(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ys.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(ys.fromNumber(r)));return i.compare(t6)===1&&(i=new ys([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=$w(e),[r,i]=Hw(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new w0(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=$w(e),[r,i]=Hw(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class el extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Dc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new nf(re.min(),i,new He(we),Lr(),ue())}}class Dc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Dc(r,n,ue(),ue(),ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class TI{constructor(e,n){this.targetId=e,this.me=n}}class xI{constructor(e,n,r=bt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Ww{constructor(){this.fe=0,this.ge=Kw(),this.pe=bt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ue(),n=ue(),r=ue();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ee()}}),new Dc(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Kw()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Se(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class n6{constructor(e){this.Le=e,this.Be=new Map,this.ke=Lr(),this.qe=qw(),this.Qe=new He(we)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ee()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(cg(s))if(r===0){const o=new Q(s.path);this.Ue(n,o,Ot.newNoDocument(o,re.min()))}else Se(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Cs(r).toUint8Array()}catch(l){if(l instanceof ZS)return Uo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new w0(o,i,s)}catch(l){return Uo(l instanceof el?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&cg(a.target)){const l=new Q(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Ot.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=ue();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new nf(e,n,this.Qe,this.ke,r);return this.ke=Lr(),this.qe=qw(),this.Qe=new He(we),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Ww,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Tt(we),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||q("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Ww),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function qw(){return new He(Q.comparator)}function Kw(){return new He(Q.comparator)}const r6={asc:"ASCENDING",desc:"DESCENDING"},i6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},s6={and:"AND",or:"OR"};class o6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function dg(t,e){return t.useProto3Json||Xd(e)?e:{value:e}}function cd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function a6(t,e){return cd(t,e.toTimestamp())}function rr(t){return Se(!!t),re.fromTimestamp(function(n){const r=Di(n);return new at(r.seconds,r.nanos)}(t))}function E0(t,e){return fg(t,e).canonicalString()}function fg(t,e){const n=function(i){return new Oe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function SI(t){const e=Oe.fromString(t);return Se(AI(e)),e}function pg(t,e){return E0(t.databaseId,e.path)}function Ip(t,e){const n=SI(e);if(n.get(1)!==t.databaseId.projectId)throw new H(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new H(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Q(kI(n))}function II(t,e){return E0(t.databaseId,e)}function l6(t){const e=SI(t);return e.length===4?Oe.emptyPath():kI(e)}function mg(t){return new Oe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function kI(t){return Se(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Gw(t,e,n){return{name:pg(t,e),fields:n.value.mapValue.fields}}function c6(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(Se(u===void 0||typeof u=="string"),bt.fromBase64String(u||"")):(Se(u===void 0||u instanceof Buffer||u instanceof Uint8Array),bt.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?F.UNKNOWN:EI(c.code);return new H(u,c.message||"")}(o);n=new xI(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ip(t,r.document.name),s=rr(r.document.updateTime),o=r.document.createTime?rr(r.document.createTime):re.min(),a=new Yt({mapValue:{fields:r.document.fields}}),l=Ot.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new dh(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ip(t,r.document),s=r.readTime?rr(r.readTime):re.min(),o=Ot.newNoDocument(i,s),a=r.removedTargetIds||[];n=new dh([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ip(t,r.document),s=r.removedTargetIds||[];n=new dh([],s,i,null)}else{if(!("filter"in e))return ee();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new JN(i,s),a=r.targetId;n=new TI(a,o)}}return n}function u6(t,e){let n;if(e instanceof Rc)n={update:Gw(t,e.key,e.value)};else if(e instanceof v0)n={delete:pg(t,e.key)};else if(e instanceof zi)n={update:Gw(t,e.key,e.data),updateMask:_6(e.fieldMask)};else{if(!(e instanceof QN))return ee();n={verify:pg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof ld)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof rc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ic)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof sc)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ee()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:a6(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ee()}(t,e.precondition)),n}function h6(t,e){return t&&t.length>0?(Se(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?rr(i.updateTime):rr(s);return o.isEqual(re.min())&&(o=rr(s)),new qN(o,i.transformResults||[])}(n,e))):[]}function d6(t,e){return{documents:[II(t,e.path)]}}function f6(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=II(t,i);const s=function(c){if(c.length!==0)return PI(Hn.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(u=>function(f){return{field:Ys(f.field),direction:g6(f.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=dg(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function p6(t){let e=l6(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Se(r===1);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(d){const f=CI(d);return f instanceof Hn&&rI(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(f=>function(v){return new ad(Xs(v.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,Xd(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,m=d.values||[];return new od(m,f)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const f=!d.before,m=d.values||[];return new od(m,f)}(n.endAt)),MN(e,i,o,s,a,"F",l,c)}function m6(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ee()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function CI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Xs(n.unaryFilter.field);return it.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Xs(n.unaryFilter.field);return it.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Xs(n.unaryFilter.field);return it.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Xs(n.unaryFilter.field);return it.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ee()}}(t):t.fieldFilter!==void 0?function(n){return it.create(Xs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ee()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Hn.create(n.compositeFilter.filters.map(r=>CI(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ee()}}(n.compositeFilter.op))}(t):ee()}function g6(t){return r6[t]}function y6(t){return i6[t]}function v6(t){return s6[t]}function Ys(t){return{fieldPath:t.canonicalString()}}function Xs(t){return wt.fromServerFormat(t.fieldPath)}function PI(t){return t instanceof it?function(n){if(n.op==="=="){if(Nw(n.value))return{unaryFilter:{field:Ys(n.field),op:"IS_NAN"}};if(Mw(n.value))return{unaryFilter:{field:Ys(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Nw(n.value))return{unaryFilter:{field:Ys(n.field),op:"IS_NOT_NAN"}};if(Mw(n.value))return{unaryFilter:{field:Ys(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ys(n.field),op:y6(n.op),value:n.value}}}(t):t instanceof Hn?function(n){const r=n.getFilters().map(i=>PI(i));return r.length===1?r[0]:{compositeFilter:{op:v6(n.op),filters:r}}}(t):ee()}function _6(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function AI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e,n,r,i,s=re.min(),o=re.min(),a=bt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new hi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new hi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(e){this.ct=e}}function E6(t){const e=p6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?hg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(){this.un=new x6}addToCollectionParentIndex(e,n){return this.un.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(Ri.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(Ri.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class x6{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Tt(Oe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Tt(Oe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new $o(0)}static kn(){return new $o(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(){this.changes=new sa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ot.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&wl(r.mutation,i,un.empty(),at.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ue()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ue()){const i=cs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Za();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=cs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ue()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Lr();const o=_l(),a=function(){return _l()}();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof zi)?s=s.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),wl(u.mutation,c,u.mutation.getFieldMask(),at.now())):o.set(c.key,un.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var d;return a.set(c,new S6(u,(d=o.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=_l();let i=new He((o,a)=>o-a),s=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||un.empty();u=a.applyToLocalView(c,u),r.set(l,u);const d=(i.get(a.batchId)||ue()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=dI();u.forEach(f=>{if(!s.has(f)){const m=_I(n.get(f),r.get(f));m!==null&&d.set(f,m),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return U.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Q.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):aI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):U.resolve(cs());let a=-1,l=s;return o.next(c=>U.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?U.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{l=l.insert(u,f)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,ue())).next(u=>({batchId:a,changes:hI(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Q(n)).next(r=>{let i=Za();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Za();return this.indexManager.getCollectionParents(e,s).next(a=>U.forEach(a,l=>{const c=function(d,f){return new Ac(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,Ot.newInvalidDocument(u)))});let a=Za();return o.forEach((l,c)=>{const u=s.get(l);u!==void 0&&wl(u.mutation,c,un.empty(),at.now()),Zd(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return U.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:rr(i.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:E6(i.bundledQuery),readTime:rr(i.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{constructor(){this.overlays=new He(Q.comparator),this.Ir=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=cs();return U.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const i=cs(),s=n.length+1,o=new Q(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return U.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new He((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=s.get(c.largestBatchId);u===null&&(u=cs(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=cs(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return U.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new XN(n,r));let s=this.Ir.get(n);s===void 0&&(s=ue(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(){this.sessionToken=bt.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(){this.Tr=new Tt(ct.Er),this.dr=new Tt(ct.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new ct(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new ct(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new Q(new Oe([])),r=new ct(n,e),i=new ct(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Q(new Oe([])),r=new ct(n,e),i=new ct(n,e+1);let s=ue();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new ct(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ct{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Q.comparator(e.key,n.key)||we(e.wr,n.wr)}static Ar(e,n){return we(e.wr,n.wr)||Q.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Tt(ct.Er)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new YN(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new ct(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return U.resolve(o)}lookupMutationBatch(e,n){return U.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return U.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ct(n,0),i=new ct(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),U.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Tt(we);return n.forEach(i=>{const s=new ct(i,0),o=new ct(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),U.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Q.isDocumentKey(s)||(s=s.child(""));const o=new ct(new Q(s),0);let a=new Tt(we);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.wr)),!0)},o),U.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Se(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return U.forEach(n.mutations,i=>{const s=new ct(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new ct(n,0),i=this.br.firstAfterOrEqual(r);return U.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{constructor(e){this.Mr=e,this.docs=function(){return new He(Q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():Ot.newInvalidDocument(n))}getEntries(e,n){let r=Lr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ot.newInvalidDocument(i))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Lr();const o=n.path,a=new Q(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||pN(fN(u),r)<=0||(i.has(u.key)||Zd(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return U.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ee()}Or(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new D6(this)}getSize(e){return U.resolve(this.size)}}class D6 extends b6{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{constructor(e){this.persistence=e,this.Nr=new sa(n=>p0(n),m0),this.lastRemoteSnapshotVersion=re.min(),this.highestTargetId=0,this.Lr=0,this.Br=new T0,this.targetCount=0,this.kr=$o.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),U.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new $o(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.Kn(n),U.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),U.waitFor(s).next(()=>i)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),U.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6{constructor(e,n){this.qr={},this.overlays={},this.Qr=new u0(0),this.Kr=!1,this.Kr=!0,this.$r=new P6,this.referenceDelegate=e(this),this.Ur=new M6(this),this.indexManager=new T6,this.remoteDocumentCache=function(i){return new R6(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new w6(n),this.Gr=new k6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new C6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new A6(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){q("MemoryPersistence","Starting transaction:",e);const i=new O6(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return U.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class O6 extends gN{constructor(e){super(),this.currentSequenceNumber=e}}class x0{constructor(e){this.persistence=e,this.Jr=new T0,this.Yr=null}static Zr(e){return new x0(e)}get Xr(){if(this.Yr)return this.Yr;throw ee()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),U.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.Xr,r=>{const i=Q.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,re.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return U.or([()=>U.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=ue(),i=ue();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new b0(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return FD()?8:yN(Ut())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new L6;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(La()<=fe.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",Qs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),U.resolve()):(La()<=fe.DEBUG&&q("QueryEngine","Query:",Qs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(La()<=fe.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",Qs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,nr(n))):U.resolve())}Yi(e,n){if(Fw(n))return U.resolve(null);let r=nr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=hg(n,null,"F"),r=nr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ue(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(n,a);return this.ns(n,c,o,l.readTime)?this.Yi(e,hg(n,null,"F")):this.rs(e,c,n,l)}))})))}Zi(e,n,r,i){return Fw(n)||i.isEqual(re.min())?U.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?U.resolve(null):(La()<=fe.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Qs(n)),this.rs(e,o,n,dN(i,-1)).next(a=>a))})}ts(e,n){let r=new Tt(cI(e));return n.forEach((i,s)=>{Zd(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return La()<=fe.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",Qs(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ri.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F6{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new He(we),this._s=new sa(s=>p0(s),m0),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new I6(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function U6(t,e,n,r){return new F6(t,e,n,r)}async function RI(t,e){const n=ie(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ue();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function B6(t,e){const n=ie(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const d=c.batch,f=d.keys();let m=U.resolve();return f.forEach(v=>{m=m.next(()=>u.getEntry(l,v)).next(w=>{const T=c.docVersions.get(v);Se(T!==null),w.version.compareTo(T)<0&&(d.applyToRemoteDocument(w,c),w.isValidDocument()&&(w.setReadTime(c.commitVersion),u.addEntry(w)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ue();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function DI(t){const e=ie(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function j6(t,e){const n=ie(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((u,d)=>{const f=i.get(d);if(!f)return;a.push(n.Ur.removeMatchingKeys(s,u.removedDocuments,d).next(()=>n.Ur.addMatchingKeys(s,u.addedDocuments,d)));let m=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?m=m.withResumeToken(bt.EMPTY_BYTE_STRING,re.min()).withLastLimboFreeSnapshotVersion(re.min()):u.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(u.resumeToken,r)),i=i.insert(d,m),function(w,T,_){return w.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(f,m,u)&&a.push(n.Ur.updateTargetData(s,m))});let l=Lr(),c=ue();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(z6(s,o,e.documentUpdates).next(u=>{l=u.Ps,c=u.Is})),!r.isEqual(re.min())){const u=n.Ur.getLastRemoteSnapshotVersion(s).next(d=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return U.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.os=i,s))}function z6(t,e,n){let r=ue(),i=ue();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Lr();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(re.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):q("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function $6(t,e){const n=ie(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function H6(t,e){const n=ie(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,U.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new hi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function gg(t,e,n){const r=ie(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Pc(o))throw o;q("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function Qw(t,e,n){const r=ie(t);let i=re.min(),s=ue();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const d=ie(l),f=d._s.get(u);return f!==void 0?U.resolve(d.os.get(f)):d.Ur.getTargetData(c,u)}(r,o,nr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:re.min(),n?s:ue())).next(a=>(W6(r,ON(e),a),{documents:a,Ts:s})))}function W6(t,e,n){let r=t.us.get(e)||re.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class Yw{constructor(){this.activeTargetIds=jN()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class q6{constructor(){this.so=new Yw,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Yw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K6{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pu=null;function kp(){return Pu===null?Pu=function(){return 268435456+Math.round(2147483648*Math.random())}():Pu++,"0x"+Pu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rt="WebChannelConnection";class Y6 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=kp(),l=this.xo(n,r.toUriEncodedString());q("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,o),this.No(n,l,c,i).then(u=>(q("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw Uo("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",i),u})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ia}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=G6[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=kp();return new Promise((o,a)=>{const l=new WS;l.setWithCredentials(!0),l.listenOnce(qS.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case ch.NO_ERROR:const u=l.getResponseJson();q(Rt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case ch.TIMEOUT:q(Rt,`RPC '${e}' ${s} timed out`),a(new H(F.DEADLINE_EXCEEDED,"Request time out"));break;case ch.HTTP_ERROR:const d=l.getStatus();if(q(Rt,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const m=f==null?void 0:f.error;if(m&&m.status&&m.message){const v=function(T){const _=T.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(_)>=0?_:F.UNKNOWN}(m.status);a(new H(v,m.message))}else a(new H(F.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new H(F.UNAVAILABLE,"Connection failed."));break;default:ee()}}finally{q(Rt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);q(Rt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Bo(e,n,r){const i=kp(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=QS(),a=GS(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=s.join("");q(Rt,`Creating RPC '${e}' stream ${i}: ${u}`,l);const d=o.createWebChannel(u,l);let f=!1,m=!1;const v=new Q6({Io:T=>{m?q(Rt,`Not sending because RPC '${e}' stream ${i} is closed:`,T):(f||(q(Rt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),q(Rt,`RPC '${e}' stream ${i} sending:`,T),d.send(T))},To:()=>d.close()}),w=(T,_,x)=>{T.listen(_,b=>{try{x(b)}catch(R){setTimeout(()=>{throw R},0)}})};return w(d,Ja.EventType.OPEN,()=>{m||(q(Rt,`RPC '${e}' stream ${i} transport opened.`),v.yo())}),w(d,Ja.EventType.CLOSE,()=>{m||(m=!0,q(Rt,`RPC '${e}' stream ${i} transport closed`),v.So())}),w(d,Ja.EventType.ERROR,T=>{m||(m=!0,Uo(Rt,`RPC '${e}' stream ${i} transport errored:`,T),v.So(new H(F.UNAVAILABLE,"The operation could not be completed")))}),w(d,Ja.EventType.MESSAGE,T=>{var _;if(!m){const x=T.data[0];Se(!!x);const b=x,R=b.error||((_=b[0])===null||_===void 0?void 0:_.error);if(R){q(Rt,`RPC '${e}' stream ${i} received error:`,R);const D=R.status;let O=function(k){const C=tt[k];if(C!==void 0)return EI(C)}(D),S=R.message;O===void 0&&(O=F.INTERNAL,S="Unknown error status: "+D+" with message "+R.message),m=!0,v.So(new H(O,S)),d.close()}else q(Rt,`RPC '${e}' stream ${i} received:`,x),v.bo(x)}}),w(a,KS.STAT_EVENT,T=>{T.stat===sg.PROXY?q(Rt,`RPC '${e}' stream ${i} detected buffering proxy`):T.stat===sg.NOPROXY&&q(Rt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.wo()},0),v}}function Cp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rf(t){return new o6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new MI(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(Or(n.toString()),Or("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new H(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class X6 extends NI{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=c6(this.serializer,e),r=function(s){if(!("targetChange"in s))return re.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?re.min():o.readTime?rr(o.readTime):re.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=mg(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=cg(l)?{documents:d6(s,l)}:{query:f6(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=bI(s,o.resumeToken);const c=dg(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(re.min())>0){a.readTime=cd(s,o.snapshotVersion.toTimestamp());const c=dg(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=m6(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=mg(this.serializer),n.removeTarget=e,this.a_(n)}}class J6 extends NI{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Se(!!e.streamToken),this.lastStreamToken=e.streamToken,Se(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Se(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=h6(e.writeResults,e.commitTime),r=rr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=mg(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>u6(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z6 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new H(F.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,fg(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new H(F.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,fg(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new H(F.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class eO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Or(n),this.D_=!1):q("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{Ls(this)&&(q("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=ie(l);c.L_.add(4),await Mc(c),c.q_.set("Unknown"),c.L_.delete(4),await sf(c)}(this))})}),this.q_=new eO(r,i)}}async function sf(t){if(Ls(t))for(const e of t.B_)await e(!0)}async function Mc(t){for(const e of t.B_)await e(!1)}function OI(t,e){const n=ie(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),C0(n)?k0(n):oa(n).r_()&&I0(n,e))}function S0(t,e){const n=ie(t),r=oa(n);n.N_.delete(e),r.r_()&&LI(n,e),n.N_.size===0&&(r.r_()?r.o_():Ls(n)&&n.q_.set("Unknown"))}function I0(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(re.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}oa(t).A_(e)}function LI(t,e){t.Q_.xe(e),oa(t).R_(e)}function k0(t){t.Q_=new n6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),oa(t).start(),t.q_.v_()}function C0(t){return Ls(t)&&!oa(t).n_()&&t.N_.size>0}function Ls(t){return ie(t).L_.size===0}function VI(t){t.Q_=void 0}async function nO(t){t.q_.set("Online")}async function rO(t){t.N_.forEach((e,n)=>{I0(t,e)})}async function iO(t,e){VI(t),C0(t)?(t.q_.M_(e),k0(t)):t.q_.set("Unknown")}async function sO(t,e,n){if(t.q_.set("Online"),e instanceof xI&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){q("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ud(t,r)}else if(e instanceof dh?t.Q_.Ke(e):e instanceof TI?t.Q_.He(e):t.Q_.We(e),!n.isEqual(re.min()))try{const r=await DI(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.N_.get(c);u&&s.N_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=s.N_.get(l);if(!u)return;s.N_.set(l,u.withResumeToken(bt.EMPTY_BYTE_STRING,u.snapshotVersion)),LI(s,l);const d=new hi(u.target,l,c,u.sequenceNumber);I0(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){q("RemoteStore","Failed to raise snapshot:",r),await ud(t,r)}}async function ud(t,e,n){if(!Pc(e))throw e;t.L_.add(1),await Mc(t),t.q_.set("Offline"),n||(n=()=>DI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{q("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await sf(t)})}function FI(t,e){return e().catch(n=>ud(t,n,e))}async function of(t){const e=ie(t),n=Mi(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;oO(e);)try{const i=await $6(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,aO(e,i)}catch(i){await ud(e,i)}UI(e)&&BI(e)}function oO(t){return Ls(t)&&t.O_.length<10}function aO(t,e){t.O_.push(e);const n=Mi(t);n.r_()&&n.V_&&n.m_(e.mutations)}function UI(t){return Ls(t)&&!Mi(t).n_()&&t.O_.length>0}function BI(t){Mi(t).start()}async function lO(t){Mi(t).p_()}async function cO(t){const e=Mi(t);for(const n of t.O_)e.m_(n.mutations)}async function uO(t,e,n){const r=t.O_.shift(),i=_0.from(r,e,n);await FI(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await of(t)}async function hO(t,e){e&&Mi(t).V_&&await async function(r,i){if(function(o){return ZN(o)&&o!==F.ABORTED}(i.code)){const s=r.O_.shift();Mi(r).s_(),await FI(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await of(r)}}(t,e),UI(t)&&BI(t)}async function Jw(t,e){const n=ie(t);n.asyncQueue.verifyOperationInProgress(),q("RemoteStore","RemoteStore received new credentials");const r=Ls(n);n.L_.add(3),await Mc(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await sf(n)}async function dO(t,e){const n=ie(t);e?(n.L_.delete(2),await sf(n)):e||(n.L_.add(2),await Mc(n),n.q_.set("Unknown"))}function oa(t){return t.K_||(t.K_=function(n,r,i){const s=ie(n);return s.w_(),new X6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:nO.bind(null,t),Ro:rO.bind(null,t),mo:iO.bind(null,t),d_:sO.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),C0(t)?k0(t):t.q_.set("Unknown")):(await t.K_.stop(),VI(t))})),t.K_}function Mi(t){return t.U_||(t.U_=function(n,r,i){const s=ie(n);return s.w_(),new J6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:lO.bind(null,t),mo:hO.bind(null,t),f_:cO.bind(null,t),g_:uO.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await of(t)):(await t.U_.stop(),t.O_.length>0&&(q("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Si,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new P0(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function A0(t,e){if(Or("AsyncQueue",`${e}: ${t}`),Pc(t))return new H(F.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Q.comparator(n.key,r.key):(n,r)=>Q.comparator(n.key,r.key),this.keyedMap=Za(),this.sortedSet=new He(this.comparator)}static emptySet(e){return new bo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof bo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new bo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(){this.W_=new He(Q.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ee():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ho{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ho(e,n,bo.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class pO{constructor(){this.queries=eE(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=ie(n),s=i.queries;i.queries=eE(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new H(F.ABORTED,"Firestore shutting down"))}}function eE(){return new sa(t=>lI(t),Jd)}async function jI(t,e){const n=ie(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new fO,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=A0(o,`Initialization of query '${Qs(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&R0(n)}async function zI(t,e){const n=ie(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function mO(t,e){const n=ie(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&R0(n)}function gO(t,e,n){const r=ie(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function R0(t){t.Y_.forEach(e=>{e.next()})}var yg,tE;(tE=yg||(yg={})).ea="default",tE.Cache="cache";class $I{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ho(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Ho.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==yg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e){this.key=e}}class WI{constructor(e){this.key=e}}class yO{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ue(),this.mutatedKeys=ue(),this.Aa=cI(e),this.Ra=new bo(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new Zw,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const f=i.get(u),m=Zd(this.query,d)?d:null,v=!!f&&this.mutatedKeys.has(f.key),w=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let T=!1;f&&m?f.data.isEqual(m.data)?v!==w&&(r.track({type:3,doc:m}),T=!0):this.ga(f,m)||(r.track({type:2,doc:m}),T=!0,(l&&this.Aa(m,l)>0||c&&this.Aa(m,c)<0)&&(a=!0)):!f&&m?(r.track({type:0,doc:m}),T=!0):f&&!m&&(r.track({type:1,doc:f}),T=!0,(l||c)&&(a=!0)),T&&(m?(o=o.add(m),s=w?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((u,d)=>function(m,v){const w=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ee()}};return w(m)-w(v)}(u.type,d.type)||this.Aa(u.doc,d.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,c=l!==this.Ea;return this.Ea=l,o.length!==0||c?{snapshot:new Ho(this.query,e.Ra,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Zw,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ue(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new WI(r))}),this.da.forEach(r=>{e.has(r)||n.push(new HI(r))}),n}ba(e){this.Ta=e.Ts,this.da=ue();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Ho.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class vO{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class _O{constructor(e){this.key=e,this.va=!1}}class wO{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new sa(a=>lI(a),Jd),this.Ma=new Map,this.xa=new Set,this.Oa=new He(Q.comparator),this.Na=new Map,this.La=new T0,this.Ba={},this.ka=new Map,this.qa=$o.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function EO(t,e,n=!0){const r=XI(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await qI(r,e,n,!0),i}async function TO(t,e){const n=XI(t);await qI(n,e,!0,!1)}async function qI(t,e,n,r){const i=await H6(t.localStore,nr(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await xO(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&OI(t.remoteStore,i),a}async function xO(t,e,n,r,i){t.Ka=(d,f,m)=>async function(w,T,_,x){let b=T.view.ma(_);b.ns&&(b=await Qw(w.localStore,T.query,!1).then(({documents:S})=>T.view.ma(S,b)));const R=x&&x.targetChanges.get(T.targetId),D=x&&x.targetMismatches.get(T.targetId)!=null,O=T.view.applyChanges(b,w.isPrimaryClient,R,D);return rE(w,T.targetId,O.wa),O.snapshot}(t,d,f,m);const s=await Qw(t.localStore,e,!0),o=new yO(e,s.Ts),a=o.ma(s.documents),l=Dc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);rE(t,n,c.wa);const u=new vO(e,n,o);return t.Fa.set(e,u),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function bO(t,e,n){const r=ie(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Jd(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await gg(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&S0(r.remoteStore,i.targetId),vg(r,i.targetId)}).catch(Cc)):(vg(r,i.targetId),await gg(r.localStore,i.targetId,!0))}async function SO(t,e){const n=ie(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),S0(n.remoteStore,r.targetId))}async function IO(t,e,n){const r=MO(t);try{const i=await function(o,a){const l=ie(o),c=at.now(),u=a.reduce((m,v)=>m.add(v.key),ue());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let v=Lr(),w=ue();return l.cs.getEntries(m,u).next(T=>{v=T,v.forEach((_,x)=>{x.isValidDocument()||(w=w.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,v)).next(T=>{d=T;const _=[];for(const x of a){const b=GN(x,d.get(x.key).overlayedDocument);b!=null&&_.push(new zi(x.key,b,eI(b.value.mapValue),zn.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,_,a)}).next(T=>{f=T;const _=T.applyToLocalDocumentSet(d,w);return l.documentOverlayCache.saveOverlays(m,T.batchId,_)})}).then(()=>({batchId:f.batchId,changes:hI(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new He(we)),c=c.insert(a,l),o.Ba[o.currentUser.toKey()]=c}(r,i.batchId,n),await Nc(r,i.changes),await of(r.remoteStore)}catch(i){const s=A0(i,"Failed to persist write");n.reject(s)}}async function KI(t,e){const n=ie(t);try{const r=await j6(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(Se(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Se(o.va):i.removedDocuments.size>0&&(Se(o.va),o.va=!1))}),await Nc(n,r,e)}catch(r){await Cc(r)}}function nE(t,e,n){const r=ie(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ie(o);l.onlineState=a;let c=!1;l.queries.forEach((u,d)=>{for(const f of d.j_)f.Z_(a)&&(c=!0)}),c&&R0(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function kO(t,e,n){const r=ie(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new He(Q.comparator);o=o.insert(s,Ot.newNoDocument(s,re.min()));const a=ue().add(s),l=new nf(re.min(),new Map,new He(we),o,a);await KI(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),D0(r)}else await gg(r.localStore,e,!1).then(()=>vg(r,e,n)).catch(Cc)}async function CO(t,e){const n=ie(t),r=e.batch.batchId;try{const i=await B6(n.localStore,e);QI(n,r,null),GI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Nc(n,i)}catch(i){await Cc(i)}}async function PO(t,e,n){const r=ie(t);try{const i=await function(o,a){const l=ie(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(Se(d!==null),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);QI(r,e,n),GI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Nc(r,i)}catch(i){await Cc(i)}}function GI(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function QI(t,e,n){const r=ie(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function vg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||YI(t,r)})}function YI(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(S0(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),D0(t))}function rE(t,e,n){for(const r of n)r instanceof HI?(t.La.addReference(r.key,e),AO(t,r)):r instanceof WI?(q("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||YI(t,r.key)):ee()}function AO(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(q("SyncEngine","New document in limbo: "+n),t.xa.add(r),D0(t))}function D0(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Q(Oe.fromString(e)),r=t.qa.next();t.Na.set(r,new _O(n)),t.Oa=t.Oa.insert(n,r),OI(t.remoteStore,new hi(nr(g0(n.path)),r,"TargetPurposeLimboResolution",u0.oe))}}async function Nc(t,e,n){const r=ie(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(c=>{var u;if((c||n)&&r.isPrimaryClient){const d=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){i.push(c);const d=b0.Wi(l.targetId,c);s.push(d)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,c){const u=ie(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>U.forEach(c,f=>U.forEach(f.$i,m=>u.persistence.referenceDelegate.addReference(d,f.targetId,m)).next(()=>U.forEach(f.Ui,m=>u.persistence.referenceDelegate.removeReference(d,f.targetId,m)))))}catch(d){if(!Pc(d))throw d;q("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const f=d.targetId;if(!d.fromCache){const m=u.os.get(f),v=m.snapshotVersion,w=m.withLastLimboFreeSnapshotVersion(v);u.os=u.os.insert(f,w)}}}(r.localStore,s))}async function RO(t,e){const n=ie(t);if(!n.currentUser.isEqual(e)){q("SyncEngine","User change. New user:",e.toKey());const r=await RI(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new H(F.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Nc(n,r.hs)}}function DO(t,e){const n=ie(t),r=n.Na.get(e);if(r&&r.va)return ue().add(r.key);{let i=ue();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function XI(t){const e=ie(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=KI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=DO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kO.bind(null,e),e.Ca.d_=mO.bind(null,e.eventManager),e.Ca.$a=gO.bind(null,e.eventManager),e}function MO(t){const e=ie(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=CO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=PO.bind(null,e),e}class hd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=rf(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return U6(this.persistence,new V6,e.initialUser,this.serializer)}Ga(e){return new N6(x0.Zr,this.serializer)}Wa(e){return new q6}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hd.provider={build:()=>new hd};class _g{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>nE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=RO.bind(null,this.syncEngine),await dO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new pO}()}createDatastore(e){const n=rf(e.databaseInfo.databaseId),r=function(s){return new Y6(s)}(e.databaseInfo);return function(s,o,a,l){return new Z6(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new tO(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>nE(this.syncEngine,n,0),function(){return Xw.D()?new Xw:new K6}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,u){const d=new wO(i,s,o,a,l,c);return u&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ie(i);q("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Mc(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}_g.provider={build:()=>new _g};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Or("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Mt.UNAUTHENTICATED,this.clientId=XS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{q("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(q("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Si;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=A0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Pp(t,e){t.asyncQueue.verifyOperationInProgress(),q("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await RI(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function iE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await OO(t);q("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Jw(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Jw(e.remoteStore,i)),t._onlineComponents=e}async function OO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){q("FirestoreClient","Using user provided OfflineComponentProvider");try{await Pp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===F.FAILED_PRECONDITION||i.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Uo("Error using user provided cache. Falling back to memory cache: "+n),await Pp(t,new hd)}}else q("FirestoreClient","Using default OfflineComponentProvider"),await Pp(t,new hd);return t._offlineComponents}async function ZI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(q("FirestoreClient","Using user provided OnlineComponentProvider"),await iE(t,t._uninitializedComponentsProvider._online)):(q("FirestoreClient","Using default OnlineComponentProvider"),await iE(t,new _g))),t._onlineComponents}function LO(t){return ZI(t).then(e=>e.syncEngine)}async function wg(t){const e=await ZI(t),n=e.eventManager;return n.onListen=EO.bind(null,e.syncEngine),n.onUnlisten=bO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=TO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=SO.bind(null,e.syncEngine),n}function VO(t,e,n={}){const r=new Si;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new JI({next:f=>{u.Za(),o.enqueueAndForget(()=>zI(s,d)),f.fromCache&&l.source==="server"?c.reject(new H(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),d=new $I(a,u,{includeMetadataChanges:!0,_a:!0});return jI(s,d)}(await wg(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ek(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tk(t,e,n){if(!n)throw new H(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function FO(t,e,n,r){if(e===!0&&r===!0)throw new H(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function oE(t){if(!Q.isDocumentKey(t))throw new H(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function aE(t){if(Q.isDocumentKey(t))throw new H(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function af(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ee()}function ir(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new H(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=af(t);throw new H(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new H(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new H(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}FO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ek((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new H(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new H(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new H(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lE({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new H(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new H(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lE(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new rN;switch(r.type){case"firstParty":return new aN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new H(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=sE.get(n);r&&(q("ComponentProvider","Removing Datastore"),sE.delete(n),r.terminate())}(this),Promise.resolve()}}function UO(t,e,n,r={}){var i;const s=(t=ir(t,lf))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Mt.MOCK_USER;else{a=RD(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new H(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Mt(c)}t._authCredentials=new iN(new YS(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Vs(this.firestore,e,this._query)}}class rn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ii(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rn(this.firestore,e,this._key)}}class Ii extends Vs{constructor(e,n,r){super(e,n,g0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rn(this.firestore,null,new Q(e))}withConverter(e){return new Ii(this.firestore,e,this._path)}}function $i(t,e,...n){if(t=lt(t),tk("collection","path",e),t instanceof lf){const r=Oe.fromString(e,...n);return aE(r),new Ii(t,null,r)}{if(!(t instanceof rn||t instanceof Ii))throw new H(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Oe.fromString(e,...n));return aE(r),new Ii(t.firestore,null,r)}}function qn(t,e,...n){if(t=lt(t),arguments.length===1&&(e=XS.newId()),tk("doc","path",e),t instanceof lf){const r=Oe.fromString(e,...n);return oE(r),new rn(t,null,new Q(r))}{if(!(t instanceof rn||t instanceof Ii))throw new H(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Oe.fromString(e,...n));return oE(r),new rn(t.firestore,t instanceof Ii?t.converter:null,new Q(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new MI(this,"async_queue_retry"),this.Vu=()=>{const r=Cp();r&&q("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Cp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Cp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Si;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Pc(e))throw e;q("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Or("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=P0.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&ee()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function uE(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class As extends lf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new cE,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new cE(e),this._firestoreClient=void 0,await e}}}function BO(t,e){const n=typeof t=="object"?t:jS(),r=typeof t=="string"?t:"(default)",i=l0(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=PD("firestore");s&&UO(i,...s)}return i}function M0(t){if(t._terminated)throw new H(F.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||jO(t),t._firestoreClient}function jO(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,u){return new wN(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,ek(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new NO(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wo(bt.fromBase64String(e))}catch(n){throw new H(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Wo(bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new H(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new H(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new H(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return we(this._lat,e._lat)||we(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO=/^__.*__$/;class $O{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new zi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Rc(e,this.data,n,this.fieldTransforms)}}class nk{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new zi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function rk(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ee()}}class L0{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new L0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return dd(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(rk(this.Cu)&&zO.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class HO{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||rf(e)}Qu(e,n,r,i=!1){return new L0({Cu:e,methodName:n,qu:r,path:wt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function V0(t){const e=t._freezeSettings(),n=rf(t._databaseId);return new HO(t._databaseId,!!e.ignoreUndefinedProperties,n)}function WO(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);U0("Data must be an object, but it was:",o,r);const a=ik(r,o);let l,c;if(s.merge)l=new un(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const f=Eg(e,d,n);if(!o.contains(f))throw new H(F.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);ok(u,f)||u.push(f)}l=new un(u),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new $O(new Yt(a),l,c)}class hf extends uf{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof hf}}class F0 extends uf{constructor(e,n){super(e),this.$u=n}_toFieldTransform(e){const n=new sc(e.serializer,pI(e.serializer,this.$u));return new HN(e.path,n)}isEqual(e){return e instanceof F0&&this.$u===e.$u}}function qO(t,e,n,r){const i=t.Qu(1,e,n);U0("Data must be an object, but it was:",i,r);const s=[],o=Yt.empty();Os(r,(l,c)=>{const u=B0(e,l,n);c=lt(c);const d=i.Nu(u);if(c instanceof hf)s.push(u);else{const f=Oc(c,d);f!=null&&(s.push(u),o.set(u,f))}});const a=new un(s);return new nk(o,a,i.fieldTransforms)}function KO(t,e,n,r,i,s){const o=t.Qu(1,e,n),a=[Eg(e,r,n)],l=[i];if(s.length%2!=0)throw new H(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(Eg(e,s[f])),l.push(s[f+1]);const c=[],u=Yt.empty();for(let f=a.length-1;f>=0;--f)if(!ok(c,a[f])){const m=a[f];let v=l[f];v=lt(v);const w=o.Nu(m);if(v instanceof hf)c.push(m);else{const T=Oc(v,w);T!=null&&(c.push(m),u.set(m,T))}}const d=new un(c);return new nk(u,d,o.fieldTransforms)}function GO(t,e,n,r=!1){return Oc(n,t.Qu(r?4:3,e))}function Oc(t,e){if(sk(t=lt(t)))return U0("Unsupported field value:",e,t),ik(t,e);if(t instanceof uf)return function(r,i){if(!rk(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Oc(a,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=lt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return pI(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=at.fromDate(r);return{timestampValue:cd(i.serializer,s)}}if(r instanceof at){const s=new at(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:cd(i.serializer,s)}}if(r instanceof N0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Wo)return{bytesValue:bI(i.serializer,r._byteString)};if(r instanceof rn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:E0(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof O0)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return y0(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${af(r)}`)}(t,e)}function ik(t,e){const n={};return JS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Os(t,(r,i)=>{const s=Oc(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function sk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof at||t instanceof N0||t instanceof Wo||t instanceof rn||t instanceof uf||t instanceof O0)}function U0(t,e,n){if(!sk(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=af(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Eg(t,e,n){if((e=lt(e))instanceof cf)return e._internalPath;if(typeof e=="string")return B0(t,e);throw dd("Field path arguments must be of type string or ",t,!1,void 0,n)}const QO=new RegExp("[~\\*/\\[\\]]");function B0(t,e,n){if(e.search(QO)>=0)throw dd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new cf(...e.split("."))._internalPath}catch{throw dd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function dd(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new H(F.INVALID_ARGUMENT,a+t+l)}function ok(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new YO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(j0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class YO extends ak{data(){return super.data()}}function j0(t,e){return typeof e=="string"?B0(t,e):e instanceof cf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lk(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new H(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class z0{}class XO extends z0{}function JO(t,e,...n){let r=[];e instanceof z0&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof $0).length,a=s.filter(l=>l instanceof df).length;if(o>1||o>0&&a>0)throw new H(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class df extends XO{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new df(e,n,r)}_apply(e){const n=this._parse(e);return ck(e._query,n),new Vs(e.firestore,e.converter,ug(e._query,n))}_parse(e){const n=V0(e.firestore);return function(s,o,a,l,c,u,d){let f;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new H(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){dE(d,u);const m=[];for(const v of d)m.push(hE(l,s,v));f={arrayValue:{values:m}}}else f=hE(l,s,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||dE(d,u),f=GO(a,o,d,u==="in"||u==="not-in");return it.create(c,u,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ZO(t,e,n){const r=e,i=j0("where",t);return df._create(i,r,n)}class $0 extends z0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new $0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Hn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)ck(o,l),o=ug(o,l)}(e._query,n),new Vs(e.firestore,e.converter,ug(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function hE(t,e,n){if(typeof(n=lt(n))=="string"){if(n==="")throw new H(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!aI(e)&&n.indexOf("/")!==-1)throw new H(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Oe.fromString(n));if(!Q.isDocumentKey(r))throw new H(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Dw(t,new Q(r))}if(n instanceof rn)return Dw(t,n._key);throw new H(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${af(n)}.`)}function dE(t,e){if(!Array.isArray(t)||t.length===0)throw new H(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ck(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new H(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new H(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class eL{convertValue(e,n="none"){switch(Ps(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ye(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Cs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ee()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Os(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Ye(o.doubleValue));return new O0(s)}convertGeoPoint(e){return new N0(Ye(e.latitude),Ye(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=d0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ec(e));default:return null}}convertTimestamp(e){const n=Di(e);return new at(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Oe.fromString(e);Se(AI(r));const i=new tc(r.get(1),r.get(3)),s=new Q(r.popFirst(5));return i.isEqual(n)||Or(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tL(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class uk extends ak{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new fh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(j0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class fh extends uk{data(e={}){return super.data(e)}}class hk{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new tl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new fh(this._firestore,this._userDataWriter,r.key,r,new tl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new H(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new fh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new tl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new fh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new tl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:nL(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function nL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ee()}}class H0 extends eL{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new rn(this.firestore,null,n)}}function rL(t){t=ir(t,Vs);const e=ir(t.firestore,As),n=M0(e),r=new H0(e);return lk(t._query),VO(n,t._query).then(i=>new hk(e,r,t,i))}function aa(t,e,n,...r){t=ir(t,rn);const i=ir(t.firestore,As),s=V0(i);let o;return o=typeof(e=lt(e))=="string"||e instanceof cf?KO(s,"updateDoc",t._key,e,n,r):qO(s,"updateDoc",t._key,e),W0(i,[o.toMutation(t._key,zn.exists(!0))])}function ff(t){return W0(ir(t.firestore,As),[new v0(t._key,zn.none())])}function pf(t,e){const n=ir(t.firestore,As),r=qn(t),i=tL(t.converter,e);return W0(n,[WO(V0(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,zn.exists(!1))]).then(()=>r)}function mf(t,...e){var n,r,i;t=lt(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||uE(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(uE(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,c,u;if(t instanceof rn)c=ir(t.firestore,As),u=g0(t._key.path),l={next:d=>{e[o]&&e[o](iL(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=ir(t,Vs);c=ir(d.firestore,As),u=d._query;const f=new H0(c);l={next:m=>{e[o]&&e[o](new hk(c,f,d,m))},error:e[o+1],complete:e[o+2]},lk(t._query)}return function(f,m,v,w){const T=new JI(w),_=new $I(m,T,v);return f.asyncQueue.enqueueAndForget(async()=>jI(await wg(f),_)),()=>{T.Za(),f.asyncQueue.enqueueAndForget(async()=>zI(await wg(f),_))}}(M0(c),u,a,l)}function W0(t,e){return function(r,i){const s=new Si;return r.asyncQueue.enqueueAndForget(async()=>IO(await LO(r),i,s)),s.promise}(M0(t),e)}function iL(t,e,n){const r=n.docs.get(e._key),i=new H0(t);return new uk(t,i,e._key,r,new tl(n.hasPendingWrites,n.fromCache),e.converter)}function dk(t){return new F0("increment",t)}(function(e,n=!0){(function(i){ia=i})(ra),Fo(new Is("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new As(new sN(r.getProvider("auth-internal")),new cN(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new H(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tc(c.options.projectId,u)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),bi(kw,"4.7.3",e),bi(kw,"4.7.3","esm2017")})();function q0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function fk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const sL=fk,pk=new Ic("auth","Firebase",fk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fd=new o0("@firebase/auth");function oL(t,...e){fd.logLevel<=fe.WARN&&fd.warn(`Auth (${ra}): ${t}`,...e)}function ph(t,...e){fd.logLevel<=fe.ERROR&&fd.error(`Auth (${ra}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wn(t,...e){throw K0(t,...e)}function sr(t,...e){return K0(t,...e)}function mk(t,e,n){const r=Object.assign(Object.assign({},sL()),{[e]:n});return new Ic("auth","Firebase",r).create(e,{appName:t.name})}function ki(t){return mk(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function K0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return pk.create(t,...e)}function Z(t,e,...n){if(!t)throw K0(e,...n)}function Ir(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ph(e),new Error(e)}function Vr(t,e){t||Ir(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function aL(){return fE()==="http:"||fE()==="https:"}function fE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(aL()||OD()||"connection"in navigator)?navigator.onLine:!0}function cL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Vr(n>e,"Short delay should be less than long delay!"),this.isMobile=DD()||LD()}get(){return lL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0(t,e){Vr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ir("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ir("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ir("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hL=new Lc(3e4,6e4);function Fs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Hi(t,e,n,r,i={}){return yk(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=kc(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return ND()||(c.referrerPolicy="no-referrer"),gk.fetch()(vk(t,t.config.apiHost,n,a),c)})}async function yk(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},uL),e);try{const i=new fL(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Au(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Au(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Au(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Au(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw mk(t,u,c);Wn(t,u)}}catch(i){if(i instanceof zr)throw i;Wn(t,"network-request-failed",{message:String(i)})}}async function gf(t,e,n,r,i={}){const s=await Hi(t,e,n,r,i);return"mfaPendingCredential"in s&&Wn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function vk(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?G0(t.config,i):`${t.config.apiScheme}://${i}`}function dL(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class fL{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(sr(this.auth,"network-request-failed")),hL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Au(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=sr(t,e,r);return i.customData._tokenResponse=n,i}function pE(t){return t!==void 0&&t.enterprise!==void 0}class pL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return dL(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function mL(t,e){return Hi(t,"GET","/v2/recaptchaConfig",Fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gL(t,e){return Hi(t,"POST","/v1/accounts:delete",e)}async function _k(t,e){return Hi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function El(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function yL(t,e=!1){const n=lt(t),r=await n.getIdToken(e),i=Q0(r);Z(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:El(Ap(i.auth_time)),issuedAtTime:El(Ap(i.iat)),expirationTime:El(Ap(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Ap(t){return Number(t)*1e3}function Q0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ph("JWT malformed, contained fewer than 3 sections"),null;try{const i=NS(n);return i?JSON.parse(i):(ph("Failed to decode base64 JWT payload"),null)}catch(i){return ph("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function mE(t){const e=Q0(t);return Z(e,"internal-error"),Z(typeof e.exp<"u","internal-error"),Z(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof zr&&vL(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function vL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=El(this.lastLoginAt),this.creationTime=El(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await oc(t,_k(n,{idToken:r}));Z(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?wk(s.providerUserInfo):[],a=EL(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new xg(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function wL(t){const e=lt(t);await pd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function EL(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function wk(t){return t.map(e=>{var{providerId:n}=e,r=q0(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TL(t,e){const n=await yk(t,{},async()=>{const r=kc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=vk(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",gk.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function xL(t,e){return Hi(t,"POST","/v2/accounts:revokeToken",Fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Z(e.idToken,"internal-error"),Z(typeof e.idToken<"u","internal-error"),Z(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):mE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Z(e.length!==0,"internal-error");const n=mE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Z(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await TL(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new So;return r&&(Z(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Z(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Z(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new So,this.toJSON())}_performRefresh(){return Ir("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(t,e){Z(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class kr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=q0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _L(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new xg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await oc(this,this.stsTokenManager.getToken(this.auth,e));return Z(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return yL(this,e)}reload(){return wL(this)}_assign(e){this!==e&&(Z(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new kr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await pd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Sr(this.auth.app))return Promise.reject(ki(this.auth));const e=await this.getIdToken();return await oc(this,gL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,u;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,T=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(c=n.createdAt)!==null&&c!==void 0?c:void 0,x=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:b,emailVerified:R,isAnonymous:D,providerData:O,stsTokenManager:S}=n;Z(b&&S,e,"internal-error");const E=So.fromJSON(this.name,S);Z(typeof b=="string",e,"internal-error"),Gr(d,e.name),Gr(f,e.name),Z(typeof R=="boolean",e,"internal-error"),Z(typeof D=="boolean",e,"internal-error"),Gr(m,e.name),Gr(v,e.name),Gr(w,e.name),Gr(T,e.name),Gr(_,e.name),Gr(x,e.name);const k=new kr({uid:b,auth:e,email:f,emailVerified:R,displayName:d,isAnonymous:D,photoURL:v,phoneNumber:m,tenantId:w,stsTokenManager:E,createdAt:_,lastLoginAt:x});return O&&Array.isArray(O)&&(k.providerData=O.map(C=>Object.assign({},C))),T&&(k._redirectEventId=T),k}static async _fromIdTokenResponse(e,n,r=!1){const i=new So;i.updateFromServerResponse(n);const s=new kr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await pd(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Z(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?wk(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new So;a.updateFromIdToken(r);const l=new kr({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new xg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE=new Map;function Cr(t){Vr(t instanceof Function,"Expected a class definition");let e=gE.get(t);return e?(Vr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,gE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Ek.type="NONE";const yE=Ek;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mh(t,e,n){return`firebase:${t}:${e}:${n}`}class Io{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=mh(this.userKey,i.apiKey,s),this.fullPersistenceKey=mh("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?kr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Io(Cr(yE),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Cr(yE);const o=mh(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const d=kr._fromJSON(e,u);c!==s&&(a=d),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Io(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Io(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Sk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Tk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(kk(e))return"Blackberry";if(Ck(e))return"Webos";if(xk(e))return"Safari";if((e.includes("chrome/")||bk(e))&&!e.includes("edge/"))return"Chrome";if(Ik(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Tk(t=Ut()){return/firefox\//i.test(t)}function xk(t=Ut()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function bk(t=Ut()){return/crios\//i.test(t)}function Sk(t=Ut()){return/iemobile/i.test(t)}function Ik(t=Ut()){return/android/i.test(t)}function kk(t=Ut()){return/blackberry/i.test(t)}function Ck(t=Ut()){return/webos/i.test(t)}function Y0(t=Ut()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function bL(t=Ut()){var e;return Y0(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function SL(){return VD()&&document.documentMode===10}function Pk(t=Ut()){return Y0(t)||Ik(t)||Ck(t)||kk(t)||/windows phone/i.test(t)||Sk(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ak(t,e=[]){let n;switch(t){case"Browser":n=vE(Ut());break;case"Worker":n=`${vE(Ut())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ra}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kL(t,e={}){return Hi(t,"GET","/v2/passwordPolicy",Fs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CL=6;class PL{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:CL,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _E(this),this.idTokenSubscription=new _E(this),this.beforeStateQueue=new IL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Cr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Io.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await _k(this,{idToken:e}),r=await kr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Sr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Z(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await pd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=cL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Sr(this.app))return Promise.reject(ki(this));const n=e?lt(e):null;return n&&Z(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Z(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Sr(this.app)?Promise.reject(ki(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Sr(this.app)?Promise.reject(ki(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Cr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await kL(this),n=new PL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ic("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await xL(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Cr(e)||this._popupRedirectResolver;Z(n,this,"argument-error"),this.redirectPersistenceManager=await Io.create(this,[Cr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Z(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ak(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&oL(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function la(t){return lt(t)}class _E{constructor(e){this.auth=e,this.observer=null,this.addObserver=WD(n=>this.observer=n)}get next(){return Z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function RL(t){yf=t}function Rk(t){return yf.loadJS(t)}function DL(){return yf.recaptchaEnterpriseScript}function ML(){return yf.gapiScript}function NL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const OL="recaptcha-enterprise",LL="NO_RECAPTCHA";class VL{constructor(e){this.type=OL,this.auth=la(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{mL(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new pL(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;pE(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(LL)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&pE(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=DL();l.length!==0&&(l+=a),Rk(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function wE(t,e,n,r=!1){const i=new VL(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function EE(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await wE(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await wE(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FL(t,e){const n=l0(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(rd(s,e??{}))return i;Wn(i,"already-initialized")}return n.initialize({options:e})}function UL(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Cr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function BL(t,e,n){const r=la(t);Z(r._canInitEmulator,r,"emulator-config-failed"),Z(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=Dk(e),{host:o,port:a}=jL(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),zL()}function Dk(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function jL(t){const e=Dk(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:TE(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:TE(o)}}}function TE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function zL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ir("not implemented")}_getIdTokenResponse(e){return Ir("not implemented")}_linkToIdToken(e,n){return Ir("not implemented")}_getReauthenticationResolver(e){return Ir("not implemented")}}async function $L(t,e){return Hi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HL(t,e){return gf(t,"POST","/v1/accounts:signInWithPassword",Fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WL(t,e){return gf(t,"POST","/v1/accounts:signInWithEmailLink",Fs(t,e))}async function qL(t,e){return gf(t,"POST","/v1/accounts:signInWithEmailLink",Fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac extends X0{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new ac(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ac(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return EE(e,n,"signInWithPassword",HL);case"emailLink":return WL(e,{email:this._email,oobCode:this._password});default:Wn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return EE(e,r,"signUpPassword",$L);case"emailLink":return qL(e,{idToken:n,email:this._email,oobCode:this._password});default:Wn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ko(t,e){return gf(t,"POST","/v1/accounts:signInWithIdp",Fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KL="http://localhost";class Rs extends X0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Rs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Wn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=q0(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Rs(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ko(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ko(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ko(e,n)}buildRequest(){const e={requestUri:KL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=kc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function QL(t){const e=Ya(Xa(t)).link,n=e?Ya(Xa(e)).deep_link_id:null,r=Ya(Xa(t)).deep_link_id;return(r?Ya(Xa(r)).link:null)||r||n||e||t}class J0{constructor(e){var n,r,i,s,o,a;const l=Ya(Xa(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,d=GL((i=l.mode)!==null&&i!==void 0?i:null);Z(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=QL(e);try{return new J0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(){this.providerId=ca.PROVIDER_ID}static credential(e,n){return ac._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=J0.parseLink(n);return Z(r,"argument-error"),ac._fromEmailAndCode(e,r.code,r.tenantId)}}ca.PROVIDER_ID="password";ca.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ca.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc extends Mk{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii extends Vc{constructor(){super("facebook.com")}static credential(e){return Rs._fromParams({providerId:ii.PROVIDER_ID,signInMethod:ii.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ii.credentialFromTaggedObject(e)}static credentialFromError(e){return ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ii.credential(e.oauthAccessToken)}catch{return null}}}ii.FACEBOOK_SIGN_IN_METHOD="facebook.com";ii.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si extends Vc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Rs._fromParams({providerId:si.PROVIDER_ID,signInMethod:si.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return si.credentialFromTaggedObject(e)}static credentialFromError(e){return si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return si.credential(n,r)}catch{return null}}}si.GOOGLE_SIGN_IN_METHOD="google.com";si.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi extends Vc{constructor(){super("github.com")}static credential(e){return Rs._fromParams({providerId:oi.PROVIDER_ID,signInMethod:oi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oi.credentialFromTaggedObject(e)}static credentialFromError(e){return oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oi.credential(e.oauthAccessToken)}catch{return null}}}oi.GITHUB_SIGN_IN_METHOD="github.com";oi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai extends Vc{constructor(){super("twitter.com")}static credential(e,n){return Rs._fromParams({providerId:ai.PROVIDER_ID,signInMethod:ai.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ai.credentialFromTaggedObject(e)}static credentialFromError(e){return ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ai.credential(n,r)}catch{return null}}}ai.TWITTER_SIGN_IN_METHOD="twitter.com";ai.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await kr._fromIdTokenResponse(e,r,i),o=xE(r);return new qo({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=xE(r);return new qo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function xE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md extends zr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,md.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new md(e,n,r,i)}}function Nk(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?md._fromErrorAndOperation(t,s,e,r):s})}async function YL(t,e,n=!1){const r=await oc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return qo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XL(t,e,n=!1){const{auth:r}=t;if(Sr(r.app))return Promise.reject(ki(r));const i="reauthenticate";try{const s=await oc(t,Nk(r,i,e,t),n);Z(s.idToken,r,"internal-error");const o=Q0(s.idToken);Z(o,r,"internal-error");const{sub:a}=o;return Z(t.uid===a,r,"user-mismatch"),qo._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Wn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ok(t,e,n=!1){if(Sr(t.app))return Promise.reject(ki(t));const r="signIn",i=await Nk(t,r,e),s=await qo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function JL(t,e){return Ok(la(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZL(t){const e=la(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function eV(t,e,n){return Sr(t.app)?Promise.reject(ki(t)):JL(lt(t),ca.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&ZL(t),r})}function tV(t,e,n,r){return lt(t).onIdTokenChanged(e,n,r)}function nV(t,e,n){return lt(t).beforeAuthStateChanged(e,n)}function rV(t,e,n,r){return lt(t).onAuthStateChanged(e,n,r)}function iV(t){return lt(t).signOut()}const gd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(gd,"1"),this.storage.removeItem(gd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sV=1e3,oV=10;class Vk extends Lk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Pk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);SL()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,oV):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},sV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Vk.type="LOCAL";const aV=Vk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk extends Lk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Fk.type="SESSION";const Uk=Fk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new vf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await lV(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=Z0("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(){return window}function uV(t){or().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bk(){return typeof or().WorkerGlobalScope<"u"&&typeof or().importScripts=="function"}async function hV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function dV(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function fV(){return Bk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jk="firebaseLocalStorageDb",pV=1,yd="firebaseLocalStorage",zk="fbase_key";class Fc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function _f(t,e){return t.transaction([yd],e?"readwrite":"readonly").objectStore(yd)}function mV(){const t=indexedDB.deleteDatabase(jk);return new Fc(t).toPromise()}function bg(){const t=indexedDB.open(jk,pV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(yd,{keyPath:zk})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(yd)?e(r):(r.close(),await mV(),e(await bg()))})})}async function bE(t,e,n){const r=_f(t,!0).put({[zk]:e,value:n});return new Fc(r).toPromise()}async function gV(t,e){const n=_f(t,!1).get(e),r=await new Fc(n).toPromise();return r===void 0?null:r.value}function SE(t,e){const n=_f(t,!0).delete(e);return new Fc(n).toPromise()}const yV=800,vV=3;class $k{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>vV)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Bk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vf._getInstance(fV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await hV(),!this.activeServiceWorker)return;this.sender=new cV(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||dV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await bg();return await bE(e,gd,"1"),await SE(e,gd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>bE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>gV(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>SE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=_f(i,!1).getAll();return new Fc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),yV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$k.type="LOCAL";const _V=$k;new Lc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wV(t,e){return e?Cr(e):(Z(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev extends X0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ko(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ko(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ko(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function EV(t){return Ok(t.auth,new ev(t),t.bypassAuthState)}function TV(t){const{auth:e,user:n}=t;return Z(n,e,"internal-error"),XL(n,new ev(t),t.bypassAuthState)}async function xV(t){const{auth:e,user:n}=t;return Z(n,e,"internal-error"),YL(n,new ev(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return EV;case"linkViaPopup":case"linkViaRedirect":return xV;case"reauthViaPopup":case"reauthViaRedirect":return TV;default:Wn(this.auth,"internal-error")}}resolve(e){Vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bV=new Lc(2e3,1e4);class uo extends Hk{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,uo.currentPopupAction&&uo.currentPopupAction.cancel(),uo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Z(e,this.auth,"internal-error"),e}async onExecution(){Vr(this.filter.length===1,"Popup operations only handle one event");const e=Z0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(sr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(sr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,uo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(sr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,bV.get())};e()}}uo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SV="pendingRedirect",gh=new Map;class IV extends Hk{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=gh.get(this.auth._key());if(!e){try{const r=await kV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}gh.set(this.auth._key(),e)}return this.bypassAuthState||gh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function kV(t,e){const n=AV(e),r=PV(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function CV(t,e){gh.set(t._key(),e)}function PV(t){return Cr(t._redirectPersistence)}function AV(t){return mh(SV,t.config.apiKey,t.name)}async function RV(t,e,n=!1){if(Sr(t.app))return Promise.reject(ki(t));const r=la(t),i=wV(r,e),o=await new IV(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DV=10*60*1e3;class MV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!NV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Wk(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(sr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=DV&&this.cachedEventUids.clear(),this.cachedEventUids.has(IE(e))}saveEventToCache(e){this.cachedEventUids.add(IE(e)),this.lastProcessedEventTime=Date.now()}}function IE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Wk({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function NV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Wk(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OV(t,e={}){return Hi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,VV=/^https?/;async function FV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await OV(t);for(const n of e)try{if(UV(n))return}catch{}Wn(t,"unauthorized-domain")}function UV(t){const e=Tg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!VV.test(n))return!1;if(LV.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BV=new Lc(3e4,6e4);function kE(){const t=or().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function jV(t){return new Promise((e,n)=>{var r,i,s;function o(){kE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{kE(),n(sr(t,"network-request-failed"))},timeout:BV.get()})}if(!((i=(r=or().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=or().gapi)===null||s===void 0)&&s.load)o();else{const a=NL("iframefcb");return or()[a]=()=>{gapi.load?o():n(sr(t,"network-request-failed"))},Rk(`${ML()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw yh=null,e})}let yh=null;function zV(t){return yh=yh||jV(t),yh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $V=new Lc(5e3,15e3),HV="__/auth/iframe",WV="emulator/auth/iframe",qV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},KV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function GV(t){const e=t.config;Z(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?G0(e,WV):`https://${t.config.authDomain}/${HV}`,r={apiKey:e.apiKey,appName:t.name,v:ra},i=KV.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${kc(r).slice(1)}`}async function QV(t){const e=await zV(t),n=or().gapi;return Z(n,t,"internal-error"),e.open({where:document.body,url:GV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qV,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=sr(t,"network-request-failed"),a=or().setTimeout(()=>{s(o)},$V.get());function l(){or().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},XV=500,JV=600,ZV="_blank",e9="http://localhost";class CE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function t9(t,e,n,r=XV,i=JV){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},YV),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Ut().toLowerCase();n&&(a=bk(c)?ZV:n),Tk(c)&&(e=e||e9,l.scrollbars="yes");const u=Object.entries(l).reduce((f,[m,v])=>`${f}${m}=${v},`,"");if(bL(c)&&a!=="_self")return n9(e||"",a),new CE(null);const d=window.open(e||"",a,u);Z(d,t,"popup-blocked");try{d.focus()}catch{}return new CE(d)}function n9(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r9="__/auth/handler",i9="emulator/auth/handler",s9=encodeURIComponent("fac");async function PE(t,e,n,r,i,s){Z(t.config.authDomain,t,"auth-domain-config-required"),Z(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ra,eventId:i};if(e instanceof Mk){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",HD(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries({}))o[u]=d}if(e instanceof Vc){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${s9}=${encodeURIComponent(l)}`:"";return`${o9(t)}?${kc(a).slice(1)}${c}`}function o9({config:t}){return t.emulator?G0(t,i9):`https://${t.authDomain}/${r9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rp="webStorageSupport";class a9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Uk,this._completeRedirectFn=RV,this._overrideRedirectResult=CV}async _openPopup(e,n,r,i){var s;Vr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await PE(e,n,r,Tg(),i);return t9(e,o,Z0())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await PE(e,n,r,Tg(),i);return uV(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Vr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await QV(e),r=new MV(e);return n.register("authEvent",i=>(Z(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Rp,{type:Rp},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Rp];o!==void 0&&n(!!o),Wn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=FV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Pk()||xk()||Y0()}}const l9=a9;var AE="@firebase/auth",RE="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function h9(t){Fo(new Is("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Z(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ak(t)},c=new AL(r,i,s,l);return UL(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Fo(new Is("auth-internal",e=>{const n=la(e.getProvider("auth").getImmediate());return(r=>new c9(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),bi(AE,RE,u9(t)),bi(AE,RE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d9=5*60,f9=VS("authIdTokenMaxAge")||d9;let DE=null;const p9=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>f9)return;const i=n==null?void 0:n.token;DE!==i&&(DE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function m9(t=jS()){const e=l0(t,"auth");if(e.isInitialized())return e.getImmediate();const n=FL(t,{popupRedirectResolver:l9,persistence:[_V,aV,Uk]}),r=VS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=p9(s.toString());nV(n,o,()=>o(n.currentUser)),tV(n,a=>o(a))}}const i=OS("auth");return i&&BL(n,`http://${i}`),n}function g9(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}RL({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=sr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",g9().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});h9("Browser");const y9={apiKey:"AIzaSyCKF7qF1bq47GPlueo8VLTiUN494MZkzn0",authDomain:"topupstore-510c8.firebaseapp.com",projectId:"topupstore-510c8",storageBucket:"topupstore-510c8.firebasestorage.app",messagingSenderId:"1032699230069",appId:"1:1032699230069:web:d9efa38903c479eaf9053c",measurementId:"G-JVL7CR5P7F"},qk=BS(y9),pt=BO(qk),vd=m9(qk);class Uc{constructor(e=0,n="Network Error"){this.status=e,this.text=n}}const v9=()=>{if(!(typeof localStorage>"u"))return{get:t=>Promise.resolve(localStorage.getItem(t)),set:(t,e)=>Promise.resolve(localStorage.setItem(t,e)),remove:t=>Promise.resolve(localStorage.removeItem(t))}},_t={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:v9()},tv=t=>t?typeof t=="string"?{publicKey:t}:t.toString()==="[object Object]"?t:{}:{},_9=(t,e="https://api.emailjs.com")=>{if(!t)return;const n=tv(t);_t.publicKey=n.publicKey,_t.blockHeadless=n.blockHeadless,_t.storageProvider=n.storageProvider,_t.blockList=n.blockList,_t.limitRate=n.limitRate,_t.origin=n.origin||e},Kk=async(t,e,n={})=>{const r=await fetch(_t.origin+t,{method:"POST",headers:n,body:e}),i=await r.text(),s=new Uc(r.status,i);if(r.ok)return s;throw s},Gk=(t,e,n)=>{if(!t||typeof t!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||typeof n!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},w9=t=>{if(t&&t.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},Qk=t=>t.webdriver||!t.languages||t.languages.length===0,Yk=()=>new Uc(451,"Unavailable For Headless Browser"),E9=(t,e)=>{if(!Array.isArray(t))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},T9=t=>{var e;return!((e=t.list)!=null&&e.length)||!t.watchVariable},x9=(t,e)=>t instanceof FormData?t.get(e):t[e],Xk=(t,e)=>{if(T9(t))return!1;E9(t.list,t.watchVariable);const n=x9(e,t.watchVariable);return typeof n!="string"?!1:t.list.includes(n)},Jk=()=>new Uc(403,"Forbidden"),b9=(t,e)=>{if(typeof t!="number"||t<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},S9=async(t,e,n)=>{const r=Number(await n.get(t)||0);return e-Date.now()+r},Zk=async(t,e,n)=>{if(!e.throttle||!n)return!1;b9(e.throttle,e.id);const r=e.id||t;return await S9(r,e.throttle,n)>0?!0:(await n.set(r,Date.now().toString()),!1)},eC=()=>new Uc(429,"Too Many Requests"),I9=async(t,e,n,r)=>{const i=tv(r),s=i.publicKey||_t.publicKey,o=i.blockHeadless||_t.blockHeadless,a=i.storageProvider||_t.storageProvider,l={..._t.blockList,...i.blockList},c={..._t.limitRate,...i.limitRate};return o&&Qk(navigator)?Promise.reject(Yk()):(Gk(s,t,e),w9(n),n&&Xk(l,n)?Promise.reject(Jk()):await Zk(location.pathname,c,a)?Promise.reject(eC()):Kk("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:s,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"}))},k9=t=>{if(!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},C9=t=>typeof t=="string"?document.querySelector(t):t,P9=async(t,e,n,r)=>{const i=tv(r),s=i.publicKey||_t.publicKey,o=i.blockHeadless||_t.blockHeadless,a=_t.storageProvider||i.storageProvider,l={..._t.blockList,...i.blockList},c={..._t.limitRate,...i.limitRate};if(o&&Qk(navigator))return Promise.reject(Yk());const u=C9(n);Gk(s,t,e),k9(u);const d=new FormData(u);return Xk(l,d)?Promise.reject(Jk()):await Zk(location.pathname,c,a)?Promise.reject(eC()):(d.append("lib_version","4.4.1"),d.append("service_id",t),d.append("template_id",e),d.append("user_id",s),Kk("/api/v1.0/email/send-form",d))},A9={init:_9,send:I9,sendForm:P9,EmailJSResponseStatus:Uc},R9="service_9qj72js",D9="template_lg986nn",M9="lAEd-mzMwpHWEtsJt";function N9(){return"ORD-"+Date.now()+"-"+Math.floor(Math.random()*1e4)}async function O9(t){try{const e=N9(),n=await pf($i(pt,"orders"),{...t,id:e});return console.log("Document written with ID: ",n.id),{success:!0,orderId:e,firestoreId:n.id}}catch(e){return console.error("Error adding document: ",e),{success:!1,error:e}}}async function L9(){const t=await rL($i(pt,"orders")),e=[];return t.forEach(n=>{e.push({...n.data(),firestoreId:n.id})}),e}function V9(t){const e=$i(pt,"orders");return mf(e,r=>{const i=[];r.forEach(s=>{i.push({...s.data(),firestoreId:s.id})}),t(i)})}async function tC(t,e){const n=qn(pt,"orders",t);try{return await aa(n,{status:e}),{success:!0}}catch(r){return console.error("Error updating status: ",r),{success:!1,error:r}}}async function F9(t){const e=qn(pt,"orders",t);try{return await ff(e),{success:!0}}catch(n){return console.error("Error deleting document: ",n),{success:!1,error:n}}}async function U9(t){if(!t.email)return console.error("Order is missing an email address. Cannot send email for order:",t.id),alert(`Could not send email for order ${t.id} because no email address is associated with it.`),{success:!1,error:"Recipient email address is missing"};const e={to_email:t.email,name:t.name,order_id:t.id,game_name:t.game,package_name:t.package,player_id:t.playerId,price:t.price.toFixed(2)};try{return await A9.send(R9,D9,e,M9),console.log("SUCCESS! Email sent for order:",t.id),{success:!0}}catch(n){return console.error("FAILED to send email...",n),alert(`Failed to send completion email for order ${t.id}. Error: ${n.text}`),{success:!1,error:n}}}const nC=$i(pt,"faqs");function rC(t){return mf(nC,n=>{const r=[];n.forEach(i=>{r.push({id:i.id,...i.data()})}),t(r.sort((i,s)=>i.question.localeCompare(s.question)))})}async function B9(t){try{return{success:!0,id:(await pf(nC,t)).id}}catch(e){return console.error("Error adding FAQ: ",e),{success:!1,error:e}}}async function j9(t,e){const n=qn(pt,"faqs",t);try{return await aa(n,e),{success:!0}}catch(r){return console.error("Error updating FAQ: ",r),{success:!1,error:r}}}async function z9(t){const e=qn(pt,"faqs",t);try{return await ff(e),{success:!0}}catch(n){return console.error("Error deleting FAQ: ",n),{success:!1,error:n}}}const Us=()=>g.createElement("div",{className:"flex items-center justify-center"},g.createElement("svg",{className:"animate-spin h-8 w-8 text-blue-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},g.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8z"}))),$9=({question:t,answer:e,isOpen:n,onClick:r})=>g.createElement("div",{className:"border border-gray-300 dark:border-gray-600 rounded-lg overflow-hidden"},g.createElement("button",{className:"w-full flex justify-between items-center py-5 px-2 text-left text-gray-800 dark:text-gray-100 hover:bg-gray-100/50 dark:hover:bg-gray-800/50",onClick:r},g.createElement("span",{className:"text-xl font-semibold"},t),g.createElement(Qd,{className:`w-5 h-5 transition-transform duration-300 ${n?"rotate-180":""}`})),g.createElement("div",{className:`grid overflow-hidden transition-all duration-300 ease-in-out ${n?"grid-rows-[1fr] opacity-100":"grid-rows-[0fr] opacity-0"}`},g.createElement("div",{className:"overflow-hidden"},g.createElement("p",{className:"pb-5 px-2 text-gray-600 dark:text-gray-300 text-base leading-relaxed"},e)))),H9=()=>{const[t,e]=N.useState(null),[n,r]=N.useState([]),[i,s]=N.useState(!0);N.useEffect(()=>{const a=rC(l=>{r(l),s(!1)});return()=>a()},[]);const o=a=>{e(t===a?null:a)};return i?g.createElement("div",{className:"w-full max-w-4xl mx-auto mt-16 p-8"},g.createElement(Us,null)):n.length===0?null:g.createElement("div",{className:"w-full max-w-3xl mx-auto mt-24 p-6 md:p-8 bg-white/30 dark:bg-gray-900/50 rounded-2xl shadow-2xl backdrop-blur-xl"},g.createElement("h2",{className:"text-4xl font-bold text-center mb-10 text-gray-900 dark:text-white"},"Frequently Asked Questions"),g.createElement("div",{className:"space-y-2"},n.map((a,l)=>g.createElement($9,{key:a.id,question:a.question,answer:a.answer,isOpen:t===l,onClick:()=>o(l)}))))},W9=async t=>{try{await pf($i(pt,"testimonials"),{...t,status:"pending",createdAt:new Date,likes:0,dislikes:0})}catch(e){console.error("Error adding testimonial: ",e)}},Sg=(t,e)=>{const n=JO($i(pt,"testimonials"),ZO("status","==",t));return mf(n,r=>{const i=[];r.forEach(s=>{i.push({id:s.id,...s.data()})}),e(i)})},q9=async t=>{try{const e=qn(pt,"testimonials",t);await aa(e,{status:"approved"})}catch(e){console.error("Error approving testimonial: ",e)}},ME=async t=>{try{await ff(qn(pt,"testimonials",t))}catch(e){console.error("Error deleting testimonial: ",e)}},K9=async t=>{try{const e=qn(pt,"testimonials",t);await aa(e,{likes:dk(1)})}catch(e){console.error("Error liking testimonial: ",e)}},G9=async t=>{try{const e=qn(pt,"testimonials",t);await aa(e,{dislikes:dk(1)})}catch(e){console.error("Error disliking testimonial: ",e)}};var iC={},sC={exports:{}},Q9="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Y9=Q9,X9=Y9;function oC(){}function aC(){}aC.resetWarningCache=oC;var J9=function(){function t(r,i,s,o,a,l){if(l!==X9){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:aC,resetWarningCache:oC};return n.PropTypes=n,n};sC.exports=J9();var Z9=sC.exports,nv={};Object.defineProperty(nv,"__esModule",{value:!0});var Dn=function(){function t(e,n){var r=[],i=!0,s=!1,o=void 0;try{for(var a=e[Symbol.iterator](),l;!(i=(l=a.next()).done)&&(r.push(l.value),!(n&&r.length===n));i=!0);}catch(c){s=!0,o=c}finally{try{!i&&a.return&&a.return()}finally{if(s)throw o}}return r}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();nv.default=e8;var Mn=N;function e8(t){var e=(0,Mn.useState)(t.count),n=Dn(e,2),r=n[0],i=n[1],s=(0,Mn.useState)(t.size),o=Dn(s,2),a=o[0],l=o[1],c=(0,Mn.useState)(t.char),u=Dn(c,2),d=u[0],f=u[1],m=(0,Mn.useState)(t.color),v=Dn(m,2),w=v[0],T=v[1],_=(0,Mn.useState)(t.activeColor),x=Dn(_,2),b=x[0],R=x[1],D=(0,Mn.useState)(t.isHalf),O=Dn(D,2),S=O[0],E=O[1],k=(0,Mn.useState)(t.edit),C=Dn(k,2),A=C[0],M=C[1],P=(0,Mn.useState)(t.emptyIcon),he=Dn(P,2),oe=he[0],Te=he[1],te=(0,Mn.useState)(t.halfIcon),B=Dn(te,2),W=B[0],K=B[1],de=(0,Mn.useState)(t.filledIcon),se=Dn(de,2),ce=se[0],Fe=se[1],Ge=(0,Mn.useState)(t.a11y),Re=Dn(Ge,2),Bt=Re[0],$r=Re[1],G={count:r,size:a,char:d,color:w,activeColor:b,isHalf:S,edit:A,emptyIcon:oe,halfIcon:W,filledIcon:ce,a11y:Bt};function Ie(ae){i(ae.count),l(ae.size),f(ae.char),T(ae.color),R(ae.activeColor),E(ae.isHalf),M(ae.edit),Te(ae.emptyIcon),K(ae.halfIcon),Fe(ae.filledIcon),$r(ae.a11y)}return[G,Ie]}var rv={};Object.defineProperty(rv,"__esModule",{value:!0});var t8=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};rv.default=o8;var n8=N,r8=i8(n8);function i8(t){return t&&t.__esModule?t:{default:t}}var s8={position:"relative",overflow:"hidden",cursor:"pointer",display:"block",float:"left"};function o8(t){var e=t.index,n=t.active,r=t.config,i=t.onMouseOver,s=t.onMouseLeave,o=t.onClick,a=t.halfStarHidden,l=t.halfStarAt,c=t.isUsingIcons,u=t.uniqueness,d=r.color,f=r.activeColor,m=r.size,v=r.char,w=r.isHalf,T=r.edit,_=r.halfIcon,x=r.emptyIcon,b=r.filledIcon,R="",D=!1;w&&!a&&l===e&&(c?R="react-stars-half":R="react-stars-"+u,D=!0);var O=t8({},s8,{color:n?f:d,cursor:T?"pointer":"default",fontSize:m+"px"});function S(){return c?n?b:!n&&D?_:x:v}return r8.default.createElement("span",{className:R,style:O,key:e,"data-index":e,"data-forhalf":b?e:v,onMouseOver:i,onMouseMove:i,onMouseLeave:s,onClick:o},S())}Object.defineProperty(iC,"__esModule",{value:!0});var Qr=function(){function t(e,n){var r=[],i=!0,s=!1,o=void 0;try{for(var a=e[Symbol.iterator](),l;!(i=(l=a.next()).done)&&(r.push(l.value),!(n&&r.length===n));i=!0);}catch(c){s=!0,o=c}finally{try{!i&&a.return&&a.return()}finally{if(s)throw o}}return r}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),yr=N,Va=wf(yr),a8=Z9,an=wf(a8),l8=nv,c8=wf(l8),u8=rv,h8=wf(u8);function wf(t){return t&&t.__esModule?t:{default:t}}var d8={overflow:"hidden",position:"relative"};function f8(t,e){return`
    .react-stars-`+e+`:before {
      position: absolute;
      overflow: hidden;
      display: block;
      z-index: 1;
      top: 0; left: 0;
      width: 50%;
      content: attr(data-forhalf);
      color: `+t+`;
  }`}function p8(t){return`
          span.react-stars-half > * {
          color: `+t+`;
      }`}function iv(t){var e=(0,yr.useState)(""),n=Qr(e,2),r=n[0],i=n[1],s=(0,yr.useState)(0),o=Qr(s,2),a=o[0],l=o[1],c=(0,yr.useState)([]),u=Qr(c,2),d=u[0],f=u[1],m=(0,yr.useState)(!1),v=Qr(m,2),w=v[0],T=v[1],_=(0,c8.default)(t),x=Qr(_,2),b=x[0],R=x[1],D=(0,yr.useState)(0),O=Qr(D,2),S=O[0],E=O[1],k=(0,yr.useState)(!1),C=Qr(k,2),A=C[0],M=C[1],P=(0,yr.useState)(""),he=Qr(P,2),oe=he[0],Te=he[1];function te(Y){return!Y.isHalf&&Y.emptyIcon&&Y.filledIcon||Y.isHalf&&Y.emptyIcon&&Y.halfIcon&&Y.filledIcon}function B(){i((Math.random()+"").replace(".",""))}(0,yr.useEffect)(function(){K(),W(t.value,t.count),f(ce(t.value)),R(t),B(),T(te(t)),E(Math.floor(t.value)),M(t.isHalf&&t.value%1<.5)},[]);function W(Y,ne){Y<0||Y>ne?l(0):l(Y)}function K(){var Y="react-stars";Te(t.classNames+(" "+Y))}function de(Y){return Y%1===0}function se(){return b.isHalf?Math.floor(a):Math.round(a)}function ce(Y){typeof Y>"u"&&(Y=se());for(var ne=[],ye=0;ye<b.count;ye++)ne.push({active:ye<=Y-1});return ne}function Fe(Y){if(b.edit){var ne=Number(Y.currentTarget.getAttribute("data-index"));if(b.isHalf){var ye=Re(Y);M(ye),ye&&(ne+=1),E(ne)}else ne+=1;Ge(ne)}}function Ge(Y){var ne=d.filter(function(ye){return ye.active});Y!==ne.length&&f(ce(Y))}function Re(Y){var ne=Y.target,ye=ne.getBoundingClientRect(),et=Y.clientX-ye.left;return et=Math.round(Math.abs(et)),et>ye.width/2}function Bt(){b.edit&&($r(a),f(ce()))}function $r(Y){b.isHalf&&(M(de(Y)),E(Math.floor(Y)))}function G(Y){if(b.edit){var ne=Number(Y.currentTarget.getAttribute("data-index")),ye=void 0;if(b.isHalf){var et=Re(Y);M(et),et&&(ne+=1),ye=et?ne:ne+.5,E(ne)}else ye=ne=ne+1;ae(ye)}}function Ie(){return Va.default.createElement("style",{dangerouslySetInnerHTML:{__html:w?p8(b.activeColor):f8(b.activeColor,r)}})}function ae(Y){Y!==a&&(f(ce(Y)),l(Y),t.onChange(Y))}function sn(Y){if(!(!b.a11y&&!b.edit)){var ne=Y.key,ye=a,et=Number(ne);et?Number.isInteger(et)&&et>0&&et<=b.count&&(ye=et):(ne==="ArrowUp"||ne==="ArrowRight")&&ye<b.count?(Y.preventDefault(),ye+=b.isHalf?.5:1):(ne==="ArrowDown"||ne==="ArrowLeft")&&ye>.5&&(Y.preventDefault(),ye-=b.isHalf?.5:1),$r(ye),ae(ye)}}function fr(){return d.map(function(Y,ne){return Va.default.createElement(h8.default,{key:ne,index:ne,active:Y.active,config:b,onMouseOver:Fe,onMouseLeave:Bt,onClick:G,halfStarHidden:A,halfStarAt:S,isUsingIcons:w,uniqueness:r})})}return Va.default.createElement("div",{className:"react-stars-wrapper-"+r,style:{display:"flex"}},Va.default.createElement("div",{tabIndex:b.a11y&&b.edit?0:null,"aria-label":"add rating by typing an integer from 0 to 5 or pressing arrow keys",onKeyDown:sn,className:oe,style:d8},b.isHalf&&Ie(),fr(),Va.default.createElement("p",{style:{position:"absolute",left:"-200rem"},role:"status"},a)))}iv.propTypes={classNames:an.default.string,edit:an.default.bool,half:an.default.bool,value:an.default.number,count:an.default.number,char:an.default.string,size:an.default.number,color:an.default.string,activeColor:an.default.string,emptyIcon:an.default.element,halfIcon:an.default.element,filledIcon:an.default.element,a11y:an.default.bool};iv.defaultProps={edit:!0,half:!1,value:0,count:5,char:"",size:15,color:"gray",activeColor:"#ffd700",a11y:!0,onChange:function(){}};var lC=iC.default=iv;const m8=({id:t,quote:e,name:n,title:r,avatar:i,rating:s,likes:o,dislikes:a})=>{const[l,c]=N.useState(!1),u=()=>{l||(K9(t),c(!0))},d=()=>{l||(G9(t),c(!0))};return g.createElement("div",{className:"bg-white/30 dark:bg-gray-900/50 p-8 rounded-2xl shadow-xl backdrop-blur-lg transform hover:scale-105 transition-transform duration-300 border border-gray-300 dark:border-gray-600 flex flex-col justify-between"},g.createElement("div",null,s>0&&g.createElement(lC,{count:5,value:s,size:24,isHalf:!0,edit:!1,activeColor:"#ffd700"}),g.createElement("p",{className:"text-gray-700 dark:text-gray-300 text-lg my-4 font-light"},'"',e,'"')),g.createElement("div",null,g.createElement("div",{className:"flex items-center mt-4"},g.createElement("img",{className:"w-12 h-12 rounded-full mr-4 border-2 border-blue-400",src:i||`https://i.pravatar.cc/150?u=${n}`,alt:n}),g.createElement("div",null,g.createElement("p",{className:"font-bold text-gray-900 dark:text-white"},n),g.createElement("p",{className:"text-sm text-gray-500 dark:text-gray-400"},r))),g.createElement("div",{className:"flex items-center justify-end mt-4 text-gray-500 dark:text-gray-400"},g.createElement("button",{onClick:u,disabled:l,className:"flex items-center space-x-1 mr-4 disabled:opacity-50"},g.createElement(lD,null),g.createElement("span",null,o||0)),g.createElement("button",{onClick:d,disabled:l,className:"flex items-center space-x-1 disabled:opacity-50"},g.createElement(aD,null),g.createElement("span",null,a||0)))))},g8=()=>{const[t,e]=N.useState([]),[n,r]=N.useState(!0);return N.useEffect(()=>{const i=Sg("approved",s=>{e(s),r(!1)});return()=>i()},[]),n?g.createElement("div",{className:"text-center py-24"},g.createElement(Us,null)):t.length===0?null:g.createElement("div",{className:"w-full max-w-6xl mx-auto py-24 px-4"},g.createElement("h2",{className:"text-4xl font-bold text-center text-gray-900 dark:text-white mb-16"},"What Our Players Are Saying"),g.createElement("div",{className:"flex flex-wrap justify-center gap-8"},t.map(i=>g.createElement(m8,{key:i.id,...i}))))};function y8(t){return Ae({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M11.343 18.031c.058.049.12.098.181.146-1.177.783-2.59 1.238-4.107 1.238C3.32 19.416 0 16.096 0 12c0-4.095 3.32-7.416 7.416-7.416 1.518 0 2.931.456 4.105 1.238-.06.051-.12.098-.165.15C9.6 7.489 8.595 9.688 8.595 12c0 2.311 1.001 4.51 2.748 6.031zm5.241-13.447c-1.52 0-2.931.456-4.105 1.238.06.051.12.098.165.15C14.4 7.489 15.405 9.688 15.405 12c0 2.31-1.001 4.507-2.748 6.031-.058.049-.12.098-.181.146 1.177.783 2.588 1.238 4.107 1.238C20.68 19.416 24 16.096 24 12c0-4.094-3.32-7.416-7.416-7.416zM12 6.174c-.096.075-.189.15-.28.231C10.156 7.764 9.169 9.765 9.169 12c0 2.236.987 4.236 2.551 5.595.09.08.185.158.28.232.096-.074.189-.152.28-.232 1.563-1.359 2.551-3.359 2.551-5.595 0-2.235-.987-4.236-2.551-5.595-.09-.08-.184-.156-.28-.231z"},child:[]}]})(t)}function v8(t){return Ae({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M1.425 20.693c-.107-.247-.132-.4-.131-.8 0-.376.015-.478.208-1.416a38 38 0 0 0 .2-1.015c-.1-.056-.481-.376-.7-.587-.49-.472-.799-.938-.942-1.415-.059-.195-.067-.282-.056-.592.013-.341.02-.378.127-.599a2 2 0 0 1 .257-.39c.14-.15.145-.161.188-.465.024-.171.072-.493.105-.715.054-.36.056-.424.018-.592a2.84 2.84 0 0 1 .082-1.529c.358-.99 1.39-1.681 3-2.007 1.226-.249 2.815-.265 4.374-.045 1.537.218 3.344.715 5.011 1.38.214.086.392.152.396.148.014-.014-1.28-.668-1.61-.814A17 17 0 0 0 8.28 8.073C7.472 7.92 7.22 7.9 6.147 7.9c-.931 0-1.068.007-1.46.073a7 7 0 0 0-.836.18c-.1.03-.056-.046.082-.141.516-.356 1.36-.69 2.23-.886.853-.191.851-.177.023-.165-.407.006-.74.002-.74-.009s.025-.041.055-.068a10 10 0 0 0 .342-.376c.493-.56 1.253-1.22 1.923-1.667 1.278-.854 2.553-1.345 4.124-1.588.51-.08 2.061-.08 2.6 0 1.682.245 2.964.707 4.14 1.49.554.37.864.624 1.339 1.101.953.958 1.613 2.02 2.191 3.527.31.808.601 1.76.756 2.474l.072.331.164.115c.09.063.183.152.206.198s.166.448.316.894c.151.445.286.814.3.82s.026.111.026.234c0 .213-.004.225-.086.264-.106.05-1.037.255-1.16.255-.127 0-.23-.11-.322-.343l-.177-.436c-.054-.128-.172-.416-.263-.638-.302-.739-.295-.725-.394-.766-.08-.033-.128-.026-.393.064-.166.057-.35.13-.407.165a.55.55 0 0 0-.221.4c-.001.091.23.762.289.84.067.089 1.591 1.11 1.688 1.131.06.013.253-.014.528-.074l.438-.094c.003 0 .016.215.028.478.021.45.018.486-.043.607-.104.204-.003.16-1.67.723-1.314.444-1.564.497-2.353.497a4.5 4.5 0 0 1-2.388-.644c-.48-.283-1.052-.767-1.224-1.037-.133-.209-.16-.04.34-2.195.1-.427.194-.781.211-.787.017-.005.09.1.163.236s.164.266.202.29.287.14.552.259c.409.182.515.217.695.228a.82.82 0 0 0 .79-.41c.083-.131.097-.2.213-1.07l.158-1.178c.098-.725.09-.957-.046-1.248-.153-.327-.328-.474-.881-.741-.918-.444-.862-.435-1.279-.204-.158.088-.29.161-.293.164a8 8 0 0 0 .313-.006l.318-.01.52.24c.408.19.555.275.678.392.301.29.393.655.31 1.241-.052.37-.085.458-.23.615-.185.202-.334.269-.596.27-.208 0-.243-.01-.732-.24-.509-.24-.516-.242-.79-.249l-.276-.007-.039.156-.166.685c-.162.673-.477 1.976-.735 3.038-.11.454-.258 1.063-.327 1.355-.159.668-.214.86-.307 1.075-.219.503-.689.99-1.2 1.245-.578.287-1.076.342-1.828.205a45 45 0 0 0-4.48-.615c-.606-.053-2.655-.053-3.051 0-.826.111-1.187.19-1.535.337a1.93 1.93 0 0 0-.847.672c-.174.257-.253.71-.191 1.092.029.177-.008.192-.079.03zm.317-3.394c0-.028.06-.365.165-.929.1-.538.212-.748.576-1.086.604-.56 1.758-.924 3.331-1.05.557-.045 2.451-.014 3.072.05 1.287.131 1.77.195 2.88.38.906.151.886.15.7.073a58 58 0 0 0-2.054-.744c-1.222-.412-1.941-.578-3.207-.74-.625-.08-2.496-.081-3.082-.001-1.13.154-1.95.382-2.568.717-.523.282-.895.643-1.049 1.02-.09.22-.075.702.03.956.124.299.332.586.65.9.436.428.556.526.556.454m-.558-4.09c.15-.107.649-.33.963-.43.525-.169.957-.256 1.805-.367.497-.065 2.617-.093 3.284-.043l.716.053c.286.022.316-.01.392-.418l.184-.974c.19-1 .248-1.318.249-1.375 0-.105-.107-.19-.281-.217-.792-.129-2.275-.198-3.255-.153-2.203.1-3.583.628-4.102 1.566a1.6 1.6 0 0 0-.219.662q-.018.188.01.105c.143-.436.52-.88.926-1.094.237-.125.26-.132.26-.088 0 .015-.063.058-.14.096q-.273.131-.513.593c-.153.295-.193.468-.297 1.291a61 61 0 0 1-.096.74c-.021.135-.008.14.114.053m9.586-.184c.066-.052.078-.085.078-.236 0-.159-.01-.184-.102-.266-.12-.108-.188-.114-.298-.028-.161.128-.122.44.069.544.11.06.16.057.253-.014m7.349-1.91c.223-.15.319-.421.251-.712-.118-.515-.662-.73-.966-.384-.283.322-.166.91.22 1.1.178.088.361.087.495-.004m-.321-.32c-.187-.102-.245-.433-.103-.586.108-.117.285-.115.4.006.166.172.172.42.016.551-.105.088-.19.096-.313.029m-6.548-.146c.098-.139.036-.446-.105-.521-.09-.049-.204-.039-.257.022-.14.16-.142.312-.003.476.1.12.29.132.366.023z"},child:[]}]})(t)}function _8(t){return Ae({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M9.112 8.262L5.97 15.758H3.92L2.374 9.775c-.094-.368-.175-.503-.461-.658C1.447 8.864.677 8.627 0 8.479l.046-.217h3.3a.904.904 0 01.894.764l.817 4.338 2.018-5.102zm8.033 5.049c.008-1.979-2.736-2.088-2.717-2.972.006-.269.262-.555.822-.628a3.66 3.66 0 011.913.336l.34-1.59a5.207 5.207 0 00-1.814-.333c-1.917 0-3.266 1.02-3.278 2.479-.012 1.079.963 1.68 1.698 2.04.756.367 1.01.603 1.006.931-.005.504-.602.725-1.16.734-.975.015-1.54-.263-1.992-.473l-.351 1.642c.453.208 1.289.39 2.156.398 2.037 0 3.37-1.006 3.377-2.564m5.061 2.447H24l-1.565-7.496h-1.656a.883.883 0 00-.826.55l-2.909 6.946h2.036l.405-1.12h2.488zm-2.163-2.656l1.02-2.815.588 2.815zm-8.16-4.84l-1.603 7.496H8.34l1.605-7.496z"},child:[]}]})(t)}const w8=[{name:"Visa",icon:g.createElement(_8,null),color:"#1A1F71"},{name:"Mastercard",icon:g.createElement(y8,null),color:"#EB001B"},{name:"PayPal",icon:g.createElement(X5,null),color:"#00457C"},{name:"Apple Pay",icon:g.createElement(K5,null),color:"#000000"},{name:"Google Pay",icon:g.createElement(Q5,null),color:"#5F6368"},{name:"Amazon Pay",icon:g.createElement(q5,null),color:"#FF9900"}],E8=()=>g.createElement("div",{className:"w-full max-w-4xl mx-auto py-12"},g.createElement("h3",{className:"text-center text-lg font-semibold text-gray-600 dark:text-gray-400 mb-8"},"Secure Payments Accepted"),g.createElement("div",{className:"flex justify-center items-center flex-wrap gap-8"},w8.map(t=>g.createElement("div",{key:t.name,className:"text-5xl text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",style:{"--color":t.color},onMouseOver:e=>e.currentTarget.style.color=e.currentTarget.style.getPropertyValue("--color"),onMouseOut:e=>e.currentTarget.style.color=""},t.icon))));var T8=typeof Element<"u",x8=typeof Map=="function",b8=typeof Set=="function",S8=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function vh(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,i;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!vh(t[r],e[r]))return!1;return!0}var s;if(x8&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;for(s=t.entries();!(r=s.next()).done;)if(!vh(r.value[1],e.get(r.value[0])))return!1;return!0}if(b8&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(S8&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;if(T8&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&t.$$typeof)&&!vh(t[i[r]],e[i[r]]))return!1;return!0}return t!==t&&e!==e}var I8=function(e,n){try{return vh(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const k8=Dd(I8);var C8=function(t,e,n,r,i,s,o,a){if(!t){var l;if(e===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,s,o,a],u=0;l=new Error(e.replace(/%s/g,function(){return c[u++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}},P8=C8;const NE=Dd(P8);var A8=function(e,n,r,i){var s=r?r.call(i,e,n):void 0;if(s!==void 0)return!!s;if(e===n)return!0;if(typeof e!="object"||!e||typeof n!="object"||!n)return!1;var o=Object.keys(e),a=Object.keys(n);if(o.length!==a.length)return!1;for(var l=Object.prototype.hasOwnProperty.bind(n),c=0;c<o.length;c++){var u=o[c];if(!l(u))return!1;var d=e[u],f=n[u];if(s=r?r.call(i,d,f,u):void 0,s===!1||s===void 0&&d!==f)return!1}return!0};const R8=Dd(A8);var cC=(t=>(t.BASE="base",t.BODY="body",t.HEAD="head",t.HTML="html",t.LINK="link",t.META="meta",t.NOSCRIPT="noscript",t.SCRIPT="script",t.STYLE="style",t.TITLE="title",t.FRAGMENT="Symbol(react.fragment)",t))(cC||{}),Dp={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},OE=Object.values(cC),sv={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},D8=Object.entries(sv).reduce((t,[e,n])=>(t[n]=e,t),{}),Fn="data-rh",Co={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},Po=(t,e)=>{for(let n=t.length-1;n>=0;n-=1){const r=t[n];if(Object.prototype.hasOwnProperty.call(r,e))return r[e]}return null},M8=t=>{let e=Po(t,"title");const n=Po(t,Co.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),n&&e)return n.replace(/%s/g,()=>e);const r=Po(t,Co.DEFAULT_TITLE);return e||r||void 0},N8=t=>Po(t,Co.ON_CHANGE_CLIENT_STATE)||(()=>{}),Mp=(t,e)=>e.filter(n=>typeof n[t]<"u").map(n=>n[t]).reduce((n,r)=>({...n,...r}),{}),O8=(t,e)=>e.filter(n=>typeof n.base<"u").map(n=>n.base).reverse().reduce((n,r)=>{if(!n.length){const i=Object.keys(r);for(let s=0;s<i.length;s+=1){const a=i[s].toLowerCase();if(t.indexOf(a)!==-1&&r[a])return n.concat(r)}}return n},[]),L8=t=>console&&typeof console.warn=="function"&&console.warn(t),Fa=(t,e,n)=>{const r={};return n.filter(i=>Array.isArray(i[t])?!0:(typeof i[t]<"u"&&L8(`Helmet: ${t} should be of type "Array". Instead found type "${typeof i[t]}"`),!1)).map(i=>i[t]).reverse().reduce((i,s)=>{const o={};s.filter(l=>{let c;const u=Object.keys(l);for(let f=0;f<u.length;f+=1){const m=u[f],v=m.toLowerCase();e.indexOf(v)!==-1&&!(c==="rel"&&l[c].toLowerCase()==="canonical")&&!(v==="rel"&&l[v].toLowerCase()==="stylesheet")&&(c=v),e.indexOf(m)!==-1&&(m==="innerHTML"||m==="cssText"||m==="itemprop")&&(c=m)}if(!c||!l[c])return!1;const d=l[c].toLowerCase();return r[c]||(r[c]={}),o[c]||(o[c]={}),r[c][d]?!1:(o[c][d]=!0,!0)}).reverse().forEach(l=>i.push(l));const a=Object.keys(o);for(let l=0;l<a.length;l+=1){const c=a[l],u={...r[c],...o[c]};r[c]=u}return i},[]).reverse()},V8=(t,e)=>{if(Array.isArray(t)&&t.length){for(let n=0;n<t.length;n+=1)if(t[n][e])return!0}return!1},F8=t=>({baseTag:O8(["href"],t),bodyAttributes:Mp("bodyAttributes",t),defer:Po(t,Co.DEFER),encode:Po(t,Co.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Mp("htmlAttributes",t),linkTags:Fa("link",["rel","href"],t),metaTags:Fa("meta",["name","charset","http-equiv","property","itemprop"],t),noscriptTags:Fa("noscript",["innerHTML"],t),onChangeClientState:N8(t),scriptTags:Fa("script",["src","innerHTML"],t),styleTags:Fa("style",["cssText"],t),title:M8(t),titleAttributes:Mp("titleAttributes",t),prioritizeSeoTags:V8(t,Co.PRIORITIZE_SEO_TAGS)}),uC=t=>Array.isArray(t)?t.join(""):t,U8=(t,e)=>{const n=Object.keys(t);for(let r=0;r<n.length;r+=1)if(e[n[r]]&&e[n[r]].includes(t[n[r]]))return!0;return!1},Np=(t,e)=>Array.isArray(t)?t.reduce((n,r)=>(U8(r,e)?n.priority.push(r):n.default.push(r),n),{priority:[],default:[]}):{default:t,priority:[]},LE=(t,e)=>({...t,[e]:void 0}),B8=["noscript","script","style"],Ig=(t,e=!0)=>e===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),hC=t=>Object.keys(t).reduce((e,n)=>{const r=typeof t[n]<"u"?`${n}="${t[n]}"`:`${n}`;return e?`${e} ${r}`:r},""),j8=(t,e,n,r)=>{const i=hC(n),s=uC(e);return i?`<${t} ${Fn}="true" ${i}>${Ig(s,r)}</${t}>`:`<${t} ${Fn}="true">${Ig(s,r)}</${t}>`},z8=(t,e,n=!0)=>e.reduce((r,i)=>{const s=i,o=Object.keys(s).filter(c=>!(c==="innerHTML"||c==="cssText")).reduce((c,u)=>{const d=typeof s[u]>"u"?u:`${u}="${Ig(s[u],n)}"`;return c?`${c} ${d}`:d},""),a=s.innerHTML||s.cssText||"",l=B8.indexOf(t)===-1;return`${r}<${t} ${Fn}="true" ${o}${l?"/>":`>${a}</${t}>`}`},""),dC=(t,e={})=>Object.keys(t).reduce((n,r)=>{const i=sv[r];return n[i||r]=t[r],n},e),$8=(t,e,n)=>{const r={key:e,[Fn]:!0},i=dC(n,r);return[g.createElement("title",i,e)]},_h=(t,e)=>e.map((n,r)=>{const i={key:r,[Fn]:!0};return Object.keys(n).forEach(s=>{const a=sv[s]||s;if(a==="innerHTML"||a==="cssText"){const l=n.innerHTML||n.cssText;i.dangerouslySetInnerHTML={__html:l}}else i[a]=n[s]}),g.createElement(t,i)}),vn=(t,e,n=!0)=>{switch(t){case"title":return{toComponent:()=>$8(t,e.title,e.titleAttributes),toString:()=>j8(t,e.title,e.titleAttributes,n)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>dC(e),toString:()=>hC(e)};default:return{toComponent:()=>_h(t,e),toString:()=>z8(t,e,n)}}},H8=({metaTags:t,linkTags:e,scriptTags:n,encode:r})=>{const i=Np(t,Dp.meta),s=Np(e,Dp.link),o=Np(n,Dp.script);return{priorityMethods:{toComponent:()=>[..._h("meta",i.priority),..._h("link",s.priority),..._h("script",o.priority)],toString:()=>`${vn("meta",i.priority,r)} ${vn("link",s.priority,r)} ${vn("script",o.priority,r)}`},metaTags:i.default,linkTags:s.default,scriptTags:o.default}},W8=t=>{const{baseTag:e,bodyAttributes:n,encode:r=!0,htmlAttributes:i,noscriptTags:s,styleTags:o,title:a="",titleAttributes:l,prioritizeSeoTags:c}=t;let{linkTags:u,metaTags:d,scriptTags:f}=t,m={toComponent:()=>{},toString:()=>""};return c&&({priorityMethods:m,linkTags:u,metaTags:d,scriptTags:f}=H8(t)),{priority:m,base:vn("base",e,r),bodyAttributes:vn("bodyAttributes",n,r),htmlAttributes:vn("htmlAttributes",i,r),link:vn("link",u,r),meta:vn("meta",d,r),noscript:vn("noscript",s,r),script:vn("script",f,r),style:vn("style",o,r),title:vn("title",{title:a,titleAttributes:l},r)}},kg=W8,Ru=[],fC=!!(typeof window<"u"&&window.document&&window.document.createElement),Cg=class{constructor(t,e){X(this,"instances",[]);X(this,"canUseDOM",fC);X(this,"context");X(this,"value",{setHelmet:t=>{this.context.helmet=t},helmetInstances:{get:()=>this.canUseDOM?Ru:this.instances,add:t=>{(this.canUseDOM?Ru:this.instances).push(t)},remove:t=>{const e=(this.canUseDOM?Ru:this.instances).indexOf(t);(this.canUseDOM?Ru:this.instances).splice(e,1)}}});this.context=t,this.canUseDOM=e||!1,e||(t.helmet=kg({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},q8={},pC=g.createContext(q8),ps,mC=(ps=class extends N.Component{constructor(n){super(n);X(this,"helmetData");this.helmetData=new Cg(this.props.context||{},ps.canUseDOM)}render(){return g.createElement(pC.Provider,{value:this.helmetData.value},this.props.children)}},X(ps,"canUseDOM",fC),ps),Ks=(t,e)=>{const n=document.head||document.querySelector("head"),r=n.querySelectorAll(`${t}[${Fn}]`),i=[].slice.call(r),s=[];let o;return e&&e.length&&e.forEach(a=>{const l=document.createElement(t);for(const c in a)if(Object.prototype.hasOwnProperty.call(a,c))if(c==="innerHTML")l.innerHTML=a.innerHTML;else if(c==="cssText")l.styleSheet?l.styleSheet.cssText=a.cssText:l.appendChild(document.createTextNode(a.cssText));else{const u=c,d=typeof a[u]>"u"?"":a[u];l.setAttribute(c,d)}l.setAttribute(Fn,"true"),i.some((c,u)=>(o=u,l.isEqualNode(c)))?i.splice(o,1):s.push(l)}),i.forEach(a=>{var l;return(l=a.parentNode)==null?void 0:l.removeChild(a)}),s.forEach(a=>n.appendChild(a)),{oldTags:i,newTags:s}},Pg=(t,e)=>{const n=document.getElementsByTagName(t)[0];if(!n)return;const r=n.getAttribute(Fn),i=r?r.split(","):[],s=[...i],o=Object.keys(e);for(const a of o){const l=e[a]||"";n.getAttribute(a)!==l&&n.setAttribute(a,l),i.indexOf(a)===-1&&i.push(a);const c=s.indexOf(a);c!==-1&&s.splice(c,1)}for(let a=s.length-1;a>=0;a-=1)n.removeAttribute(s[a]);i.length===s.length?n.removeAttribute(Fn):n.getAttribute(Fn)!==o.join(",")&&n.setAttribute(Fn,o.join(","))},K8=(t,e)=>{typeof t<"u"&&document.title!==t&&(document.title=uC(t)),Pg("title",e)},VE=(t,e)=>{const{baseTag:n,bodyAttributes:r,htmlAttributes:i,linkTags:s,metaTags:o,noscriptTags:a,onChangeClientState:l,scriptTags:c,styleTags:u,title:d,titleAttributes:f}=t;Pg("body",r),Pg("html",i),K8(d,f);const m={baseTag:Ks("base",n),linkTags:Ks("link",s),metaTags:Ks("meta",o),noscriptTags:Ks("noscript",a),scriptTags:Ks("script",c),styleTags:Ks("style",u)},v={},w={};Object.keys(m).forEach(T=>{const{newTags:_,oldTags:x}=m[T];_.length&&(v[T]=_),x.length&&(w[T]=m[T].oldTags)}),e&&e(),l(t,v,w)},Ua=null,G8=t=>{Ua&&cancelAnimationFrame(Ua),t.defer?Ua=requestAnimationFrame(()=>{VE(t,()=>{Ua=null})}):(VE(t),Ua=null)},Q8=G8,FE=class extends N.Component{constructor(){super(...arguments);X(this,"rendered",!1)}shouldComponentUpdate(e){return!R8(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:n}=this.props.context;let r=null;const i=F8(e.get().map(s=>{const o={...s.props};return delete o.context,o}));mC.canUseDOM?Q8(i):kg&&(r=kg(i)),n(r)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},rm,Y8=(rm=class extends N.Component{shouldComponentUpdate(t){return!k8(LE(this.props,"helmetData"),LE(t,"helmetData"))}mapNestedChildrenToProps(t,e){if(!e)return null;switch(t.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${t.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(t,e,n,r){return{...e,[t.type]:[...e[t.type]||[],{...n,...this.mapNestedChildrenToProps(t,r)}]}}mapObjectTypeChildren(t,e,n,r){switch(t.type){case"title":return{...e,[t.type]:r,titleAttributes:{...n}};case"body":return{...e,bodyAttributes:{...n}};case"html":return{...e,htmlAttributes:{...n}};default:return{...e,[t.type]:{...n}}}}mapArrayTypeChildrenToProps(t,e){let n={...e};return Object.keys(t).forEach(r=>{n={...n,[r]:t[r]}}),n}warnOnInvalidChildren(t,e){return NE(OE.some(n=>t.type===n),typeof t.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${OE.join(", ")} are allowed. Helmet does not support rendering <${t.type}> elements. Refer to our API for more information.`),NE(!e||typeof e=="string"||Array.isArray(e)&&!e.some(n=>typeof n!="string"),`Helmet expects a string as a child of <${t.type}>. Did you forget to wrap your children in braces? ( <${t.type}>{\`\`}</${t.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(t,e){let n={};return g.Children.forEach(t,r=>{if(!r||!r.props)return;const{children:i,...s}=r.props,o=Object.keys(s).reduce((l,c)=>(l[D8[c]||c]=s[c],l),{});let{type:a}=r;switch(typeof a=="symbol"?a=a.toString():this.warnOnInvalidChildren(r,i),a){case"Symbol(react.fragment)":e=this.mapChildrenToProps(i,e);break;case"link":case"meta":case"noscript":case"script":case"style":n=this.flattenArrayTypeChildren(r,n,o,i);break;default:e=this.mapObjectTypeChildren(r,e,o,i);break}}),this.mapArrayTypeChildrenToProps(n,e)}render(){const{children:t,...e}=this.props;let n={...e},{helmetData:r}=e;if(t&&(n=this.mapChildrenToProps(t,n)),r&&!(r instanceof Cg)){const i=r;r=new Cg(i.context,!0),delete n.helmetData}return r?g.createElement(FE,{...n,context:r.value}):g.createElement(pC.Consumer,null,i=>g.createElement(FE,{...n,context:i}))}},X(rm,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),rm);const ov=({title:t,description:e,keywords:n,ogImage:r,ogUrl:i})=>{const s="TopUp Store",o=t?`${t} | ${s}`:`${s} - Instant Game Credits`;return g.createElement(Y8,null,g.createElement("title",null,o),e&&g.createElement("meta",{name:"description",content:e}),n&&g.createElement("meta",{name:"keywords",content:n}),g.createElement("meta",{property:"og:title",content:o}),g.createElement("meta",{property:"og:site_name",content:s}),i&&g.createElement("meta",{property:"og:url",content:i}),r&&g.createElement("meta",{property:"og:image",content:r}),e&&g.createElement("meta",{property:"og:description",content:e}),g.createElement("meta",{name:"twitter:card",content:"summary_large_image"}),g.createElement("meta",{name:"twitter:title",content:o}),e&&g.createElement("meta",{name:"twitter:description",content:e}),r&&g.createElement("meta",{name:"twitter:image",content:r}))},X8=()=>{const[t,e]=N.useState("PUBG"),[n,r]=N.useState({}),i=ji();N.useEffect(()=>{(async()=>{const l=(await L9()).reduce((c,u)=>{const d=u.game;return d&&(c[d]=(c[d]||0)+1),c},{});r(l)})()},[]);const s=()=>{i("/select-package",{state:{game:t}})};return g.createElement("main",{className:"bg-gray-100 dark:bg-gray-900"},g.createElement(ov,{title:"Home",description:"The fastest and most reliable place to top up your favorite games like PUBG and Free Fire. Choose your package and get back in the action.",keywords:"game topup, home, pubg, free fire"}),g.createElement("section",{className:"relative flex flex-col items-center justify-center min-h-screen"},g.createElement("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500 to-purple-600 dark:from-blue-800 dark:to-purple-900 opacity-20"}),g.createElement("div",{className:"relative z-10 flex flex-col items-center text-center p-8"},g.createElement("h1",{className:"text-4xl md:text-6xl font-extrabold text-gray-900 dark:text-white mb-4 animate-fade-in-down"},"Top Up Your Game"),g.createElement("p",{className:"text-lg text-gray-700 dark:text-gray-300 mb-12 max-w-2xl animate-fade-in-up"},"Select your game, choose your package, and get back in the action faster than ever."),g.createElement(ED,{value:t,onChange:e,orderCounts:n}),g.createElement("div",{className:"h-8 mt-6"},g.createElement("p",{key:t,className:"text-lg font-semibold text-gray-800 dark:text-gray-200 animate-fade-in-up"},"You selected: ",g.createElement("span",{className:"font-bold text-blue-600 dark:text-blue-400"},t))),g.createElement("button",{className:"mt-8 group inline-flex items-center justify-center px-8 py-3 bg-blue-600 text-white font-bold rounded-full shadow-lg hover:bg-blue-700 transition-transform transform hover:scale-110 animate-pulse-slow",onClick:s},"Get Started",g.createElement("svg",{className:"w-5 h-5 ml-2 transition-transform transform group-hover:translate-x-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 8l4 4m0 0l-4 4m4-4H3"})))),g.createElement(E8,null)),g.createElement("section",null,g.createElement(H9,null)),g.createElement("section",null,g.createElement(g8,null)))},J8=({game:t})=>{switch(t){case"PUBG":return g.createElement(v8,{className:"text-orange-500 text-4xl flex-shrink-0"});case"Free Fire":return g.createElement(nD,{className:"text-cyan-400 text-4xl flex-shrink-0"});case"PES":return g.createElement(mw,{className:"text-yellow-400 text-4xl flex-shrink-0"});default:return g.createElement(mw,{className:"text-gray-400 text-4xl flex-shrink-0"})}},Z8=({name:t,price:e,onTopUp:n,game:r})=>g.createElement("div",{className:"flex flex-col bg-white/60 dark:bg-gray-800/60 p-6 rounded-xl border border-white/10 dark:border-gray-700/50 shadow-lg hover:shadow-xl hover:-translate-y-1 transition-all duration-300"},g.createElement("div",{className:"flex items-center gap-4 mb-5"},g.createElement(J8,{game:r}),g.createElement("h3",{className:"text-2xl font-bold text-gray-800 dark:text-white"},t)),g.createElement("p",{className:"text-2xl font-medium text-gray-600 dark:text-gray-300 mb-6"},"EGP ",e),g.createElement("div",{className:"flex-grow"}),g.createElement("button",{onClick:n,className:"group w-full flex items-center justify-center gap-2 px-6 py-3 bg-green-500 text-white font-bold rounded-lg shadow-md hover:bg-green-600 hover:scale-105 focus:outline-none focus:ring-2 focus:ring-green-400 focus:ring-opacity-75 transition-transform duration-300 text-base"},g.createElement("span",null,"Top Up Now"),g.createElement(oD,{className:"transition-transform group-hover:rotate-12"}))),gC=t=>{const e=$i(pt,"packages");return mf(e,n=>{const r=[];n.forEach(i=>{r.push({id:i.id,...i.data()})}),r.sort((i,s)=>i.price-s.price),t(r)})},e7=async t=>{try{if(t.id){const e=qn(pt,"packages",t.id),{id:n,...r}=t;await aa(e,r)}else{const{id:e,...n}=t;await pf($i(pt,"packages"),n)}}catch(e){console.error("Error saving package:",e)}},t7=async t=>{await ff(qn(pt,"packages",t))},n7=()=>{var u;const e=((u=jr().state)==null?void 0:u.game)||"PUBG",[n,r]=N.useState(e),[i,s]=N.useState([]),[o,a]=N.useState(!0),l=ji();N.useEffect(()=>{const d=gC(f=>{const m=f.filter(v=>v.game===n);s(m),a(!1)});return()=>d()},[n]);const c=d=>{l("/payment",{state:{game:n,package:d}})};return o?g.createElement("div",{className:"flex justify-center items-center min-h-screen"},g.createElement(Us,null)):g.createElement("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100 dark:bg-gradient-to-b dark:from-[#0e0e2d] dark:to-[#1b1b3f] py-8 px-4"},g.createElement(ov,{title:`${n} Top-Up | Buy ${n} Credits`,description:`Get ${n} credits instantly with our competitive packages. Choose from a variety of options to recharge your account.`,keywords:`${n} topup, ${n} vouchers, game packages, buy ${n} credits`}),g.createElement("div",{className:"w-full max-w-5xl text-center"},g.createElement("h1",{className:"text-5xl md:text-6xl font-extrabold text-white mb-4 animate-fade-in-down"},g.createElement("span",{className:"bg-gradient-to-r from-blue-400 to-green-400 bg-clip-text text-transparent"},"Get Your ",n," UC Now!")),g.createElement("p",{className:"text-lg text-gray-300 dark:text-gray-400 mb-12 max-w-2xl mx-auto animate-fade-in-up"},"Choose one of our competitive packages to recharge your account instantly."),g.createElement("div",{className:"flex flex-wrap justify-center gap-6 mt-8"},i.map(d=>g.createElement(Z8,{key:d.id,name:d.name,price:d.price,game:d.game,onTopUp:()=>c(d)})))))},r7=[{value:"Instapay",label:"Instapay"},{value:"Vodafone",label:"Vodafone Cash"},{value:"Etisalat",label:"Etisalat Cash"},{value:"Orange",label:"Orange Cash"}],i7=()=>{const t=jr(),e=ji(),{game:n,package:r}=t.state||{},[i,s]=N.useState(!1),[o,a]=N.useState({name:"",email:"",gameId:"",phone:"",paymentMethod:"Instapay"});if(!n||!r)return g.createElement("div",{className:"text-center mt-20 text-red-600"},"Missing game or package info. Please start from the home page.");const l=u=>{const{name:d,value:f}=u.target;a(m=>({...m,[d]:f}))},c=async u=>{u.preventDefault(),s(!0);const d={game:n,package:r.name,price:r.price,name:o.name,email:o.email,playerId:o.gameId,phone:o.phone,paymentMethod:o.paymentMethod,status:"Pending Payment",createdAt:new Date().toISOString()};try{const f=await O9(d);s(!1),f.success?e(`/payment-instructions/${o.paymentMethod.toLowerCase()}`,{state:{order:{...d,firestoreId:f.firestoreId,orderId:f.orderId}}}):alert("Failed to submit order. Please try again.")}catch{s(!1),alert("Error submitting order.")}};return g.createElement("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 flex items-center justify-center p-4"},g.createElement(ov,{title:`Payment for ${r.name}`,description:`Complete your payment for ${r.name} for the game ${n}.`}),g.createElement("div",{className:"w-full max-w-4xl bg-white dark:bg-gray-800/50 rounded-2xl shadow-2xl backdrop-blur-lg p-8 grid md:grid-cols-2 gap-8"},g.createElement("div",{className:"flex flex-col justify-between"},g.createElement("div",null,g.createElement("h1",{className:"text-3xl font-bold text-gray-800 dark:text-white mb-2"},"Confirm Your Order"),g.createElement("p",{className:"text-gray-600 dark:text-gray-300 mb-6"},"You're one step away from getting back in the game."),g.createElement("div",{className:"bg-gray-100 dark:bg-gray-700/50 p-6 rounded-xl space-y-4"},g.createElement("div",{className:"flex justify-between items-center"},g.createElement("span",{className:"text-gray-600 dark:text-gray-300"},"Game:"),g.createElement("span",{className:"font-bold text-gray-800 dark:text-white"},n)),g.createElement("div",{className:"flex justify-between items-center"},g.createElement("span",{className:"text-gray-600 dark:text-gray-300"},"Package:"),g.createElement("span",{className:"font-bold text-gray-800 dark:text-white"},r.name)),g.createElement("div",{className:"border-t border-gray-200 dark:border-gray-600 my-4"}),g.createElement("div",{className:"flex justify-between items-center text-xl"},g.createElement("span",{className:"text-gray-700 dark:text-gray-200"},"Total Price:"),g.createElement("span",{className:"font-extrabold text-blue-600 dark:text-blue-400"},"EGP ",r.price)))),g.createElement("div",{className:"mt-6 text-xs text-gray-500 dark:text-gray-400 flex items-center gap-2"},g.createElement(sD,null),g.createElement("span",null,"Secure payment processing. Your information is safe with us."))),g.createElement("form",{onSubmit:c},g.createElement("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-6"},"Enter Your Details"),g.createElement("div",{className:"space-y-4"},g.createElement("div",{className:"relative"},g.createElement(cD,{className:"absolute top-3 left-3 text-gray-400"}),g.createElement("input",{type:"text",name:"name",placeholder:"Your Name",value:o.name,onChange:l,className:"w-full p-2 pl-10 border rounded-lg bg-gray-100 dark:bg-gray-700 dark:border-gray-600",required:!0})),g.createElement("div",{className:"relative"},g.createElement(tD,{className:"absolute top-3 left-3 text-gray-400"}),g.createElement("input",{type:"email",name:"email",placeholder:"Your Email",value:o.email,onChange:l,className:"w-full p-2 pl-10 border rounded-lg bg-gray-100 dark:bg-gray-700 dark:border-gray-600",required:!0})),g.createElement("div",{className:"relative"},g.createElement(rD,{className:"absolute top-3 left-3 text-gray-400"}),g.createElement("input",{type:"text",name:"gameId",placeholder:"Your Game ID",value:o.gameId,onChange:l,className:"w-full p-2 pl-10 border rounded-lg bg-gray-100 dark:bg-gray-700 dark:border-gray-600",required:!0})),g.createElement("div",{className:"relative"},g.createElement(iD,{className:"absolute top-3 left-3 text-gray-400"}),g.createElement("input",{type:"tel",name:"phone",placeholder:"Your Phone Number",value:o.phone,onChange:l,className:"w-full p-2 pl-10 border rounded-lg bg-gray-100 dark:bg-gray-700 dark:border-gray-600",required:!0})),g.createElement("div",{className:"relative"},g.createElement(uD,{className:"absolute top-3 left-3 text-gray-400"}),g.createElement("select",{name:"paymentMethod",value:o.paymentMethod,onChange:l,className:"w-full p-2 pl-10 border rounded-lg bg-gray-100 dark:bg-gray-700 dark:border-gray-600 appearance-none",required:!0},r7.map(u=>g.createElement("option",{key:u.value,value:u.value},u.label))))),g.createElement("button",{type:"submit",disabled:i,className:"w-full mt-6 py-3 bg-blue-600 text-white font-bold rounded-lg hover:bg-blue-700 transition-colors disabled:bg-blue-400"},i?g.createElement(Us,null):`Proceed to Pay EGP ${r.price}`),g.createElement("div",{className:"mt-6 p-4 bg-gray-100 dark:bg-gray-700/50 rounded-lg text-center"},g.createElement("p",{className:"text-sm text-gray-600 dark:text-gray-300"},"You will be redirected to the payment page to complete your purchase.")))))},s7={instapay:{title:"Pay with Instapay",instructions:"Scan the QR code below with your Instapay app or send the payment to our Instapay account.",details:"Instapay Number: 7313-3739-4938-0921",qrCode:"/assets/instapay-qr.png"},vodafone:{title:"Pay with Vodafone Cash",instructions:"Please transfer the exact order amount to the following Vodafone Cash number:",details:"Wallet Number: 01010920472"},etisalat:{title:"Pay with Etisalat Cash",instructions:"Please transfer the exact order amount to the following Etisalat Cash number:",details:"Wallet Number: 01145569738"},orange:{title:"Pay with Orange Cash",instructions:"Please transfer the exact order amount to the following Orange Cash number:",details:"Wallet Number: 01273926729"}},o7=()=>{const[t,e]=N.useState(900);N.useEffect(()=>{if(t===0)return;const i=setInterval(()=>{e(t-1)},1e3);return()=>clearInterval(i)},[t]);const n=Math.floor(t/60),r=t%60;return g.createElement("div",{className:"text-lg font-semibold text-red-600"},n,":",r<10?`0${r}`:r)},a7=()=>{const t=ji(),{method:e}=h5(),n=jr();if(!n.state||!n.state.order)return g.createElement("div",{className:"text-center mt-20"},g.createElement("h1",{className:"text-2xl font-bold text-red-600 dark:text-red-400"},"Order Information Missing"),g.createElement("p",{className:"text-gray-700 dark:text-gray-300 my-4"},"We couldn't find the details for your order. Please start the process again."),g.createElement("button",{onClick:()=>t("/"),className:"mt-4 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700"},"Go to Home"));const{order:r}=n.state,i=s7[e.toLowerCase()];if(!i)return g.createElement("div",{className:"text-center mt-20"},"Invalid payment method. Please check the URL or go back.",g.createElement("button",{onClick:()=>t(-1),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded"},"Go Back"));const s=async()=>{await tC(r.firestoreId,"Awaiting Confirmation"),t("/success",{state:{orderId:r.orderId}})};return g.createElement("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-50 dark:bg-gray-900 p-4"},g.createElement("div",{className:"w-full max-w-lg mx-auto bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 text-center"},g.createElement("h1",{className:"text-2xl font-bold mb-2 dark:text-white"},i.title),g.createElement("p",{className:"text-gray-600 dark:text-gray-300 mb-4"},"Order ID: ",g.createElement("span",{className:"font-mono bg-gray-100 dark:bg-gray-700 p-1 rounded"},r.orderId)),g.createElement("div",{className:"my-4 p-4 bg-blue-50 dark:bg-blue-900/50 rounded-lg"},g.createElement("p",{className:"font-semibold text-blue-800 dark:text-blue-200"},"Please complete payment within 15 minutes."),g.createElement(o7,null)),g.createElement("div",{className:"my-6"},g.createElement("p",{className:"text-gray-700 dark:text-gray-200 mb-2"},i.instructions),i.qrCode&&g.createElement("img",{src:i.qrCode,alt:"Payment QR Code",className:"mx-auto w-48 h-48 my-4"}),g.createElement("p",{className:"text-xl font-bold text-gray-800 dark:text-white bg-gray-100 dark:bg-gray-700 p-3 rounded-lg"},i.details)),g.createElement("div",{className:"mt-6"},g.createElement("p",{className:"mb-4"},"Status: ",g.createElement("span",{className:"font-bold text-yellow-500"},"Pending Payment")),g.createElement("button",{onClick:s,className:"w-full px-6 py-3 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700 transition-transform transform hover:scale-105"}," I Have Completed The Payment"))))};var yC={exports:{}},Ef={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l7=N,c7=Symbol.for("react.element"),u7=Symbol.for("react.fragment"),h7=Object.prototype.hasOwnProperty,d7=l7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,f7={key:!0,ref:!0,__self:!0,__source:!0};function vC(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)h7.call(e,r)&&!f7.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:c7,type:t,key:s,ref:o,props:i,_owner:d7.current}}Ef.Fragment=u7;Ef.jsx=vC;Ef.jsxs=vC;yC.exports=Ef;var Ag=yC.exports;const _C=N.createContext({});function p7(t){const e=N.useRef(null);return e.current===null&&(e.current=t()),e.current}const av=typeof window<"u",m7=av?N.useLayoutEffect:N.useEffect,lv=N.createContext(null);function cv(t,e){t.indexOf(e)===-1&&t.push(e)}function uv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Fr=(t,e,n)=>n>e?e:n<t?t:n;let hv=()=>{};const Ur={},wC=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function EC(t){return typeof t=="object"&&t!==null}const TC=t=>/^0[^.\s]+$/u.test(t);function dv(t){let e;return()=>(e===void 0&&(e=t()),e)}const Sn=t=>t,g7=(t,e)=>n=>e(t(n)),Bc=(...t)=>t.reduce(g7),lc=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class fv{constructor(){this.subscriptions=[]}add(e){return cv(this.subscriptions,e),()=>uv(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ar=t=>t*1e3,lr=t=>t/1e3;function xC(t,e){return e?t*(1e3/e):0}const bC=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,y7=1e-7,v7=12;function _7(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=bC(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>y7&&++a<v7);return o}function jc(t,e,n,r){if(t===e&&n===r)return Sn;const i=s=>_7(s,0,1,t,n);return s=>s===0||s===1?s:bC(i(s),e,r)}const SC=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,IC=t=>e=>1-t(1-e),kC=jc(.33,1.53,.69,.99),pv=IC(kC),CC=SC(pv),PC=t=>(t*=2)<1?.5*pv(t):.5*(2-Math.pow(2,-10*(t-1))),mv=t=>1-Math.sin(Math.acos(t)),AC=IC(mv),RC=SC(mv),w7=jc(.42,0,1,1),E7=jc(0,0,.58,1),DC=jc(.42,0,.58,1),T7=t=>Array.isArray(t)&&typeof t[0]!="number",MC=t=>Array.isArray(t)&&typeof t[0]=="number",x7={linear:Sn,easeIn:w7,easeInOut:DC,easeOut:E7,circIn:mv,circInOut:RC,circOut:AC,backIn:pv,backInOut:CC,backOut:kC,anticipate:PC},b7=t=>typeof t=="string",UE=t=>{if(MC(t)){hv(t.length===4);const[e,n,r,i]=t;return jc(e,n,r,i)}else if(b7(t))return x7[t];return t},Du=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],BE={value:null};function S7(t,e){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(d){o.has(d)&&(u.schedule(d),t()),l++,d(a)}const u={schedule:(d,f=!1,m=!1)=>{const w=m&&i?n:r;return f&&o.add(d),w.has(d)||w.add(d),d},cancel:d=>{r.delete(d),o.delete(d)},process:d=>{if(a=d,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(c),e&&BE.value&&BE.value.frameloop[e].push(l),l=0,n.clear(),i=!1,s&&(s=!1,u.process(d))}};return u}const I7=40;function NC(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Du.reduce((b,R)=>(b[R]=S7(s,e?R:void 0),b),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:u,update:d,preRender:f,render:m,postRender:v}=o,w=()=>{const b=Ur.useManualTiming?i.timestamp:performance.now();n=!1,Ur.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(b-i.timestamp,I7),1)),i.timestamp=b,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),u.process(i),d.process(i),f.process(i),m.process(i),v.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(w))},T=()=>{n=!0,r=!0,i.isProcessing||t(w)};return{schedule:Du.reduce((b,R)=>{const D=o[R];return b[R]=(O,S=!1,E=!1)=>(n||T(),D.schedule(O,S,E)),b},{}),cancel:b=>{for(let R=0;R<Du.length;R++)o[Du[R]].cancel(b)},state:i,steps:o}}const{schedule:ze,cancel:Ni,state:yt,steps:Op}=NC(typeof requestAnimationFrame<"u"?requestAnimationFrame:Sn,!0);let wh;function k7(){wh=void 0}const Zt={now:()=>(wh===void 0&&Zt.set(yt.isProcessing||Ur.useManualTiming?yt.timestamp:performance.now()),wh),set:t=>{wh=t,queueMicrotask(k7)}},OC=t=>e=>typeof e=="string"&&e.startsWith(t),gv=OC("--"),C7=OC("var(--"),yv=t=>C7(t)?P7.test(t.split("/*")[0].trim()):!1,P7=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ua={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},cc={...ua,transform:t=>Fr(0,1,t)},Mu={...ua,default:1},Tl=t=>Math.round(t*1e5)/1e5,vv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function A7(t){return t==null}const R7=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,_v=(t,e)=>n=>!!(typeof n=="string"&&R7.test(n)&&n.startsWith(t)||e&&!A7(n)&&Object.prototype.hasOwnProperty.call(n,e)),LC=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(vv);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},D7=t=>Fr(0,255,t),Lp={...ua,transform:t=>Math.round(D7(t))},us={test:_v("rgb","red"),parse:LC("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Lp.transform(t)+", "+Lp.transform(e)+", "+Lp.transform(n)+", "+Tl(cc.transform(r))+")"};function M7(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Rg={test:_v("#"),parse:M7,transform:us.transform},zc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Jr=zc("deg"),cr=zc("%"),J=zc("px"),N7=zc("vh"),O7=zc("vw"),jE={...cr,parse:t=>cr.parse(t)/100,transform:t=>cr.transform(t*100)},ho={test:_v("hsl","hue"),parse:LC("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+cr.transform(Tl(e))+", "+cr.transform(Tl(n))+", "+Tl(cc.transform(r))+")"},nt={test:t=>us.test(t)||Rg.test(t)||ho.test(t),parse:t=>us.test(t)?us.parse(t):ho.test(t)?ho.parse(t):Rg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?us.transform(t):ho.transform(t),getAnimatableNone:t=>{const e=nt.parse(t);return e.alpha=0,nt.transform(e)}},L7=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function V7(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(vv))==null?void 0:e.length)||0)+(((n=t.match(L7))==null?void 0:n.length)||0)>0}const VC="number",FC="color",F7="var",U7="var(",zE="${}",B7=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function uc(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(B7,l=>(nt.test(l)?(r.color.push(s),i.push(FC),n.push(nt.parse(l))):l.startsWith(U7)?(r.var.push(s),i.push(F7),n.push(l)):(r.number.push(s),i.push(VC),n.push(parseFloat(l))),++s,zE)).split(zE);return{values:n,split:a,indexes:r,types:i}}function UC(t){return uc(t).values}function BC(t){const{split:e,types:n}=uc(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===VC?s+=Tl(i[o]):a===FC?s+=nt.transform(i[o]):s+=i[o]}return s}}const j7=t=>typeof t=="number"?0:nt.test(t)?nt.getAnimatableNone(t):t;function z7(t){const e=UC(t);return BC(t)(e.map(j7))}const Oi={test:V7,parse:UC,createTransformer:BC,getAnimatableNone:z7};function Vp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function $7({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=Vp(l,a,t+1/3),s=Vp(l,a,t),o=Vp(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function _d(t,e){return n=>n>0?e:t}const Be=(t,e,n)=>t+(e-t)*n,Fp=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},H7=[Rg,us,ho],W7=t=>H7.find(e=>e.test(t));function $E(t){const e=W7(t);if(!e)return!1;let n=e.parse(t);return e===ho&&(n=$7(n)),n}const HE=(t,e)=>{const n=$E(t),r=$E(e);if(!n||!r)return _d(t,e);const i={...n};return s=>(i.red=Fp(n.red,r.red,s),i.green=Fp(n.green,r.green,s),i.blue=Fp(n.blue,r.blue,s),i.alpha=Be(n.alpha,r.alpha,s),us.transform(i))},Dg=new Set(["none","hidden"]);function q7(t,e){return Dg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function K7(t,e){return n=>Be(t,e,n)}function wv(t){return typeof t=="number"?K7:typeof t=="string"?yv(t)?_d:nt.test(t)?HE:Y7:Array.isArray(t)?jC:typeof t=="object"?nt.test(t)?HE:G7:_d}function jC(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>wv(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function G7(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=wv(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function Q7(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],o=t.indexes[s][r[s]],a=t.values[o]??0;n[i]=a,r[s]++}return n}const Y7=(t,e)=>{const n=Oi.createTransformer(e),r=uc(t),i=uc(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Dg.has(t)&&!i.values.length||Dg.has(e)&&!r.values.length?q7(t,e):Bc(jC(Q7(r,i),i.values),n):_d(t,e)};function zC(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Be(t,e,n):wv(t)(t,e)}const X7=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>ze.update(e,n),stop:()=>Ni(e),now:()=>yt.isProcessing?yt.timestamp:Zt.now()}},$C=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},wd=2e4;function Ev(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<wd;)e+=n,r=t.next(e);return e>=wd?1/0:e}function J7(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(Ev(r),wd);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:lr(i)}}const Z7=5;function HC(t,e,n){const r=Math.max(e-Z7,0);return xC(n-t(r),e-r)}const qe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Up=.001;function eF({duration:t=qe.duration,bounce:e=qe.bounce,velocity:n=qe.velocity,mass:r=qe.mass}){let i,s,o=1-e;o=Fr(qe.minDamping,qe.maxDamping,o),t=Fr(qe.minDuration,qe.maxDuration,lr(t)),o<1?(i=c=>{const u=c*o,d=u*t,f=u-n,m=Mg(c,o),v=Math.exp(-d);return Up-f/m*v},s=c=>{const d=c*o*t,f=d*n+n,m=Math.pow(o,2)*Math.pow(c,2)*t,v=Math.exp(-d),w=Mg(Math.pow(c,2),o);return(-i(c)+Up>0?-1:1)*((f-m)*v)/w}):(i=c=>{const u=Math.exp(-c*t),d=(c-n)*t+1;return-Up+u*d},s=c=>{const u=Math.exp(-c*t),d=(n-c)*(t*t);return u*d});const a=5/t,l=nF(i,s,a);if(t=ar(t),isNaN(l))return{stiffness:qe.stiffness,damping:qe.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const tF=12;function nF(t,e,n){let r=n;for(let i=1;i<tF;i++)r=r-t(r)/e(r);return r}function Mg(t,e){return t*Math.sqrt(1-e*e)}const rF=["duration","bounce"],iF=["stiffness","damping","mass"];function WE(t,e){return e.some(n=>t[n]!==void 0)}function sF(t){let e={velocity:qe.velocity,stiffness:qe.stiffness,damping:qe.damping,mass:qe.mass,isResolvedFromDuration:!1,...t};if(!WE(t,iF)&&WE(t,rF))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Fr(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:qe.mass,stiffness:i,damping:s}}else{const n=eF(t);e={...e,...n,mass:qe.mass},e.isResolvedFromDuration=!0}return e}function Ed(t=qe.visualDuration,e=qe.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:d,velocity:f,isResolvedFromDuration:m}=sF({...n,velocity:-lr(n.velocity||0)}),v=f||0,w=c/(2*Math.sqrt(l*u)),T=o-s,_=lr(Math.sqrt(l/u)),x=Math.abs(T)<5;r||(r=x?qe.restSpeed.granular:qe.restSpeed.default),i||(i=x?qe.restDelta.granular:qe.restDelta.default);let b;if(w<1){const D=Mg(_,w);b=O=>{const S=Math.exp(-w*_*O);return o-S*((v+w*_*T)/D*Math.sin(D*O)+T*Math.cos(D*O))}}else if(w===1)b=D=>o-Math.exp(-_*D)*(T+(v+_*T)*D);else{const D=_*Math.sqrt(w*w-1);b=O=>{const S=Math.exp(-w*_*O),E=Math.min(D*O,300);return o-S*((v+w*_*T)*Math.sinh(E)+D*T*Math.cosh(E))/D}}const R={calculatedDuration:m&&d||null,next:D=>{const O=b(D);if(m)a.done=D>=d;else{let S=D===0?v:0;w<1&&(S=D===0?ar(v):HC(b,D,O));const E=Math.abs(S)<=r,k=Math.abs(o-O)<=i;a.done=E&&k}return a.value=a.done?o:O,a},toString:()=>{const D=Math.min(Ev(R),wd),O=$C(S=>R.next(D*S).value,D,30);return D+"ms "+O},toTransition:()=>{}};return R}Ed.applyToOptions=t=>{const e=J7(t,100,Ed);return t.ease=e.ease,t.duration=ar(e.duration),t.type="keyframes",t};function Ng({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const d=t[0],f={done:!1,value:d},m=E=>a!==void 0&&E<a||l!==void 0&&E>l,v=E=>a===void 0?l:l===void 0||Math.abs(a-E)<Math.abs(l-E)?a:l;let w=n*e;const T=d+w,_=o===void 0?T:o(T);_!==T&&(w=_-d);const x=E=>-w*Math.exp(-E/r),b=E=>_+x(E),R=E=>{const k=x(E),C=b(E);f.done=Math.abs(k)<=c,f.value=f.done?_:C};let D,O;const S=E=>{m(f.value)&&(D=E,O=Ed({keyframes:[f.value,v(f.value)],velocity:HC(b,E,f.value),damping:i,stiffness:s,restDelta:c,restSpeed:u}))};return S(0),{calculatedDuration:null,next:E=>{let k=!1;return!O&&D===void 0&&(k=!0,R(E),S(E)),D!==void 0&&E>=D?O.next(E-D):(!k&&R(E),f)}}}function oF(t,e,n){const r=[],i=n||Ur.mix||zC,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Sn:e;a=Bc(l,a)}r.push(a)}return r}function aF(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(hv(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=oF(e,r,i),l=a.length,c=u=>{if(o&&u<t[0])return e[0];let d=0;if(l>1)for(;d<t.length-2&&!(u<t[d+1]);d++);const f=lc(t[d],t[d+1],u);return a[d](f)};return n?u=>c(Fr(t[0],t[s-1],u)):c}function lF(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=lc(0,e,r);t.push(Be(n,1,i))}}function cF(t){const e=[0];return lF(e,t.length-1),e}function uF(t,e){return t.map(n=>n*e)}function hF(t,e){return t.map(()=>e||DC).splice(0,t.length-1)}function xl({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=T7(r)?r.map(UE):UE(r),s={done:!1,value:e[0]},o=uF(n&&n.length===e.length?n:cF(e),t),a=aF(o,e,{ease:Array.isArray(i)?i:hF(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const dF=t=>t!==null;function Tv(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(dF),a=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const fF={decay:Ng,inertia:Ng,tween:xl,keyframes:xl,spring:Ed};function WC(t){typeof t.type=="string"&&(t.type=fF[t.type])}class xv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const pF=t=>t/100;class bv extends xv{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==Zt.now()&&this.tick(Zt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;WC(e);const{type:n=xl,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=e;let{keyframes:a}=e;const l=n||xl;l!==xl&&typeof a[0]!="number"&&(this.mixKeyframes=Bc(pF,zC(a[0],a[1])),a=[0,100]);const c=l({...e,keyframes:a});s==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=Ev(c));const{calculatedDuration:u}=c;this.calculatedDuration=u,this.resolvedDuration=u+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=c}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:u,repeat:d,repeatType:f,repeatDelay:m,type:v,onUpdate:w,finalKeyframe:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const _=this.currentTime-c*(this.playbackSpeed>=0?1:-1),x=this.playbackSpeed>=0?_<0:_>i;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let b=this.currentTime,R=r;if(d){const E=Math.min(this.currentTime,i)/a;let k=Math.floor(E),C=E%1;!C&&E>=1&&(C=1),C===1&&k--,k=Math.min(k,d+1),!!(k%2)&&(f==="reverse"?(C=1-C,m&&(C-=m/a)):f==="mirror"&&(R=o)),b=Fr(0,1,C)*a}const D=x?{done:!1,value:u[0]}:R.next(b);s&&(D.value=s(D.value));let{done:O}=D;!x&&l!==null&&(O=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const S=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return S&&v!==Ng&&(D.value=Tv(u,this.options,T,this.speed)),w&&w(D.value),S&&this.finish(),D}then(e,n){return this.finished.then(e,n)}get duration(){return lr(this.calculatedDuration)}get time(){return lr(this.currentTime)}set time(e){var n;e=ar(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Zt.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=lr(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=X7,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Zt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function mF(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const hs=t=>t*180/Math.PI,Og=t=>{const e=hs(Math.atan2(t[1],t[0]));return Lg(e)},gF={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Og,rotateZ:Og,skewX:t=>hs(Math.atan(t[1])),skewY:t=>hs(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Lg=t=>(t=t%360,t<0&&(t+=360),t),qE=Og,KE=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),GE=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),yF={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:KE,scaleY:GE,scale:t=>(KE(t)+GE(t))/2,rotateX:t=>Lg(hs(Math.atan2(t[6],t[5]))),rotateY:t=>Lg(hs(Math.atan2(-t[2],t[0]))),rotateZ:qE,rotate:qE,skewX:t=>hs(Math.atan(t[4])),skewY:t=>hs(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Vg(t){return t.includes("scale")?1:0}function Fg(t,e){if(!t||t==="none")return Vg(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=yF,i=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=gF,i=a}if(!i)return Vg(e);const s=r[e],o=i[1].split(",").map(_F);return typeof s=="function"?s(o):o[s]}const vF=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Fg(n,e)};function _F(t){return parseFloat(t.trim())}const ha=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],da=new Set(ha),QE=t=>t===ua||t===J,wF=new Set(["x","y","z"]),EF=ha.filter(t=>!wF.has(t));function TF(t){const e=[];return EF.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const vs={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Fg(e,"x"),y:(t,{transform:e})=>Fg(e,"y")};vs.translateX=vs.x;vs.translateY=vs.y;const _s=new Set;let Ug=!1,Bg=!1,jg=!1;function qC(){if(Bg){const t=Array.from(_s).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=TF(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))==null||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Bg=!1,Ug=!1,_s.forEach(t=>t.complete(jg)),_s.clear()}function KC(){_s.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Bg=!0)})}function xF(){jg=!0,KC(),qC(),jg=!1}class Sv{constructor(e,n,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(_s.add(this),Ug||(Ug=!0,ze.read(KC),ze.resolveKeyframes(qC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const a=r.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),i&&s===void 0&&i.set(e[0])}mF(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),_s.delete(this)}cancel(){this.state==="scheduled"&&(_s.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const bF=t=>t.startsWith("--");function SF(t,e,n){bF(e)?t.style.setProperty(e,n):t.style[e]=n}const IF=dv(()=>window.ScrollTimeline!==void 0),kF={};function CF(t,e){const n=dv(t);return()=>kF[e]??n()}const GC=CF(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),nl=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,YE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:nl([0,.65,.55,1]),circOut:nl([.55,0,1,.45]),backIn:nl([.31,.01,.66,-.59]),backOut:nl([.33,1.53,.69,.99])};function QC(t,e){if(t)return typeof t=="function"?GC()?$C(t,e):"ease-out":MC(t)?nl(t):Array.isArray(t)?t.map(n=>QC(n,e)||YE.easeOut):YE[t]}function PF(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const u={[e]:n};l&&(u.offset=l);const d=QC(a,i);Array.isArray(d)&&(u.easing=d);const f={delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return c&&(f.pseudoElement=c),t.animate(u,f)}function YC(t){return typeof t=="function"&&"applyToOptions"in t}function AF({type:t,...e}){return YC(t)&&GC()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class RF extends xv{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,hv(typeof e.type!="string");const c=AF(e);this.animation=PF(n,r,i,c,s),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const u=Tv(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(u):SF(n,r,u),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return lr(Number(e))}get time(){return lr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ar(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&IF()?(this.animation.timeline=e,Sn):n(this)}}const XC={anticipate:PC,backInOut:CC,circInOut:RC};function DF(t){return t in XC}function MF(t){typeof t.ease=="string"&&DF(t.ease)&&(t.ease=XC[t.ease])}const XE=10;class NF extends RF{constructor(e){MF(e),WC(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new bv({...o,autoplay:!1}),l=ar(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-XE).value,a.sample(l).value,XE),a.stop()}}const JE=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Oi.test(t)||t==="0")&&!t.startsWith("url("));function OF(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function LF(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=JE(i,e),a=JE(s,e);return!o||!a?!1:OF(t)||(n==="spring"||YC(n))&&r}function JC(t){return EC(t)&&"offsetHeight"in t}const VF=new Set(["opacity","clipPath","filter","transform"]),FF=dv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function UF(t){var c;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:o}=t;if(!JC((c=e==null?void 0:e.owner)==null?void 0:c.current))return!1;const{onUpdate:a,transformTemplate:l}=e.owner.getProps();return FF()&&n&&VF.has(n)&&(n!=="transform"||!l)&&!a&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const BF=40;class jF extends xv{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:l,motionValue:c,element:u,...d}){var v;super(),this.stop=()=>{var w,T;this._animation&&(this._animation.stop(),(w=this.stopTimeline)==null||w.call(this)),(T=this.keyframeResolver)==null||T.cancel()},this.createdAt=Zt.now();const f={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,name:l,motionValue:c,element:u,...d},m=(u==null?void 0:u.KeyframeResolver)||Sv;this.keyframeResolver=new m(a,(w,T,_)=>this.onKeyframesResolved(w,T,f,!_),l,c,u),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:l,isHandoff:c,onUpdate:u}=r;this.resolvedAt=Zt.now(),LF(e,s,o,a)||((Ur.instantAnimations||!l)&&(u==null||u(Tv(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const f={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>BF?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},m=!c&&UF(f)?new NF({...f,element:f.motionValue.owner.current}):new bv(f);m.finished.then(()=>this.notifyFinished()).catch(Sn),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),xF()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const zF=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function $F(t){const e=zF.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function ZC(t,e,n=1){const[r,i]=$F(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return wC(o)?parseFloat(o):o}return yv(i)?ZC(i,e,n+1):i}function Iv(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const eP=new Set(["width","height","top","left","right","bottom",...ha]),HF={test:t=>t==="auto",parse:t=>t},tP=t=>e=>e.test(t),nP=[ua,J,cr,Jr,O7,N7,HF],ZE=t=>nP.find(tP(t));function WF(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||TC(t):!0}const qF=new Set(["brightness","contrast","saturate","opacity"]);function KF(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(vv)||[];if(!r)return t;const i=n.replace(r,"");let s=qF.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const GF=/\b([a-z-]*)\(.*?\)/gu,zg={...Oi,getAnimatableNone:t=>{const e=t.match(GF);return e?e.map(KF).join(" "):t}},e2={...ua,transform:Math.round},QF={rotate:Jr,rotateX:Jr,rotateY:Jr,rotateZ:Jr,scale:Mu,scaleX:Mu,scaleY:Mu,scaleZ:Mu,skew:Jr,skewX:Jr,skewY:Jr,distance:J,translateX:J,translateY:J,translateZ:J,x:J,y:J,z:J,perspective:J,transformPerspective:J,opacity:cc,originX:jE,originY:jE,originZ:J},kv={borderWidth:J,borderTopWidth:J,borderRightWidth:J,borderBottomWidth:J,borderLeftWidth:J,borderRadius:J,radius:J,borderTopLeftRadius:J,borderTopRightRadius:J,borderBottomRightRadius:J,borderBottomLeftRadius:J,width:J,maxWidth:J,height:J,maxHeight:J,top:J,right:J,bottom:J,left:J,padding:J,paddingTop:J,paddingRight:J,paddingBottom:J,paddingLeft:J,margin:J,marginTop:J,marginRight:J,marginBottom:J,marginLeft:J,backgroundPositionX:J,backgroundPositionY:J,...QF,zIndex:e2,fillOpacity:cc,strokeOpacity:cc,numOctaves:e2},YF={...kv,color:nt,backgroundColor:nt,outlineColor:nt,fill:nt,stroke:nt,borderColor:nt,borderTopColor:nt,borderRightColor:nt,borderBottomColor:nt,borderLeftColor:nt,filter:zg,WebkitFilter:zg},rP=t=>YF[t];function iP(t,e){let n=rP(t);return n!==zg&&(n=Oi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const XF=new Set(["auto","none","0"]);function JF(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!XF.has(s)&&uc(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=iP(n,i)}class ZF extends Sv{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),yv(c))){const u=ZC(c,n.current);u!==void 0&&(e[l]=u),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!eP.has(r)||e.length!==2)return;const[i,s]=e,o=ZE(i),a=ZE(s);if(o!==a)if(QE(o)&&QE(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else vs[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||WF(e[i]))&&r.push(i);r.length&&JF(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=vs[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=vs[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function eU(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=(n==null?void 0:n[t])??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const sP=(t,e)=>e&&typeof t=="number"?e.transform(t):t,t2=30,tU=t=>!isNaN(parseFloat(t));class nU{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{var o,a;const s=Zt.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();i&&((a=this.events.renderRequest)==null||a.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Zt.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=tU(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new fv);const r=this.events[e].add(n);return e==="change"?()=>{r(),ze.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Zt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>t2)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,t2);return xC(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ko(t,e){return new nU(t,e)}const{schedule:Cv}=NC(queueMicrotask,!1),Nn={x:!1,y:!1};function oP(){return Nn.x||Nn.y}function rU(t){return t==="x"||t==="y"?Nn[t]?null:(Nn[t]=!0,()=>{Nn[t]=!1}):Nn.x||Nn.y?null:(Nn.x=Nn.y=!0,()=>{Nn.x=Nn.y=!1})}function aP(t,e){const n=eU(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function n2(t){return!(t.pointerType==="touch"||oP())}function iU(t,e,n={}){const[r,i,s]=aP(t,n),o=a=>{if(!n2(a))return;const{target:l}=a,c=e(l,a);if(typeof c!="function"||!l)return;const u=d=>{n2(d)&&(c(d),l.removeEventListener("pointerleave",u))};l.addEventListener("pointerleave",u,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const lP=(t,e)=>e?t===e?!0:lP(t,e.parentElement):!1,Pv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,sU=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function oU(t){return sU.has(t.tagName)||t.tabIndex!==-1}const Eh=new WeakSet;function r2(t){return e=>{e.key==="Enter"&&t(e)}}function Bp(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const aU=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=r2(()=>{if(Eh.has(n))return;Bp(n,"down");const i=r2(()=>{Bp(n,"up")}),s=()=>Bp(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function i2(t){return Pv(t)&&!oP()}function lU(t,e,n={}){const[r,i,s]=aP(t,n),o=a=>{const l=a.currentTarget;if(!i2(a))return;Eh.add(l);const c=e(l,a),u=(m,v)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",f),Eh.has(l)&&Eh.delete(l),i2(m)&&typeof c=="function"&&c(m,{success:v})},d=m=>{u(m,l===window||l===document||n.useGlobalTarget||lP(l,m.target))},f=m=>{u(m,!1)};window.addEventListener("pointerup",d,i),window.addEventListener("pointercancel",f,i)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),JC(a)&&(a.addEventListener("focus",c=>aU(c,i)),!oU(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function cP(t){return EC(t)&&"ownerSVGElement"in t}function cU(t){return cP(t)&&t.tagName==="svg"}const Lt=t=>!!(t&&t.getVelocity),uU=[...nP,nt,Oi],hU=t=>uU.find(tP(t)),uP=N.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function dU(t=!0){const e=N.useContext(lv);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=N.useId();N.useEffect(()=>{if(t)return i(s)},[t]);const o=N.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const hP=N.createContext({strict:!1}),s2={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Go={};for(const t in s2)Go[t]={isEnabled:e=>s2[t].some(n=>!!e[n])};function fU(t){for(const e in t)Go[e]={...Go[e],...t[e]}}const pU=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Td(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||pU.has(t)}let dP=t=>!Td(t);function mU(t){typeof t=="function"&&(dP=e=>e.startsWith("on")?!Td(e):t(e))}try{mU(require("@emotion/is-prop-valid").default)}catch{}function gU(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(dP(i)||n===!0&&Td(i)||!e&&!Td(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function yU(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const Tf=N.createContext({});function xf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function hc(t){return typeof t=="string"||Array.isArray(t)}const Av=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Rv=["initial",...Av];function bf(t){return xf(t.animate)||Rv.some(e=>hc(t[e]))}function fP(t){return!!(bf(t)||t.variants)}function vU(t,e){if(bf(t)){const{initial:n,animate:r}=t;return{initial:n===!1||hc(n)?n:void 0,animate:hc(r)?r:void 0}}return t.inherit!==!1?e:{}}function _U(t){const{initial:e,animate:n}=vU(t,N.useContext(Tf));return N.useMemo(()=>({initial:e,animate:n}),[o2(e),o2(n)])}function o2(t){return Array.isArray(t)?t.join(" "):t}const wU=Symbol.for("motionComponentSymbol");function fo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function EU(t,e,n){return N.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):fo(n)&&(n.current=r))},[e])}const Dv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),TU="framerAppearId",pP="data-"+Dv(TU),mP=N.createContext({});function xU(t,e,n,r,i){var w,T;const{visualElement:s}=N.useContext(Tf),o=N.useContext(hP),a=N.useContext(lv),l=N.useContext(uP).reducedMotion,c=N.useRef(null);r=r||o.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const u=c.current,d=N.useContext(mP);u&&!u.projection&&i&&(u.type==="html"||u.type==="svg")&&bU(c.current,n,i,d);const f=N.useRef(!1);N.useInsertionEffect(()=>{u&&f.current&&u.update(n,a)});const m=n[pP],v=N.useRef(!!m&&!((w=window.MotionHandoffIsComplete)!=null&&w.call(window,m))&&((T=window.MotionHasOptimisedAnimation)==null?void 0:T.call(window,m)));return m7(()=>{u&&(f.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),Cv.render(u.render),v.current&&u.animationState&&u.animationState.animateChanges())}),N.useEffect(()=>{u&&(!v.current&&u.animationState&&u.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var _;(_=window.MotionHandoffMarkAsComplete)==null||_.call(window,m)}),v.current=!1))}),u}function bU(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:gP(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&fo(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:l,layoutRoot:c})}function gP(t){if(t)return t.options.allowProjection!==!1?t.projection:gP(t.parent)}function SU({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&fU(t);function s(a,l){let c;const u={...N.useContext(uP),...a,layoutId:IU(a)},{isStatic:d}=u,f=_U(a),m=r(a,d);if(!d&&av){kU();const v=CU(u);c=v.MeasureLayout,f.visualElement=xU(i,m,u,e,v.ProjectionNode)}return Ag.jsxs(Tf.Provider,{value:f,children:[c&&f.visualElement?Ag.jsx(c,{visualElement:f.visualElement,...u}):null,n(i,a,EU(m,f.visualElement,l),m,d,f.visualElement)]})}s.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const o=N.forwardRef(s);return o[wU]=i,o}function IU({layoutId:t}){const e=N.useContext(_C).id;return e&&t!==void 0?e+"-"+t:t}function kU(t,e){N.useContext(hP).strict}function CU(t){const{drag:e,layout:n}=Go;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const dc={};function PU(t){for(const e in t)dc[e]=t[e],gv(e)&&(dc[e].isCSSVariable=!0)}function yP(t,{layout:e,layoutId:n}){return da.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!dc[t]||t==="opacity")}const AU={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},RU=ha.length;function DU(t,e,n){let r="",i=!0;for(let s=0;s<RU;s++){const o=ha[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=sP(a,kv[o]);if(!l){i=!1;const u=AU[o]||o;r+=`${u}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function Mv(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(da.has(l)){o=!0;continue}else if(gv(l)){i[l]=c;continue}else{const u=sP(c,kv[l]);l.startsWith("origin")?(a=!0,s[l]=u):r[l]=u}}if(e.transform||(o||n?r.transform=DU(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=s;r.transformOrigin=`${l} ${c} ${u}`}}const Nv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function vP(t,e,n){for(const r in e)!Lt(e[r])&&!yP(r,n)&&(t[r]=e[r])}function MU({transformTemplate:t},e){return N.useMemo(()=>{const n=Nv();return Mv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function NU(t,e){const n=t.style||{},r={};return vP(r,n,t),Object.assign(r,MU(t,e)),r}function OU(t,e){const n={},r=NU(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const LU={offset:"stroke-dashoffset",array:"stroke-dasharray"},VU={offset:"strokeDashoffset",array:"strokeDasharray"};function FU(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?LU:VU;t[s.offset]=J.transform(-r);const o=J.transform(e),a=J.transform(n);t[s.array]=`${o} ${a}`}function _P(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...a},l,c,u){if(Mv(t,a,c),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:d,style:f}=t;d.transform&&(f.transform=d.transform,delete d.transform),(f.transform||d.transformOrigin)&&(f.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),f.transform&&(f.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete d.transformBox),e!==void 0&&(d.x=e),n!==void 0&&(d.y=n),r!==void 0&&(d.scale=r),i!==void 0&&FU(d,i,s,o,!1)}const wP=()=>({...Nv(),attrs:{}}),EP=t=>typeof t=="string"&&t.toLowerCase()==="svg";function UU(t,e,n,r){const i=N.useMemo(()=>{const s=wP();return _P(s,e,EP(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};vP(s,t.style,t),i.style={...s,...i.style}}return i}const BU=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ov(t){return typeof t!="string"||t.includes("-")?!1:!!(BU.indexOf(t)>-1||/[A-Z]/u.test(t))}function jU(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(Ov(n)?UU:OU)(r,s,o,n),c=gU(r,typeof n=="string",t),u=n!==N.Fragment?{...c,...l,ref:i}:{},{children:d}=r,f=N.useMemo(()=>Lt(d)?d.get():d,[d]);return N.createElement(n,{...u,children:f})}}function a2(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Lv(t,e,n,r){if(typeof e=="function"){const[i,s]=a2(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=a2(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function Th(t){return Lt(t)?t.get():t}function zU({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:$U(n,r,i,t),renderState:e()}}const TP=t=>(e,n)=>{const r=N.useContext(Tf),i=N.useContext(lv),s=()=>zU(t,e,r,i);return n?s():p7(s)};function $U(t,e,n,r){const i={},s=r(t,{});for(const f in s)i[f]=Th(s[f]);let{initial:o,animate:a}=t;const l=bf(t),c=fP(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const d=u?a:o;if(d&&typeof d!="boolean"&&!xf(d)){const f=Array.isArray(d)?d:[d];for(let m=0;m<f.length;m++){const v=Lv(t,f[m]);if(v){const{transitionEnd:w,transition:T,..._}=v;for(const x in _){let b=_[x];if(Array.isArray(b)){const R=u?b.length-1:0;b=b[R]}b!==null&&(i[x]=b)}for(const x in w)i[x]=w[x]}}}return i}function Vv(t,e,n){var s;const{style:r}=t,i={};for(const o in r)(Lt(r[o])||e.style&&Lt(e.style[o])||yP(o,t)||((s=n==null?void 0:n.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const HU={useVisualState:TP({scrapeMotionValuesFromProps:Vv,createRenderState:Nv})};function xP(t,e,n){const r=Vv(t,e,n);for(const i in t)if(Lt(t[i])||Lt(e[i])){const s=ha.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const WU={useVisualState:TP({scrapeMotionValuesFromProps:xP,createRenderState:wP})};function qU(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...Ov(r)?WU:HU,preloadedFeatures:t,useRender:jU(i),createVisualElement:e,Component:r};return SU(o)}}function fc(t,e,n){const r=t.getProps();return Lv(r,e,n!==void 0?n:r.custom,t)}const $g=t=>Array.isArray(t);function KU(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ko(n))}function GU(t){return $g(t)?t[t.length-1]||0:t}function QU(t,e){const n=fc(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=GU(s[o]);KU(t,o,a)}}function YU(t){return!!(Lt(t)&&t.add)}function Hg(t,e){const n=t.getValue("willChange");if(YU(n))return n.add(e);if(!n&&Ur.WillChange){const r=new Ur.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function bP(t){return t.props[pP]}const XU=t=>t!==null;function JU(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(XU),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[s]}const ZU={type:"spring",stiffness:500,damping:25,restSpeed:10},eB=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),tB={type:"keyframes",duration:.8},nB={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},rB=(t,{keyframes:e})=>e.length>2?tB:da.has(t)?t.startsWith("scale")?eB(e[1]):ZU:nB;function iB({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const Fv=(t,e,n,r={},i,s)=>o=>{const a=Iv(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-ar(l);const u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};iB(a)||Object.assign(u,rB(t,u)),u.duration&&(u.duration=ar(u.duration)),u.repeatDelay&&(u.repeatDelay=ar(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let d=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(d=!0)),(Ur.instantAnimations||Ur.skipAnimations)&&(d=!0,u.duration=0,u.delay=0),u.allowFlatten=!a.type&&!a.ease,d&&!s&&e.get()!==void 0){const f=JU(u.keyframes,a);if(f!==void 0){ze.update(()=>{u.onUpdate(f),u.onComplete()});return}}return a.isSync?new bv(u):new jF(u)};function sB({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function SP(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(s=r);const l=[],c=i&&t.animationState&&t.animationState.getState()[i];for(const u in a){const d=t.getValue(u,t.latestValues[u]??null),f=a[u];if(f===void 0||c&&sB(c,u))continue;const m={delay:n,...Iv(s||{},u)},v=d.get();if(v!==void 0&&!d.isAnimating&&!Array.isArray(f)&&f===v&&!m.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const _=bP(t);if(_){const x=window.MotionHandoffAnimation(_,u,ze);x!==null&&(m.startTime=x,w=!0)}}Hg(t,u),d.start(Fv(u,d,f,t.shouldReduceMotion&&eP.has(u)?{type:!1}:m,t,w));const T=d.animation;T&&l.push(T)}return o&&Promise.all(l).then(()=>{ze.update(()=>{o&&QU(t,o)})}),l}function Wg(t,e,n={}){var l;const r=fc(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(SP(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=i;return oB(t,e,u+c,d,f,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[c,u]=a==="beforeChildren"?[s,o]:[o,s];return c().then(()=>u())}else return Promise.all([s(),o(n.delay)])}function oB(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(aB).forEach((c,u)=>{c.notify("AnimationStart",e),o.push(Wg(c,e,{...s,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function aB(t,e){return t.sortNodePosition(e)}function lB(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>Wg(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=Wg(t,e,n);else{const i=typeof e=="function"?fc(t,e,n.custom):e;r=Promise.all(SP(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function IP(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const cB=Rv.length;function kP(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?kP(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<cB;n++){const r=Rv[n],i=t.props[r];(hc(i)||i===!1)&&(e[r]=i)}return e}const uB=[...Av].reverse(),hB=Av.length;function dB(t){return e=>Promise.all(e.map(({animation:n,options:r})=>lB(t,n,r)))}function fB(t){let e=dB(t),n=l2(),r=!0;const i=l=>(c,u)=>{var f;const d=fc(t,u,l==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);if(d){const{transition:m,transitionEnd:v,...w}=d;c={...c,...w,...v}}return c};function s(l){e=l(t)}function o(l){const{props:c}=t,u=kP(t.parent)||{},d=[],f=new Set;let m={},v=1/0;for(let T=0;T<hB;T++){const _=uB[T],x=n[_],b=c[_]!==void 0?c[_]:u[_],R=hc(b),D=_===l?x.isActive:null;D===!1&&(v=T);let O=b===u[_]&&b!==c[_]&&R;if(O&&r&&t.manuallyAnimateOnMount&&(O=!1),x.protectedKeys={...m},!x.isActive&&D===null||!b&&!x.prevProp||xf(b)||typeof b=="boolean")continue;const S=pB(x.prevProp,b);let E=S||_===l&&x.isActive&&!O&&R||T>v&&R,k=!1;const C=Array.isArray(b)?b:[b];let A=C.reduce(i(_),{});D===!1&&(A={});const{prevResolvedValues:M={}}=x,P={...M,...A},he=te=>{E=!0,f.has(te)&&(k=!0,f.delete(te)),x.needsAnimating[te]=!0;const B=t.getValue(te);B&&(B.liveStyle=!1)};for(const te in P){const B=A[te],W=M[te];if(m.hasOwnProperty(te))continue;let K=!1;$g(B)&&$g(W)?K=!IP(B,W):K=B!==W,K?B!=null?he(te):f.add(te):B!==void 0&&f.has(te)?he(te):x.protectedKeys[te]=!0}x.prevProp=b,x.prevResolvedValues=A,x.isActive&&(m={...m,...A}),r&&t.blockInitialAnimation&&(E=!1),E&&(!(O&&S)||k)&&d.push(...C.map(te=>({animation:te,options:{type:_}})))}if(f.size){const T={};if(typeof c.initial!="boolean"){const _=fc(t,Array.isArray(c.initial)?c.initial[0]:c.initial);_&&_.transition&&(T.transition=_.transition)}f.forEach(_=>{const x=t.getBaseTarget(_),b=t.getValue(_);b&&(b.liveStyle=!0),T[_]=x??null}),d.push({animation:T})}let w=!!d.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(w=!1),r=!1,w?e(d):Promise.resolve()}function a(l,c){var d;if(n[l].isActive===c)return Promise.resolve();(d=t.variantChildren)==null||d.forEach(f=>{var m;return(m=f.animationState)==null?void 0:m.setActive(l,c)}),n[l].isActive=c;const u=o(l);for(const f in n)n[f].protectedKeys={};return u}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=l2(),r=!0}}}function pB(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!IP(e,t):!1}function Yi(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function l2(){return{animate:Yi(!0),whileInView:Yi(),whileHover:Yi(),whileTap:Yi(),whileDrag:Yi(),whileFocus:Yi(),exit:Yi()}}class Wi{constructor(e){this.isMounted=!1,this.node=e}update(){}}class mB extends Wi{constructor(e){super(e),e.animationState||(e.animationState=fB(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();xf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let gB=0;class yB extends Wi{constructor(){super(...arguments),this.id=gB++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const vB={animation:{Feature:mB},exit:{Feature:yB}};function pc(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function $c(t){return{point:{x:t.pageX,y:t.pageY}}}const _B=t=>e=>Pv(e)&&t(e,$c(e));function bl(t,e,n,r){return pc(t,e,_B(n),r)}function CP({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function wB({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function EB(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const PP=1e-4,TB=1-PP,xB=1+PP,AP=.01,bB=0-AP,SB=0+AP;function Ht(t){return t.max-t.min}function IB(t,e,n){return Math.abs(t-e)<=n}function c2(t,e,n,r=.5){t.origin=r,t.originPoint=Be(e.min,e.max,t.origin),t.scale=Ht(n)/Ht(e),t.translate=Be(n.min,n.max,t.origin)-t.originPoint,(t.scale>=TB&&t.scale<=xB||isNaN(t.scale))&&(t.scale=1),(t.translate>=bB&&t.translate<=SB||isNaN(t.translate))&&(t.translate=0)}function Sl(t,e,n,r){c2(t.x,e.x,n.x,r?r.originX:void 0),c2(t.y,e.y,n.y,r?r.originY:void 0)}function u2(t,e,n){t.min=n.min+e.min,t.max=t.min+Ht(e)}function kB(t,e,n){u2(t.x,e.x,n.x),u2(t.y,e.y,n.y)}function h2(t,e,n){t.min=e.min-n.min,t.max=t.min+Ht(e)}function Il(t,e,n){h2(t.x,e.x,n.x),h2(t.y,e.y,n.y)}const d2=()=>({translate:0,scale:1,origin:0,originPoint:0}),po=()=>({x:d2(),y:d2()}),f2=()=>({min:0,max:0}),Qe=()=>({x:f2(),y:f2()});function yn(t){return[t("x"),t("y")]}function jp(t){return t===void 0||t===1}function qg({scale:t,scaleX:e,scaleY:n}){return!jp(t)||!jp(e)||!jp(n)}function rs(t){return qg(t)||RP(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function RP(t){return p2(t.x)||p2(t.y)}function p2(t){return t&&t!=="0%"}function xd(t,e,n){const r=t-n,i=e*r;return n+i}function m2(t,e,n,r,i){return i!==void 0&&(t=xd(t,i,r)),xd(t,n,r)+e}function Kg(t,e=0,n=1,r,i){t.min=m2(t.min,e,n,r,i),t.max=m2(t.max,e,n,r,i)}function DP(t,{x:e,y:n}){Kg(t.x,e.translate,e.scale,e.originPoint),Kg(t.y,n.translate,n.scale,n.originPoint)}const g2=.999999999999,y2=1.0000000000001;function CB(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&go(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,DP(t,o)),r&&rs(s.latestValues)&&go(t,s.latestValues))}e.x<y2&&e.x>g2&&(e.x=1),e.y<y2&&e.y>g2&&(e.y=1)}function mo(t,e){t.min=t.min+e,t.max=t.max+e}function v2(t,e,n,r,i=.5){const s=Be(t.min,t.max,i);Kg(t,e,n,s,r)}function go(t,e){v2(t.x,e.x,e.scaleX,e.scale,e.originX),v2(t.y,e.y,e.scaleY,e.scale,e.originY)}function MP(t,e){return CP(EB(t.getBoundingClientRect(),e))}function PB(t,e,n){const r=MP(t,n),{scroll:i}=e;return i&&(mo(r.x,i.offset.x),mo(r.y,i.offset.y)),r}const NP=({current:t})=>t?t.ownerDocument.defaultView:null,_2=(t,e)=>Math.abs(t-e);function AB(t,e){const n=_2(t.x,e.x),r=_2(t.y,e.y);return Math.sqrt(n**2+r**2)}class OP{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=$p(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,m=AB(d.offset,{x:0,y:0})>=3;if(!f&&!m)return;const{point:v}=d,{timestamp:w}=yt;this.history.push({...v,timestamp:w});const{onStart:T,onMove:_}=this.handlers;f||(T&&T(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,d)},this.handlePointerMove=(d,f)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=zp(f,this.transformPagePoint),ze.update(this.updatePoint,!0)},this.handlePointerUp=(d,f)=>{this.end();const{onEnd:m,onSessionEnd:v,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=$p(d.type==="pointercancel"?this.lastMoveEventInfo:zp(f,this.transformPagePoint),this.history);this.startEvent&&m&&m(d,T),v&&v(d,T)},!Pv(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=$c(e),a=zp(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=yt;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(e,$p(a,this.history)),this.removeListeners=Bc(bl(this.contextWindow,"pointermove",this.handlePointerMove),bl(this.contextWindow,"pointerup",this.handlePointerUp),bl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ni(this.updatePoint)}}function zp(t,e){return e?{point:e(t.point)}:t}function w2(t,e){return{x:t.x-e.x,y:t.y-e.y}}function $p({point:t},e){return{point:t,delta:w2(t,LP(e)),offset:w2(t,RB(e)),velocity:DB(e,.1)}}function RB(t){return t[0]}function LP(t){return t[t.length-1]}function DB(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=LP(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>ar(e)));)n--;if(!r)return{x:0,y:0};const s=lr(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function MB(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Be(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Be(n,t,r.max):Math.min(t,n)),t}function E2(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function NB(t,{top:e,left:n,bottom:r,right:i}){return{x:E2(t.x,n,i),y:E2(t.y,e,r)}}function T2(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function OB(t,e){return{x:T2(t.x,e.x),y:T2(t.y,e.y)}}function LB(t,e){let n=.5;const r=Ht(t),i=Ht(e);return i>r?n=lc(e.min,e.max-r,t.min):r>i&&(n=lc(t.min,t.max-i,e.min)),Fr(0,1,n)}function VB(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Gg=.35;function FB(t=Gg){return t===!1?t=0:t===!0&&(t=Gg),{x:x2(t,"left","right"),y:x2(t,"top","bottom")}}function x2(t,e,n){return{min:b2(t,e),max:b2(t,n)}}function b2(t,e){return typeof t=="number"?t:t[e]||0}const UB=new WeakMap;class BB{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Qe(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor($c(u).point)},s=(u,d)=>{const{drag:f,dragPropagation:m,onDragStart:v}=this.getProps();if(f&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=rU(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),yn(T=>{let _=this.getAxisMotionValue(T).get()||0;if(cr.test(_)){const{projection:x}=this.visualElement;if(x&&x.layout){const b=x.layout.layoutBox[T];b&&(_=Ht(b)*(parseFloat(_)/100))}}this.originPoint[T]=_}),v&&ze.postRender(()=>v(u,d)),Hg(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},o=(u,d)=>{const{dragPropagation:f,dragDirectionLock:m,onDirectionLock:v,onDrag:w}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:T}=d;if(m&&this.currentDirection===null){this.currentDirection=jB(T),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",d.point,T),this.updateAxis("y",d.point,T),this.visualElement.render(),w&&w(u,d)},a=(u,d)=>this.stop(u,d),l=()=>yn(u=>{var d;return this.getAnimationState(u)==="paused"&&((d=this.getAxisMotionValue(u).animation)==null?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new OP(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:NP(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&ze.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Nu(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=MB(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&fo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=NB(r.layoutBox,e):this.constraints=!1,this.elastic=FB(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&yn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=VB(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!fo(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=PB(r,i.root,this.visualElement.getTransformPagePoint());let o=OB(i.layout.layoutBox,s);if(n){const a=n(wB(o));this.hasMutatedConstraints=!!a,a&&(o=CP(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=yn(u=>{if(!Nu(u,n,this.currentDirection))return;let d=l&&l[u]||{};o&&(d={min:0,max:0});const f=i?200:1e6,m=i?40:1e7,v={type:"inertia",velocity:r?e[u]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(u,v)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Hg(this.visualElement,e),r.start(Fv(e,r,0,n,this.visualElement,!1))}stopAnimation(){yn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){yn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){yn(n=>{const{drag:r}=this.getProps();if(!Nu(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-Be(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!fo(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};yn(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=LB({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),yn(o=>{if(!Nu(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Be(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;UB.set(this.visualElement,this);const e=this.visualElement.current,n=bl(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();fo(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),ze.read(r);const o=pc(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(yn(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Gg,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Nu(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function jB(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class zB extends Wi{constructor(e){super(e),this.removeGroupControls=Sn,this.removeListeners=Sn,this.controls=new BB(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Sn}unmount(){this.removeGroupControls(),this.removeListeners()}}const S2=t=>(e,n)=>{t&&ze.postRender(()=>t(e,n))};class $B extends Wi{constructor(){super(...arguments),this.removePointerDownListener=Sn}onPointerDown(e){this.session=new OP(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:NP(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:S2(e),onStart:S2(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&ze.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=bl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const xh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function I2(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ba={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(J.test(t))t=parseFloat(t);else return t;const n=I2(t,e.target.x),r=I2(t,e.target.y);return`${n}% ${r}%`}},HB={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Oi.parse(t);if(i.length>5)return r;const s=Oi.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=Be(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};class WB extends N.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;PU(qB),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),xh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||ze.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Cv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function VP(t){const[e,n]=dU(),r=N.useContext(_C);return Ag.jsx(WB,{...t,layoutGroup:r,switchLayoutGroup:N.useContext(mP),isPresent:e,safeToRemove:n})}const qB={borderRadius:{...Ba,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ba,borderTopRightRadius:Ba,borderBottomLeftRadius:Ba,borderBottomRightRadius:Ba,boxShadow:HB};function KB(t,e,n){const r=Lt(t)?t:Ko(t);return r.start(Fv("",r,e,n)),r.animation}const GB=(t,e)=>t.depth-e.depth;class QB{constructor(){this.children=[],this.isDirty=!1}add(e){cv(this.children,e),this.isDirty=!0}remove(e){uv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(GB),this.isDirty=!1,this.children.forEach(e)}}function YB(t,e){const n=Zt.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Ni(r),t(s-e))};return ze.setup(r,!0),()=>Ni(r)}const FP=["TopLeft","TopRight","BottomLeft","BottomRight"],XB=FP.length,k2=t=>typeof t=="string"?parseFloat(t):t,C2=t=>typeof t=="number"||J.test(t);function JB(t,e,n,r,i,s){i?(t.opacity=Be(0,n.opacity??1,ZB(r)),t.opacityExit=Be(e.opacity??1,0,ej(r))):s&&(t.opacity=Be(e.opacity??1,n.opacity??1,r));for(let o=0;o<XB;o++){const a=`border${FP[o]}Radius`;let l=P2(e,a),c=P2(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||C2(l)===C2(c)?(t[a]=Math.max(Be(k2(l),k2(c),r),0),(cr.test(c)||cr.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Be(e.rotate||0,n.rotate||0,r))}function P2(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const ZB=UP(0,.5,AC),ej=UP(.5,.95,Sn);function UP(t,e,n){return r=>r<t?0:r>e?1:n(lc(t,e,r))}function A2(t,e){t.min=e.min,t.max=e.max}function mn(t,e){A2(t.x,e.x),A2(t.y,e.y)}function R2(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function D2(t,e,n,r,i){return t-=e,t=xd(t,1/n,r),i!==void 0&&(t=xd(t,1/i,r)),t}function tj(t,e=0,n=1,r=.5,i,s=t,o=t){if(cr.test(e)&&(e=parseFloat(e),e=Be(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Be(s.min,s.max,r);t===s&&(a-=e),t.min=D2(t.min,e,n,a,i),t.max=D2(t.max,e,n,a,i)}function M2(t,e,[n,r,i],s,o){tj(t,e[n],e[r],e[i],e.scale,s,o)}const nj=["x","scaleX","originX"],rj=["y","scaleY","originY"];function N2(t,e,n,r){M2(t.x,e,nj,n?n.x:void 0,r?r.x:void 0),M2(t.y,e,rj,n?n.y:void 0,r?r.y:void 0)}function O2(t){return t.translate===0&&t.scale===1}function BP(t){return O2(t.x)&&O2(t.y)}function L2(t,e){return t.min===e.min&&t.max===e.max}function ij(t,e){return L2(t.x,e.x)&&L2(t.y,e.y)}function V2(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function jP(t,e){return V2(t.x,e.x)&&V2(t.y,e.y)}function F2(t){return Ht(t.x)/Ht(t.y)}function U2(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class sj{constructor(){this.members=[]}add(e){cv(this.members,e),e.scheduleRender()}remove(e){if(uv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function oj(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:d,rotateY:f,skewX:m,skewY:v}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),d&&(r+=`rotateX(${d}deg) `),f&&(r+=`rotateY(${f}deg) `),m&&(r+=`skewX(${m}deg) `),v&&(r+=`skewY(${v}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const Hp=["","X","Y","Z"],aj={visibility:"hidden"},lj=1e3;let cj=0;function Wp(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function zP(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=bP(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ze,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&zP(r)}function $P({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=cj++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(dj),this.nodes.forEach(yj),this.nodes.forEach(vj),this.nodes.forEach(fj)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new QB)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new fv),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=cP(o)&&!cU(o),this.instance=o;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let u;const d=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,u&&u(),u=YB(d,250),xh.hasAnimatedSinceResize&&(xh.hasAnimatedSinceResize=!1,this.nodes.forEach(j2))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:d,hasRelativeLayoutChanged:f,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||c.getDefaultTransition()||xj,{onLayoutAnimationStart:w,onLayoutAnimationComplete:T}=c.getProps(),_=!this.targetLayout||!jP(this.targetLayout,m),x=!d&&f;if(this.options.layoutRoot||this.resumeFrom||x||d&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const b={...Iv(v,"layout"),onPlay:w,onComplete:T};(c.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b),this.setAnimationOrigin(u,x)}else d||j2(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ni(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(_j),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&zP(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(B2);return}this.isUpdating||this.nodes.forEach(mj),this.isUpdating=!1,this.nodes.forEach(gj),this.nodes.forEach(uj),this.nodes.forEach(hj),this.clearAllSnapshots();const a=Zt.now();yt.delta=Fr(0,1e3/60,a-yt.timestamp),yt.timestamp=a,yt.isProcessing=!0,Op.update.process(yt),Op.preRender.process(yt),Op.render.process(yt),yt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Cv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(pj),this.sharedNodes.forEach(wj)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ze.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ze.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ht(this.snapshot.measuredBox.x)&&!Ht(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Qe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!BP(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||rs(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),bj(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:o}=this.options;if(!o)return Qe();const a=o.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(Sj))){const{scroll:u}=this.root;u&&(mo(a.x,u.offset.x),mo(a.y,u.offset.y))}return a}removeElementScroll(o){var l;const a=Qe();if(mn(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:f}=u;u!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&mn(a,o),mo(a.x,d.offset.x),mo(a.y,d.offset.y))}return a}applyTransform(o,a=!1){const l=Qe();mn(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&go(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),rs(u.latestValues)&&go(l,u.latestValues)}return rs(this.latestValues)&&go(l,this.latestValues),l}removeTransform(o){const a=Qe();mn(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!rs(c.latestValues))continue;qg(c.latestValues)&&c.updateSnapshot();const u=Qe(),d=c.measurePageBox();mn(u,d),N2(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return rs(this.latestValues)&&N2(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==yt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var f;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:d}=this.options;if(!(!this.layout||!(u||d))){if(this.resolvedRelativeTargetAt=yt.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qe(),this.relativeTargetOrigin=Qe(),Il(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),mn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Qe(),this.targetWithTransforms=Qe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),kB(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):mn(this.target,this.layout.layoutBox),DP(this.target,this.targetDelta)):mn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qe(),this.relativeTargetOrigin=Qe(),Il(this.relativeTargetOrigin,this.target,m.target),mn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||qg(this.parent.latestValues)||RP(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var v;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===yt.timestamp&&(l=!1),l)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;mn(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,f=this.treeScale.y;CB(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Qe());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(R2(this.prevProjectionDelta.x,this.projectionDelta.x),R2(this.prevProjectionDelta.y,this.projectionDelta.y)),Sl(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==f||!U2(this.projectionDelta.x,this.prevProjectionDelta.x)||!U2(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=po(),this.projectionDelta=po(),this.projectionDeltaWithTransform=po()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=po();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=Qe(),m=l?l.source:void 0,v=this.layout?this.layout.source:void 0,w=m!==v,T=this.getStack(),_=!T||T.members.length<=1,x=!!(w&&!_&&this.options.crossfade===!0&&!this.path.some(Tj));this.animationProgress=0;let b;this.mixTargetDelta=R=>{const D=R/1e3;z2(d.x,o.x,D),z2(d.y,o.y,D),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Il(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Ej(this.relativeTarget,this.relativeTargetOrigin,f,D),b&&ij(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Qe()),mn(b,this.relativeTarget)),w&&(this.animationValues=u,JB(u,c,this.latestValues,D,x,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,c;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(Ni(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ze.update(()=>{xh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ko(0)),this.currentAnimation=KB(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(lj),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&HP(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Qe();const d=Ht(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const f=Ht(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}mn(a,l),go(a,u),Sl(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new sj),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&Wp("z",o,c,this.animationValues);for(let u=0;u<Hp.length;u++)Wp(`rotate${Hp[u]}`,o,c,this.animationValues),Wp(`skew${Hp[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return aj;const a={visibility:""},l=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,a.opacity="",a.pointerEvents=Th(o==null?void 0:o.pointerEvents)||"",a.transform=l?l(this.latestValues,""):"none",a;const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=Th(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!rs(this.latestValues)&&(m.transform=l?l({},""):"none",this.hasProjected=!1),m}const u=c.animationValues||c.latestValues;this.applyTransformsToTarget(),a.transform=oj(this.projectionDeltaWithTransform,this.treeScale,u),l&&(a.transform=l(u,a.transform));const{x:d,y:f}=this.projectionDelta;a.transformOrigin=`${d.origin*100}% ${f.origin*100}% 0`,c.animationValues?a.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:a.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const m in dc){if(u[m]===void 0)continue;const{correct:v,applyTo:w,isCSSVariable:T}=dc[m],_=a.transform==="none"?u[m]:v(u[m],c);if(w){const x=w.length;for(let b=0;b<x;b++)a[w[b]]=_}else T?this.options.visualElement.renderState.vars[m]=_:a[m]=_}return this.options.layoutId&&(a.pointerEvents=c===this?Th(o==null?void 0:o.pointerEvents)||"":"none"),a}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(B2),this.root.sharedNodes.clear()}}}function uj(t){t.updateLayout()}function hj(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?yn(d=>{const f=o?e.measuredBox[d]:e.layoutBox[d],m=Ht(f);f.min=r[d].min,f.max=f.min+m}):HP(s,e.layoutBox,r)&&yn(d=>{const f=o?e.measuredBox[d]:e.layoutBox[d],m=Ht(r[d]);f.max=f.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+m)});const a=po();Sl(a,r,e.layoutBox);const l=po();o?Sl(l,t.applyTransform(i,!0),e.measuredBox):Sl(l,r,e.layoutBox);const c=!BP(a);let u=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:m}=d;if(f&&m){const v=Qe();Il(v,e.layoutBox,f.layoutBox);const w=Qe();Il(w,r,m.layoutBox),jP(v,w)||(u=!0),d.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=v,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function dj(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function fj(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function pj(t){t.clearSnapshot()}function B2(t){t.clearMeasurements()}function mj(t){t.isLayoutDirty=!1}function gj(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function j2(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function yj(t){t.resolveTargetDelta()}function vj(t){t.calcProjection()}function _j(t){t.resetSkewAndRotation()}function wj(t){t.removeLeadSnapshot()}function z2(t,e,n){t.translate=Be(e.translate,0,n),t.scale=Be(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function $2(t,e,n,r){t.min=Be(e.min,n.min,r),t.max=Be(e.max,n.max,r)}function Ej(t,e,n,r){$2(t.x,e.x,n.x,r),$2(t.y,e.y,n.y,r)}function Tj(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const xj={duration:.45,ease:[.4,0,.1,1]},H2=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),W2=H2("applewebkit/")&&!H2("chrome/")?Math.round:Sn;function q2(t){t.min=W2(t.min),t.max=W2(t.max)}function bj(t){q2(t.x),q2(t.y)}function HP(t,e,n){return t==="position"||t==="preserve-aspect"&&!IB(F2(e),F2(n),.2)}function Sj(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const Ij=$P({attachResizeListener:(t,e)=>pc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),qp={current:void 0},WP=$P({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!qp.current){const t=new Ij({});t.mount(window),t.setOptions({layoutScroll:!0}),qp.current=t}return qp.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),kj={pan:{Feature:$B},drag:{Feature:zB,ProjectionNode:WP,MeasureLayout:VP}};function K2(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&ze.postRender(()=>s(e,$c(e)))}class Cj extends Wi{mount(){const{current:e}=this.node;e&&(this.unmount=iU(e,(n,r)=>(K2(this.node,r,"Start"),i=>K2(this.node,i,"End"))))}unmount(){}}class Pj extends Wi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Bc(pc(this.node.current,"focus",()=>this.onFocus()),pc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function G2(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&ze.postRender(()=>s(e,$c(e)))}class Aj extends Wi{mount(){const{current:e}=this.node;e&&(this.unmount=lU(e,(n,r)=>(G2(this.node,r,"Start"),(i,{success:s})=>G2(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Qg=new WeakMap,Kp=new WeakMap,Rj=t=>{const e=Qg.get(t.target);e&&e(t)},Dj=t=>{t.forEach(Rj)};function Mj({root:t,...e}){const n=t||document;Kp.has(n)||Kp.set(n,{});const r=Kp.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(Dj,{root:t,...e})),r[i]}function Nj(t,e,n){const r=Mj(e);return Qg.set(t,n),r.observe(t),()=>{Qg.delete(t),r.unobserve(t)}}const Oj={some:0,all:1};class Lj extends Wi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Oj[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),f=c?u:d;f&&f(l)};return Nj(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Vj(e,n))&&this.startObserver()}unmount(){}}function Vj({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Fj={inView:{Feature:Lj},tap:{Feature:Aj},focus:{Feature:Pj},hover:{Feature:Cj}},Uj={layout:{ProjectionNode:WP,MeasureLayout:VP}},Yg={current:null},qP={current:!1};function Bj(){if(qP.current=!0,!!av)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Yg.current=t.matches;t.addListener(e),e()}else Yg.current=!1}const jj=new WeakMap;function zj(t,e,n){for(const r in e){const i=e[r],s=n[r];if(Lt(i))t.addValue(r,i);else if(Lt(s))t.addValue(r,Ko(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,Ko(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const Q2=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class $j{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Sv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Zt.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,ze.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=bf(n),this.isVariantNode=fP(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in d){const m=d[f];l[f]!==void 0&&Lt(m)&&m.set(l[f],!1)}}mount(e){this.current=e,jj.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),qP.current||Bj(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Yg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ni(this.notifyUpdate),Ni(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=da.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&ze.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Go){const n=Go[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Qe()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Q2.length;r++){const i=Q2[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=zj(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Ko(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(wC(r)||TC(r))?r=parseFloat(r):!hU(r)&&Oi.test(n)&&(r=iP(e,n)),this.setBaseTarget(e,Lt(r)?r.get():r)),Lt(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=Lv(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Lt(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new fv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class KP extends $j{constructor(){super(...arguments),this.KeyframeResolver=ZF}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Lt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function GP(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}function Hj(t){return window.getComputedStyle(t)}class Wj extends KP{constructor(){super(...arguments),this.type="html",this.renderInstance=GP}readValueFromInstance(e,n){var r;if(da.has(n))return(r=this.projection)!=null&&r.isProjecting?Vg(n):vF(e,n);{const i=Hj(e),s=(gv(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return MP(e,n)}build(e,n,r){Mv(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Vv(e,n,r)}}const QP=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function qj(t,e,n,r){GP(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(QP.has(i)?i:Dv(i),e.attrs[i])}class Kj extends KP{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Qe}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(da.has(n)){const r=rP(n);return r&&r.default||0}return n=QP.has(n)?n:Dv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return xP(e,n,r)}build(e,n,r){_P(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){qj(e,n,r,i)}mount(e){this.isSVGTag=EP(e.tagName),super.mount(e)}}const Gj=(t,e)=>Ov(t)?new Kj(e):new Wj(e,{allowProjection:t!==N.Fragment}),Qj=qU({...vB,...Fj,...kj,...Uj},Gj),Yr=yU(Qj),Yj=()=>{const t=jr(),{orderId:e}=t.state||{},[n,r]=N.useState(""),[i,s]=N.useState(""),[o,a]=N.useState(0),[l,c]=N.useState(!1),u=async v=>{v.preventDefault(),n&&i&&(await W9({name:n,quote:i,rating:o,title:"Valued Customer"}),c(!0))},d=v=>{a(v)},f={hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1,transition:{delayChildren:.3,staggerChildren:.2}}},m={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}};return g.createElement("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100 dark:bg-gray-900 text-center p-4"},g.createElement(Yr.div,{variants:f,initial:"hidden",animate:"visible",className:"bg-white dark:bg-gray-800 p-8 rounded-2xl shadow-2xl max-w-lg w-full"},g.createElement(Yr.div,{variants:m},g.createElement(eD,{className:"text-green-500 text-6xl mx-auto mb-6"})),g.createElement(Yr.h1,{variants:m,className:"text-3xl font-bold text-gray-900 dark:text-white mb-2"},"Order Successful!"),g.createElement(Yr.p,{variants:m,className:"text-gray-600 dark:text-gray-300 mb-6"},"Thank you for your purchase."),e&&g.createElement(Yr.p,{variants:m,className:"text-sm text-gray-500 dark:text-gray-400"},"Your Order ID is: ",g.createElement("span",{className:"font-semibold text-gray-700 dark:text-gray-200 bg-gray-100 dark:bg-gray-700 p-1 rounded"},e)),l?g.createElement(Yr.div,{variants:m,className:"mt-8 text-lg text-green-600 dark:text-green-400 font-semibold"},"Thank you for your valuable feedback!"):g.createElement(Yr.div,{variants:m,className:"mt-8 border-t pt-6 dark:border-gray-700"},g.createElement("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200 mb-4"},"Share Your Feedback!"),g.createElement("form",{onSubmit:u,className:"flex flex-col gap-4"},g.createElement(lC,{count:5,onChange:d,size:32,isHalf:!0,emptyIcon:g.createElement("i",{className:"far fa-star"}),halfIcon:g.createElement("i",{className:"fa fa-star-half-alt"}),fullIcon:g.createElement("i",{className:"fa fa-star"}),activeColor:"#ffd700"}),g.createElement("input",{type:"text",placeholder:"Your Name",value:n,onChange:v=>r(v.target.value),className:"w-full p-3 border rounded-lg bg-gray-50 dark:bg-gray-700 dark:border-gray-600 focus:ring-2 focus:ring-blue-500 transition",required:!0}),g.createElement("textarea",{placeholder:"Your feedback...",value:i,onChange:v=>s(v.target.value),className:"w-full p-3 border rounded-lg bg-gray-50 dark:bg-gray-700 dark:border-gray-600 h-28 focus:ring-2 focus:ring-blue-500 transition",required:!0}),g.createElement("button",{type:"submit",className:"w-full px-6 py-3 bg-blue-600 text-white font-bold rounded-lg hover:bg-blue-700 transition-colors transform hover:scale-105"},"Submit Feedback"))),g.createElement(Yr.div,{variants:m,className:"mt-8"},g.createElement(CS,{to:"/",className:"text-blue-600 dark:text-blue-400 hover:underline"},"Continue Shopping"))))};function Xj(t,e){const{searchTerm:n="",status:r="",game:i="",paymentMethod:s=""}=e;if(!n&&!r&&!i&&!s)return t;const o=n.toLowerCase();return t.filter(a=>{const l=!r||a.status===r,c=!i||a.game===i,u=!s||a.paymentMethod===s;return(!o||a.id&&String(a.id).toLowerCase().includes(o)||a.playerId&&String(a.playerId).toLowerCase().includes(o)||a.phone&&String(a.phone).toLowerCase().includes(o)||a.game&&a.game.toLowerCase().includes(o)||a.package&&a.package.toLowerCase().includes(o))&&l&&c&&u})}const Jj=({orders:t,onStatusChange:e,onDeleteClick:n,onRowClick:r})=>g.createElement("table",{className:"min-w-full bg-white dark:bg-gray-800 rounded shadow overflow-hidden"},g.createElement("thead",null,g.createElement("tr",{className:"bg-gray-100 dark:bg-gray-700"},g.createElement("th",{className:"px-4 py-3 text-left"},"Order ID"),g.createElement("th",{className:"px-4 py-3 text-left"},"Game"),g.createElement("th",{className:"px-4 py-3 text-left"},"Package"),g.createElement("th",{className:"px-4 py-3 text-left"},"Player ID"),g.createElement("th",{className:"px-4 py-3 text-left"},"Phone"),g.createElement("th",{className:"px-4 py-3 text-left"},"Payment"),g.createElement("th",{className:"px-4 py-3 text-left"},"Status"),g.createElement("th",{className:"px-4 py-3 text-center"},"Actions"))),g.createElement("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600"},t.map(i=>g.createElement("tr",{key:i.firestoreId,onClick:()=>r(i),className:"hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer"},g.createElement("td",{className:"px-4 py-2 font-mono"},i.id),g.createElement("td",{className:"px-4 py-2"},i.game),g.createElement("td",{className:"px-4 py-2"},i.package),g.createElement("td",{className:"px-4 py-2"},i.playerId),g.createElement("td",{className:"px-4 py-2"},i.phone),g.createElement("td",{className:"px-4 py-2"},i.paymentMethod),g.createElement("td",{className:"px-4 py-2"},g.createElement("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${i.status==="Completed"?"bg-green-100 text-green-800":i.status==="Awaiting Confirmation"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`},i.status)),g.createElement("td",{className:"px-4 py-2 text-center",onClick:s=>s.stopPropagation()},i.status==="Completed"?g.createElement("span",{className:"text-sm font-semibold text-green-600 dark:text-green-400"},"Done"):g.createElement(g.Fragment,null,g.createElement("button",{className:"px-2 py-1 bg-green-500 text-white rounded mr-2 text-xs hover:bg-green-600 transition",onClick:s=>{s.stopPropagation(),e(i.firestoreId,"Completed")}},"Complete"),g.createElement("button",{className:"px-2 py-1 bg-yellow-500 text-white rounded text-xs hover:bg-yellow-600 transition",onClick:s=>{s.stopPropagation(),e(i.firestoreId,"Pending Payment")},disabled:i.status==="Pending Payment"},"Pending")),g.createElement("button",{className:"px-2 py-1 bg-red-600 text-white rounded text-xs hover:bg-red-700 transition ml-2",onClick:s=>{s.stopPropagation(),n(i)}},"Delete")))))),Zj=({order:t,onClose:e})=>t?g.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",onClick:e},g.createElement("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl p-8 max-w-lg w-full transform transition-all",onClick:n=>n.stopPropagation()},g.createElement("div",{className:"flex justify-between items-center mb-4 border-b pb-3 dark:border-gray-600"},g.createElement("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white"},"Order Details"),g.createElement("button",{onClick:e,className:"text-gray-500 hover:text-gray-800 dark:hover:text-white"},"")),g.createElement("div",{className:"space-y-4"},g.createElement("div",{className:"grid grid-cols-3 gap-4"},g.createElement("strong",{className:"text-gray-600 dark:text-gray-300"},"Order ID:"),g.createElement("span",{className:"col-span-2 font-mono"},t.id)),g.createElement("div",{className:"grid grid-cols-3 gap-4"},g.createElement("strong",{className:"text-gray-600 dark:text-gray-300"},"Customer:"),g.createElement("span",{className:"col-span-2"},t.name," (",t.email,")")),g.createElement("div",{className:"grid grid-cols-3 gap-4"},g.createElement("strong",{className:"text-gray-600 dark:text-gray-300"},"Game:"),g.createElement("span",{className:"col-span-2"},t.game," - ",t.package)),g.createElement("div",{className:"grid grid-cols-3 gap-4"},g.createElement("strong",{className:"text-gray-600 dark:text-gray-300"},"Player ID:"),g.createElement("span",{className:"col-span-2"},t.playerId)),g.createElement("div",{className:"grid grid-cols-3 gap-4"},g.createElement("strong",{className:"text-gray-600 dark:text-gray-300"},"Contact Phone:"),g.createElement("span",{className:"col-span-2"},t.phone)),g.createElement("div",{className:"grid grid-cols-3 gap-4"},g.createElement("strong",{className:"text-gray-600 dark:text-gray-300"},"Price:"),g.createElement("span",{className:"col-span-2"},"EGP ",t.price.toFixed(2))),g.createElement("div",{className:"grid grid-cols-3 gap-4"},g.createElement("strong",{className:"text-gray-600 dark:text-gray-300"},"Payment Method:"),g.createElement("span",{className:"col-span-2"},t.paymentMethod)),g.createElement("div",{className:"grid grid-cols-3 gap-4"},g.createElement("strong",{className:"text-gray-600 dark:text-gray-300"},"Status:"),g.createElement("span",{className:"col-span-2"},t.status)),g.createElement("div",{className:"grid grid-cols-3 gap-4"},g.createElement("strong",{className:"text-gray-600 dark:text-gray-300"},"Date:"),g.createElement("span",{className:"col-span-2"},new Date(t.createdAt).toLocaleString()))),g.createElement("button",{onClick:e,className:"mt-6 w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700"},"Close"))):null,ez=({message:t,onClose:e})=>(N.useEffect(()=>{const n=setTimeout(()=>{e()},5e3);return()=>clearTimeout(n)},[e]),g.createElement("div",{className:"fixed top-5 right-5 bg-green-500 text-white py-2 px-4 rounded-lg shadow-lg animate-bounce"},g.createElement("div",{className:"flex justify-between items-center"},g.createElement("span",null,t),g.createElement("button",{onClick:e,className:"ml-4 text-white font-bold"},"")))),tz=()=>{const t=ji(),e="flex items-center px-4 py-2 text-gray-700 dark:text-gray-200 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700",n="flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg",r=async()=>{try{await iV(vd),t("/login")}catch(i){console.error("Logout failed:",i)}};return g.createElement("div",{className:"w-64 h-screen bg-white dark:bg-gray-800 shadow-md fixed top-0 left-0 flex flex-col"},g.createElement("div",null,g.createElement("div",{className:"p-4"},g.createElement("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white"},"TopUp Store"),g.createElement("p",{className:"text-sm text-gray-500 dark:text-gray-400"},"Admin Panel")),g.createElement("nav",{className:"p-4"},g.createElement("ul",null,g.createElement("li",null,g.createElement("a",{href:"/dashboard",className:n},g.createElement("svg",{className:"w-5 h-5 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 10h18M3 14h18m-9-4v8m-7 0h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})),"Dashboard"))))),g.createElement("div",{className:"mt-auto p-4"},g.createElement("button",{onClick:r,className:`${e} w-full`},g.createElement("svg",{className:"w-5 h-5 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})),"Log Out")))};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Hc(t){return t+.5|0}const di=(t,e,n)=>Math.max(Math.min(t,n),e);function rl(t){return di(Hc(t*2.55),0,255)}function Ci(t){return di(Hc(t*255),0,255)}function Tr(t){return di(Hc(t/2.55)/100,0,1)}function Y2(t){return di(Hc(t*100),0,100)}const gn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Xg=[..."0123456789ABCDEF"],nz=t=>Xg[t&15],rz=t=>Xg[(t&240)>>4]+Xg[t&15],Ou=t=>(t&240)>>4===(t&15),iz=t=>Ou(t.r)&&Ou(t.g)&&Ou(t.b)&&Ou(t.a);function sz(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&gn[t[1]]*17,g:255&gn[t[2]]*17,b:255&gn[t[3]]*17,a:e===5?gn[t[4]]*17:255}:(e===7||e===9)&&(n={r:gn[t[1]]<<4|gn[t[2]],g:gn[t[3]]<<4|gn[t[4]],b:gn[t[5]]<<4|gn[t[6]],a:e===9?gn[t[7]]<<4|gn[t[8]]:255})),n}const oz=(t,e)=>t<255?e(t):"";function az(t){var e=iz(t)?nz:rz;return t?"#"+e(t.r)+e(t.g)+e(t.b)+oz(t.a,e):void 0}const lz=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function YP(t,e,n){const r=e*Math.min(n,1-n),i=(s,o=(s+t/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function cz(t,e,n){const r=(i,s=(i+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function uz(t,e,n){const r=YP(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)r[i]*=1-e-n,r[i]+=e;return r}function hz(t,e,n,r,i){return t===i?(e-n)/r+(e<n?6:0):e===i?(n-t)/r+2:(t-e)/r+4}function Uv(t){const n=t.r/255,r=t.g/255,i=t.b/255,s=Math.max(n,r,i),o=Math.min(n,r,i),a=(s+o)/2;let l,c,u;return s!==o&&(u=s-o,c=a>.5?u/(2-s-o):u/(s+o),l=hz(n,r,i,u,s),l=l*60+.5),[l|0,c||0,a]}function Bv(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(Ci)}function jv(t,e,n){return Bv(YP,t,e,n)}function dz(t,e,n){return Bv(uz,t,e,n)}function fz(t,e,n){return Bv(cz,t,e,n)}function XP(t){return(t%360+360)%360}function pz(t){const e=lz.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?rl(+e[5]):Ci(+e[5]));const i=XP(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?r=dz(i,s,o):e[1]==="hsv"?r=fz(i,s,o):r=jv(i,s,o),{r:r[0],g:r[1],b:r[2],a:n}}function mz(t,e){var n=Uv(t);n[0]=XP(n[0]+e),n=jv(n),t.r=n[0],t.g=n[1],t.b=n[2]}function gz(t){if(!t)return;const e=Uv(t),n=e[0],r=Y2(e[1]),i=Y2(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${i}%, ${Tr(t.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const X2={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},J2={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function yz(){const t={},e=Object.keys(J2),n=Object.keys(X2);let r,i,s,o,a;for(r=0;r<e.length;r++){for(o=a=e[r],i=0;i<n.length;i++)s=n[i],a=a.replace(s,X2[s]);s=parseInt(J2[o],16),t[a]=[s>>16&255,s>>8&255,s&255]}return t}let Lu;function vz(t){Lu||(Lu=yz(),Lu.transparent=[0,0,0,0]);const e=Lu[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const _z=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function wz(t){const e=_z.exec(t);let n=255,r,i,s;if(e){if(e[7]!==r){const o=+e[7];n=e[8]?rl(o):di(o*255,0,255)}return r=+e[1],i=+e[3],s=+e[5],r=255&(e[2]?rl(r):di(r,0,255)),i=255&(e[4]?rl(i):di(i,0,255)),s=255&(e[6]?rl(s):di(s,0,255)),{r,g:i,b:s,a:n}}}function Ez(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Tr(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Gp=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Gs=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function Tz(t,e,n){const r=Gs(Tr(t.r)),i=Gs(Tr(t.g)),s=Gs(Tr(t.b));return{r:Ci(Gp(r+n*(Gs(Tr(e.r))-r))),g:Ci(Gp(i+n*(Gs(Tr(e.g))-i))),b:Ci(Gp(s+n*(Gs(Tr(e.b))-s))),a:t.a+n*(e.a-t.a)}}function Vu(t,e,n){if(t){let r=Uv(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=jv(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function JP(t,e){return t&&Object.assign(e||{},t)}function Z2(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Ci(t[3]))):(e=JP(t,{r:0,g:0,b:0,a:1}),e.a=Ci(e.a)),e}function xz(t){return t.charAt(0)==="r"?wz(t):pz(t)}class mc{constructor(e){if(e instanceof mc)return e;const n=typeof e;let r;n==="object"?r=Z2(e):n==="string"&&(r=sz(e)||vz(e)||xz(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=JP(this._rgb);return e&&(e.a=Tr(e.a)),e}set rgb(e){this._rgb=Z2(e)}rgbString(){return this._valid?Ez(this._rgb):void 0}hexString(){return this._valid?az(this._rgb):void 0}hslString(){return this._valid?gz(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,i=e.rgb;let s;const o=n===s?.5:n,a=2*o-1,l=r.a-i.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-c,r.r=255&c*r.r+s*i.r+.5,r.g=255&c*r.g+s*i.g+.5,r.b=255&c*r.b+s*i.b+.5,r.a=o*r.a+(1-o)*i.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=Tz(this._rgb,e._rgb,n)),this}clone(){return new mc(this.rgb)}alpha(e){return this._rgb.a=Ci(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Hc(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Vu(this._rgb,2,e),this}darken(e){return Vu(this._rgb,2,-e),this}saturate(e){return Vu(this._rgb,1,e),this}desaturate(e){return Vu(this._rgb,1,-e),this}rotate(e){return mz(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function gr(){}const bz=(()=>{let t=0;return()=>t++})();function Pe(t){return t==null}function ht(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Ee(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Cn(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Gn(t,e){return Cn(t)?t:e}function me(t,e){return typeof t>"u"?e:t}const Sz=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Ne(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function xe(t,e,n,r){let i,s,o;if(ht(t))for(s=t.length,i=0;i<s;i++)e.call(n,t[i],i);else if(Ee(t))for(o=Object.keys(t),s=o.length,i=0;i<s;i++)e.call(n,t[o[i]],o[i])}function bd(t,e){let n,r,i,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(i=t[n],s=e[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function Sd(t){if(ht(t))return t.map(Sd);if(Ee(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let i=0;for(;i<r;++i)e[n[i]]=Sd(t[n[i]]);return e}return t}function ZP(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function Iz(t,e,n,r){if(!ZP(t))return;const i=e[t],s=n[t];Ee(i)&&Ee(s)?gc(i,s,r):e[t]=Sd(s)}function gc(t,e,n){const r=ht(e)?e:[e],i=r.length;if(!Ee(t))return t;n=n||{};const s=n.merger||Iz;let o;for(let a=0;a<i;++a){if(o=r[a],!Ee(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)s(l[c],t,o,n)}return t}function kl(t,e){return gc(t,e,{merger:kz})}function kz(t,e,n){if(!ZP(t))return;const r=e[t],i=n[t];Ee(r)&&Ee(i)?kl(r,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Sd(i))}const eT={"":t=>t,x:t=>t.x,y:t=>t.y};function Cz(t){const e=t.split("."),n=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function Pz(t){const e=Cz(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function Id(t,e){return(eT[e]||(eT[e]=Pz(e)))(t)}function zv(t){return t.charAt(0).toUpperCase()+t.slice(1)}const kd=t=>typeof t<"u",Li=t=>typeof t=="function",tT=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function Az(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const ft=Math.PI,ur=2*ft,Rz=ur+ft,Cd=Number.POSITIVE_INFINITY,Dz=ft/180,Un=ft/2,Xi=ft/4,nT=ft*2/3,eA=Math.log10,Qo=Math.sign;function Cl(t,e,n){return Math.abs(t-e)<n}function rT(t){const e=Math.round(t);t=Cl(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(eA(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function Mz(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((i,s)=>i-s).pop(),e}function Nz(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function yc(t){return!Nz(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function Oz(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function Lz(t,e,n){let r,i,s;for(r=0,i=t.length;r<i;r++)s=t[r][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function ds(t){return t*(ft/180)}function Vz(t){return t*(180/ft)}function iT(t){if(!Cn(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function Fz(t,e){const n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*ft&&(s+=ur),{angle:s,distance:i}}function Jg(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Uz(t,e){return(t-e+Rz)%ur-ft}function Zr(t){return(t%ur+ur)%ur}function tA(t,e,n,r){const i=Zr(t),s=Zr(e),o=Zr(n),a=Zr(s-i),l=Zr(o-i),c=Zr(i-s),u=Zr(i-o);return i===s||i===o||r&&s===o||a>l&&c<u}function Tn(t,e,n){return Math.max(e,Math.min(n,t))}function Bz(t){return Tn(t,-32768,32767)}function il(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function $v(t,e,n){n=n||(o=>t[o]<e);let r=t.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,n(s)?i=s:r=s;return{lo:i,hi:r}}const fs=(t,e,n,r)=>$v(t,n,r?i=>{const s=t[i][e];return s<n||s===n&&t[i+1][e]===n}:i=>t[i][e]<n),jz=(t,e,n)=>$v(t,n,r=>t[r][e]>=n);function zz(t,e,n){let r=0,i=t.length;for(;r<i&&t[r]<e;)r++;for(;i>r&&t[i-1]>n;)i--;return r>0||i<t.length?t.slice(r,i):t}const nA=["push","pop","shift","splice","unshift"];function $z(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),nA.forEach(n=>{const r="_onData"+zv(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const o=i.apply(this,s);return t._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...s)}),o}})})}function sT(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(nA.forEach(s=>{delete t[s]}),delete t._chartjs)}function Hz(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const rA=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function iA(t,e){let n=[],r=!1;return function(...i){n=i,r||(r=!0,rA.call(window,()=>{r=!1,t.apply(e,n)}))}}function Wz(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const Hv=t=>t==="start"?"left":t==="end"?"right":"center",Dt=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,qz=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function Kz(t,e,n){const r=e.length;let i=0,s=r;if(t._sorted){const{iScale:o,vScale:a,_parsed:l}=t,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,u=o.axis,{min:d,max:f,minDefined:m,maxDefined:v}=o.getUserBounds();if(m){if(i=Math.min(fs(l,u,d).lo,n?r:fs(e,u,o.getPixelForValue(d)).lo),c){const w=l.slice(0,i+1).reverse().findIndex(T=>!Pe(T[a.axis]));i-=Math.max(0,w)}i=Tn(i,0,r-1)}if(v){let w=Math.max(fs(l,o.axis,f,!0).hi+1,n?0:fs(e,u,o.getPixelForValue(f),!0).hi+1);if(c){const T=l.slice(w-1).findIndex(_=>!Pe(_[a.axis]));w+=Math.max(0,T)}s=Tn(w,i,r)-i}else s=r-i}return{start:i,count:s}}function Gz(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=i,!0;const s=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),s}const Fu=t=>t===0||t===1,oT=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*ur/n)),aT=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*ur/n)+1,Pl={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Un)+1,easeOutSine:t=>Math.sin(t*Un),easeInOutSine:t=>-.5*(Math.cos(ft*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Fu(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Fu(t)?t:oT(t,.075,.3),easeOutElastic:t=>Fu(t)?t:aT(t,.075,.3),easeInOutElastic(t){return Fu(t)?t:t<.5?.5*oT(t*2,.1125,.45):.5+.5*aT(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Pl.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Pl.easeInBounce(t*2)*.5:Pl.easeOutBounce(t*2-1)*.5+.5};function Wv(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function lT(t){return Wv(t)?t:new mc(t)}function Qp(t){return Wv(t)?t:new mc(t).saturate(.5).darken(.1).hexString()}const Qz=["x","y","borderWidth","radius","tension"],Yz=["color","borderColor","backgroundColor"];function Xz(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:Yz},numbers:{type:"number",properties:Qz}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function Jz(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const cT=new Map;function Zz(t,e){e=e||{};const n=t+JSON.stringify(e);let r=cT.get(n);return r||(r=new Intl.NumberFormat(t,e),cT.set(n,r)),r}function sA(t,e,n){return Zz(e,n).format(t)}const e$={values(t){return ht(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let i,s=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),s=t$(t,n)}const o=eA(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),sA(t,r,l)}};function t$(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var oA={formatters:e$};function n$(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:oA.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Ds=Object.create(null),Zg=Object.create(null);function Al(t,e){if(!e)return t;const n=e.split(".");for(let r=0,i=n.length;r<i;++r){const s=n[r];t=t[s]||(t[s]=Object.create(null))}return t}function Yp(t,e,n){return typeof e=="string"?gc(Al(t,e),n):gc(Al(t,""),e)}class r${constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>Qp(i.backgroundColor),this.hoverBorderColor=(r,i)=>Qp(i.borderColor),this.hoverColor=(r,i)=>Qp(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Yp(this,e,n)}get(e){return Al(this,e)}describe(e,n){return Yp(Zg,e,n)}override(e,n){return Yp(Ds,e,n)}route(e,n,r,i){const s=Al(this,e),o=Al(this,r),a="_"+n;Object.defineProperties(s,{[a]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[i];return Ee(l)?Object.assign({},c,l):me(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var Je=new r$({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Xz,Jz,n$]);function i$(t){return!t||Pe(t.size)||Pe(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function uT(t,e,n,r,i){let s=e[i];return s||(s=e[i]=t.measureText(i).width,n.push(i)),s>r&&(r=s),r}function Ji(t,e,n){const r=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*r)/r+i}function hT(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function ey(t,e,n,r){aA(t,e,n,r,null)}function aA(t,e,n,r,i){let s,o,a,l,c,u,d,f;const m=e.pointStyle,v=e.rotation,w=e.radius;let T=(v||0)*Dz;if(m&&typeof m=="object"&&(s=m.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(T),t.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),t.restore();return}if(!(isNaN(w)||w<=0)){switch(t.beginPath(),m){default:i?t.ellipse(n,r,i/2,w,0,0,ur):t.arc(n,r,w,0,ur),t.closePath();break;case"triangle":u=i?i/2:w,t.moveTo(n+Math.sin(T)*u,r-Math.cos(T)*w),T+=nT,t.lineTo(n+Math.sin(T)*u,r-Math.cos(T)*w),T+=nT,t.lineTo(n+Math.sin(T)*u,r-Math.cos(T)*w),t.closePath();break;case"rectRounded":c=w*.516,l=w-c,o=Math.cos(T+Xi)*l,d=Math.cos(T+Xi)*(i?i/2-c:l),a=Math.sin(T+Xi)*l,f=Math.sin(T+Xi)*(i?i/2-c:l),t.arc(n-d,r-a,c,T-ft,T-Un),t.arc(n+f,r-o,c,T-Un,T),t.arc(n+d,r+a,c,T,T+Un),t.arc(n-f,r+o,c,T+Un,T+ft),t.closePath();break;case"rect":if(!v){l=Math.SQRT1_2*w,u=i?i/2:l,t.rect(n-u,r-l,2*u,2*l);break}T+=Xi;case"rectRot":d=Math.cos(T)*(i?i/2:w),o=Math.cos(T)*w,a=Math.sin(T)*w,f=Math.sin(T)*(i?i/2:w),t.moveTo(n-d,r-a),t.lineTo(n+f,r-o),t.lineTo(n+d,r+a),t.lineTo(n-f,r+o),t.closePath();break;case"crossRot":T+=Xi;case"cross":d=Math.cos(T)*(i?i/2:w),o=Math.cos(T)*w,a=Math.sin(T)*w,f=Math.sin(T)*(i?i/2:w),t.moveTo(n-d,r-a),t.lineTo(n+d,r+a),t.moveTo(n+f,r-o),t.lineTo(n-f,r+o);break;case"star":d=Math.cos(T)*(i?i/2:w),o=Math.cos(T)*w,a=Math.sin(T)*w,f=Math.sin(T)*(i?i/2:w),t.moveTo(n-d,r-a),t.lineTo(n+d,r+a),t.moveTo(n+f,r-o),t.lineTo(n-f,r+o),T+=Xi,d=Math.cos(T)*(i?i/2:w),o=Math.cos(T)*w,a=Math.sin(T)*w,f=Math.sin(T)*(i?i/2:w),t.moveTo(n-d,r-a),t.lineTo(n+d,r+a),t.moveTo(n+f,r-o),t.lineTo(n-f,r+o);break;case"line":o=i?i/2:Math.cos(T)*w,a=Math.sin(T)*w,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(T)*(i?i/2:w),r+Math.sin(T)*w);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function vc(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function qv(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Kv(t){t.restore()}function s$(t,e,n,r,i){if(!e)return t.lineTo(n.x,n.y);if(i==="middle"){const s=(e.x+n.x)/2;t.lineTo(s,e.y),t.lineTo(s,n.y)}else i==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function o$(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function a$(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Pe(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function l$(t,e,n,r,i){if(i.strikethrough||i.underline){const s=t.measureText(r),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function c$(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function _c(t,e,n,r,i,s={}){const o=ht(e)?e:[e],a=s.strokeWidth>0&&s.strokeColor!=="";let l,c;for(t.save(),t.font=i.string,a$(t,s),l=0;l<o.length;++l)c=o[l],s.backdrop&&c$(t,s.backdrop),a&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),Pe(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(c,n,r,s.maxWidth)),t.fillText(c,n,r,s.maxWidth),l$(t,n,r,c,s),r+=Number(i.lineHeight);t.restore()}function ty(t,e){const{x:n,y:r,w:i,h:s,radius:o}=e;t.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*ft,ft,!0),t.lineTo(n,r+s-o.bottomLeft),t.arc(n+o.bottomLeft,r+s-o.bottomLeft,o.bottomLeft,ft,Un,!0),t.lineTo(n+i-o.bottomRight,r+s),t.arc(n+i-o.bottomRight,r+s-o.bottomRight,o.bottomRight,Un,0,!0),t.lineTo(n+i,r+o.topRight),t.arc(n+i-o.topRight,r+o.topRight,o.topRight,0,-Un,!0),t.lineTo(n+o.topLeft,r)}const u$=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,h$=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function d$(t,e){const n=(""+t).match(u$);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const f$=t=>+t||0;function lA(t,e){const n={},r=Ee(e),i=r?Object.keys(e):e,s=Ee(t)?r?o=>me(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of i)n[o]=f$(s(o));return n}function p$(t){return lA(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Rl(t){return lA(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Pn(t){const e=p$(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Vt(t,e){t=t||{},e=e||Je.font;let n=me(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=me(t.style,e.style);r&&!(""+r).match(h$)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:me(t.family,e.family),lineHeight:d$(me(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:me(t.weight,e.weight),string:""};return i.string=i$(i),i}function Uu(t,e,n,r){let i,s,o;for(i=0,s=t.length;i<s;++i)if(o=t[i],o!==void 0&&o!==void 0)return o}function m$(t,e,n){const{min:r,max:i}=t,s=Sz(e,(i-r)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(r,-Math.abs(s)),max:o(i,s)}}function Bs(t,e){return Object.assign(Object.create(t),e)}function Gv(t,e=[""],n,r,i=()=>t[0]){const s=n||t;typeof r>"u"&&(r=dA("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:r,_getTarget:i,override:a=>Gv([a,...t],e,s,r)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return uA(a,l,()=>x$(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return fT(a).includes(l)},ownKeys(a){return fT(a)},set(a,l,c){const u=a._storage||(a._storage=i());return a[l]=u[l]=c,delete a._keys,!0}})}function Yo(t,e,n,r){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:cA(t,r),setContext:s=>Yo(t,s,n,r),override:s=>Yo(t.override(s),e,n,r)};return new Proxy(i,{deleteProperty(s,o){return delete s[o],delete t[o],!0},get(s,o,a){return uA(s,o,()=>y$(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(s,o,a){return t[o]=a,delete s[o],!0}})}function cA(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:r,isScriptable:Li(n)?n:()=>n,isIndexable:Li(r)?r:()=>r}}const g$=(t,e)=>t?t+zv(e):e,Qv=(t,e)=>Ee(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function uA(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function y$(t,e,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:o}=t;let a=r[e];return Li(a)&&o.isScriptable(e)&&(a=v$(e,a,t,n)),ht(a)&&a.length&&(a=_$(e,a,t,o.isIndexable)),Qv(e,a)&&(a=Yo(a,i,s&&s[e],o)),a}function v$(t,e,n,r){const{_proxy:i,_context:s,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(s,o||r);return a.delete(t),Qv(t,l)&&(l=Yv(i._scopes,i,t,l)),l}function _$(t,e,n,r){const{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=n;if(typeof s.index<"u"&&r(t))return e[s.index%e.length];if(Ee(e[0])){const l=e,c=i._scopes.filter(u=>u!==l);e=[];for(const u of l){const d=Yv(c,i,t,u);e.push(Yo(d,s,o&&o[t],a))}}return e}function hA(t,e,n){return Li(t)?t(e,n):t}const w$=(t,e)=>t===!0?e:typeof t=="string"?Id(e,t):void 0;function E$(t,e,n,r,i){for(const s of e){const o=w$(n,s);if(o){t.add(o);const a=hA(o._fallback,n,i);if(typeof a<"u"&&a!==n&&a!==r)return a}else if(o===!1&&typeof r<"u"&&n!==r)return null}return!1}function Yv(t,e,n,r){const i=e._rootScopes,s=hA(e._fallback,n,r),o=[...t,...i],a=new Set;a.add(r);let l=dT(a,o,n,s||n,r);return l===null||typeof s<"u"&&s!==n&&(l=dT(a,o,s,l,r),l===null)?!1:Gv(Array.from(a),[""],i,s,()=>T$(e,n,r))}function dT(t,e,n,r,i){for(;n;)n=E$(t,e,n,r,i);return n}function T$(t,e,n){const r=t._getTarget();e in r||(r[e]={});const i=r[e];return ht(i)&&Ee(n)?n:i||{}}function x$(t,e,n,r){let i;for(const s of e)if(i=dA(g$(s,t),n),typeof i<"u")return Qv(t,i)?Yv(n,r,t,i):i}function dA(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function fT(t){let e=t._keys;return e||(e=t._keys=b$(t._scopes)),e}function b$(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}const S$=Number.EPSILON||1e-14,Xo=(t,e)=>e<t.length&&!t[e].skip&&t[e],fA=t=>t==="x"?"y":"x";function I$(t,e,n,r){const i=t.skip?e:t,s=e,o=n.skip?e:n,a=Jg(s,i),l=Jg(o,s);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const d=r*c,f=r*u;return{previous:{x:s.x-d*(o.x-i.x),y:s.y-d*(o.y-i.y)},next:{x:s.x+f*(o.x-i.x),y:s.y+f*(o.y-i.y)}}}function k$(t,e,n){const r=t.length;let i,s,o,a,l,c=Xo(t,0);for(let u=0;u<r-1;++u)if(l=c,c=Xo(t,u+1),!(!l||!c)){if(Cl(e[u],0,S$)){n[u]=n[u+1]=0;continue}i=n[u]/e[u],s=n[u+1]/e[u],a=Math.pow(i,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),n[u]=i*o*e[u],n[u+1]=s*o*e[u])}}function C$(t,e,n="x"){const r=fA(n),i=t.length;let s,o,a,l=Xo(t,0);for(let c=0;c<i;++c){if(o=a,a=l,l=Xo(t,c+1),!a)continue;const u=a[n],d=a[r];o&&(s=(u-o[n])/3,a[`cp1${n}`]=u-s,a[`cp1${r}`]=d-s*e[c]),l&&(s=(l[n]-u)/3,a[`cp2${n}`]=u+s,a[`cp2${r}`]=d+s*e[c])}}function P$(t,e="x"){const n=fA(e),r=t.length,i=Array(r).fill(0),s=Array(r);let o,a,l,c=Xo(t,0);for(o=0;o<r;++o)if(a=l,l=c,c=Xo(t,o+1),!!l){if(c){const u=c[e]-l[e];i[o]=u!==0?(c[n]-l[n])/u:0}s[o]=a?c?Qo(i[o-1])!==Qo(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}k$(t,i,s),C$(t,s,e)}function Bu(t,e,n){return Math.max(Math.min(t,n),e)}function A$(t,e){let n,r,i,s,o,a=vc(t[0],e);for(n=0,r=t.length;n<r;++n)o=s,s=a,a=n<r-1&&vc(t[n+1],e),s&&(i=t[n],o&&(i.cp1x=Bu(i.cp1x,e.left,e.right),i.cp1y=Bu(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=Bu(i.cp2x,e.left,e.right),i.cp2y=Bu(i.cp2y,e.top,e.bottom)))}function R$(t,e,n,r,i){let s,o,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")P$(t,i);else{let c=r?t[t.length-1]:t[0];for(s=0,o=t.length;s<o;++s)a=t[s],l=I$(c,a,t[Math.min(s+1,o-(r?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&A$(t,n)}function Xv(){return typeof window<"u"&&typeof document<"u"}function Jv(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Pd(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const Sf=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function D$(t,e){return Sf(t).getPropertyValue(e)}const M$=["top","right","bottom","left"];function ws(t,e,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=M$[i];r[s]=parseFloat(t[e+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const N$=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function O$(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:i,offsetY:s}=r;let o=!1,a,l;if(N$(i,s,t.target))a=i,l=s;else{const c=e.getBoundingClientRect();a=r.clientX-c.left,l=r.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function is(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,i=Sf(n),s=i.boxSizing==="border-box",o=ws(i,"padding"),a=ws(i,"border","width"),{x:l,y:c,box:u}=O$(t,n),d=o.left+(u&&a.left),f=o.top+(u&&a.top);let{width:m,height:v}=e;return s&&(m-=o.width+a.width,v-=o.height+a.height),{x:Math.round((l-d)/m*n.width/r),y:Math.round((c-f)/v*n.height/r)}}function L$(t,e,n){let r,i;if(e===void 0||n===void 0){const s=t&&Jv(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{const o=s.getBoundingClientRect(),a=Sf(s),l=ws(a,"border","width"),c=ws(a,"padding");e=o.width-c.width-l.width,n=o.height-c.height-l.height,r=Pd(a.maxWidth,s,"clientWidth"),i=Pd(a.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:r||Cd,maxHeight:i||Cd}}const ju=t=>Math.round(t*10)/10;function V$(t,e,n,r){const i=Sf(t),s=ws(i,"margin"),o=Pd(i.maxWidth,t,"clientWidth")||Cd,a=Pd(i.maxHeight,t,"clientHeight")||Cd,l=L$(t,e,n);let{width:c,height:u}=l;if(i.boxSizing==="content-box"){const f=ws(i,"border","width"),m=ws(i,"padding");c-=m.width+f.width,u-=m.height+f.height}return c=Math.max(0,c-s.width),u=Math.max(0,r?c/r:u-s.height),c=ju(Math.min(c,o,l.maxWidth)),u=ju(Math.min(u,a,l.maxHeight)),c&&!u&&(u=ju(c/2)),(e!==void 0||n!==void 0)&&r&&l.height&&u>l.height&&(u=l.height,c=ju(Math.floor(u*r))),{width:c,height:u}}function pT(t,e,n){const r=e||1,i=Math.floor(t.height*r),s=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||o.height!==i||o.width!==s?(t.currentDevicePixelRatio=r,o.height=i,o.width=s,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const F$=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Xv()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function mT(t,e){const n=D$(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function ss(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function U$(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function B$(t,e,n,r){const i={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},o=ss(t,i,n),a=ss(i,s,n),l=ss(s,e,n),c=ss(o,a,n),u=ss(a,l,n);return ss(c,u,n)}const j$=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},z$=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Ao(t,e,n){return t?j$(e,n):z$()}function pA(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function mA(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function gA(t){return t==="angle"?{between:tA,compare:Uz,normalize:Zr}:{between:il,compare:(e,n)=>e-n,normalize:e=>e}}function gT({start:t,end:e,count:n,loop:r,style:i}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:i}}function $$(t,e,n){const{property:r,start:i,end:s}=n,{between:o,normalize:a}=gA(r),l=e.length;let{start:c,end:u,loop:d}=t,f,m;if(d){for(c+=l,u+=l,f=0,m=l;f<m&&o(a(e[c%l][r]),i,s);++f)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:d,style:t.style}}function H$(t,e,n){if(!n)return[t];const{property:r,start:i,end:s}=n,o=e.length,{compare:a,between:l,normalize:c}=gA(r),{start:u,end:d,loop:f,style:m}=$$(t,e,n),v=[];let w=!1,T=null,_,x,b;const R=()=>l(i,b,_)&&a(i,b)!==0,D=()=>a(s,_)===0||l(s,b,_),O=()=>w||R(),S=()=>!w||D();for(let E=u,k=u;E<=d;++E)x=e[E%o],!x.skip&&(_=c(x[r]),_!==b&&(w=l(_,i,s),T===null&&O()&&(T=a(_,i)===0?E:k),T!==null&&S()&&(v.push(gT({start:T,end:E,loop:f,count:o,style:m})),T=null),k=E,b=_));return T!==null&&v.push(gT({start:T,end:d,loop:f,count:o,style:m})),v}function W$(t,e){const n=[],r=t.segments;for(let i=0;i<r.length;i++){const s=H$(r[i],t.points,e);s.length&&n.push(...s)}return n}function q$(t,e,n,r){let i=0,s=e-1;if(n&&!r)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(s+=i);s>i&&t[s%e].skip;)s--;return s%=e,{start:i,end:s}}function K$(t,e,n,r){const i=t.length,s=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%i];c.skip||c.stop?a.skip||(r=!1,s.push({start:e%i,end:(l-1)%i,loop:r}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&s.push({start:e%i,end:o%i,loop:r}),s}function G$(t,e){const n=t.points,r=t.options.spanGaps,i=n.length;if(!i)return[];const s=!!t._loop,{start:o,end:a}=q$(n,i,s,r);if(r===!0)return yT(t,[{start:o,end:a,loop:s}],n,e);const l=a<o?a+i:a,c=!!t._fullLoop&&o===0&&a===i-1;return yT(t,K$(n,o,l,c),n,e)}function yT(t,e,n,r){return!r||!r.setContext||!n?e:Q$(t,e,n,r)}function Q$(t,e,n,r){const i=t._chart.getContext(),s=vT(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,c=[];let u=s,d=e[0].start,f=d;function m(v,w,T,_){const x=a?-1:1;if(v!==w){for(v+=l;n[v%l].skip;)v-=x;for(;n[w%l].skip;)w+=x;v%l!==w%l&&(c.push({start:v%l,end:w%l,loop:T,style:_}),u=_,d=w%l)}}for(const v of e){d=a?d:v.start;let w=n[d%l],T;for(f=d+1;f<=v.end;f++){const _=n[f%l];T=vT(r.setContext(Bs(i,{type:"segment",p0:w,p1:_,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:o}))),Y$(T,u)&&m(d,f-1,v.loop,u),w=_,u=T}d<f-1&&m(d,f-1,v.loop,u)}return c}function vT(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function Y$(t,e){if(!e)return!1;const n=[],r=function(i,s){return Wv(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(t,r)!==JSON.stringify(e,r)}function zu(t,e,n){return t.options.clip?t[n]:e[n]}function X$(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:zu(n,e,"left"),right:zu(n,e,"right"),top:zu(r,e,"top"),bottom:zu(r,e,"bottom")}:e}function J$(t,e){const n=e._clip;if(n.disabled)return!1;const r=X$(e,t.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Z${constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,i){const s=n.listeners[i],o=n.duration;s.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(r-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=rA.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(i.draw(),this._notify(i,r,e,"progress")),s.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var vr=new Z$;const _T="transparent",eH={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=lT(t||_T),i=r.valid&&lT(e||_T);return i&&i.valid?i.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class tH{constructor(e,n,r,i){const s=n[r];i=Uu([e.to,i,s,e.from]);const o=Uu([e.from,s,i]);this._active=!0,this._fn=e.fn||eH[e.type||typeof o],this._easing=Pl[e.easing]||Pl.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,o=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Uu([e.to,n,i,e.from]),this._from=Uu([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,i=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||n<r),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=s;return}l=n/r%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(s,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}}class yA{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!Ee(e))return;const n=Object.keys(Je.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!Ee(s))return;const o={};for(const a of n)o[a]=s[a];(ht(s.properties)&&s.properties||[i]).forEach(a=>{(a===i||!r.has(a))&&r.set(a,o)})})}_animateOptions(e,n){const r=n.options,i=rH(e,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&nH(e.options.$animations,r).then(()=>{e.options=r},()=>{}),s}_createAnimations(e,n){const r=this._properties,i=[],s=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(e,n));continue}const u=n[c];let d=s[c];const f=r.get(c);if(d)if(f&&d.active()){d.update(f,u,a);continue}else d.cancel();if(!f||!f.duration){e[c]=u;continue}s[c]=d=new tH(f,e,c,u),i.push(d)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return vr.add(this._chart,r),!0}}function nH(t,e){const n=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const s=t[r[i]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function rH(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function wT(t,e){const n=t&&t.options||{},r=n.reverse,i=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:r?s:i,end:r?i:s}}function iH(t,e,n){if(n===!1)return!1;const r=wT(t,n),i=wT(e,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function sH(t){let e,n,r,i;return Ee(t)?(e=t.top,n=t.right,r=t.bottom,i=t.left):e=n=r=i=t,{top:e,right:n,bottom:r,left:i,disabled:t===!1}}function vA(t,e){const n=[],r=t._getSortedDatasetMetas(e);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function ET(t,e,n,r={}){const i=t.keys,s=r.mode==="single";let o,a,l,c;if(e===null)return;let u=!1;for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===n){if(u=!0,r.all)continue;break}c=t.values[l],Cn(c)&&(s||e===0||Qo(e)===Qo(c))&&(e+=c)}return!u&&!r.all?0:e}function oH(t,e){const{iScale:n,vScale:r}=e,i=n.axis==="x"?"x":"y",s=r.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[i]:u,[s]:t[u]};return a}function Xp(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function aH(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function lH(t){const{min:e,max:n,minDefined:r,maxDefined:i}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function cH(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function TT(t,e,n,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const s=t[i.index];if(n&&s>0||!n&&s<0)return i.index}return null}function xT(t,e){const{chart:n,_cachedMeta:r}=t,i=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=r,l=s.axis,c=o.axis,u=aH(s,o,r),d=e.length;let f;for(let m=0;m<d;++m){const v=e[m],{[l]:w,[c]:T}=v,_=v._stacks||(v._stacks={});f=_[c]=cH(i,u,w),f[a]=T,f._top=TT(f,o,!0,r.type),f._bottom=TT(f,o,!1,r.type);const x=f._visualValues||(f._visualValues={});x[a]=T}}function Jp(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function uH(t,e){return Bs(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function hH(t,e,n){return Bs(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function ja(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const i of e){const s=i._stacks;if(!s||s[r]===void 0||s[r][n]===void 0)return;delete s[r][n],s[r]._visualValues!==void 0&&s[r]._visualValues[n]!==void 0&&delete s[r]._visualValues[n]}}}const Zp=t=>t==="reset"||t==="none",bT=(t,e)=>e?t:Object.assign({},t),dH=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:vA(n,!0),values:null};class Dl{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Xp(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&ja(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),i=(d,f,m,v)=>d==="x"?f:d==="r"?v:m,s=n.xAxisID=me(r.xAxisID,Jp(e,"x")),o=n.yAxisID=me(r.yAxisID,Jp(e,"y")),a=n.rAxisID=me(r.rAxisID,Jp(e,"r")),l=n.indexAxis,c=n.iAxisID=i(l,s,o,a),u=n.vAxisID=i(l,o,s,a);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&sT(this._data,this),e._stacked&&ja(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(Ee(n)){const i=this._cachedMeta;this._data=oH(n,i)}else if(r!==n){if(r){sT(r,this);const i=this._cachedMeta;ja(i),i._parsed=[]}n&&Object.isExtensible(n)&&$z(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=n._stacked;n._stacked=Xp(n.vScale,n),n.stack!==r.stack&&(i=!0,ja(n),n.stack=r.stack),this._resyncElements(e),(i||s!==n._stacked)&&(xT(this,n._parsed),n._stacked=Xp(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:o}=r,a=s.axis;let l=e===0&&n===i.length?!0:r._sorted,c=e>0&&r._parsed[e-1],u,d,f;if(this._parsing===!1)r._parsed=i,r._sorted=!0,f=i;else{ht(i[e])?f=this.parseArrayData(r,i,e,n):Ee(i[e])?f=this.parseObjectData(r,i,e,n):f=this.parsePrimitiveData(r,i,e,n);const m=()=>d[a]===null||c&&d[a]<c[a];for(u=0;u<n;++u)r._parsed[u+e]=d=f[u],l&&(m()&&(l=!1),c=d);r._sorted=l}o&&xT(this,f)}parsePrimitiveData(e,n,r,i){const{iScale:s,vScale:o}=e,a=s.axis,l=o.axis,c=s.getLabels(),u=s===o,d=new Array(i);let f,m,v;for(f=0,m=i;f<m;++f)v=f+r,d[f]={[a]:u||s.parse(c[v],v),[l]:o.parse(n[v],v)};return d}parseArrayData(e,n,r,i){const{xScale:s,yScale:o}=e,a=new Array(i);let l,c,u,d;for(l=0,c=i;l<c;++l)u=l+r,d=n[u],a[l]={x:s.parse(d[0],u),y:o.parse(d[1],u)};return a}parseObjectData(e,n,r,i){const{xScale:s,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let u,d,f,m;for(u=0,d=i;u<d;++u)f=u+r,m=n[f],c[u]={x:s.parse(Id(m,a),f),y:o.parse(Id(m,l),f)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const i=this.chart,s=this._cachedMeta,o=n[e.axis],a={keys:vA(i,!0),values:n._stacks[e.axis]._visualValues};return ET(a,o,s.index,{mode:r})}updateRangeFromParsed(e,n,r,i){const s=r[n.axis];let o=s===null?NaN:s;const a=i&&r._stacks[n.axis];i&&a&&(i.values=a,o=ET(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&e===r.iScale,o=i.length,a=this._getOtherScale(e),l=dH(n,r,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:d}=lH(a);let f,m;function v(){m=i[f];const w=m[a.axis];return!Cn(m[e.axis])||u>w||d<w}for(f=0;f<o&&!(!v()&&(this.updateRangeFromParsed(c,e,m,l),s));++f);if(s){for(f=o-1;f>=0;--f)if(!v()){this.updateRangeFromParsed(c,e,m,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let i,s,o;for(i=0,s=n.length;i<s;++i)o=n[i][e.axis],Cn(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,i=n.vScale,s=this.getParsed(e);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=sH(me(this.options.clip,iH(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],s=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let u;for(r.dataset&&r.dataset.draw(e,s,a,l),u=a;u<a+l;++u){const d=i[u];d.hidden||(d.active&&c?o.push(d):d.draw(e,s))}for(u=0;u<o.length;++u)o[u].draw(e,s)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const i=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=hH(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=i.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=uH(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=r,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const i=n==="active",s=this._cachedDataOpts,o=e+"-"+n,a=s[o],l=this.enableOptionSharing&&kd(r);if(a)return bT(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),d=i?[`${e}Hover`,"hover",e,""]:[e,""],f=c.getOptionScopes(this.getDataset(),u),m=Object.keys(Je.elements[e]),v=()=>this.getContext(r,i,n),w=c.resolveNamedOptions(f,m,v,d);return w.$shared&&(w.$shared=l,s[o]=Object.freeze(bT(w,l))),w}_resolveAnimations(e,n,r){const i=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,a=s[o];if(a)return a;let l;if(i.options.animation!==!1){const u=this.chart.config,d=u.datasetAnimationScopeKeys(this._type,n),f=u.getOptionScopes(this.getDataset(),d);l=u.createResolver(f,this.getContext(e,r,n))}const c=new yA(i,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Zp(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),i=this._sharedOptions,s=this.getSharedOptions(r),o=this.includeOptions(n,s)||s!==i;return this.updateSharedOptions(s,n,r),{sharedOptions:s,includeOptions:o}}updateElement(e,n,r,i){Zp(i)?Object.assign(e,r):this._resolveAnimations(n,i).update(e,r)}updateSharedOptions(e,n,r){e&&!Zp(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,i){e.active=i;const s=this.getStyle(n,i);this._resolveAnimations(n,r,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const i=r.length,s=n.length,o=Math.min(s,i);o&&this.parse(0,o),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,n,r=!0){const i=this._cachedMeta,s=i.data,o=e+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(s),a=e;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,n),r&&this.updateElements(s,e,n,"reset")}updateElements(e,n,r,i){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,n);r._stacked&&ja(r,i)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,i]=e;this[n](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}X(Dl,"defaults",{}),X(Dl,"datasetElementType",null),X(Dl,"dataElementType",null);class bh extends Dl{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:i=[],_dataset:s}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=Kz(n,i,o);this._drawStart=a,this._drawCount=l,Gz(n)&&(a=0,l=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=i;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(r,void 0,{animated:!o,options:c},e),this.updateElements(i,a,l,e)}updateElements(e,n,r,i){const s=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:d}=this._getSharedOptions(n,i),f=o.axis,m=a.axis,{spanGaps:v,segment:w}=this.options,T=yc(v)?v:Number.POSITIVE_INFINITY,_=this.chart._animationsDisabled||s||i==="none",x=n+r,b=e.length;let R=n>0&&this.getParsed(n-1);for(let D=0;D<b;++D){const O=e[D],S=_?O:{};if(D<n||D>=x){S.skip=!0;continue}const E=this.getParsed(D),k=Pe(E[m]),C=S[f]=o.getPixelForValue(E[f],D),A=S[m]=s||k?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,E,l):E[m],D);S.skip=isNaN(C)||isNaN(A)||k,S.stop=D>0&&Math.abs(E[f]-R[f])>T,w&&(S.parsed=E,S.raw=c.data[D]),d&&(S.options=u||this.resolveDataElementOptions(D,O.active?"active":i)),_||this.updateElement(O,D,S,i),R=E}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,i=e.data||[];if(!i.length)return r;const s=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,s,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}X(bh,"id","line"),X(bh,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),X(bh,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function Zi(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Zv{constructor(e){X(this,"options");this.options=e||{}}static override(e){Object.assign(Zv.prototype,e)}init(){}formats(){return Zi()}parse(){return Zi()}format(){return Zi()}add(){return Zi()}diff(){return Zi()}startOf(){return Zi()}endOf(){return Zi()}}var fH={_date:Zv};function pH(t,e,n,r){const{controller:i,data:s,_sorted:o}=t,a=i._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&s.length){const c=a._reversePixels?jz:fs;if(r){if(i._sharedOptions){const u=s[0],d=typeof u.getRange=="function"&&u.getRange(e);if(d){const f=c(s,e,n-d),m=c(s,e,n+d);return{lo:f.lo,hi:m.hi}}}}else{const u=c(s,e,n);if(l){const{vScale:d}=i._cachedMeta,{_parsed:f}=t,m=f.slice(0,u.lo+1).reverse().findIndex(w=>!Pe(w[d.axis]));u.lo-=Math.max(0,m);const v=f.slice(u.hi).findIndex(w=>!Pe(w[d.axis]));u.hi+=Math.max(0,v)}return u}}return{lo:0,hi:s.length-1}}function If(t,e,n,r,i){const s=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=s.length;a<l;++a){const{index:c,data:u}=s[a],{lo:d,hi:f}=pH(s[a],e,o,i);for(let m=d;m<=f;++m){const v=u[m];v.skip||r(v,c,m)}}}function mH(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,i){const s=e?Math.abs(r.x-i.x):0,o=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function em(t,e,n,r,i){const s=[];return!i&&!t.isPointInArea(e)||If(t,n,e,function(a,l,c){!i&&!vc(a,t.chartArea,0)||a.inRange(e.x,e.y,r)&&s.push({element:a,datasetIndex:l,index:c})},!0),s}function gH(t,e,n,r){let i=[];function s(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],r),{angle:d}=Fz(o,{x:e.x,y:e.y});tA(d,c,u)&&i.push({element:o,datasetIndex:a,index:l})}return If(t,n,e,s),i}function yH(t,e,n,r,i,s){let o=[];const a=mH(n);let l=Number.POSITIVE_INFINITY;function c(u,d,f){const m=u.inRange(e.x,e.y,i);if(r&&!m)return;const v=u.getCenterPoint(i);if(!(!!s||t.isPointInArea(v))&&!m)return;const T=a(e,v);T<l?(o=[{element:u,datasetIndex:d,index:f}],l=T):T===l&&o.push({element:u,datasetIndex:d,index:f})}return If(t,n,e,c),o}function tm(t,e,n,r,i,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!r?gH(t,e,n,i):yH(t,e,n,r,i,s)}function ST(t,e,n,r,i){const s=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return If(t,n,e,(l,c,u)=>{l[o]&&l[o](e[n],i)&&(s.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,i))}),r&&!a?[]:s}var vH={modes:{index(t,e,n,r){const i=is(e,t),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?em(t,i,s,r,o):tm(t,i,s,!1,r,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,d=c.data[u];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,n,r){const i=is(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?em(t,i,s,r,o):tm(t,i,s,!1,r,o);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(t,e,n,r){const i=is(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return em(t,i,s,r,o)},nearest(t,e,n,r){const i=is(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return tm(t,i,s,n.intersect,r,o)},x(t,e,n,r){const i=is(e,t);return ST(t,i,"x",n.intersect,r)},y(t,e,n,r){const i=is(e,t);return ST(t,i,"y",n.intersect,r)}}};const _A=["left","top","right","bottom"];function za(t,e){return t.filter(n=>n.pos===e)}function IT(t,e){return t.filter(n=>_A.indexOf(n.pos)===-1&&n.box.axis===e)}function $a(t,e){return t.sort((n,r)=>{const i=e?r:n,s=e?n:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function _H(t){const e=[];let n,r,i,s,o,a;for(n=0,r=(t||[]).length;n<r;++n)i=t[n],{position:s,options:{stack:o,stackWeight:a=1}}=i,e.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:a});return e}function wH(t){const e={};for(const n of t){const{stack:r,pos:i,stackWeight:s}=n;if(!r||!_A.includes(i))continue;const o=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function EH(t,e){const n=wH(t),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let s,o,a;for(s=0,o=t.length;s<o;++s){a=t[s];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*r:l&&e.availableWidth,a.height=i):(a.width=r,a.height=u?u*i:l&&e.availableHeight)}return n}function TH(t){const e=_H(t),n=$a(e.filter(c=>c.box.fullSize),!0),r=$a(za(e,"left"),!0),i=$a(za(e,"right")),s=$a(za(e,"top"),!0),o=$a(za(e,"bottom")),a=IT(e,"x"),l=IT(e,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:za(e,"chartArea"),vertical:r.concat(i).concat(l),horizontal:s.concat(o).concat(a)}}function kT(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function wA(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function xH(t,e,n,r){const{pos:i,box:s}=n,o=t.maxPadding;if(!Ee(i)){n.size&&(t[i]-=n.size);const d=r[n.stack]||{size:0,count:1};d.size=Math.max(d.size,n.horizontal?s.height:s.width),n.size=d.size/d.count,t[i]+=n.size}s.getPadding&&wA(o,s.getPadding());const a=Math.max(0,e.outerWidth-kT(o,t,"left","right")),l=Math.max(0,e.outerHeight-kT(o,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function bH(t){const e=t.maxPadding;function n(r){const i=Math.max(e[r]-t[r],0);return t[r]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function SH(t,e){const n=e.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{s[o]=Math.max(e[o],n[o])}),s}return r(t?["left","right"]:["top","bottom"])}function sl(t,e,n,r){const i=[];let s,o,a,l,c,u;for(s=0,o=t.length,c=0;s<o;++s){a=t[s],l=a.box,l.update(a.width||e.w,a.height||e.h,SH(a.horizontal,e));const{same:d,other:f}=xH(e,n,a,r);c|=d&&i.length,u=u||f,l.fullSize||i.push(a)}return c&&sl(i,e,n,r)||u}function $u(t,e,n,r,i){t.top=n,t.left=e,t.right=e+r,t.bottom=n+i,t.width=r,t.height=i}function CT(t,e,n,r){const i=n.padding;let{x:s,y:o}=e;for(const a of t){const l=a.box,c=r[a.stack]||{placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const d=e.w*u,f=c.size||l.height;kd(c.start)&&(o=c.start),l.fullSize?$u(l,i.left,o,n.outerWidth-i.right-i.left,f):$u(l,e.left+c.placed,o,d,f),c.start=o,c.placed+=d,o=l.bottom}else{const d=e.h*u,f=c.size||l.width;kd(c.start)&&(s=c.start),l.fullSize?$u(l,s,i.top,f,n.outerHeight-i.bottom-i.top):$u(l,s,e.top+c.placed,f,d),c.start=s,c.placed+=d,s=l.right}}e.x=s,e.y=o}var xn={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const i=Pn(t.options.layout.padding),s=Math.max(e-i.width,0),o=Math.max(n-i.height,0),a=TH(t.boxes),l=a.vertical,c=a.horizontal;xe(t.boxes,w=>{typeof w.beforeLayout=="function"&&w.beforeLayout()});const u=l.reduce((w,T)=>T.box.options&&T.box.options.display===!1?w:w+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/u,hBoxMaxHeight:o/2}),f=Object.assign({},i);wA(f,Pn(r));const m=Object.assign({maxPadding:f,w:s,h:o,x:i.left,y:i.top},i),v=EH(l.concat(c),d);sl(a.fullSize,m,d,v),sl(l,m,d,v),sl(c,m,d,v)&&sl(l,m,d,v),bH(m),CT(a.leftAndTop,m,d,v),m.x+=m.w,m.y+=m.h,CT(a.rightAndBottom,m,d,v),t.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},xe(a.chartArea,w=>{const T=w.box;Object.assign(T,t.chartArea),T.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class EA{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,i){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(e){return!0}updateConfig(e){}}class IH extends EA{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Sh="$chartjs",kH={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},PT=t=>t===null||t==="";function CH(t,e){const n=t.style,r=t.getAttribute("height"),i=t.getAttribute("width");if(t[Sh]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",PT(i)){const s=mT(t,"width");s!==void 0&&(t.width=s)}if(PT(r))if(t.style.height==="")t.height=t.width/(e||2);else{const s=mT(t,"height");s!==void 0&&(t.height=s)}return t}const TA=F$?{passive:!0}:!1;function PH(t,e,n){t&&t.addEventListener(e,n,TA)}function AH(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,TA)}function RH(t,e){const n=kH[t.type]||t.type,{x:r,y:i}=is(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:i!==void 0?i:null}}function Ad(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function DH(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||Ad(a.addedNodes,r),o=o&&!Ad(a.removedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function MH(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||Ad(a.removedNodes,r),o=o&&!Ad(a.addedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const wc=new Map;let AT=0;function xA(){const t=window.devicePixelRatio;t!==AT&&(AT=t,wc.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function NH(t,e){wc.size||window.addEventListener("resize",xA),wc.set(t,e)}function OH(t){wc.delete(t),wc.size||window.removeEventListener("resize",xA)}function LH(t,e,n){const r=t.canvas,i=r&&Jv(r);if(!i)return;const s=iA((a,l)=>{const c=i.clientWidth;n(a,l),c<i.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||s(c,u)});return o.observe(i),NH(t,s),o}function nm(t,e,n){n&&n.disconnect(),e==="resize"&&OH(t)}function VH(t,e,n){const r=t.canvas,i=iA(s=>{t.ctx!==null&&n(RH(s,t))},t);return PH(r,e,i),i}class FH extends EA{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(CH(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[Sh])return!1;const r=n[Sh].initial;["height","width"].forEach(s=>{const o=r[s];Pe(o)?n.removeAttribute(s):n.setAttribute(s,o)});const i=r.style||{};return Object.keys(i).forEach(s=>{n.style[s]=i[s]}),n.width=n.width,delete n[Sh],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),o={attach:DH,detach:MH,resize:LH}[n]||VH;i[n]=o(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),i=r[n];if(!i)return;({attach:nm,detach:nm,resize:nm}[n]||AH)(e,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,i){return V$(e,n,r,i)}isAttached(e){const n=e&&Jv(e);return!!(n&&n.isConnected)}}function UH(t){return!Xv()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?IH:FH}var Yu;let js=(Yu=class{constructor(){X(this,"x");X(this,"y");X(this,"active",!1);X(this,"options");X(this,"$animations")}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return yc(this.x)&&yc(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const i={};return e.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}},X(Yu,"defaults",{}),X(Yu,"defaultRoutes"),Yu);function BH(t,e){const n=t.options.ticks,r=jH(t),i=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?$H(e):[],o=s.length,a=s[0],l=s[o-1],c=[];if(o>i)return HH(e,c,s,o/i),c;const u=zH(s,e,i);if(o>0){let d,f;const m=o>1?Math.round((l-a)/(o-1)):null;for(Hu(e,c,u,Pe(m)?0:a-m,a),d=0,f=o-1;d<f;d++)Hu(e,c,u,s[d],s[d+1]);return Hu(e,c,u,l,Pe(m)?e.length:l+m),c}return Hu(e,c,u),c}function jH(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(r,i))}function zH(t,e,n){const r=WH(t),i=e.length/n;if(!r)return Math.max(i,1);const s=Mz(r);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>i)return l}return Math.max(i,1)}function $H(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function HH(t,e,n,r){let i=0,s=n[0],o;for(r=Math.ceil(r),o=0;o<t.length;o++)o===s&&(e.push(t[o]),i++,s=n[i*r])}function Hu(t,e,n,r,i){const s=me(r,0),o=Math.min(me(i,t.length),t.length);let a=0,l,c,u;for(n=Math.ceil(n),i&&(l=i-r,n=l/Math.floor(l/n)),u=s;u<0;)a++,u=Math.round(s+a*n);for(c=Math.max(s,0);c<o;c++)c===u&&(e.push(t[c]),a++,u=Math.round(s+a*n))}function WH(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const qH=t=>t==="left"?"right":t==="right"?"left":t,RT=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,DT=(t,e)=>Math.min(e||t,t);function MT(t,e){const n=[],r=t.length/e,i=t.length;let s=0;for(;s<i;s+=r)n.push(t[Math.floor(s)]);return n}function KH(t,e,n){const r=t.ticks.length,i=Math.min(e,r-1),s=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(i),c;if(!(n&&(r===1?c=Math.max(l-s,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(i-1))/2,l+=i<e?c:-c,l<s-a||l>o+a)))return l}function GH(t,e){xe(t,n=>{const r=n.gc,i=r.length/2;let s;if(i>e){for(s=0;s<i;++s)delete n.data[r[s]];r.splice(0,i)}})}function Ha(t){return t.drawTicks?t.tickLength:0}function NT(t,e){if(!t.display)return 0;const n=Vt(t.font,e),r=Pn(t.padding);return(ht(t.text)?t.text.length:1)*n.lineHeight+r.height}function QH(t,e){return Bs(t,{scale:e,type:"scale"})}function YH(t,e,n){return Bs(t,{tick:n,index:e,type:"tick"})}function XH(t,e,n){let r=Hv(t);return(n&&e!=="right"||!n&&e==="right")&&(r=qH(r)),r}function JH(t,e,n,r){const{top:i,left:s,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let d=0,f,m,v;const w=o-i,T=a-s;if(t.isHorizontal()){if(m=Dt(r,s,a),Ee(n)){const _=Object.keys(n)[0],x=n[_];v=u[_].getPixelForValue(x)+w-e}else n==="center"?v=(c.bottom+c.top)/2+w-e:v=RT(t,n,e);f=a-s}else{if(Ee(n)){const _=Object.keys(n)[0],x=n[_];m=u[_].getPixelForValue(x)-T+e}else n==="center"?m=(c.left+c.right)/2-T+e:m=RT(t,n,e);v=Dt(r,o,i),d=n==="left"?-Un:Un}return{titleX:m,titleY:v,maxWidth:f,rotation:d}}class fa extends js{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return e=Gn(e,Number.POSITIVE_INFINITY),n=Gn(n,Number.NEGATIVE_INFINITY),r=Gn(r,Number.POSITIVE_INFINITY),i=Gn(i,Number.NEGATIVE_INFINITY),{min:Gn(e,r),max:Gn(n,i),minDefined:Cn(e),maxDefined:Cn(n)}}getMinMax(e){let{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),o;if(i&&s)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),i||(n=Math.min(n,o.min)),s||(r=Math.max(r,o.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:Gn(n,Gn(r,n)),max:Gn(r,Gn(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ne(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:i,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=m$(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?MT(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=BH(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ne(this.options.afterUpdate,[this])}beforeSetDimensions(){Ne(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ne(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Ne(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ne(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r],s.label=Ne(n.callback,[s.value,r,e],this)}afterTickToLabelConversion(){Ne(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ne(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=DT(this.ticks.length,e.ticks.maxTicksLimit),i=n.minRotation||0,s=n.maxRotation;let o=i,a,l,c;if(!this._isVisible()||!n.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),d=u.widest.width,f=u.highest.height,m=Tn(this.chart.width-d,0,this.maxWidth);a=e.offset?this.maxWidth/r:m/(r-1),d+6>a&&(a=m/(r-(e.offset?.5:1)),l=this.maxHeight-Ha(e.grid)-n.padding-NT(e.title,this.chart.options.font),c=Math.sqrt(d*d+f*f),o=Vz(Math.min(Math.asin(Tn((u.highest.height+6)/a,-1,1)),Math.asin(Tn(l/c,-1,1))-Math.asin(Tn(f/c,-1,1)))),o=Math.max(i,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){Ne(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ne(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=NT(i,n.options.font);if(a?(e.width=this.maxWidth,e.height=Ha(s)+l):(e.height=this.maxHeight,e.width=Ha(s)+l),r.display&&this.ticks.length){const{first:c,last:u,widest:d,highest:f}=this._getLabelSizes(),m=r.padding*2,v=ds(this.labelRotation),w=Math.cos(v),T=Math.sin(v);if(a){const _=r.mirror?0:T*d.width+w*f.height;e.height=Math.min(this.maxHeight,e.height+_+m)}else{const _=r.mirror?0:w*d.width+T*f.height;e.width=Math.min(this.maxWidth,e.width+_+m)}this._calculatePadding(c,u,T,w)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,i){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,m=0;l?c?(f=i*e.width,m=r*n.height):(f=r*e.height,m=i*n.width):s==="start"?m=n.width:s==="end"?f=e.width:s!=="inner"&&(f=e.width/2,m=n.width/2),this.paddingLeft=Math.max((f-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((m-d+o)*this.width/(this.width-d),0)}else{let u=n.height/2,d=e.height/2;s==="start"?(u=0,d=e.height):s==="end"&&(u=n.height,d=0),this.paddingTop=u+o,this.paddingBottom=d+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ne(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)Pe(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=MT(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:i,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(n/DT(n,r));let c=0,u=0,d,f,m,v,w,T,_,x,b,R,D;for(d=0;d<n;d+=l){if(v=e[d].label,w=this._resolveTickFontOptions(d),i.font=T=w.string,_=s[T]=s[T]||{data:{},gc:[]},x=w.lineHeight,b=R=0,!Pe(v)&&!ht(v))b=uT(i,_.data,_.gc,b,v),R=x;else if(ht(v))for(f=0,m=v.length;f<m;++f)D=v[f],!Pe(D)&&!ht(D)&&(b=uT(i,_.data,_.gc,b,D),R+=x);o.push(b),a.push(R),c=Math.max(b,c),u=Math.max(R,u)}GH(s,n);const O=o.indexOf(c),S=a.indexOf(u),E=k=>({width:o[k]||0,height:a[k]||0});return{first:E(0),last:E(n-1),widest:E(O),highest:E(S),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return Bz(this._alignToPixels?Ji(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=YH(this.getContext(),e,r))}return this.$context||(this.$context=QH(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=ds(this.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*r>a*i?a/r:l/i:l*i<a*r?l/r:a/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,i=this.options,{grid:s,position:o,border:a}=i,l=s.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),f=Ha(s),m=[],v=a.setContext(this.getContext()),w=v.display?v.width:0,T=w/2,_=function(Te){return Ji(r,Te,w)};let x,b,R,D,O,S,E,k,C,A,M,P;if(o==="top")x=_(this.bottom),S=this.bottom-f,k=x-T,A=_(e.top)+T,P=e.bottom;else if(o==="bottom")x=_(this.top),A=e.top,P=_(e.bottom)-T,S=x+T,k=this.top+f;else if(o==="left")x=_(this.right),O=this.right-f,E=x-T,C=_(e.left)+T,M=e.right;else if(o==="right")x=_(this.left),C=e.left,M=_(e.right)-T,O=x+T,E=this.left+f;else if(n==="x"){if(o==="center")x=_((e.top+e.bottom)/2+.5);else if(Ee(o)){const Te=Object.keys(o)[0],te=o[Te];x=_(this.chart.scales[Te].getPixelForValue(te))}A=e.top,P=e.bottom,S=x+T,k=S+f}else if(n==="y"){if(o==="center")x=_((e.left+e.right)/2);else if(Ee(o)){const Te=Object.keys(o)[0],te=o[Te];x=_(this.chart.scales[Te].getPixelForValue(te))}O=x-T,E=O-f,C=e.left,M=e.right}const he=me(i.ticks.maxTicksLimit,d),oe=Math.max(1,Math.ceil(d/he));for(b=0;b<d;b+=oe){const Te=this.getContext(b),te=s.setContext(Te),B=a.setContext(Te),W=te.lineWidth,K=te.color,de=B.dash||[],se=B.dashOffset,ce=te.tickWidth,Fe=te.tickColor,Ge=te.tickBorderDash||[],Re=te.tickBorderDashOffset;R=KH(this,b,l),R!==void 0&&(D=Ji(r,R,W),c?O=E=C=M=D:S=k=A=P=D,m.push({tx1:O,ty1:S,tx2:E,ty2:k,x1:C,y1:A,x2:M,y2:P,width:W,color:K,borderDash:de,borderDashOffset:se,tickWidth:ce,tickColor:Fe,tickBorderDash:Ge,tickBorderDashOffset:Re}))}return this._ticksLength=d,this._borderValue=x,m}_computeLabelItems(e){const n=this.axis,r=this.options,{position:i,ticks:s}=r,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:d}=s,f=Ha(r.grid),m=f+u,v=d?-u:m,w=-ds(this.labelRotation),T=[];let _,x,b,R,D,O,S,E,k,C,A,M,P="middle";if(i==="top")O=this.bottom-v,S=this._getXAxisLabelAlignment();else if(i==="bottom")O=this.top+v,S=this._getXAxisLabelAlignment();else if(i==="left"){const oe=this._getYAxisLabelAlignment(f);S=oe.textAlign,D=oe.x}else if(i==="right"){const oe=this._getYAxisLabelAlignment(f);S=oe.textAlign,D=oe.x}else if(n==="x"){if(i==="center")O=(e.top+e.bottom)/2+m;else if(Ee(i)){const oe=Object.keys(i)[0],Te=i[oe];O=this.chart.scales[oe].getPixelForValue(Te)+m}S=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")D=(e.left+e.right)/2-m;else if(Ee(i)){const oe=Object.keys(i)[0],Te=i[oe];D=this.chart.scales[oe].getPixelForValue(Te)}S=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(l==="start"?P="top":l==="end"&&(P="bottom"));const he=this._getLabelSizes();for(_=0,x=a.length;_<x;++_){b=a[_],R=b.label;const oe=s.setContext(this.getContext(_));E=this.getPixelForTick(_)+s.labelOffset,k=this._resolveTickFontOptions(_),C=k.lineHeight,A=ht(R)?R.length:1;const Te=A/2,te=oe.color,B=oe.textStrokeColor,W=oe.textStrokeWidth;let K=S;o?(D=E,S==="inner"&&(_===x-1?K=this.options.reverse?"left":"right":_===0?K=this.options.reverse?"right":"left":K="center"),i==="top"?c==="near"||w!==0?M=-A*C+C/2:c==="center"?M=-he.highest.height/2-Te*C+C:M=-he.highest.height+C/2:c==="near"||w!==0?M=C/2:c==="center"?M=he.highest.height/2-Te*C:M=he.highest.height-A*C,d&&(M*=-1),w!==0&&!oe.showLabelBackdrop&&(D+=C/2*Math.sin(w))):(O=E,M=(1-A)*C/2);let de;if(oe.showLabelBackdrop){const se=Pn(oe.backdropPadding),ce=he.heights[_],Fe=he.widths[_];let Ge=M-se.top,Re=0-se.left;switch(P){case"middle":Ge-=ce/2;break;case"bottom":Ge-=ce;break}switch(S){case"center":Re-=Fe/2;break;case"right":Re-=Fe;break;case"inner":_===x-1?Re-=Fe:_>0&&(Re-=Fe/2);break}de={left:Re,top:Ge,width:Fe+se.width,height:ce+se.height,color:oe.backdropColor}}T.push({label:R,font:k,textOffset:M,options:{rotation:w,color:te,strokeColor:B,strokeWidth:W,textAlign:K,textBaseline:P,translation:[D,O],backdrop:de}})}return T}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-ds(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,o=this._getLabelSizes(),a=e+s,l=o.widest.width;let c,u;return n==="left"?i?(u=this.right+s,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?i?(u=this.left+s,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:i,width:s,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,i,s,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const a=(l,c,u)=>{!u.width||!u.color||(r.save(),r.lineWidth=u.width,r.strokeStyle=u.color,r.setLineDash(u.borderDash||[]),r.lineDashOffset=u.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(c.x,c.y),r.stroke(),r.restore())};if(n.display)for(s=0,o=i.length;s<o;++s){const l=i[s];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),o=r.display?s.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,d,f;this.isHorizontal()?(c=Ji(e,this.left,o)-o/2,u=Ji(e,this.right,a)+a/2,d=f=l):(d=Ji(e,this.top,o)-o/2,f=Ji(e,this.bottom,a)+a/2,c=u=l),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(c,d),n.lineTo(u,f),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&qv(r,i);const s=this.getLabelItems(e);for(const o of s){const a=o.options,l=o.font,c=o.label,u=o.textOffset;_c(r,c,0,u,l,a)}i&&Kv(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;const s=Vt(r.font),o=Pn(r.padding),a=r.align;let l=s.lineHeight/2;n==="bottom"||n==="center"||Ee(n)?(l+=o.bottom,ht(r.text)&&(l+=s.lineHeight*(r.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:d,rotation:f}=JH(this,l,n,a);_c(e,r.text,0,0,s,{color:r.color,maxWidth:d,rotation:f,textAlign:XH(a,n,i),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=me(e.grid&&e.grid.z,-1),i=me(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==fa.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,o;for(s=0,o=n.length;s<o;++s){const a=n[s];a[r]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Vt(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Wu{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;tW(n)&&(r=this.register(n));const i=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,ZH(e,o,r),this.override&&Je.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,i=this.scope;r in n&&delete n[r],i&&r in Je[i]&&(delete Je[i][r],this.override&&delete Ds[r])}}function ZH(t,e,n){const r=gc(Object.create(null),[n?Je.get(n):{},Je.get(e),t.defaults]);Je.set(e,r),t.defaultRoutes&&eW(e,t.defaultRoutes),t.descriptors&&Je.describe(e,t.descriptors)}function eW(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),i=r.pop(),s=[t].concat(r).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");Je.route(s,i,l,a)})}function tW(t){return"id"in t&&"defaults"in t}class nW{constructor(){this.controllers=new Wu(Dl,"datasets",!0),this.elements=new Wu(js,"elements"),this.plugins=new Wu(Object,"plugins"),this.scales=new Wu(fa,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):xe(i,o=>{const a=r||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,r){const i=zv(e);Ne(r["before"+i],[],r),n[e](r),Ne(r["after"+i],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var Jn=new nW;class rW{constructor(){this._init=[]}notify(e,n,r,i){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(s,e,n,r);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,r,i){i=i||{};for(const s of e){const o=s.plugin,a=o[r],l=[n,i,s.options];if(Ne(a,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){Pe(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,i=me(r.options&&r.options.plugins,{}),s=iW(r);return i===!1&&!n?[]:oW(e,s,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,i=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(i(n,r),e,"stop"),this._notify(i(r,n),e,"start")}}function iW(t){const e={},n=[],r=Object.keys(Jn.plugins.items);for(let s=0;s<r.length;s++)n.push(Jn.getPlugin(r[s]));const i=t.plugins||[];for(let s=0;s<i.length;s++){const o=i[s];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function sW(t,e){return!e&&t===!1?null:t===!0?{}:t}function oW(t,{plugins:e,localIds:n},r,i){const s=[],o=t.getContext();for(const a of e){const l=a.id,c=sW(r[l],i);c!==null&&s.push({plugin:a,options:aW(t.config,{plugin:a,local:n[l]},c,o)})}return s}function aW(t,{plugin:e,local:n},r,i){const s=t.pluginScopeKeys(e),o=t.getOptionScopes(r,s);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function ny(t,e){const n=Je.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function lW(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function cW(t,e){return t===e?"_index_":"_value_"}function OT(t){if(t==="x"||t==="y"||t==="r")return t}function uW(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function ry(t,...e){if(OT(t))return t;for(const n of e){const r=n.axis||uW(n.position)||t.length>1&&OT(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function LT(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function hW(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return LT(t,"x",n[0])||LT(t,"y",n[0])}return{}}function dW(t,e){const n=Ds[t.type]||{scales:{}},r=e.scales||{},i=ny(t.type,e),s=Object.create(null);return Object.keys(r).forEach(o=>{const a=r[o];if(!Ee(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=ry(o,a,hW(o,t),Je.scales[a.type]),c=cW(l,i),u=n.scales||{};s[o]=kl(Object.create(null),[{axis:l},a,u[l],u[c]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||ny(a,e),u=(Ds[a]||{}).scales||{};Object.keys(u).forEach(d=>{const f=lW(d,l),m=o[f+"AxisID"]||f;s[m]=s[m]||Object.create(null),kl(s[m],[{axis:f},r[m],u[d]])})}),Object.keys(s).forEach(o=>{const a=s[o];kl(a,[Je.scales[a.type],Je.scale])}),s}function bA(t){const e=t.options||(t.options={});e.plugins=me(e.plugins,{}),e.scales=dW(t,e)}function SA(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function fW(t){return t=t||{},t.data=SA(t.data),bA(t),t}const VT=new Map,IA=new Set;function qu(t,e){let n=VT.get(t);return n||(n=e(),VT.set(t,n),IA.add(n)),n}const Wa=(t,e,n)=>{const r=Id(e,n);r!==void 0&&t.add(r)};class pW{constructor(e){this._config=fW(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=SA(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),bA(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return qu(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return qu(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return qu(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return qu(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let i=r.get(e);return(!i||n)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,n,r){const{options:i,type:s}=this,o=this._cachedScopes(e,r),a=o.get(n);if(a)return a;const l=new Set;n.forEach(u=>{e&&(l.add(e),u.forEach(d=>Wa(l,e,d))),u.forEach(d=>Wa(l,i,d)),u.forEach(d=>Wa(l,Ds[s]||{},d)),u.forEach(d=>Wa(l,Je,d)),u.forEach(d=>Wa(l,Zg,d))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),IA.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,Ds[n]||{},Je.datasets[n]||{},{type:n},Je,Zg]}resolveNamedOptions(e,n,r,i=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=FT(this._resolverCache,e,i);let l=o;if(gW(o,n)){s.$shared=!1,r=Li(r)?r():r;const c=this.createResolver(e,r,a);l=Yo(o,r,c)}for(const c of n)s[c]=l[c];return s}createResolver(e,n,r=[""],i){const{resolver:s}=FT(this._resolverCache,e,r);return Ee(n)?Yo(s,n,void 0,i):s}}function FT(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const i=n.join();let s=r.get(i);return s||(s={resolver:Gv(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},r.set(i,s)),s}const mW=t=>Ee(t)&&Object.getOwnPropertyNames(t).some(e=>Li(t[e]));function gW(t,e){const{isScriptable:n,isIndexable:r}=cA(t);for(const i of e){const s=n(i),o=r(i),a=(o||s)&&t[i];if(s&&(Li(a)||mW(a))||o&&ht(a))return!0}return!1}var yW="4.5.0";const vW=["top","bottom","left","right","chartArea"];function UT(t,e){return t==="top"||t==="bottom"||vW.indexOf(t)===-1&&e==="x"}function BT(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function jT(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Ne(n&&n.onComplete,[t],e)}function _W(t){const e=t.chart,n=e.options.animation;Ne(n&&n.onProgress,[t],e)}function kA(t){return Xv()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Ih={},zT=t=>{const e=kA(t);return Object.values(Ih).filter(n=>n.canvas===e).pop()};function wW(t,e,n){const r=Object.keys(t);for(const i of r){const s=+i;if(s>=e){const o=t[i];delete t[i],(n>0||s>e)&&(t[s+n]=o)}}}function EW(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}var Xr;let kf=(Xr=class{static register(...e){Jn.add(...e),$T()}static unregister(...e){Jn.remove(...e),$T()}constructor(e,n){const r=this.config=new pW(n),i=kA(e),s=zT(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||UH(i)),this.platform.updateConfig(r);const a=this.platform.acquireContext(i,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=bz(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new rW,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Wz(d=>this.update(d),o.resizeDelay||0),this._dataChanges=[],Ih[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}vr.listen(this,"complete",jT),vr.listen(this,"progress",_W),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:i,_aspectRatio:s}=this;return Pe(e)?n&&s?s:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Jn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():pT(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return hT(this.canvas,this.ctx),this}stop(){return vr.stop(this),this}resize(e,n){vr.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,n,s),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,pT(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Ne(r.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};xe(n,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,i=Object.keys(r).reduce((o,a)=>(o[a]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const a=n[o],l=ry(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),xe(s,o=>{const a=o.options,l=a.id,c=ry(l,a),u=me(a.type,o.dtype);(a.position===void 0||UT(a.position,c)!==UT(o.dposition))&&(a.position=o.dposition),i[l]=!0;let d=null;if(l in r&&r[l].type===u)d=r[l];else{const f=Jn.getScale(u);d=new f({id:l,type:u,ctx:this.ctx,chart:this}),r[d.id]=d}d.init(a,e)}),xe(i,(o,a)=>{o||delete r[a]}),xe(r,o=>{xn.configure(this,o,o.options),xn.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((i,s)=>i.index-s.index),r>n){for(let i=n;i<r;++i)this._destroyDatasetMeta(i);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(BT("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,i)=>{n.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=n.length;r<i;r++){const s=n[r];let o=this.getDatasetMeta(r);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=a,o.indexAxis=s.indexAxis||ny(a,this.options),o.order=s.order||0,o.index=r,o.label=""+s.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const l=Jn.getController(a),{datasetElementType:c,dataElementType:u}=Je.datasets[a];Object.assign(l,{dataElementType:Jn.getElement(u),datasetElementType:c&&Jn.getElement(c)}),o.controller=new l(this,r),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){xe(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:d}=this.getDatasetMeta(c),f=!i&&s.indexOf(d)===-1;d.buildOrUpdateElements(f),o=Math.max(+d.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),i||xe(s,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(BT("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){xe(this.scales,e=>{xn.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!tT(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of n){const o=r==="_removeElements"?-s:s;wW(e,i,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=s=>new Set(e.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),i=r(0);for(let s=1;s<n;s++)if(!tT(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;xn.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],xe(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,Li(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(vr.has(this)?this.attached&&!vr.running(this)&&vr.start(this):(this.draw(),jT({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let i,s;for(i=0,s=n.length;i<s;++i){const o=n[i];(!e||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r={meta:e,index:e.index,cancelable:!0},i=J$(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&qv(n,i),e.controller.draw(),i&&Kv(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return vc(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,i){const s=vH.modes[n];return typeof s=="function"?s(this,e,r,i):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let i=r.filter(s=>s&&s._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=Bs(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const i=r?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,i);kd(n)?(s.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),o.update(s,{visible:r}),this.update(a=>a.datasetIndex===e?i:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),vr.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),hT(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Ih[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(s,o)=>{n.addEventListener(this,s,o),e[s]=o},i=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};xe(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},i=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),r("resize",s),r("detach",o)};o=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){xe(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},xe(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const i=r?"set":"remove";let s,o,a,l;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!bd(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const i=this.options.hover,s=(l,c)=>l.filter(u=>!c.some(d=>u.datasetIndex===d.datasetIndex&&u.index===d.index)),o=s(n,e),a=r?e:s(e,n);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:i=[],options:s}=this,o=n,a=this._getActiveElements(e,i,r,o),l=Az(e),c=EW(e,this._lastEvent,r,l);r&&(this._lastEvent=null,Ne(s.onHover,[e,a,this],this),l&&Ne(s.onClick,[e,a,this],this));const u=!bd(a,i);return(u||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=c,u}_getActiveElements(e,n,r,i){if(e.type==="mouseout")return[];if(!r)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}},X(Xr,"defaults",Je),X(Xr,"instances",Ih),X(Xr,"overrides",Ds),X(Xr,"registry",Jn),X(Xr,"version",yW),X(Xr,"getChart",zT),Xr);function $T(){return xe(kf.instances,t=>t._plugins.invalidate())}function CA(t,e,n=e){t.lineCap=me(n.borderCapStyle,e.borderCapStyle),t.setLineDash(me(n.borderDash,e.borderDash)),t.lineDashOffset=me(n.borderDashOffset,e.borderDashOffset),t.lineJoin=me(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=me(n.borderWidth,e.borderWidth),t.strokeStyle=me(n.borderColor,e.borderColor)}function TW(t,e,n){t.lineTo(n.x,n.y)}function xW(t){return t.stepped?s$:t.tension||t.cubicInterpolationMode==="monotone"?o$:TW}function PA(t,e,n={}){const r=t.length,{start:i=0,end:s=r-1}=n,{start:o,end:a}=e,l=Math.max(i,o),c=Math.min(s,a),u=i<o&&s<o||i>a&&s>a;return{count:r,start:l,loop:e.loop,ilen:c<l&&!u?r+c-l:c-l}}function bW(t,e,n,r){const{points:i,options:s}=e,{count:o,start:a,loop:l,ilen:c}=PA(i,n,r),u=xW(s);let{move:d=!0,reverse:f}=r||{},m,v,w;for(m=0;m<=c;++m)v=i[(a+(f?c-m:m))%o],!v.skip&&(d?(t.moveTo(v.x,v.y),d=!1):u(t,w,v,f,s.stepped),w=v);return l&&(v=i[(a+(f?c:0))%o],u(t,w,v,f,s.stepped)),!!l}function SW(t,e,n,r){const i=e.points,{count:s,start:o,ilen:a}=PA(i,n,r),{move:l=!0,reverse:c}=r||{};let u=0,d=0,f,m,v,w,T,_;const x=R=>(o+(c?a-R:R))%s,b=()=>{w!==T&&(t.lineTo(u,T),t.lineTo(u,w),t.lineTo(u,_))};for(l&&(m=i[x(0)],t.moveTo(m.x,m.y)),f=0;f<=a;++f){if(m=i[x(f)],m.skip)continue;const R=m.x,D=m.y,O=R|0;O===v?(D<w?w=D:D>T&&(T=D),u=(d*u+R)/++d):(b(),t.lineTo(R,D),v=O,d=0,w=T=D),_=D}b()}function iy(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?SW:bW}function IW(t){return t.stepped?U$:t.tension||t.cubicInterpolationMode==="monotone"?B$:ss}function kW(t,e,n,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,r)&&i.closePath()),CA(t,e.options),t.stroke(i)}function CW(t,e,n,r){const{segments:i,options:s}=e,o=iy(e);for(const a of i)CA(t,s,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const PW=typeof Path2D=="function";function AW(t,e,n,r){PW&&!e.options.segment?kW(t,e,n,r):CW(t,e,n,r)}class ol extends js{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;R$(this._points,r,e,i,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=G$(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,i=e[n],s=this.points,o=W$(this,{property:n,start:i,end:i});if(!o.length)return;const a=[],l=IW(r);let c,u;for(c=0,u=o.length;c<u;++c){const{start:d,end:f}=o[c],m=s[d],v=s[f];if(m===v){a.push(m);continue}const w=Math.abs((i-m[n])/(v[n]-m[n])),T=l(m,v,w,r.stepped);T[n]=e[n],a.push(T)}return a.length===1?a[0]:a}pathSegment(e,n,r){return iy(this)(e,this,n,r)}path(e,n,r){const i=this.segments,s=iy(this);let o=this._loop;n=n||0,r=r||this.points.length-n;for(const a of i)o&=s(e,this,a,{start:n,end:n+r-1});return!!o}draw(e,n,r,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),AW(e,this,r,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}X(ol,"id","line"),X(ol,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),X(ol,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),X(ol,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function HT(t,e,n,r){const i=t.options,{[n]:s}=t.getProps([n],r);return Math.abs(e-s)<i.radius+i.hitRadius}class kh extends js{constructor(n){super();X(this,"parsed");X(this,"skip");X(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,i){const s=this.options,{x:o,y:a}=this.getProps(["x","y"],i);return Math.pow(n-o,2)+Math.pow(r-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(n,r){return HT(this,n,"x",r)}inYRange(n,r){return HT(this,n,"y",r)}getCenterPoint(n){const{x:r,y:i}=this.getProps(["x","y"],n);return{x:r,y:i}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const i=r&&n.borderWidth||0;return(r+i)*2}draw(n,r){const i=this.options;this.skip||i.radius<.1||!vc(this,r,this.size(i)/2)||(n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.fillStyle=i.backgroundColor,ey(n,i,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}X(kh,"id","point"),X(kh,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),X(kh,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const WT=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},RW=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class qT extends js{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Ne(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,i=Vt(r.font),s=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=WT(r,s);let c,u;n.font=i.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,s,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,i,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,i){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=i+a;let d=e;s.textAlign="left",s.textBaseline="middle";let f=-1,m=-u;return this.legendItems.forEach((v,w)=>{const T=r+n/2+s.measureText(v.text).width;(w===0||c[c.length-1]+T+2*a>o)&&(d+=u,c[c.length-(w>0?0:1)]=0,m+=u,f++),l[w]={left:0,top:m,row:f,width:T,height:i},c[c.length-1]+=T+a}),d}_fitCols(e,n,r,i){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-e;let d=a,f=0,m=0,v=0,w=0;return this.legendItems.forEach((T,_)=>{const{itemWidth:x,itemHeight:b}=DW(r,n,s,T,i);_>0&&m+b+2*a>u&&(d+=f+a,c.push({width:f,height:m}),v+=f+a,w++,f=m=0),l[_]={left:v,top:m,col:w,width:x,height:b},f=Math.max(f,x),m+=b+a}),d+=f,c.push({width:f,height:m}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:i},rtl:s}}=this,o=Ao(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=Dt(r,this.left+i,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=Dt(r,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+e+i,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+i}else{let a=0,l=Dt(r,this.top+e+i,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=Dt(r,this.top+e+i,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+i,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;qv(e,this),this._draw(),Kv(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:i}=this,{align:s,labels:o}=e,a=Je.color,l=Ao(e.rtl,this.left,this.width),c=Vt(o.font),{padding:u}=o,d=c.size,f=d/2;let m;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:v,boxHeight:w,itemHeight:T}=WT(o,d),_=function(O,S,E){if(isNaN(v)||v<=0||isNaN(w)||w<0)return;i.save();const k=me(E.lineWidth,1);if(i.fillStyle=me(E.fillStyle,a),i.lineCap=me(E.lineCap,"butt"),i.lineDashOffset=me(E.lineDashOffset,0),i.lineJoin=me(E.lineJoin,"miter"),i.lineWidth=k,i.strokeStyle=me(E.strokeStyle,a),i.setLineDash(me(E.lineDash,[])),o.usePointStyle){const C={radius:w*Math.SQRT2/2,pointStyle:E.pointStyle,rotation:E.rotation,borderWidth:k},A=l.xPlus(O,v/2),M=S+f;aA(i,C,A,M,o.pointStyleWidth&&v)}else{const C=S+Math.max((d-w)/2,0),A=l.leftForLtr(O,v),M=Rl(E.borderRadius);i.beginPath(),Object.values(M).some(P=>P!==0)?ty(i,{x:A,y:C,w:v,h:w,radius:M}):i.rect(A,C,v,w),i.fill(),k!==0&&i.stroke()}i.restore()},x=function(O,S,E){_c(i,E.text,O,S+T/2,c,{strikethrough:E.hidden,textAlign:l.textAlign(E.textAlign)})},b=this.isHorizontal(),R=this._computeTitleHeight();b?m={x:Dt(s,this.left+u,this.right-r[0]),y:this.top+u+R,line:0}:m={x:this.left+u,y:Dt(s,this.top+R+u,this.bottom-n[0].height),line:0},pA(this.ctx,e.textDirection);const D=T+u;this.legendItems.forEach((O,S)=>{i.strokeStyle=O.fontColor,i.fillStyle=O.fontColor;const E=i.measureText(O.text).width,k=l.textAlign(O.textAlign||(O.textAlign=o.textAlign)),C=v+f+E;let A=m.x,M=m.y;l.setWidth(this.width),b?S>0&&A+C+u>this.right&&(M=m.y+=D,m.line++,A=m.x=Dt(s,this.left+u,this.right-r[m.line])):S>0&&M+D>this.bottom&&(A=m.x=A+n[m.line].width+u,m.line++,M=m.y=Dt(s,this.top+R+u,this.bottom-n[m.line].height));const P=l.x(A);if(_(P,M,O),A=qz(k,A+v+f,b?A+C:this.right,e.rtl),x(l.x(A),M,O),b)m.x+=C+u;else if(typeof O.text!="string"){const he=c.lineHeight;m.y+=AA(O,he)+u}else m.y+=D}),mA(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=Vt(n.font),i=Pn(n.padding);if(!n.display)return;const s=Ao(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=r.size/2,c=i.top+l;let u,d=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+c,d=Dt(e.align,d,this.right-f);else{const v=this.columnSizes.reduce((w,T)=>Math.max(w,T.height),0);u=c+Dt(e.align,this.top,this.bottom-v-e.labels.padding-this._computeTitleHeight())}const m=Dt(a,d,d+f);o.textAlign=s.textAlign(Hv(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=r.string,_c(o,n.text,m,u,r)}_computeTitleHeight(){const e=this.options.title,n=Vt(e.font),r=Pn(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,i,s;if(il(e,this.left,this.right)&&il(n,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],il(e,i.left,i.left+i.width)&&il(n,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!OW(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,s=RW(i,r);i&&!s&&Ne(n.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!s&&Ne(n.onHover,[e,r,this],this)}else r&&Ne(n.onClick,[e,r,this],this)}}function DW(t,e,n,r,i){const s=MW(r,t,e,n),o=NW(i,r,e.lineHeight);return{itemWidth:s,itemHeight:o}}function MW(t,e,n,r){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((s,o)=>s.length>o.length?s:o)),e+n.size/2+r.measureText(i).width}function NW(t,e,n){let r=t;return typeof e.text!="string"&&(r=AA(e,n)),r}function AA(t,e){const n=t.text?t.text.length:0;return e*n}function OW(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var LW={id:"legend",_element:qT,start(t,e,n){const r=t.legend=new qT({ctx:t.ctx,options:n,chart:t});xn.configure(t,r,n),xn.addBox(t,r)},stop(t){xn.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;xn.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),u=Pn(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:r||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class RA extends js{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const i=ht(r.text)?r.text.length:1;this._padding=Pn(r.padding);const s=i*Vt(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:i,right:s,options:o}=this,a=o.align;let l=0,c,u,d;return this.isHorizontal()?(u=Dt(a,r,s),d=n+e,c=s-r):(o.position==="left"?(u=r+e,d=Dt(a,i,n),l=ft*-.5):(u=s-e,d=Dt(a,n,i),l=ft*.5),c=i-n),{titleX:u,titleY:d,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=Vt(n.font),s=r.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(s);_c(e,n.text,0,0,r,{color:n.color,maxWidth:l,rotation:c,textAlign:Hv(n.align),textBaseline:"middle",translation:[o,a]})}}function VW(t,e){const n=new RA({ctx:t.ctx,options:e,chart:t});xn.configure(t,n,e),xn.addBox(t,n),t.titleBlock=n}var FW={id:"title",_element:RA,start(t,e,n){VW(t,n)},stop(t){const e=t.titleBlock;xn.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;xn.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const al={average(t){if(!t.length)return!1;let e,n,r=new Set,i=0,s=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();r.add(l.x),i+=l.y,++s}}return s===0||r.size===0?!1:{x:[...r].reduce((a,l)=>a+l)/r.size,y:i/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,i=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=t.length;s<o;++s){const l=t[s].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=Jg(e,c);u<i&&(i=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,r=l.y}return{x:n,y:r}}};function Yn(t,e){return e&&(ht(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function _r(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function UW(t,e){const{element:n,datasetIndex:r,index:i}=e,s=t.getDatasetMeta(r).controller,{label:o,value:a}=s.getLabelAndValue(i);return{chart:t,label:o,parsed:s.getParsed(i),raw:t.data.datasets[r].data[i],formattedValue:a,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function KT(t,e){const n=t.chart.ctx,{body:r,footer:i,title:s}=t,{boxWidth:o,boxHeight:a}=e,l=Vt(e.bodyFont),c=Vt(e.titleFont),u=Vt(e.footerFont),d=s.length,f=i.length,m=r.length,v=Pn(e.padding);let w=v.height,T=0,_=r.reduce((R,D)=>R+D.before.length+D.lines.length+D.after.length,0);if(_+=t.beforeBody.length+t.afterBody.length,d&&(w+=d*c.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),_){const R=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;w+=m*R+(_-m)*l.lineHeight+(_-1)*e.bodySpacing}f&&(w+=e.footerMarginTop+f*u.lineHeight+(f-1)*e.footerSpacing);let x=0;const b=function(R){T=Math.max(T,n.measureText(R).width+x)};return n.save(),n.font=c.string,xe(t.title,b),n.font=l.string,xe(t.beforeBody.concat(t.afterBody),b),x=e.displayColors?o+2+e.boxPadding:0,xe(r,R=>{xe(R.before,b),xe(R.lines,b),xe(R.after,b)}),x=0,n.font=u.string,xe(t.footer,b),n.restore(),T+=v.width,{width:T,height:w}}function BW(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function jW(t,e,n,r){const{x:i,width:s}=r,o=n.caretSize+n.caretPadding;if(t==="left"&&i+s+o>e.width||t==="right"&&i-s-o<0)return!0}function zW(t,e,n,r){const{x:i,width:s}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return r==="center"?c=i<=(a+l)/2?"left":"right":i<=s/2?c="left":i>=o-s/2&&(c="right"),jW(c,t,e,n)&&(c="center"),c}function GT(t,e,n){const r=n.yAlign||e.yAlign||BW(t,n);return{xAlign:n.xAlign||e.xAlign||zW(t,e,n,r),yAlign:r}}function $W(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function HW(t,e,n){let{y:r,height:i}=t;return e==="top"?r+=n:e==="bottom"?r-=i+n:r-=i/2,r}function QT(t,e,n,r){const{caretSize:i,caretPadding:s,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=i+s,{topLeft:u,topRight:d,bottomLeft:f,bottomRight:m}=Rl(o);let v=$W(e,a);const w=HW(e,l,c);return l==="center"?a==="left"?v+=c:a==="right"&&(v-=c):a==="left"?v-=Math.max(u,f)+i:a==="right"&&(v+=Math.max(d,m)+i),{x:Tn(v,0,r.width-e.width),y:Tn(w,0,r.height-e.height)}}function Ku(t,e,n){const r=Pn(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function YT(t){return Yn([],_r(t))}function WW(t,e,n){return Bs(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function XT(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const DA={beforeTitle:gr,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:gr,beforeBody:gr,beforeLabel:gr,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Pe(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:gr,afterBody:gr,beforeFooter:gr,footer:gr,afterFooter:gr};function Gt(t,e,n,r){const i=t[e].call(n,r);return typeof i>"u"?DA[e].call(n,r):i}class sy extends js{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&n.options.animation&&r.animations,s=new yA(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=WW(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,i=Gt(r,"beforeTitle",this,e),s=Gt(r,"title",this,e),o=Gt(r,"afterTitle",this,e);let a=[];return a=Yn(a,_r(i)),a=Yn(a,_r(s)),a=Yn(a,_r(o)),a}getBeforeBody(e,n){return YT(Gt(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,i=[];return xe(e,s=>{const o={before:[],lines:[],after:[]},a=XT(r,s);Yn(o.before,_r(Gt(a,"beforeLabel",this,s))),Yn(o.lines,Gt(a,"label",this,s)),Yn(o.after,_r(Gt(a,"afterLabel",this,s))),i.push(o)}),i}getAfterBody(e,n){return YT(Gt(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,i=Gt(r,"beforeFooter",this,e),s=Gt(r,"footer",this,e),o=Gt(r,"afterFooter",this,e);let a=[];return a=Yn(a,_r(i)),a=Yn(a,_r(s)),a=Yn(a,_r(o)),a}_createItems(e){const n=this._active,r=this.chart.data,i=[],s=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(UW(this.chart,n[l]));return e.filter&&(a=a.filter((u,d,f)=>e.filter(u,d,f,r))),e.itemSort&&(a=a.sort((u,d)=>e.itemSort(u,d,r))),xe(a,u=>{const d=XT(e.callbacks,u);i.push(Gt(d,"labelColor",this,u)),s.push(Gt(d,"labelPointStyle",this,u)),o.push(Gt(d,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const r=this.options.setContext(this.getContext()),i=this._active;let s,o=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const a=al[r.position].call(this,i,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const l=this._size=KT(this,r),c=Object.assign({},a,l),u=GT(this.chart,r,c),d=QT(r,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,s={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,i){const s=this.getCaretPosition(e,r,i);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,r){const{xAlign:i,yAlign:s}=this,{caretSize:o,cornerRadius:a}=r,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:d}=Rl(a),{x:f,y:m}=e,{width:v,height:w}=n;let T,_,x,b,R,D;return s==="center"?(R=m+w/2,i==="left"?(T=f,_=T-o,b=R+o,D=R-o):(T=f+v,_=T+o,b=R-o,D=R+o),x=T):(i==="left"?_=f+Math.max(l,u)+o:i==="right"?_=f+v-Math.max(c,d)-o:_=this.caretX,s==="top"?(b=m,R=b-o,T=_-o,x=_+o):(b=m+w,R=b+o,T=_+o,x=_-o),D=b),{x1:T,x2:_,x3:x,y1:b,y2:R,y3:D}}drawTitle(e,n,r){const i=this.title,s=i.length;let o,a,l;if(s){const c=Ao(r.rtl,this.x,this.width);for(e.x=Ku(this,r.titleAlign,r),n.textAlign=c.textAlign(r.titleAlign),n.textBaseline="middle",o=Vt(r.titleFont),a=r.titleSpacing,n.fillStyle=r.titleColor,n.font=o.string,l=0;l<s;++l)n.fillText(i[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===s&&(e.y+=r.titleMarginBottom-a)}}_drawColorBox(e,n,r,i,s){const o=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:l,boxWidth:c}=s,u=Vt(s.bodyFont),d=Ku(this,"left",s),f=i.x(d),m=l<u.lineHeight?(u.lineHeight-l)/2:0,v=n.y+m;if(s.usePointStyle){const w={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},T=i.leftForLtr(f,c)+c/2,_=v+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,ey(e,w,T,_),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,ey(e,w,T,_)}else{e.lineWidth=Ee(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const w=i.leftForLtr(f,c),T=i.leftForLtr(i.xPlus(f,1),c-2),_=Rl(o.borderRadius);Object.values(_).some(x=>x!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,ty(e,{x:w,y:v,w:c,h:l,radius:_}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),ty(e,{x:T,y:v+1,w:c-2,h:l-2,radius:_}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(w,v,c,l),e.strokeRect(w,v,c,l),e.fillStyle=o.backgroundColor,e.fillRect(T,v+1,c-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:i}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=r,d=Vt(r.bodyFont);let f=d.lineHeight,m=0;const v=Ao(r.rtl,this.x,this.width),w=function(E){n.fillText(E,v.x(e.x+m),e.y+f/2),e.y+=f+s},T=v.textAlign(o);let _,x,b,R,D,O,S;for(n.textAlign=o,n.textBaseline="middle",n.font=d.string,e.x=Ku(this,T,r),n.fillStyle=r.bodyColor,xe(this.beforeBody,w),m=a&&T!=="right"?o==="center"?c/2+u:c+2+u:0,R=0,O=i.length;R<O;++R){for(_=i[R],x=this.labelTextColors[R],n.fillStyle=x,xe(_.before,w),b=_.lines,a&&b.length&&(this._drawColorBox(n,e,R,v,r),f=Math.max(d.lineHeight,l)),D=0,S=b.length;D<S;++D)w(b[D]),f=d.lineHeight;xe(_.after,w)}m=0,f=d.lineHeight,xe(this.afterBody,w),e.y-=s}drawFooter(e,n,r){const i=this.footer,s=i.length;let o,a;if(s){const l=Ao(r.rtl,this.x,this.width);for(e.x=Ku(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",o=Vt(r.footerFont),n.fillStyle=r.footerColor,n.font=o.string,a=0;a<s;++a)n.fillText(i[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+r.footerSpacing}}drawBackground(e,n,r,i){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:u}=r,{topLeft:d,topRight:f,bottomLeft:m,bottomRight:v}=Rl(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(a+d,l),o==="top"&&this.drawCaret(e,n,r,i),n.lineTo(a+c-f,l),n.quadraticCurveTo(a+c,l,a+c,l+f),o==="center"&&s==="right"&&this.drawCaret(e,n,r,i),n.lineTo(a+c,l+u-v),n.quadraticCurveTo(a+c,l+u,a+c-v,l+u),o==="bottom"&&this.drawCaret(e,n,r,i),n.lineTo(a+m,l+u),n.quadraticCurveTo(a,l+u,a,l+u-m),o==="center"&&s==="left"&&this.drawCaret(e,n,r,i),n.lineTo(a,l+d),n.quadraticCurveTo(a,l,a+d,l),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const o=al[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=KT(this,e),l=Object.assign({},o,this._size),c=GT(n,e,l),u=QT(e,l,c,n);(i._to!==u.x||s._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=Pn(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=r,this.drawBackground(s,e,i,n),pA(e,n.textDirection),s.y+=o.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),mA(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,i=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),s=!bd(r,i),o=this._positionChanged(i,n);(s||o)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],o=this._getActiveElements(e,s,n,r),a=this._positionChanged(o,e),l=n||!bd(o,s)||a;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,r,i){const s=this.options;if(e.type==="mouseout")return[];if(!i)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,s.mode,s,r);return s.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:r,caretY:i,options:s}=this,o=al[s.position].call(this,e,n);return o!==!1&&(r!==o.x||i!==o.y)}}X(sy,"positioners",al);var qW={id:"tooltip",_element:sy,positioners:al,afterInit(t,e,n){n&&(t.tooltip=new sy({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:DA},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const KW=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function GW(t,e,n,r){const i=t.indexOf(e);if(i===-1)return KW(t,e,n,r);const s=t.lastIndexOf(e);return i!==s?n:i}const QW=(t,e)=>t===null?null:Tn(Math.round(t),0,e);function JT(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class oy extends fa{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:i,label:s}of n)r[i]===s&&r.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(Pe(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:GW(r,e,me(n,e),this._addedLabels),QW(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,i=[];let s=this.getLabels();s=e===0&&n===s.length-1?s:s.slice(e,n+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=e;o<=n;o++)i.push({value:o});return i}getLabelForValue(e){return JT.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}X(oy,"id","category"),X(oy,"defaults",{ticks:{callback:JT}});function YW(t,e){const n=[],{bounds:i,step:s,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:d,includeBounds:f}=t,m=s||1,v=u-1,{min:w,max:T}=e,_=!Pe(o),x=!Pe(a),b=!Pe(c),R=(T-w)/(d+1);let D=rT((T-w)/v/m)*m,O,S,E,k;if(D<1e-14&&!_&&!x)return[{value:w},{value:T}];k=Math.ceil(T/D)-Math.floor(w/D),k>v&&(D=rT(k*D/v/m)*m),Pe(l)||(O=Math.pow(10,l),D=Math.ceil(D*O)/O),i==="ticks"?(S=Math.floor(w/D)*D,E=Math.ceil(T/D)*D):(S=w,E=T),_&&x&&s&&Oz((a-o)/s,D/1e3)?(k=Math.round(Math.min((a-o)/D,u)),D=(a-o)/k,S=o,E=a):b?(S=_?o:S,E=x?a:E,k=c-1,D=(E-S)/k):(k=(E-S)/D,Cl(k,Math.round(k),D/1e3)?k=Math.round(k):k=Math.ceil(k));const C=Math.max(iT(D),iT(S));O=Math.pow(10,Pe(l)?C:l),S=Math.round(S*O)/O,E=Math.round(E*O)/O;let A=0;for(_&&(f&&S!==o?(n.push({value:o}),S<o&&A++,Cl(Math.round((S+A*D)*O)/O,o,ZT(o,R,t))&&A++):S<o&&A++);A<k;++A){const M=Math.round((S+A*D)*O)/O;if(x&&M>a)break;n.push({value:M})}return x&&f&&E!==a?n.length&&Cl(n[n.length-1].value,a,ZT(a,R,t))?n[n.length-1].value=a:n.push({value:a}):(!x||E===a)&&n.push({value:E}),n}function ZT(t,e,{horizontal:n,minRotation:r}){const i=ds(r),s=(n?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+t).length;return Math.min(e/s,o)}class XW extends fa{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Pe(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const o=l=>i=n?i:l,a=l=>s=r?s:l;if(e){const l=Qo(i),c=Qo(s);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(i===s){let l=s===0?1:Math.abs(s*.05);a(s+l),e||o(i-l)}this.min=i,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=YW(i,s);return e.bounds==="ticks"&&Lz(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const i=(r-n)/Math.max(e.length-1,1)/2;n-=i,r+=i}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return sA(e,this.chart.options.locale,this.options.ticks.format)}}class ay extends XW{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Cn(e)?e:0,this.max=Cn(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=ds(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}X(ay,"id","linear"),X(ay,"defaults",{ticks:{callback:oA.formatters.numeric}});const Cf={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Xt=Object.keys(Cf);function ex(t,e){return t-e}function tx(t,e){if(Pe(e))return null;const n=t._adapter,{parser:r,round:i,isoWeekday:s}=t._parseOpts;let o=e;return typeof r=="function"&&(o=r(o)),Cn(o)||(o=typeof r=="string"?n.parse(o,r):n.parse(o)),o===null?null:(i&&(o=i==="week"&&(yc(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,i)),+o)}function nx(t,e,n,r){const i=Xt.length;for(let s=Xt.indexOf(t);s<i-1;++s){const o=Cf[Xt[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=r)return Xt[s]}return Xt[i-1]}function JW(t,e,n,r,i){for(let s=Xt.length-1;s>=Xt.indexOf(n);s--){const o=Xt[s];if(Cf[o].common&&t._adapter.diff(i,r,o)>=e-1)return o}return Xt[n?Xt.indexOf(n):0]}function ZW(t){for(let e=Xt.indexOf(t)+1,n=Xt.length;e<n;++e)if(Cf[Xt[e]].common)return Xt[e]}function rx(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:i}=$v(n,e),s=n[r]>=e?n[r]:n[i];t[s]=!0}}function eq(t,e,n,r){const i=t._adapter,s=+i.startOf(e[0].value,r),o=e[e.length-1].value;let a,l;for(a=s;a<=o;a=+i.add(a,1,r))l=n[a],l>=0&&(e[l].major=!0);return e}function ix(t,e,n){const r=[],i={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],i[a]=o,r.push({value:a,major:!1});return s===0||!n?r:eq(t,r,i,n)}class Rd extends fa{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),i=this._adapter=new fH._date(e.adapters.date);i.init(n),kl(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:tx(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:i,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=Cn(i)&&!isNaN(i)?i:+n.startOf(Date.now(),r),s=Cn(s)&&!isNaN(s)?s:+n.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,o=this.max,a=zz(i,s,o);return this._unit=n.unit||(r.autoSkip?nx(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):JW(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:ZW(this._unit),this.initOffsets(i),e.reverse&&a.reverse(),ix(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,i,s;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?n=1-i:n=(this.getDecimalForValue(e[1])-i)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?r=s:r=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=Tn(n,0,o),r=Tn(r,0,o),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,i=this.options,s=i.time,o=s.unit||nx(s.minUnit,n,r,this._getLabelCapacity(n)),a=me(i.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,c=yc(l)||l===!0,u={};let d=n,f,m;if(c&&(d=+e.startOf(d,"isoWeek",l)),d=+e.startOf(d,c?"day":o),e.diff(r,n,o)>1e5*a)throw new Error(n+" and "+r+" are too far apart with stepSize of "+a+" "+o);const v=i.ticks.source==="data"&&this.getDataTimestamps();for(f=d,m=0;f<r;f=+e.add(f,a,o),m++)rx(u,f,v);return(f===r||i.bounds==="ticks"||m===1)&&rx(u,f,v),Object.keys(u).sort(ex).map(w=>+w)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const i=this.options.time.displayFormats,s=this._unit,o=n||i[s];return this._adapter.format(e,o)}_tickFormatFunction(e,n,r,i){const s=this.options,o=s.ticks.callback;if(o)return Ne(o,[e,n,r],this);const a=s.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],d=c&&a[c],f=r[n],m=c&&d&&f&&f.major;return this._adapter.format(e,i||(m?d:u))}generateTickLabels(e){let n,r,i;for(n=0,r=e.length;n<r;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,i=ds(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:r*s+a*o,h:r*o+a*s}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,s=this._tickFormatFunction(e,0,ix(this,[e],this._majorUnit),i),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,r=i.length;n<r;++n)e=e.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const i=this.getLabels();for(n=0,r=i.length;n<r;++n)e.push(tx(this,i[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Hz(e.sort(ex))}}X(Rd,"id","time"),X(Rd,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Gu(t,e,n){let r=0,i=t.length-1,s,o,a,l;n?(e>=t[r].pos&&e<=t[i].pos&&({lo:r,hi:i}=fs(t,"pos",e)),{pos:s,time:a}=t[r],{pos:o,time:l}=t[i]):(e>=t[r].time&&e<=t[i].time&&({lo:r,hi:i}=fs(t,"time",e)),{time:s,pos:a}=t[r],{time:o,pos:l}=t[i]);const c=o-s;return c?a+(l-a)*(e-s)/c:a}class sx extends Rd{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Gu(n,this.min),this._tableRange=Gu(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,i=[],s=[];let o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=n&&c<=r&&i.push(c);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(o=0,a=i.length;o<a;++o)u=i[o+1],l=i[o-1],c=i[o],Math.round((u+l)/2)!==c&&s.push({time:c,pos:o/(a-1)});return s}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(Gu(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return Gu(this._table,r*this._tableRange+this._minPos,!0)}}X(sx,"id","timeseries"),X(sx,"defaults",Rd.defaults);const MA="label";function ox(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function tq(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function NA(t,e){t.labels=e}function OA(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:MA;const r=[];t.datasets=e.map(i=>{const s=t.datasets.find(o=>o[n]===i[n]);return!s||!i.data||r.includes(s)?{...i}:(r.push(s),Object.assign(s,i),s)})}function nq(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:MA;const n={labels:[],datasets:[]};return NA(n,t.labels),OA(n,t.datasets,e),n}function rq(t,e){const{height:n=150,width:r=300,redraw:i=!1,datasetIdKey:s,type:o,data:a,options:l,plugins:c=[],fallbackContent:u,updateMode:d,...f}=t,m=N.useRef(null),v=N.useRef(null),w=()=>{m.current&&(v.current=new kf(m.current,{type:o,data:nq(a,s),options:l&&{...l},plugins:c}),ox(e,v.current))},T=()=>{ox(e,null),v.current&&(v.current.destroy(),v.current=null)};return N.useEffect(()=>{!i&&v.current&&l&&tq(v.current,l)},[i,l]),N.useEffect(()=>{!i&&v.current&&NA(v.current.config.data,a.labels)},[i,a.labels]),N.useEffect(()=>{!i&&v.current&&a.datasets&&OA(v.current.config.data,a.datasets,s)},[i,a.datasets]),N.useEffect(()=>{v.current&&(i?(T(),setTimeout(w)):v.current.update(d))},[i,l,a.labels,a.datasets,d]),N.useEffect(()=>{v.current&&(T(),setTimeout(w))},[o]),N.useEffect(()=>(w(),()=>T()),[]),g.createElement("canvas",{ref:m,role:"img",height:n,width:r,...f},u)}const iq=N.forwardRef(rq);function sq(t,e){return kf.register(e),N.forwardRef((n,r)=>g.createElement(iq,{...n,ref:r,type:t}))}const oq=sq("line",bh);kf.register(oy,ay,kh,ol,FW,qW,LW);const aq=({data:t,title:e})=>{const n={labels:t.labels,datasets:[{label:"Revenue (EGP)",data:t.values,fill:!0,backgroundColor:"rgba(75,192,192,0.2)",borderColor:"rgba(75,192,192,1)",tension:.3}]},r={responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:e}}};return g.createElement(oq,{data:n,options:r})},lq=({isOpen:t,onClose:e,onConfirm:n,title:r,message:i})=>t?g.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50",onClick:e},g.createElement("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 max-w-sm w-full transform transition-all",onClick:s=>s.stopPropagation()},g.createElement("div",{className:"text-center"},g.createElement("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 dark:bg-red-900/50"},g.createElement("svg",{className:"h-6 w-6 text-red-600 dark:text-red-300",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"}))),g.createElement("h3",{className:"text-lg leading-6 font-medium text-gray-900 dark:text-white mt-4"},r),g.createElement("div",{className:"mt-2 px-7 py-3"},g.createElement("p",{className:"text-sm text-gray-500 dark:text-gray-300"},i))),g.createElement("div",{className:"mt-5 sm:mt-6 sm:grid sm:grid-cols-2 sm:gap-3 sm:grid-flow-row-dense"},g.createElement("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:col-start-2 sm:text-sm",onClick:()=>{n(),e()}},"Delete"),g.createElement("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 dark:border-gray-500 shadow-sm px-4 py-2 bg-white dark:bg-gray-700 text-base font-medium text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none sm:mt-0 sm:col-start-1 sm:text-sm",onClick:e},"Cancel")))):null,cq=({faqs:t,onSave:e,onDelete:n})=>{const[r,i]=N.useState(!1),[s,o]=N.useState(!1),[a,l]=N.useState({id:null,question:"",answer:""}),c=m=>{m.preventDefault(),e(a),f()},u=m=>{o(!0),l(m),r||i(!0)},d=m=>{n(m)},f=()=>{o(!1),l({id:null,question:"",answer:""})};return g.createElement("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md mb-8"},g.createElement("button",{className:"w-full flex justify-between items-center text-xl font-semibold text-gray-700 dark:text-gray-200",onClick:()=>i(!r)},g.createElement("span",null,"Manage FAQs"),g.createElement(Qd,{className:`transition-transform duration-300 ${r?"rotate-180":""}`})),g.createElement("div",{className:`overflow-hidden transition-all duration-500 ease-in-out ${r?"max-h-[2000px] mt-6":"max-h-0"}`},g.createElement("form",{onSubmit:c,className:"mb-8 p-4 border rounded-lg dark:border-gray-700"},g.createElement("h3",{className:"text-lg font-semibold mb-4"},s?"Edit FAQ":"Add New FAQ"),g.createElement("div",{className:"flex flex-col gap-4"},g.createElement("input",{type:"text",placeholder:"Question",value:a.question,onChange:m=>l({...a,question:m.target.value}),className:"p-2 border rounded bg-white dark:bg-gray-700 dark:border-gray-600",required:!0}),g.createElement("textarea",{placeholder:"Answer",value:a.answer,onChange:m=>l({...a,answer:m.target.value}),className:"p-2 border rounded bg-white dark:bg-gray-700 dark:border-gray-600 h-24",required:!0}),g.createElement("div",{className:"flex gap-4"},g.createElement("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700"},s?"Update FAQ":"Add FAQ"),s&&g.createElement("button",{type:"button",onClick:f,className:"px-4 py-2 bg-gray-300 dark:bg-gray-600 rounded"},"Cancel")))),g.createElement("div",{className:"space-y-4"},t&&t.length>0?t.map(m=>g.createElement("div",{key:m.id,className:"p-4 border rounded-lg dark:border-gray-700 flex justify-between items-start"},g.createElement("div",null,g.createElement("h4",{className:"font-bold"},m.question),g.createElement("p",{className:"text-sm text-gray-600 dark:text-gray-400"},m.answer)),g.createElement("div",{className:"flex gap-2 flex-shrink-0 ml-4"},g.createElement("button",{onClick:()=>u(m),className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded"},g.createElement(RS,null)),g.createElement("button",{onClick:()=>d(m.id),className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded text-red-500"},g.createElement(td,null))))):g.createElement("p",{className:"text-center text-gray-500 dark:text-gray-400"},"No FAQs yet. Add one above!"))))},uq=["PUBG","Free Fire","PES"],hq=t=>{switch(t){case"PUBG":return"UC";case"Free Fire":return"Diamonds";case"PES":return"Coins";default:return""}},dq=({packages:t,onSave:e,onDelete:n})=>{const[r,i]=N.useState(!1),[s,o]=N.useState(!1),[a,l]=N.useState({game:"PUBG",amount:"",price:""}),c=f=>{f.preventDefault();const m=hq(a.game),v=`${a.amount} ${m}`,w={id:a.id,game:a.game,name:v,price:Number(a.price)};e(w),d()},u=f=>{o(!0);const m=f.name.split(" ")[0];l({...f,amount:m}),r||i(!0)},d=()=>{o(!1),l({game:"PUBG",amount:"",price:""})};return g.createElement("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md mb-8"},g.createElement("button",{className:"w-full flex justify-between items-center text-xl font-semibold text-gray-700 dark:text-gray-200",onClick:()=>i(!r)},g.createElement("span",null,"Manage Packages"),g.createElement(Qd,{className:`transition-transform duration-300 ${r?"rotate-180":""}`})),g.createElement("div",{className:`overflow-hidden transition-all duration-500 ease-in-out ${r?"max-h-[2000px] mt-6":"max-h-0"}`},g.createElement("form",{onSubmit:c,className:"mb-8 p-4 border rounded-lg dark:border-gray-700"},g.createElement("h3",{className:"text-lg font-semibold mb-4"},s?"Edit Package":"Add New Package"),g.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4"},g.createElement("select",{value:a.game,onChange:f=>l({...a,game:f.target.value}),className:"p-2 border rounded bg-white dark:bg-gray-700 dark:border-gray-600",required:!0},uq.map(f=>g.createElement("option",{key:f,value:f},f))),g.createElement("input",{type:"number",placeholder:"Amount (e.g., 60)",value:a.amount,onChange:f=>l({...a,amount:f.target.value}),className:"p-2 border rounded bg-white dark:bg-gray-700 dark:border-gray-600",required:!0}),g.createElement("input",{type:"number",placeholder:"Price",value:a.price,onChange:f=>l({...a,price:f.target.value}),className:"p-2 border rounded bg-white dark:bg-gray-700 dark:border-gray-600",required:!0})),g.createElement("div",{className:"flex gap-4 mt-4"},g.createElement("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700"},s?"Update Package":"Add Package"),s&&g.createElement("button",{type:"button",onClick:d,className:"px-4 py-2 bg-gray-300 dark:bg-gray-600 rounded"},"Cancel"))),g.createElement("div",{className:"space-y-4"},t&&t.length>0?t.map(f=>g.createElement("div",{key:f.id,className:"p-4 border rounded-lg dark:border-gray-700 flex justify-between items-center"},g.createElement("div",null,g.createElement("span",{className:"font-bold bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 text-xs font-medium me-2 px-2.5 py-0.5 rounded"},f.game),g.createElement("span",{className:"font-semibold"},f.name)," -",g.createElement("span",{className:"text-gray-600 dark:text-gray-400"}," EGP ",f.price)),g.createElement("div",{className:"flex gap-2"},g.createElement("button",{onClick:()=>u(f),className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded"},g.createElement(RS,null)),g.createElement("button",{onClick:()=>n(f.id),className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded text-red-500"},g.createElement(td,null))))):g.createElement("p",{className:"text-center text-gray-500 dark:text-gray-400"},"No packages yet. Add one above."))))},Qu=({title:t,value:e,icon:n,color:r})=>g.createElement("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md flex items-center"},g.createElement("div",{className:`p-3 rounded-full mr-4 ${r}`},n),g.createElement("div",null,g.createElement("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400"},t),g.createElement("p",{className:"text-2xl font-bold text-gray-900 dark:text-white"},e))),ax=()=>g.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})),fq=()=>g.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-yellow-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})),pq=()=>g.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})),mq=()=>g.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})),gq=({title:t,items:e})=>g.createElement("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md"},g.createElement("h3",{className:"text-lg font-semibold text-gray-700 dark:text-gray-200 mb-4"},t),g.createElement("ul",{className:"space-y-2"},e.map((n,r)=>g.createElement("li",{key:r,className:"flex justify-between text-sm"},g.createElement("span",{className:"text-gray-600 dark:text-gray-300"},n.name),g.createElement("span",{className:"font-bold text-gray-800 dark:text-white"},n.count," sales"))))),yq=()=>{const[t,e]=N.useState([]),[n,r]=N.useState([]),[i,s]=N.useState(!0),[o,a]=N.useState({searchTerm:"",status:"",game:"",paymentMethod:""}),[l,c]=N.useState(""),[u,d]=N.useState(null),[f,m]=N.useState(""),[v,w]=N.useState(!1),[T,_]=N.useState(null),[x,b]=N.useState([]),[R,D]=N.useState([]),[O,S]=N.useState([]),[E,k]=N.useState(null),[C,A]=N.useState("dashboard"),[M,P]=N.useState(!1),he=N.useRef(!0);N.useEffect(()=>{let G=!0;const Ie=V9(ne=>{if(!G)return;const ye=ne.sort((et,pa)=>new Date(pa.createdAt)-new Date(et.createdAt));!he.current&&ye.length>t.length&&m("A new order has arrived!"),e(ye),i&&s(!1)}),ae=rC(ne=>{G&&(r(ne),i&&s(!1))}),sn=gC(ne=>{G&&(b(ne),i&&s(!1))}),fr=Sg("pending",ne=>{G&&(D(ne),i&&s(!1))}),Y=Sg("approved",ne=>{G&&S(ne)});return he.current=!1,()=>{G=!1,Ie(),ae(),sn(),fr(),Y()}},[]);const oe=(G,Ie,ae)=>{_({id:G,deleteFunction:Ie,name:ae}),w(!0)},Te=async()=>{T&&(await T.deleteFunction(T.id),m(`'${T.name}' has been deleted.`),_(null),w(!1))},te=G=>{const{name:Ie,value:ae}=G.target;a(sn=>({...sn,[Ie]:ae}))},B=N.useMemo(()=>{if(!l)return t;const G=new Date,Ie=new Date;return l==="day"?Ie.setHours(0,0,0,0):l==="week"?Ie.setDate(G.getDate()-7):l==="month"&&Ie.setMonth(G.getMonth()-1),t.filter(ae=>new Date(ae.createdAt)>=Ie)},[t,l]),{stats:W,topPackages:K,chartData:de}=N.useMemo(()=>{const G=B,Ie=G.length,ae=G.filter(ve=>ve.status==="Pending Payment"||ve.status==="Awaiting Confirmation").length,sn=G.filter(ve=>ve.status==="Completed").length,fr=G.filter(ve=>ve.status==="Completed").reduce((ve,St)=>ve+(St.price||0),0),Y=G.filter(ve=>ve.status==="Completed").reduce((ve,St)=>(ve[St.package]=(ve[St.package]||0)+1,ve),{}),ne=Object.entries(Y).map(([ve,St])=>({name:ve,count:St})).sort((ve,St)=>St.count-ve.count).slice(0,3),ye=G.filter(ve=>ve.status==="Completed").reduce((ve,St)=>{const qc=new Date(St.createdAt).toLocaleDateString();return ve[qc]=(ve[qc]||0)+St.price,ve},{}),et=Object.keys(ye).sort((ve,St)=>new Date(ve)-new Date(St)),pa=et.map(ve=>ye[ve]),Wc=`Revenue for ${l?"This "+l:"All Time"}`;return{stats:{totalOrders:Ie,pending:ae,completed:sn,revenue:fr},topPackages:ne,chartData:{labels:et,values:pa,title:Wc}}},[B]),se=async(G,Ie)=>{if(await tC(G,Ie),Ie==="Completed"){const ae=t.find(sn=>sn.firestoreId===G);ae&&(await U9(ae),m(`Completion email sent for order ${ae.id}`))}},ce=G=>{oe(G.firestoreId,F9,`Order ${G.id}`)},Fe=N.useMemo(()=>Xj(B,o),[B,o]),Ge=async G=>{if(G.id){const{id:Ie,...ae}=G;await j9(Ie,ae)}else{const{id:Ie,...ae}=G;await B9(ae)}},Re=async G=>{oe(G,z9,"FAQ")},Bt=async G=>{await e7(G)},$r=async G=>{oe(G,t7,"Package")};return i?g.createElement("div",{className:"flex justify-center items-center min-h-screen bg-gray-100 dark:bg-gray-900"},g.createElement(Us,null)):g.createElement("div",{className:"flex bg-gray-100 dark:bg-gray-900 min-h-screen"},g.createElement(tz,null),g.createElement("main",{className:"flex-1 ml-64 p-4 sm:p-6 lg:p-8"},g.createElement("h1",{className:"text-3xl font-bold mb-6 text-gray-800 dark:text-gray-100"},"Dashboard"),g.createElement("div",{className:"mb-8"},g.createElement("h2",{className:"text-xl font-semibold text-gray-700 dark:text-gray-200 mb-4"},"Reports"),g.createElement("div",{className:"flex flex-wrap gap-4"},g.createElement("button",{onClick:()=>c("day"),className:`px-4 py-2 rounded-lg shadow-sm ${l==="day"?"bg-blue-600 text-white":"bg-white dark:bg-gray-800"}`},"Today"),g.createElement("button",{onClick:()=>c("week"),className:`px-4 py-2 rounded-lg shadow-sm ${l==="week"?"bg-blue-600 text-white":"bg-white dark:bg-gray-800"}`},"This Week"),g.createElement("button",{onClick:()=>c("month"),className:`px-4 py-2 rounded-lg shadow-sm ${l==="month"?"bg-blue-600 text-white":"bg-white dark:bg-gray-800"}`},"This Month"),g.createElement("button",{onClick:()=>c(""),className:`px-4 py-2 rounded-lg shadow-sm ${l?"bg-white dark:bg-gray-800":"bg-blue-600 text-white"}`},"All Time"))),g.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},g.createElement(Qu,{title:"Total Orders",value:W.totalOrders,icon:g.createElement(pq,null),color:"bg-blue-100 dark:bg-blue-900/50"}),g.createElement(Qu,{title:"Pending / Awaiting",value:W.pending,icon:g.createElement(fq,null),color:"bg-yellow-100 dark:bg-yellow-900/50"}),g.createElement(Qu,{title:"Completed Orders",value:W.completed,icon:g.createElement(ax,null),color:"bg-green-100 dark:bg-green-900/50"}),g.createElement(Qu,{title:"Total Revenue",value:`EGP ${W.revenue.toFixed(2)}`,icon:g.createElement(mq,null),color:"bg-purple-100 dark:bg-purple-900/50"})),g.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8"},g.createElement("div",{className:"lg:col-span-2 bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md"},g.createElement(aq,{data:de,title:de.title})),g.createElement(gq,{title:"Top 3 Selling Packages",items:K})),g.createElement("div",{className:"space-y-8"},g.createElement("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md"},g.createElement("button",{className:"w-full flex justify-between items-center text-xl font-semibold text-gray-700 dark:text-gray-200",onClick:()=>P(!M)},g.createElement("span",null,"Testimonial Management"),g.createElement(Qd,{className:`transition-transform duration-300 ${M?"rotate-180":""}`})),g.createElement("div",{className:`overflow-hidden transition-all duration-500 ease-in-out ${M?"max-h-[2000px] mt-6":"max-h-0"}`},g.createElement("div",null,g.createElement("h3",{className:"text-xl font-semibold mb-4 text-gray-800 dark:text-white"},"Pending Testimonials"),R.length>0?g.createElement("ul",{className:"space-y-2"},R.map(G=>g.createElement("li",{key:G.id,className:"flex justify-between items-center p-4 border rounded-lg dark:border-gray-700"},g.createElement("span",null,G.name,': "',G.quote,'"'),g.createElement("div",null,g.createElement("button",{onClick:()=>q9(G.id),className:"p-2 text-green-500 hover:text-green-700"},g.createElement(ax,null)),g.createElement("button",{onClick:()=>oe(G.id,ME,G.name),className:"p-2 text-red-500 hover:text-red-700"},g.createElement(td,null)))))):g.createElement("p",{className:"text-gray-500 dark:text-gray-400"},"No pending testimonials.")),g.createElement("div",{className:"mt-6"},g.createElement("h3",{className:"text-xl font-semibold mb-4 text-gray-800 dark:text-white"},"Approved Testimonials"),O.length>0?g.createElement("ul",{className:"space-y-4"},O.map(G=>g.createElement("li",{key:G.id,className:"flex justify-between items-center p-4 border rounded-lg dark:border-gray-700"},g.createElement("div",null,g.createElement("p",{className:"font-semibold text-gray-900 dark:text-white"},G.name),g.createElement("p",{className:"text-sm text-gray-600 dark:text-gray-300"},'"',G.quote,'"'),g.createElement("p",{className:"text-xs text-gray-400 dark:text-gray-500"},"Likes: ",G.likes,", Dislikes: ",G.dislikes)),g.createElement("button",{onClick:()=>oe(G.id,ME,G.name),className:"p-2 text-red-500 hover:text-red-700"},g.createElement(td,null))))):g.createElement("p",{className:"text-gray-500 dark:text-gray-400"},"No approved testimonials.")))),g.createElement(cq,{faqs:n,onSave:Ge,onDelete:Re}),g.createElement(dq,{packages:x,onSave:Bt,onDelete:$r})),g.createElement("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md mt-8"},g.createElement("div",{className:"flex flex-col sm:flex-row gap-4 mb-6 items-center"},g.createElement("h2",{className:"text-xl font-semibold text-gray-700 dark:text-gray-200 flex-grow"},"All Orders"),g.createElement("div",{className:"flex gap-4"},g.createElement("input",{type:"text",placeholder:"Search orders...",className:"p-2 border rounded shadow-sm w-full sm:w-64 bg-white dark:bg-gray-700 dark:border-gray-600",value:o.searchTerm,onChange:te,name:"searchTerm"}),g.createElement("select",{className:"p-2 border rounded shadow-sm w-full sm:w-auto bg-white dark:bg-gray-700 dark:border-gray-600",value:o.status,onChange:te,name:"status"},g.createElement("option",{value:""},"All Statuses"),g.createElement("option",{value:"Pending Payment"},"Pending Payment"),g.createElement("option",{value:"Awaiting Confirmation"},"Awaiting Confirmation"),g.createElement("option",{value:"Completed"},"Completed")))),g.createElement("div",{className:"overflow-x-auto"},g.createElement(Jj,{orders:Fe,onStatusChange:se,onDeleteClick:ce,onRowClick:d}))),u&&g.createElement(Zj,{order:u,onClose:()=>d(null)}),f&&g.createElement(ez,{message:f,onClose:()=>m("")}),g.createElement(lq,{isOpen:v,onClose:()=>w(!1),onConfirm:Te,title:"Confirm Deletion",message:"Are you sure you want to delete this item? This action cannot be undone."})))};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function vq(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,[])).next())})}function _q(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(u){c=[6,u],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var yo=function(){return yo=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},yo.apply(this,arguments)},LA=function(t){return{loading:t==null,value:t}},wq=function(){return function(t,e){switch(e.type){case"error":return yo(yo({},t),{error:e.error,loading:!1,value:void 0});case"reset":return LA(e.defaultValue);case"value":return yo(yo({},t),{error:void 0,loading:!1,value:e.value});default:return t}}},Eq=function(t){var e=t?t():void 0,n=N.useReducer(wq(),LA(e)),r=n[0],i=n[1],s=N.useCallback(function(){var l=t?t():void 0;i({type:"reset",defaultValue:l})},[t]),o=N.useCallback(function(l){i({type:"error",error:l})},[]),a=N.useCallback(function(l){i({type:"value",value:l})},[]);return N.useMemo(function(){return{error:r.error,loading:r.loading,reset:s,setError:o,setValue:a,value:r.value}},[r.error,r.loading,s,o,a,r.value])},VA=function(t,e){var n=Eq(function(){return t.currentUser}),r=n.error,i=n.loading,s=n.setError,o=n.setValue,a=n.value;return N.useEffect(function(){var l=rV(t,function(c){return vq(void 0,void 0,void 0,function(){var u;return _q(this,function(d){switch(d.label){case 0:return[3,4];case 1:return d.trys.push([1,3,,4]),[4,e.onUserChanged(c)];case 2:return d.sent(),[3,4];case 3:return u=d.sent(),s(u),[3,4];case 4:return o(c),[2]}})})},s);return function(){l()}},[t]),[a,i,r]};const Tq=()=>{const t=ji(),[e,n]=N.useState(""),[r,i]=N.useState(""),[s,o]=N.useState(""),[a,l]=N.useState(!1),[c,u]=VA(vd);N.useEffect(()=>{c&&t("/dashboard")},[c,t]);const d=async f=>{f.preventDefault(),l(!0),o("");try{await eV(vd,e,r),t("/dashboard")}catch(m){o("Failed to sign in. Please check your email and password."),console.error("Authentication error:",m)}finally{l(!1)}};return u?g.createElement("div",{className:"flex justify-center items-center min-h-screen bg-gray-100 dark:bg-gray-900"},g.createElement(Us,null)):c?null:g.createElement("div",{className:"flex items-center justify-center min-h-screen bg-gray-100 dark:bg-gray-900"},g.createElement("div",{className:"w-full max-w-md p-8 space-y-6 bg-white rounded-lg shadow-md dark:bg-gray-800"},g.createElement("h1",{className:"text-2xl font-bold text-center text-gray-800 dark:text-gray-100"},"Admin Login"),g.createElement("form",{onSubmit:d,className:"space-y-6"},g.createElement("div",null,g.createElement("label",{htmlFor:"email",className:"block mb-2 text-sm font-medium text-gray-700 dark:text-gray-300"},"Email"),g.createElement("input",{id:"email",type:"email",value:e,onChange:f=>n(f.target.value),required:!0,className:"w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 focus:outline-none focus:ring focus:ring-blue-500"})),g.createElement("div",null,g.createElement("label",{htmlFor:"password",className:"block mb-2 text-sm font-medium text-gray-700 dark:text-gray-300"},"Password"),g.createElement("input",{id:"password",type:"password",value:r,onChange:f=>i(f.target.value),required:!0,className:"w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 focus:outline-none focus:ring focus:ring-blue-500"})),s&&g.createElement("p",{className:"text-sm text-center text-red-500"},s),g.createElement("button",{type:"submit",disabled:a,className:"w-full px-4 py-2 font-bold text-white bg-blue-500 rounded-md hover:bg-blue-600 disabled:bg-gray-400"},a?"Signing In...":"Sign In"))))},xq=()=>g.createElement("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100 dark:bg-gray-900"},g.createElement("div",{className:"p-8 bg-white rounded-lg shadow-md dark:bg-gray-800"},g.createElement("h1",{className:"mb-4 text-2xl font-bold text-center text-red-500"},"Unauthorized Access"),g.createElement("p",{className:"mb-4 text-center text-gray-700 dark:text-gray-300"},"You do not have permission to view this page."),g.createElement(CS,{to:"/",className:"block w-full px-4 py-2 font-bold text-center text-white bg-blue-500 rounded hover:bg-blue-700"},"Go to Homepage"))),bq="abdo.nasef.web@gmail.com",Sq=({children:t})=>{const[e,n,r]=VA(vd);return n?g.createElement("div",{className:"flex justify-center items-center min-h-screen bg-gray-100 dark:bg-gray-900"},g.createElement(Us,null)):r?(console.error("Authentication error:",r),g.createElement(wp,{to:"/login"})):e?e.email!==bq?g.createElement(wp,{to:"/unauthorized"}):t:g.createElement(wp,{to:"/login"})},Iq=()=>g.createElement(C5,null,g.createElement(Qn,{element:g.createElement(pD,null)},g.createElement(Qn,{path:"/",element:g.createElement(X8,null)}),g.createElement(Qn,{path:"/select-package",element:g.createElement(n7,null)}),g.createElement(Qn,{path:"/payment",element:g.createElement(i7,null)}),g.createElement(Qn,{path:"/payment-instructions/:method",element:g.createElement(a7,null)}),g.createElement(Qn,{path:"/success",element:g.createElement(Yj,null)})),g.createElement(Qn,{path:"/login",element:g.createElement(Tq,null)}),g.createElement(Qn,{path:"/unauthorized",element:g.createElement(xq,null)}),g.createElement(Qn,{path:"/dashboard",element:g.createElement(Sq,null,g.createElement(yq,null))}));function kq(){return g.createElement(O5,null,g.createElement(Iq,null))}im.createRoot(document.getElementById("root")).render(g.createElement(g.StrictMode,null,g.createElement(mC,null,g.createElement(kq,null))));
