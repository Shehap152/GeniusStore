var d4=Object.defineProperty;var f4=(t,e,n)=>e in t?d4(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var X=(t,e,n)=>f4(t,typeof e!="symbol"?e+"":e,n);function p4(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Ou(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Yb={exports:{}},ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mu=Symbol.for("react.element"),m4=Symbol.for("react.portal"),g4=Symbol.for("react.fragment"),y4=Symbol.for("react.strict_mode"),v4=Symbol.for("react.profiler"),_4=Symbol.for("react.provider"),w4=Symbol.for("react.context"),E4=Symbol.for("react.forward_ref"),x4=Symbol.for("react.suspense"),b4=Symbol.for("react.memo"),T4=Symbol.for("react.lazy"),A1=Symbol.iterator;function S4(t){return t===null||typeof t!="object"?null:(t=A1&&t[A1]||t["@@iterator"],typeof t=="function"?t:null)}var Xb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Jb=Object.assign,Zb={};function ha(t,e,n){this.props=t,this.context=e,this.refs=Zb,this.updater=n||Xb}ha.prototype.isReactComponent={};ha.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ha.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function eT(){}eT.prototype=ha.prototype;function Oy(t,e,n){this.props=t,this.context=e,this.refs=Zb,this.updater=n||Xb}var My=Oy.prototype=new eT;My.constructor=Oy;Jb(My,ha.prototype);My.isPureReactComponent=!0;var P1=Array.isArray,tT=Object.prototype.hasOwnProperty,Ly={current:null},nT={key:!0,ref:!0,__self:!0,__source:!0};function rT(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)tT.call(e,r)&&!nT.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Mu,type:t,key:s,ref:o,props:i,_owner:Ly.current}}function k4(t,e){return{$$typeof:Mu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Vy(t){return typeof t=="object"&&t!==null&&t.$$typeof===Mu}function I4(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var R1=/\/+/g;function mp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?I4(""+t.key):e.toString(36)}function fh(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Mu:case m4:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+mp(o,0):r,P1(i)?(n="",t!=null&&(n=t.replace(R1,"$&/")+"/"),fh(i,e,n,"",function(u){return u})):i!=null&&(Vy(i)&&(i=k4(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(R1,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",P1(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+mp(s,a);o+=fh(s,e,n,l,i)}else if(l=S4(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+mp(s,a++),o+=fh(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function bc(t,e,n){if(t==null)return t;var r=[],i=0;return fh(t,r,"","",function(s){return e.call(n,s,i++)}),r}function C4(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var qt={current:null},ph={transition:null},A4={ReactCurrentDispatcher:qt,ReactCurrentBatchConfig:ph,ReactCurrentOwner:Ly};function iT(){throw Error("act(...) is not supported in production builds of React.")}ue.Children={map:bc,forEach:function(t,e,n){bc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return bc(t,function(){e++}),e},toArray:function(t){return bc(t,function(e){return e})||[]},only:function(t){if(!Vy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ue.Component=ha;ue.Fragment=g4;ue.Profiler=v4;ue.PureComponent=Oy;ue.StrictMode=y4;ue.Suspense=x4;ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A4;ue.act=iT;ue.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Jb({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Ly.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)tT.call(e,l)&&!nT.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Mu,type:t.type,key:i,ref:s,props:r,_owner:o}};ue.createContext=function(t){return t={$$typeof:w4,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:_4,_context:t},t.Consumer=t};ue.createElement=rT;ue.createFactory=function(t){var e=rT.bind(null,t);return e.type=t,e};ue.createRef=function(){return{current:null}};ue.forwardRef=function(t){return{$$typeof:E4,render:t}};ue.isValidElement=Vy;ue.lazy=function(t){return{$$typeof:T4,_payload:{_status:-1,_result:t},_init:C4}};ue.memo=function(t,e){return{$$typeof:b4,type:t,compare:e===void 0?null:e}};ue.startTransition=function(t){var e=ph.transition;ph.transition={};try{t()}finally{ph.transition=e}};ue.unstable_act=iT;ue.useCallback=function(t,e){return qt.current.useCallback(t,e)};ue.useContext=function(t){return qt.current.useContext(t)};ue.useDebugValue=function(){};ue.useDeferredValue=function(t){return qt.current.useDeferredValue(t)};ue.useEffect=function(t,e){return qt.current.useEffect(t,e)};ue.useId=function(){return qt.current.useId()};ue.useImperativeHandle=function(t,e,n){return qt.current.useImperativeHandle(t,e,n)};ue.useInsertionEffect=function(t,e){return qt.current.useInsertionEffect(t,e)};ue.useLayoutEffect=function(t,e){return qt.current.useLayoutEffect(t,e)};ue.useMemo=function(t,e){return qt.current.useMemo(t,e)};ue.useReducer=function(t,e,n){return qt.current.useReducer(t,e,n)};ue.useRef=function(t){return qt.current.useRef(t)};ue.useState=function(t){return qt.current.useState(t)};ue.useSyncExternalStore=function(t,e,n){return qt.current.useSyncExternalStore(t,e,n)};ue.useTransition=function(){return qt.current.useTransition()};ue.version="18.3.1";Yb.exports=ue;var O=Yb.exports;const g=Ou(O),P4=p4({__proto__:null,default:g},[O]);var Im={},sT={exports:{}},mn={},oT={exports:{}},aT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,W){var K=j.length;j.push(W);e:for(;0<K;){var de=K-1>>>1,se=j[de];if(0<i(se,W))j[de]=W,j[K]=se,K=de;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var W=j[0],K=j.pop();if(K!==W){j[0]=K;e:for(var de=0,se=j.length,ce=se>>>1;de<ce;){var Fe=2*(de+1)-1,Ge=j[Fe],Re=Fe+1,jt=j[Re];if(0>i(Ge,K))Re<se&&0>i(jt,Ge)?(j[de]=jt,j[Re]=K,de=Re):(j[de]=Ge,j[Fe]=K,de=Fe);else if(Re<se&&0>i(jt,K))j[de]=jt,j[Re]=K,de=Re;else break e}}return W}function i(j,W){var K=j.sortIndex-W.sortIndex;return K!==0?K:j.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,f=3,m=!1,y=!1,_=!1,E=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(j){for(var W=n(u);W!==null;){if(W.callback===null)r(u);else if(W.startTime<=j)r(u),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(u)}}function R(j){if(_=!1,T(j),!y)if(n(l)!==null)y=!0,xe(D);else{var W=n(u);W!==null&&te(R,W.startTime-j)}}function D(j,W){y=!1,_&&(_=!1,w(x),x=-1),m=!0;var K=f;try{for(T(W),d=n(l);d!==null&&(!(d.expirationTime>W)||j&&!A());){var de=d.callback;if(typeof de=="function"){d.callback=null,f=d.priorityLevel;var se=de(d.expirationTime<=W);W=t.unstable_now(),typeof se=="function"?d.callback=se:d===n(l)&&r(l),T(W)}else r(l);d=n(l)}if(d!==null)var ce=!0;else{var Fe=n(u);Fe!==null&&te(R,Fe.startTime-W),ce=!1}return ce}finally{d=null,f=K,m=!1}}var M=!1,S=null,x=-1,I=5,C=-1;function A(){return!(t.unstable_now()-C<I)}function N(){if(S!==null){var j=t.unstable_now();C=j;var W=!0;try{W=S(!0,j)}finally{W?P():(M=!1,S=null)}}else M=!1}var P;if(typeof b=="function")P=function(){b(N)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,oe=ae.port2;ae.port1.onmessage=N,P=function(){oe.postMessage(null)}}else P=function(){E(N,0)};function xe(j){S=j,M||(M=!0,P())}function te(j,W){x=E(function(){j(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,xe(D))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(j){switch(f){case 1:case 2:case 3:var W=3;break;default:W=f}var K=f;f=W;try{return j()}finally{f=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,W){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var K=f;f=j;try{return W()}finally{f=K}},t.unstable_scheduleCallback=function(j,W,K){var de=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?de+K:de):K=de,j){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=K+se,j={id:c++,callback:W,priorityLevel:j,startTime:K,expirationTime:se,sortIndex:-1},K>de?(j.sortIndex=K,e(u,j),n(l)===null&&j===n(u)&&(_?(w(x),x=-1):_=!0,te(R,K-de))):(j.sortIndex=se,e(l,j),y||m||(y=!0,xe(D))),j},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(j){var W=f;return function(){var K=f;f=W;try{return j.apply(this,arguments)}finally{f=K}}}})(aT);oT.exports=aT;var R4=oT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D4=O,pn=R4;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var lT=new Set,ql={};function zs(t,e){Ho(t,e),Ho(t+"Capture",e)}function Ho(t,e){for(ql[t]=e,t=0;t<e.length;t++)lT.add(e[t])}var Mr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cm=Object.prototype.hasOwnProperty,N4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,D1={},N1={};function O4(t){return Cm.call(N1,t)?!0:Cm.call(D1,t)?!1:N4.test(t)?N1[t]=!0:(D1[t]=!0,!1)}function M4(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function L4(t,e,n,r){if(e===null||typeof e>"u"||M4(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Kt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var bt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){bt[t]=new Kt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];bt[e]=new Kt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){bt[t]=new Kt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){bt[t]=new Kt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){bt[t]=new Kt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){bt[t]=new Kt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){bt[t]=new Kt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){bt[t]=new Kt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){bt[t]=new Kt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Fy=/[\-:]([a-z])/g;function Uy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Fy,Uy);bt[e]=new Kt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Fy,Uy);bt[e]=new Kt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Fy,Uy);bt[e]=new Kt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){bt[t]=new Kt(t,1,!1,t.toLowerCase(),null,!1,!1)});bt.xlinkHref=new Kt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){bt[t]=new Kt(t,1,!1,t.toLowerCase(),null,!0,!0)});function jy(t,e,n,r){var i=bt.hasOwnProperty(e)?bt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(L4(e,n,i,r)&&(n=null),r||i===null?O4(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Wr=D4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Tc=Symbol.for("react.element"),co=Symbol.for("react.portal"),ho=Symbol.for("react.fragment"),By=Symbol.for("react.strict_mode"),Am=Symbol.for("react.profiler"),uT=Symbol.for("react.provider"),cT=Symbol.for("react.context"),zy=Symbol.for("react.forward_ref"),Pm=Symbol.for("react.suspense"),Rm=Symbol.for("react.suspense_list"),$y=Symbol.for("react.memo"),ai=Symbol.for("react.lazy"),hT=Symbol.for("react.offscreen"),O1=Symbol.iterator;function Ba(t){return t===null||typeof t!="object"?null:(t=O1&&t[O1]||t["@@iterator"],typeof t=="function"?t:null)}var $e=Object.assign,gp;function sl(t){if(gp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);gp=e&&e[1]||""}return`
`+gp+t}var yp=!1;function vp(t,e){if(!t||yp)return"";yp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{yp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?sl(t):""}function V4(t){switch(t.tag){case 5:return sl(t.type);case 16:return sl("Lazy");case 13:return sl("Suspense");case 19:return sl("SuspenseList");case 0:case 2:case 15:return t=vp(t.type,!1),t;case 11:return t=vp(t.type.render,!1),t;case 1:return t=vp(t.type,!0),t;default:return""}}function Dm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ho:return"Fragment";case co:return"Portal";case Am:return"Profiler";case By:return"StrictMode";case Pm:return"Suspense";case Rm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case cT:return(t.displayName||"Context")+".Consumer";case uT:return(t._context.displayName||"Context")+".Provider";case zy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $y:return e=t.displayName||null,e!==null?e:Dm(t.type)||"Memo";case ai:e=t._payload,t=t._init;try{return Dm(t(e))}catch{}}return null}function F4(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Dm(e);case 8:return e===By?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Fi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function dT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function U4(t){var e=dT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Sc(t){t._valueTracker||(t._valueTracker=U4(t))}function fT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=dT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Kh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Nm(t,e){var n=e.checked;return $e({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function M1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Fi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function pT(t,e){e=e.checked,e!=null&&jy(t,"checked",e,!1)}function Om(t,e){pT(t,e);var n=Fi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Mm(t,e.type,n):e.hasOwnProperty("defaultValue")&&Mm(t,e.type,Fi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function L1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Mm(t,e,n){(e!=="number"||Kh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ol=Array.isArray;function Ro(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Fi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Lm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return $e({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function V1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(ol(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Fi(n)}}function mT(t,e){var n=Fi(e.value),r=Fi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function F1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function gT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?gT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var kc,yT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(kc=kc||document.createElement("div"),kc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=kc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Kl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var El={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},j4=["Webkit","ms","Moz","O"];Object.keys(El).forEach(function(t){j4.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),El[e]=El[t]})});function vT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||El.hasOwnProperty(t)&&El[t]?(""+e).trim():e+"px"}function _T(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=vT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var B4=$e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fm(t,e){if(e){if(B4[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function Um(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jm=null;function Hy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Bm=null,Do=null,No=null;function U1(t){if(t=Fu(t)){if(typeof Bm!="function")throw Error(B(280));var e=t.stateNode;e&&(e=rf(e),Bm(t.stateNode,t.type,e))}}function wT(t){Do?No?No.push(t):No=[t]:Do=t}function ET(){if(Do){var t=Do,e=No;if(No=Do=null,U1(t),e)for(t=0;t<e.length;t++)U1(e[t])}}function xT(t,e){return t(e)}function bT(){}var _p=!1;function TT(t,e,n){if(_p)return t(e,n);_p=!0;try{return xT(t,e,n)}finally{_p=!1,(Do!==null||No!==null)&&(bT(),ET())}}function Gl(t,e){var n=t.stateNode;if(n===null)return null;var r=rf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var zm=!1;if(Mr)try{var za={};Object.defineProperty(za,"passive",{get:function(){zm=!0}}),window.addEventListener("test",za,za),window.removeEventListener("test",za,za)}catch{zm=!1}function z4(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var xl=!1,Gh=null,Qh=!1,$m=null,$4={onError:function(t){xl=!0,Gh=t}};function H4(t,e,n,r,i,s,o,a,l){xl=!1,Gh=null,z4.apply($4,arguments)}function W4(t,e,n,r,i,s,o,a,l){if(H4.apply(this,arguments),xl){if(xl){var u=Gh;xl=!1,Gh=null}else throw Error(B(198));Qh||(Qh=!0,$m=u)}}function $s(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function ST(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function j1(t){if($s(t)!==t)throw Error(B(188))}function q4(t){var e=t.alternate;if(!e){if(e=$s(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return j1(i),t;if(s===r)return j1(i),e;s=s.sibling}throw Error(B(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function kT(t){return t=q4(t),t!==null?IT(t):null}function IT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=IT(t);if(e!==null)return e;t=t.sibling}return null}var CT=pn.unstable_scheduleCallback,B1=pn.unstable_cancelCallback,K4=pn.unstable_shouldYield,G4=pn.unstable_requestPaint,Xe=pn.unstable_now,Q4=pn.unstable_getCurrentPriorityLevel,Wy=pn.unstable_ImmediatePriority,AT=pn.unstable_UserBlockingPriority,Yh=pn.unstable_NormalPriority,Y4=pn.unstable_LowPriority,PT=pn.unstable_IdlePriority,Zd=null,rr=null;function X4(t){if(rr&&typeof rr.onCommitFiberRoot=="function")try{rr.onCommitFiberRoot(Zd,t,void 0,(t.current.flags&128)===128)}catch{}}var zn=Math.clz32?Math.clz32:eD,J4=Math.log,Z4=Math.LN2;function eD(t){return t>>>=0,t===0?32:31-(J4(t)/Z4|0)|0}var Ic=64,Cc=4194304;function al(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Xh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=al(a):(s&=o,s!==0&&(r=al(s)))}else o=n&~i,o!==0?r=al(o):s!==0&&(r=al(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-zn(e),i=1<<n,r|=t[n],e&=~i;return r}function tD(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nD(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-zn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=tD(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Hm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function RT(){var t=Ic;return Ic<<=1,!(Ic&4194240)&&(Ic=64),t}function wp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Lu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-zn(e),t[e]=n}function rD(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-zn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function qy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-zn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Te=0;function DT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var NT,Ky,OT,MT,LT,Wm=!1,Ac=[],Ei=null,xi=null,bi=null,Ql=new Map,Yl=new Map,ui=[],iD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function z1(t,e){switch(t){case"focusin":case"focusout":Ei=null;break;case"dragenter":case"dragleave":xi=null;break;case"mouseover":case"mouseout":bi=null;break;case"pointerover":case"pointerout":Ql.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yl.delete(e.pointerId)}}function $a(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Fu(e),e!==null&&Ky(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function sD(t,e,n,r,i){switch(e){case"focusin":return Ei=$a(Ei,t,e,n,r,i),!0;case"dragenter":return xi=$a(xi,t,e,n,r,i),!0;case"mouseover":return bi=$a(bi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ql.set(s,$a(Ql.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Yl.set(s,$a(Yl.get(s)||null,t,e,n,r,i)),!0}return!1}function VT(t){var e=fs(t.target);if(e!==null){var n=$s(e);if(n!==null){if(e=n.tag,e===13){if(e=ST(n),e!==null){t.blockedOn=e,LT(t.priority,function(){OT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function mh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=qm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);jm=r,n.target.dispatchEvent(r),jm=null}else return e=Fu(n),e!==null&&Ky(e),t.blockedOn=n,!1;e.shift()}return!0}function $1(t,e,n){mh(t)&&n.delete(e)}function oD(){Wm=!1,Ei!==null&&mh(Ei)&&(Ei=null),xi!==null&&mh(xi)&&(xi=null),bi!==null&&mh(bi)&&(bi=null),Ql.forEach($1),Yl.forEach($1)}function Ha(t,e){t.blockedOn===e&&(t.blockedOn=null,Wm||(Wm=!0,pn.unstable_scheduleCallback(pn.unstable_NormalPriority,oD)))}function Xl(t){function e(i){return Ha(i,t)}if(0<Ac.length){Ha(Ac[0],t);for(var n=1;n<Ac.length;n++){var r=Ac[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ei!==null&&Ha(Ei,t),xi!==null&&Ha(xi,t),bi!==null&&Ha(bi,t),Ql.forEach(e),Yl.forEach(e),n=0;n<ui.length;n++)r=ui[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ui.length&&(n=ui[0],n.blockedOn===null);)VT(n),n.blockedOn===null&&ui.shift()}var Oo=Wr.ReactCurrentBatchConfig,Jh=!0;function aD(t,e,n,r){var i=Te,s=Oo.transition;Oo.transition=null;try{Te=1,Gy(t,e,n,r)}finally{Te=i,Oo.transition=s}}function lD(t,e,n,r){var i=Te,s=Oo.transition;Oo.transition=null;try{Te=4,Gy(t,e,n,r)}finally{Te=i,Oo.transition=s}}function Gy(t,e,n,r){if(Jh){var i=qm(t,e,n,r);if(i===null)Pp(t,e,r,Zh,n),z1(t,r);else if(sD(i,t,e,n,r))r.stopPropagation();else if(z1(t,r),e&4&&-1<iD.indexOf(t)){for(;i!==null;){var s=Fu(i);if(s!==null&&NT(s),s=qm(t,e,n,r),s===null&&Pp(t,e,r,Zh,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Pp(t,e,r,null,n)}}var Zh=null;function qm(t,e,n,r){if(Zh=null,t=Hy(r),t=fs(t),t!==null)if(e=$s(t),e===null)t=null;else if(n=e.tag,n===13){if(t=ST(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Zh=t,null}function FT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Q4()){case Wy:return 1;case AT:return 4;case Yh:case Y4:return 16;case PT:return 536870912;default:return 16}default:return 16}}var gi=null,Qy=null,gh=null;function UT(){if(gh)return gh;var t,e=Qy,n=e.length,r,i="value"in gi?gi.value:gi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return gh=i.slice(t,1<r?1-r:void 0)}function yh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Pc(){return!0}function H1(){return!1}function gn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Pc:H1,this.isPropagationStopped=H1,this}return $e(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Pc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Pc)},persist:function(){},isPersistent:Pc}),e}var da={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yy=gn(da),Vu=$e({},da,{view:0,detail:0}),uD=gn(Vu),Ep,xp,Wa,ef=$e({},Vu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Wa&&(Wa&&t.type==="mousemove"?(Ep=t.screenX-Wa.screenX,xp=t.screenY-Wa.screenY):xp=Ep=0,Wa=t),Ep)},movementY:function(t){return"movementY"in t?t.movementY:xp}}),W1=gn(ef),cD=$e({},ef,{dataTransfer:0}),hD=gn(cD),dD=$e({},Vu,{relatedTarget:0}),bp=gn(dD),fD=$e({},da,{animationName:0,elapsedTime:0,pseudoElement:0}),pD=gn(fD),mD=$e({},da,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),gD=gn(mD),yD=$e({},da,{data:0}),q1=gn(yD),vD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_D={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ED(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=wD[t])?!!e[t]:!1}function Xy(){return ED}var xD=$e({},Vu,{key:function(t){if(t.key){var e=vD[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=yh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_D[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xy,charCode:function(t){return t.type==="keypress"?yh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?yh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),bD=gn(xD),TD=$e({},ef,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),K1=gn(TD),SD=$e({},Vu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xy}),kD=gn(SD),ID=$e({},da,{propertyName:0,elapsedTime:0,pseudoElement:0}),CD=gn(ID),AD=$e({},ef,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),PD=gn(AD),RD=[9,13,27,32],Jy=Mr&&"CompositionEvent"in window,bl=null;Mr&&"documentMode"in document&&(bl=document.documentMode);var DD=Mr&&"TextEvent"in window&&!bl,jT=Mr&&(!Jy||bl&&8<bl&&11>=bl),G1=" ",Q1=!1;function BT(t,e){switch(t){case"keyup":return RD.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var fo=!1;function ND(t,e){switch(t){case"compositionend":return zT(e);case"keypress":return e.which!==32?null:(Q1=!0,G1);case"textInput":return t=e.data,t===G1&&Q1?null:t;default:return null}}function OD(t,e){if(fo)return t==="compositionend"||!Jy&&BT(t,e)?(t=UT(),gh=Qy=gi=null,fo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return jT&&e.locale!=="ko"?null:e.data;default:return null}}var MD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Y1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!MD[t.type]:e==="textarea"}function $T(t,e,n,r){wT(r),e=ed(e,"onChange"),0<e.length&&(n=new Yy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Tl=null,Jl=null;function LD(t){eS(t,0)}function tf(t){var e=go(t);if(fT(e))return t}function VD(t,e){if(t==="change")return e}var HT=!1;if(Mr){var Tp;if(Mr){var Sp="oninput"in document;if(!Sp){var X1=document.createElement("div");X1.setAttribute("oninput","return;"),Sp=typeof X1.oninput=="function"}Tp=Sp}else Tp=!1;HT=Tp&&(!document.documentMode||9<document.documentMode)}function J1(){Tl&&(Tl.detachEvent("onpropertychange",WT),Jl=Tl=null)}function WT(t){if(t.propertyName==="value"&&tf(Jl)){var e=[];$T(e,Jl,t,Hy(t)),TT(LD,e)}}function FD(t,e,n){t==="focusin"?(J1(),Tl=e,Jl=n,Tl.attachEvent("onpropertychange",WT)):t==="focusout"&&J1()}function UD(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return tf(Jl)}function jD(t,e){if(t==="click")return tf(e)}function BD(t,e){if(t==="input"||t==="change")return tf(e)}function zD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Wn=typeof Object.is=="function"?Object.is:zD;function Zl(t,e){if(Wn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Cm.call(e,i)||!Wn(t[i],e[i]))return!1}return!0}function Z1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ew(t,e){var n=Z1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Z1(n)}}function qT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?qT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function KT(){for(var t=window,e=Kh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Kh(t.document)}return e}function Zy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function $D(t){var e=KT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&qT(n.ownerDocument.documentElement,n)){if(r!==null&&Zy(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=ew(n,s);var o=ew(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var HD=Mr&&"documentMode"in document&&11>=document.documentMode,po=null,Km=null,Sl=null,Gm=!1;function tw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Gm||po==null||po!==Kh(r)||(r=po,"selectionStart"in r&&Zy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Sl&&Zl(Sl,r)||(Sl=r,r=ed(Km,"onSelect"),0<r.length&&(e=new Yy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=po)))}function Rc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var mo={animationend:Rc("Animation","AnimationEnd"),animationiteration:Rc("Animation","AnimationIteration"),animationstart:Rc("Animation","AnimationStart"),transitionend:Rc("Transition","TransitionEnd")},kp={},GT={};Mr&&(GT=document.createElement("div").style,"AnimationEvent"in window||(delete mo.animationend.animation,delete mo.animationiteration.animation,delete mo.animationstart.animation),"TransitionEvent"in window||delete mo.transitionend.transition);function nf(t){if(kp[t])return kp[t];if(!mo[t])return t;var e=mo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in GT)return kp[t]=e[n];return t}var QT=nf("animationend"),YT=nf("animationiteration"),XT=nf("animationstart"),JT=nf("transitionend"),ZT=new Map,nw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qi(t,e){ZT.set(t,e),zs(e,[t])}for(var Ip=0;Ip<nw.length;Ip++){var Cp=nw[Ip],WD=Cp.toLowerCase(),qD=Cp[0].toUpperCase()+Cp.slice(1);qi(WD,"on"+qD)}qi(QT,"onAnimationEnd");qi(YT,"onAnimationIteration");qi(XT,"onAnimationStart");qi("dblclick","onDoubleClick");qi("focusin","onFocus");qi("focusout","onBlur");qi(JT,"onTransitionEnd");Ho("onMouseEnter",["mouseout","mouseover"]);Ho("onMouseLeave",["mouseout","mouseover"]);Ho("onPointerEnter",["pointerout","pointerover"]);Ho("onPointerLeave",["pointerout","pointerover"]);zs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zs("onBeforeInput",["compositionend","keypress","textInput","paste"]);zs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KD=new Set("cancel close invalid load scroll toggle".split(" ").concat(ll));function rw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,W4(r,e,void 0,t),t.currentTarget=null}function eS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;rw(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;rw(i,a,u),s=l}}}if(Qh)throw t=$m,Qh=!1,$m=null,t}function Ne(t,e){var n=e[Zm];n===void 0&&(n=e[Zm]=new Set);var r=t+"__bubble";n.has(r)||(tS(e,t,2,!1),n.add(r))}function Ap(t,e,n){var r=0;e&&(r|=4),tS(n,t,r,e)}var Dc="_reactListening"+Math.random().toString(36).slice(2);function eu(t){if(!t[Dc]){t[Dc]=!0,lT.forEach(function(n){n!=="selectionchange"&&(KD.has(n)||Ap(n,!1,t),Ap(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Dc]||(e[Dc]=!0,Ap("selectionchange",!1,e))}}function tS(t,e,n,r){switch(FT(e)){case 1:var i=aD;break;case 4:i=lD;break;default:i=Gy}n=i.bind(null,e,n,t),i=void 0,!zm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Pp(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=fs(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}TT(function(){var u=s,c=Hy(n),d=[];e:{var f=ZT.get(t);if(f!==void 0){var m=Yy,y=t;switch(t){case"keypress":if(yh(n)===0)break e;case"keydown":case"keyup":m=bD;break;case"focusin":y="focus",m=bp;break;case"focusout":y="blur",m=bp;break;case"beforeblur":case"afterblur":m=bp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=W1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=hD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=kD;break;case QT:case YT:case XT:m=pD;break;case JT:m=CD;break;case"scroll":m=uD;break;case"wheel":m=PD;break;case"copy":case"cut":case"paste":m=gD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=K1}var _=(e&4)!==0,E=!_&&t==="scroll",w=_?f!==null?f+"Capture":null:f;_=[];for(var b=u,T;b!==null;){T=b;var R=T.stateNode;if(T.tag===5&&R!==null&&(T=R,w!==null&&(R=Gl(b,w),R!=null&&_.push(tu(b,R,T)))),E)break;b=b.return}0<_.length&&(f=new m(f,y,null,n,c),d.push({event:f,listeners:_}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==jm&&(y=n.relatedTarget||n.fromElement)&&(fs(y)||y[Lr]))break e;if((m||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=u,y=y?fs(y):null,y!==null&&(E=$s(y),y!==E||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(_=W1,R="onMouseLeave",w="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(_=K1,R="onPointerLeave",w="onPointerEnter",b="pointer"),E=m==null?f:go(m),T=y==null?f:go(y),f=new _(R,b+"leave",m,n,c),f.target=E,f.relatedTarget=T,R=null,fs(c)===u&&(_=new _(w,b+"enter",y,n,c),_.target=T,_.relatedTarget=E,R=_),E=R,m&&y)t:{for(_=m,w=y,b=0,T=_;T;T=ro(T))b++;for(T=0,R=w;R;R=ro(R))T++;for(;0<b-T;)_=ro(_),b--;for(;0<T-b;)w=ro(w),T--;for(;b--;){if(_===w||w!==null&&_===w.alternate)break t;_=ro(_),w=ro(w)}_=null}else _=null;m!==null&&iw(d,f,m,_,!1),y!==null&&E!==null&&iw(d,E,y,_,!0)}}e:{if(f=u?go(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var D=VD;else if(Y1(f))if(HT)D=BD;else{D=UD;var M=FD}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(D=jD);if(D&&(D=D(t,u))){$T(d,D,n,c);break e}M&&M(t,f,u),t==="focusout"&&(M=f._wrapperState)&&M.controlled&&f.type==="number"&&Mm(f,"number",f.value)}switch(M=u?go(u):window,t){case"focusin":(Y1(M)||M.contentEditable==="true")&&(po=M,Km=u,Sl=null);break;case"focusout":Sl=Km=po=null;break;case"mousedown":Gm=!0;break;case"contextmenu":case"mouseup":case"dragend":Gm=!1,tw(d,n,c);break;case"selectionchange":if(HD)break;case"keydown":case"keyup":tw(d,n,c)}var S;if(Jy)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else fo?BT(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(jT&&n.locale!=="ko"&&(fo||x!=="onCompositionStart"?x==="onCompositionEnd"&&fo&&(S=UT()):(gi=c,Qy="value"in gi?gi.value:gi.textContent,fo=!0)),M=ed(u,x),0<M.length&&(x=new q1(x,t,null,n,c),d.push({event:x,listeners:M}),S?x.data=S:(S=zT(n),S!==null&&(x.data=S)))),(S=DD?ND(t,n):OD(t,n))&&(u=ed(u,"onBeforeInput"),0<u.length&&(c=new q1("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=S))}eS(d,e)})}function tu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ed(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Gl(t,n),s!=null&&r.unshift(tu(t,s,i)),s=Gl(t,e),s!=null&&r.push(tu(t,s,i))),t=t.return}return r}function ro(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function iw(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Gl(n,s),l!=null&&o.unshift(tu(n,l,a))):i||(l=Gl(n,s),l!=null&&o.push(tu(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var GD=/\r\n?/g,QD=/\u0000|\uFFFD/g;function sw(t){return(typeof t=="string"?t:""+t).replace(GD,`
`).replace(QD,"")}function Nc(t,e,n){if(e=sw(e),sw(t)!==e&&n)throw Error(B(425))}function td(){}var Qm=null,Ym=null;function Xm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Jm=typeof setTimeout=="function"?setTimeout:void 0,YD=typeof clearTimeout=="function"?clearTimeout:void 0,ow=typeof Promise=="function"?Promise:void 0,XD=typeof queueMicrotask=="function"?queueMicrotask:typeof ow<"u"?function(t){return ow.resolve(null).then(t).catch(JD)}:Jm;function JD(t){setTimeout(function(){throw t})}function Rp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Xl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Xl(e)}function Ti(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function aw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var fa=Math.random().toString(36).slice(2),nr="__reactFiber$"+fa,nu="__reactProps$"+fa,Lr="__reactContainer$"+fa,Zm="__reactEvents$"+fa,ZD="__reactListeners$"+fa,eN="__reactHandles$"+fa;function fs(t){var e=t[nr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Lr]||n[nr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=aw(t);t!==null;){if(n=t[nr])return n;t=aw(t)}return e}t=n,n=t.parentNode}return null}function Fu(t){return t=t[nr]||t[Lr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function go(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function rf(t){return t[nu]||null}var eg=[],yo=-1;function Ki(t){return{current:t}}function Le(t){0>yo||(t.current=eg[yo],eg[yo]=null,yo--)}function Ce(t,e){yo++,eg[yo]=t.current,t.current=e}var Ui={},Ft=Ki(Ui),nn=Ki(!1),Ps=Ui;function Wo(t,e){var n=t.type.contextTypes;if(!n)return Ui;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function rn(t){return t=t.childContextTypes,t!=null}function nd(){Le(nn),Le(Ft)}function lw(t,e,n){if(Ft.current!==Ui)throw Error(B(168));Ce(Ft,e),Ce(nn,n)}function nS(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(B(108,F4(t)||"Unknown",i));return $e({},n,r)}function rd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ui,Ps=Ft.current,Ce(Ft,t),Ce(nn,nn.current),!0}function uw(t,e,n){var r=t.stateNode;if(!r)throw Error(B(169));n?(t=nS(t,e,Ps),r.__reactInternalMemoizedMergedChildContext=t,Le(nn),Le(Ft),Ce(Ft,t)):Le(nn),Ce(nn,n)}var kr=null,sf=!1,Dp=!1;function rS(t){kr===null?kr=[t]:kr.push(t)}function tN(t){sf=!0,rS(t)}function Gi(){if(!Dp&&kr!==null){Dp=!0;var t=0,e=Te;try{var n=kr;for(Te=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}kr=null,sf=!1}catch(i){throw kr!==null&&(kr=kr.slice(t+1)),CT(Wy,Gi),i}finally{Te=e,Dp=!1}}return null}var vo=[],_o=0,id=null,sd=0,En=[],xn=0,Rs=null,Cr=1,Ar="";function as(t,e){vo[_o++]=sd,vo[_o++]=id,id=t,sd=e}function iS(t,e,n){En[xn++]=Cr,En[xn++]=Ar,En[xn++]=Rs,Rs=t;var r=Cr;t=Ar;var i=32-zn(r)-1;r&=~(1<<i),n+=1;var s=32-zn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Cr=1<<32-zn(e)+i|n<<i|r,Ar=s+t}else Cr=1<<s|n<<i|r,Ar=t}function e0(t){t.return!==null&&(as(t,1),iS(t,1,0))}function t0(t){for(;t===id;)id=vo[--_o],vo[_o]=null,sd=vo[--_o],vo[_o]=null;for(;t===Rs;)Rs=En[--xn],En[xn]=null,Ar=En[--xn],En[xn]=null,Cr=En[--xn],En[xn]=null}var fn=null,hn=null,Ve=!1,Un=null;function sS(t,e){var n=bn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function cw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,fn=t,hn=Ti(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,fn=t,hn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Rs!==null?{id:Cr,overflow:Ar}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=bn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,fn=t,hn=null,!0):!1;default:return!1}}function tg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ng(t){if(Ve){var e=hn;if(e){var n=e;if(!cw(t,e)){if(tg(t))throw Error(B(418));e=Ti(n.nextSibling);var r=fn;e&&cw(t,e)?sS(r,n):(t.flags=t.flags&-4097|2,Ve=!1,fn=t)}}else{if(tg(t))throw Error(B(418));t.flags=t.flags&-4097|2,Ve=!1,fn=t}}}function hw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;fn=t}function Oc(t){if(t!==fn)return!1;if(!Ve)return hw(t),Ve=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Xm(t.type,t.memoizedProps)),e&&(e=hn)){if(tg(t))throw oS(),Error(B(418));for(;e;)sS(t,e),e=Ti(e.nextSibling)}if(hw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){hn=Ti(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}hn=null}}else hn=fn?Ti(t.stateNode.nextSibling):null;return!0}function oS(){for(var t=hn;t;)t=Ti(t.nextSibling)}function qo(){hn=fn=null,Ve=!1}function n0(t){Un===null?Un=[t]:Un.push(t)}var nN=Wr.ReactCurrentBatchConfig;function qa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function Mc(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function dw(t){var e=t._init;return e(t._payload)}function aS(t){function e(w,b){if(t){var T=w.deletions;T===null?(w.deletions=[b],w.flags|=16):T.push(b)}}function n(w,b){if(!t)return null;for(;b!==null;)e(w,b),b=b.sibling;return null}function r(w,b){for(w=new Map;b!==null;)b.key!==null?w.set(b.key,b):w.set(b.index,b),b=b.sibling;return w}function i(w,b){return w=Ci(w,b),w.index=0,w.sibling=null,w}function s(w,b,T){return w.index=T,t?(T=w.alternate,T!==null?(T=T.index,T<b?(w.flags|=2,b):T):(w.flags|=2,b)):(w.flags|=1048576,b)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,b,T,R){return b===null||b.tag!==6?(b=Up(T,w.mode,R),b.return=w,b):(b=i(b,T),b.return=w,b)}function l(w,b,T,R){var D=T.type;return D===ho?c(w,b,T.props.children,R,T.key):b!==null&&(b.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===ai&&dw(D)===b.type)?(R=i(b,T.props),R.ref=qa(w,b,T),R.return=w,R):(R=Th(T.type,T.key,T.props,null,w.mode,R),R.ref=qa(w,b,T),R.return=w,R)}function u(w,b,T,R){return b===null||b.tag!==4||b.stateNode.containerInfo!==T.containerInfo||b.stateNode.implementation!==T.implementation?(b=jp(T,w.mode,R),b.return=w,b):(b=i(b,T.children||[]),b.return=w,b)}function c(w,b,T,R,D){return b===null||b.tag!==7?(b=Ts(T,w.mode,R,D),b.return=w,b):(b=i(b,T),b.return=w,b)}function d(w,b,T){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Up(""+b,w.mode,T),b.return=w,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Tc:return T=Th(b.type,b.key,b.props,null,w.mode,T),T.ref=qa(w,null,b),T.return=w,T;case co:return b=jp(b,w.mode,T),b.return=w,b;case ai:var R=b._init;return d(w,R(b._payload),T)}if(ol(b)||Ba(b))return b=Ts(b,w.mode,T,null),b.return=w,b;Mc(w,b)}return null}function f(w,b,T,R){var D=b!==null?b.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return D!==null?null:a(w,b,""+T,R);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Tc:return T.key===D?l(w,b,T,R):null;case co:return T.key===D?u(w,b,T,R):null;case ai:return D=T._init,f(w,b,D(T._payload),R)}if(ol(T)||Ba(T))return D!==null?null:c(w,b,T,R,null);Mc(w,T)}return null}function m(w,b,T,R,D){if(typeof R=="string"&&R!==""||typeof R=="number")return w=w.get(T)||null,a(b,w,""+R,D);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Tc:return w=w.get(R.key===null?T:R.key)||null,l(b,w,R,D);case co:return w=w.get(R.key===null?T:R.key)||null,u(b,w,R,D);case ai:var M=R._init;return m(w,b,T,M(R._payload),D)}if(ol(R)||Ba(R))return w=w.get(T)||null,c(b,w,R,D,null);Mc(b,R)}return null}function y(w,b,T,R){for(var D=null,M=null,S=b,x=b=0,I=null;S!==null&&x<T.length;x++){S.index>x?(I=S,S=null):I=S.sibling;var C=f(w,S,T[x],R);if(C===null){S===null&&(S=I);break}t&&S&&C.alternate===null&&e(w,S),b=s(C,b,x),M===null?D=C:M.sibling=C,M=C,S=I}if(x===T.length)return n(w,S),Ve&&as(w,x),D;if(S===null){for(;x<T.length;x++)S=d(w,T[x],R),S!==null&&(b=s(S,b,x),M===null?D=S:M.sibling=S,M=S);return Ve&&as(w,x),D}for(S=r(w,S);x<T.length;x++)I=m(S,w,x,T[x],R),I!==null&&(t&&I.alternate!==null&&S.delete(I.key===null?x:I.key),b=s(I,b,x),M===null?D=I:M.sibling=I,M=I);return t&&S.forEach(function(A){return e(w,A)}),Ve&&as(w,x),D}function _(w,b,T,R){var D=Ba(T);if(typeof D!="function")throw Error(B(150));if(T=D.call(T),T==null)throw Error(B(151));for(var M=D=null,S=b,x=b=0,I=null,C=T.next();S!==null&&!C.done;x++,C=T.next()){S.index>x?(I=S,S=null):I=S.sibling;var A=f(w,S,C.value,R);if(A===null){S===null&&(S=I);break}t&&S&&A.alternate===null&&e(w,S),b=s(A,b,x),M===null?D=A:M.sibling=A,M=A,S=I}if(C.done)return n(w,S),Ve&&as(w,x),D;if(S===null){for(;!C.done;x++,C=T.next())C=d(w,C.value,R),C!==null&&(b=s(C,b,x),M===null?D=C:M.sibling=C,M=C);return Ve&&as(w,x),D}for(S=r(w,S);!C.done;x++,C=T.next())C=m(S,w,x,C.value,R),C!==null&&(t&&C.alternate!==null&&S.delete(C.key===null?x:C.key),b=s(C,b,x),M===null?D=C:M.sibling=C,M=C);return t&&S.forEach(function(N){return e(w,N)}),Ve&&as(w,x),D}function E(w,b,T,R){if(typeof T=="object"&&T!==null&&T.type===ho&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Tc:e:{for(var D=T.key,M=b;M!==null;){if(M.key===D){if(D=T.type,D===ho){if(M.tag===7){n(w,M.sibling),b=i(M,T.props.children),b.return=w,w=b;break e}}else if(M.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===ai&&dw(D)===M.type){n(w,M.sibling),b=i(M,T.props),b.ref=qa(w,M,T),b.return=w,w=b;break e}n(w,M);break}else e(w,M);M=M.sibling}T.type===ho?(b=Ts(T.props.children,w.mode,R,T.key),b.return=w,w=b):(R=Th(T.type,T.key,T.props,null,w.mode,R),R.ref=qa(w,b,T),R.return=w,w=R)}return o(w);case co:e:{for(M=T.key;b!==null;){if(b.key===M)if(b.tag===4&&b.stateNode.containerInfo===T.containerInfo&&b.stateNode.implementation===T.implementation){n(w,b.sibling),b=i(b,T.children||[]),b.return=w,w=b;break e}else{n(w,b);break}else e(w,b);b=b.sibling}b=jp(T,w.mode,R),b.return=w,w=b}return o(w);case ai:return M=T._init,E(w,b,M(T._payload),R)}if(ol(T))return y(w,b,T,R);if(Ba(T))return _(w,b,T,R);Mc(w,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,b!==null&&b.tag===6?(n(w,b.sibling),b=i(b,T),b.return=w,w=b):(n(w,b),b=Up(T,w.mode,R),b.return=w,w=b),o(w)):n(w,b)}return E}var Ko=aS(!0),lS=aS(!1),od=Ki(null),ad=null,wo=null,r0=null;function i0(){r0=wo=ad=null}function s0(t){var e=od.current;Le(od),t._currentValue=e}function rg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Mo(t,e){ad=t,r0=wo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(en=!0),t.firstContext=null)}function Cn(t){var e=t._currentValue;if(r0!==t)if(t={context:t,memoizedValue:e,next:null},wo===null){if(ad===null)throw Error(B(308));wo=t,ad.dependencies={lanes:0,firstContext:t}}else wo=wo.next=t;return e}var ps=null;function o0(t){ps===null?ps=[t]:ps.push(t)}function uS(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,o0(e)):(n.next=i.next,i.next=n),e.interleaved=n,Vr(t,r)}function Vr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var li=!1;function a0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Or(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Si(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ge&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Vr(t,n)}return i=r.interleaved,i===null?(e.next=e,o0(r)):(e.next=i.next,i.next=e),r.interleaved=e,Vr(t,n)}function vh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,qy(t,n)}}function fw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ld(t,e,n,r){var i=t.updateQueue;li=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var f=a.lane,m=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,_=a;switch(f=e,m=n,_.tag){case 1:if(y=_.payload,typeof y=="function"){d=y.call(m,d,f);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=_.payload,f=typeof y=="function"?y.call(m,d,f):y,f==null)break e;d=$e({},d,f);break e;case 2:li=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=m,l=d):c=c.next=m,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ns|=o,t.lanes=o,t.memoizedState=d}}function pw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(B(191,i));i.call(r)}}}var Uu={},ir=Ki(Uu),ru=Ki(Uu),iu=Ki(Uu);function ms(t){if(t===Uu)throw Error(B(174));return t}function l0(t,e){switch(Ce(iu,e),Ce(ru,t),Ce(ir,Uu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Vm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Vm(e,t)}Le(ir),Ce(ir,e)}function Go(){Le(ir),Le(ru),Le(iu)}function hS(t){ms(iu.current);var e=ms(ir.current),n=Vm(e,t.type);e!==n&&(Ce(ru,t),Ce(ir,n))}function u0(t){ru.current===t&&(Le(ir),Le(ru))}var Ue=Ki(0);function ud(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Np=[];function c0(){for(var t=0;t<Np.length;t++)Np[t]._workInProgressVersionPrimary=null;Np.length=0}var _h=Wr.ReactCurrentDispatcher,Op=Wr.ReactCurrentBatchConfig,Ds=0,Be=null,st=null,ht=null,cd=!1,kl=!1,su=0,rN=0;function At(){throw Error(B(321))}function h0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Wn(t[n],e[n]))return!1;return!0}function d0(t,e,n,r,i,s){if(Ds=s,Be=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,_h.current=t===null||t.memoizedState===null?aN:lN,t=n(r,i),kl){s=0;do{if(kl=!1,su=0,25<=s)throw Error(B(301));s+=1,ht=st=null,e.updateQueue=null,_h.current=uN,t=n(r,i)}while(kl)}if(_h.current=hd,e=st!==null&&st.next!==null,Ds=0,ht=st=Be=null,cd=!1,e)throw Error(B(300));return t}function f0(){var t=su!==0;return su=0,t}function Zn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ht===null?Be.memoizedState=ht=t:ht=ht.next=t,ht}function An(){if(st===null){var t=Be.alternate;t=t!==null?t.memoizedState:null}else t=st.next;var e=ht===null?Be.memoizedState:ht.next;if(e!==null)ht=e,st=t;else{if(t===null)throw Error(B(310));st=t,t={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},ht===null?Be.memoizedState=ht=t:ht=ht.next=t}return ht}function ou(t,e){return typeof e=="function"?e(t):e}function Mp(t){var e=An(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=st,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Ds&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Be.lanes|=c,Ns|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Wn(r,e.memoizedState)||(en=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Be.lanes|=s,Ns|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Lp(t){var e=An(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Wn(s,e.memoizedState)||(en=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function dS(){}function fS(t,e){var n=Be,r=An(),i=e(),s=!Wn(r.memoizedState,i);if(s&&(r.memoizedState=i,en=!0),r=r.queue,p0(gS.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ht!==null&&ht.memoizedState.tag&1){if(n.flags|=2048,au(9,mS.bind(null,n,r,i,e),void 0,null),ft===null)throw Error(B(349));Ds&30||pS(n,e,i)}return i}function pS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Be.updateQueue,e===null?(e={lastEffect:null,stores:null},Be.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function mS(t,e,n,r){e.value=n,e.getSnapshot=r,yS(e)&&vS(t)}function gS(t,e,n){return n(function(){yS(e)&&vS(t)})}function yS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Wn(t,n)}catch{return!0}}function vS(t){var e=Vr(t,1);e!==null&&$n(e,t,1,-1)}function mw(t){var e=Zn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ou,lastRenderedState:t},e.queue=t,t=t.dispatch=oN.bind(null,Be,t),[e.memoizedState,t]}function au(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Be.updateQueue,e===null?(e={lastEffect:null,stores:null},Be.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function _S(){return An().memoizedState}function wh(t,e,n,r){var i=Zn();Be.flags|=t,i.memoizedState=au(1|e,n,void 0,r===void 0?null:r)}function of(t,e,n,r){var i=An();r=r===void 0?null:r;var s=void 0;if(st!==null){var o=st.memoizedState;if(s=o.destroy,r!==null&&h0(r,o.deps)){i.memoizedState=au(e,n,s,r);return}}Be.flags|=t,i.memoizedState=au(1|e,n,s,r)}function gw(t,e){return wh(8390656,8,t,e)}function p0(t,e){return of(2048,8,t,e)}function wS(t,e){return of(4,2,t,e)}function ES(t,e){return of(4,4,t,e)}function xS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function bS(t,e,n){return n=n!=null?n.concat([t]):null,of(4,4,xS.bind(null,e,t),n)}function m0(){}function TS(t,e){var n=An();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&h0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function SS(t,e){var n=An();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&h0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function kS(t,e,n){return Ds&21?(Wn(n,e)||(n=RT(),Be.lanes|=n,Ns|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,en=!0),t.memoizedState=n)}function iN(t,e){var n=Te;Te=n!==0&&4>n?n:4,t(!0);var r=Op.transition;Op.transition={};try{t(!1),e()}finally{Te=n,Op.transition=r}}function IS(){return An().memoizedState}function sN(t,e,n){var r=Ii(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},CS(t))AS(e,n);else if(n=uS(t,e,n,r),n!==null){var i=Wt();$n(n,t,r,i),PS(n,e,r)}}function oN(t,e,n){var r=Ii(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(CS(t))AS(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Wn(a,o)){var l=e.interleaved;l===null?(i.next=i,o0(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=uS(t,e,i,r),n!==null&&(i=Wt(),$n(n,t,r,i),PS(n,e,r))}}function CS(t){var e=t.alternate;return t===Be||e!==null&&e===Be}function AS(t,e){kl=cd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function PS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,qy(t,n)}}var hd={readContext:Cn,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useInsertionEffect:At,useLayoutEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useMutableSource:At,useSyncExternalStore:At,useId:At,unstable_isNewReconciler:!1},aN={readContext:Cn,useCallback:function(t,e){return Zn().memoizedState=[t,e===void 0?null:e],t},useContext:Cn,useEffect:gw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,wh(4194308,4,xS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return wh(4194308,4,t,e)},useInsertionEffect:function(t,e){return wh(4,2,t,e)},useMemo:function(t,e){var n=Zn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Zn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=sN.bind(null,Be,t),[r.memoizedState,t]},useRef:function(t){var e=Zn();return t={current:t},e.memoizedState=t},useState:mw,useDebugValue:m0,useDeferredValue:function(t){return Zn().memoizedState=t},useTransition:function(){var t=mw(!1),e=t[0];return t=iN.bind(null,t[1]),Zn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Be,i=Zn();if(Ve){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),ft===null)throw Error(B(349));Ds&30||pS(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,gw(gS.bind(null,r,s,t),[t]),r.flags|=2048,au(9,mS.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Zn(),e=ft.identifierPrefix;if(Ve){var n=Ar,r=Cr;n=(r&~(1<<32-zn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=su++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=rN++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},lN={readContext:Cn,useCallback:TS,useContext:Cn,useEffect:p0,useImperativeHandle:bS,useInsertionEffect:wS,useLayoutEffect:ES,useMemo:SS,useReducer:Mp,useRef:_S,useState:function(){return Mp(ou)},useDebugValue:m0,useDeferredValue:function(t){var e=An();return kS(e,st.memoizedState,t)},useTransition:function(){var t=Mp(ou)[0],e=An().memoizedState;return[t,e]},useMutableSource:dS,useSyncExternalStore:fS,useId:IS,unstable_isNewReconciler:!1},uN={readContext:Cn,useCallback:TS,useContext:Cn,useEffect:p0,useImperativeHandle:bS,useInsertionEffect:wS,useLayoutEffect:ES,useMemo:SS,useReducer:Lp,useRef:_S,useState:function(){return Lp(ou)},useDebugValue:m0,useDeferredValue:function(t){var e=An();return st===null?e.memoizedState=t:kS(e,st.memoizedState,t)},useTransition:function(){var t=Lp(ou)[0],e=An().memoizedState;return[t,e]},useMutableSource:dS,useSyncExternalStore:fS,useId:IS,unstable_isNewReconciler:!1};function Vn(t,e){if(t&&t.defaultProps){e=$e({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ig(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:$e({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var af={isMounted:function(t){return(t=t._reactInternals)?$s(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Wt(),i=Ii(t),s=Or(r,i);s.payload=e,n!=null&&(s.callback=n),e=Si(t,s,i),e!==null&&($n(e,t,i,r),vh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Wt(),i=Ii(t),s=Or(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Si(t,s,i),e!==null&&($n(e,t,i,r),vh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Wt(),r=Ii(t),i=Or(n,r);i.tag=2,e!=null&&(i.callback=e),e=Si(t,i,r),e!==null&&($n(e,t,r,n),vh(e,t,r))}};function yw(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Zl(n,r)||!Zl(i,s):!0}function RS(t,e,n){var r=!1,i=Ui,s=e.contextType;return typeof s=="object"&&s!==null?s=Cn(s):(i=rn(e)?Ps:Ft.current,r=e.contextTypes,s=(r=r!=null)?Wo(t,i):Ui),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=af,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function vw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&af.enqueueReplaceState(e,e.state,null)}function sg(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},a0(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Cn(s):(s=rn(e)?Ps:Ft.current,i.context=Wo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(ig(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&af.enqueueReplaceState(i,i.state,null),ld(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Qo(t,e){try{var n="",r=e;do n+=V4(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Vp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function og(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var cN=typeof WeakMap=="function"?WeakMap:Map;function DS(t,e,n){n=Or(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){fd||(fd=!0,gg=r),og(t,e)},n}function NS(t,e,n){n=Or(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){og(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){og(t,e),typeof r!="function"&&(ki===null?ki=new Set([this]):ki.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function _w(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new cN;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=TN.bind(null,t,e,n),e.then(t,t))}function ww(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ew(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Or(-1,1),e.tag=2,Si(n,e,1))),n.lanes|=1),t)}var hN=Wr.ReactCurrentOwner,en=!1;function $t(t,e,n,r){e.child=t===null?lS(e,null,n,r):Ko(e,t.child,n,r)}function xw(t,e,n,r,i){n=n.render;var s=e.ref;return Mo(e,i),r=d0(t,e,n,r,s,i),n=f0(),t!==null&&!en?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Fr(t,e,i)):(Ve&&n&&e0(e),e.flags|=1,$t(t,e,r,i),e.child)}function bw(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!b0(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,OS(t,e,s,r,i)):(t=Th(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Zl,n(o,r)&&t.ref===e.ref)return Fr(t,e,i)}return e.flags|=1,t=Ci(s,r),t.ref=e.ref,t.return=e,e.child=t}function OS(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Zl(s,r)&&t.ref===e.ref)if(en=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(en=!0);else return e.lanes=t.lanes,Fr(t,e,i)}return ag(t,e,n,r,i)}function MS(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ce(xo,cn),cn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ce(xo,cn),cn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ce(xo,cn),cn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ce(xo,cn),cn|=r;return $t(t,e,i,n),e.child}function LS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ag(t,e,n,r,i){var s=rn(n)?Ps:Ft.current;return s=Wo(e,s),Mo(e,i),n=d0(t,e,n,r,s,i),r=f0(),t!==null&&!en?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Fr(t,e,i)):(Ve&&r&&e0(e),e.flags|=1,$t(t,e,n,i),e.child)}function Tw(t,e,n,r,i){if(rn(n)){var s=!0;rd(e)}else s=!1;if(Mo(e,i),e.stateNode===null)Eh(t,e),RS(e,n,r),sg(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Cn(u):(u=rn(n)?Ps:Ft.current,u=Wo(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&vw(e,o,r,u),li=!1;var f=e.memoizedState;o.state=f,ld(e,r,o,i),l=e.memoizedState,a!==r||f!==l||nn.current||li?(typeof c=="function"&&(ig(e,n,c,r),l=e.memoizedState),(a=li||yw(e,n,a,r,f,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,cS(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Vn(e.type,a),o.props=u,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Cn(l):(l=rn(n)?Ps:Ft.current,l=Wo(e,l));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&vw(e,o,r,l),li=!1,f=e.memoizedState,o.state=f,ld(e,r,o,i);var y=e.memoizedState;a!==d||f!==y||nn.current||li?(typeof m=="function"&&(ig(e,n,m,r),y=e.memoizedState),(u=li||yw(e,n,u,r,f,y,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return lg(t,e,n,r,s,i)}function lg(t,e,n,r,i,s){LS(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&uw(e,n,!1),Fr(t,e,s);r=e.stateNode,hN.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ko(e,t.child,null,s),e.child=Ko(e,null,a,s)):$t(t,e,a,s),e.memoizedState=r.state,i&&uw(e,n,!0),e.child}function VS(t){var e=t.stateNode;e.pendingContext?lw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&lw(t,e.context,!1),l0(t,e.containerInfo)}function Sw(t,e,n,r,i){return qo(),n0(i),e.flags|=256,$t(t,e,n,r),e.child}var ug={dehydrated:null,treeContext:null,retryLane:0};function cg(t){return{baseLanes:t,cachePool:null,transitions:null}}function FS(t,e,n){var r=e.pendingProps,i=Ue.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ce(Ue,i&1),t===null)return ng(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=cf(o,r,0,null),t=Ts(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=cg(n),e.memoizedState=ug,t):g0(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return dN(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ci(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ci(a,s):(s=Ts(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?cg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=ug,r}return s=t.child,t=s.sibling,r=Ci(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function g0(t,e){return e=cf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Lc(t,e,n,r){return r!==null&&n0(r),Ko(e,t.child,null,n),t=g0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function dN(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Vp(Error(B(422))),Lc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=cf({mode:"visible",children:r.children},i,0,null),s=Ts(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Ko(e,t.child,null,o),e.child.memoizedState=cg(o),e.memoizedState=ug,s);if(!(e.mode&1))return Lc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(B(419)),r=Vp(s,r,void 0),Lc(t,e,o,r)}if(a=(o&t.childLanes)!==0,en||a){if(r=ft,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Vr(t,i),$n(r,t,i,-1))}return x0(),r=Vp(Error(B(421))),Lc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=SN.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,hn=Ti(i.nextSibling),fn=e,Ve=!0,Un=null,t!==null&&(En[xn++]=Cr,En[xn++]=Ar,En[xn++]=Rs,Cr=t.id,Ar=t.overflow,Rs=e),e=g0(e,r.children),e.flags|=4096,e)}function kw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),rg(t.return,e,n)}function Fp(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function US(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if($t(t,e,r.children,n),r=Ue.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&kw(t,n,e);else if(t.tag===19)kw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ce(Ue,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ud(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Fp(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ud(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Fp(e,!0,n,null,s);break;case"together":Fp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Eh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Fr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ns|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=Ci(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ci(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function fN(t,e,n){switch(e.tag){case 3:VS(e),qo();break;case 5:hS(e);break;case 1:rn(e.type)&&rd(e);break;case 4:l0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ce(od,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ce(Ue,Ue.current&1),e.flags|=128,null):n&e.child.childLanes?FS(t,e,n):(Ce(Ue,Ue.current&1),t=Fr(t,e,n),t!==null?t.sibling:null);Ce(Ue,Ue.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return US(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ce(Ue,Ue.current),r)break;return null;case 22:case 23:return e.lanes=0,MS(t,e,n)}return Fr(t,e,n)}var jS,hg,BS,zS;jS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};hg=function(){};BS=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ms(ir.current);var s=null;switch(n){case"input":i=Nm(t,i),r=Nm(t,r),s=[];break;case"select":i=$e({},i,{value:void 0}),r=$e({},r,{value:void 0}),s=[];break;case"textarea":i=Lm(t,i),r=Lm(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=td)}Fm(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ql.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ql.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ne("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};zS=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ka(t,e){if(!Ve)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Pt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function pN(t,e,n){var r=e.pendingProps;switch(t0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(e),null;case 1:return rn(e.type)&&nd(),Pt(e),null;case 3:return r=e.stateNode,Go(),Le(nn),Le(Ft),c0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Oc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Un!==null&&(_g(Un),Un=null))),hg(t,e),Pt(e),null;case 5:u0(e);var i=ms(iu.current);if(n=e.type,t!==null&&e.stateNode!=null)BS(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return Pt(e),null}if(t=ms(ir.current),Oc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[nr]=e,r[nu]=s,t=(e.mode&1)!==0,n){case"dialog":Ne("cancel",r),Ne("close",r);break;case"iframe":case"object":case"embed":Ne("load",r);break;case"video":case"audio":for(i=0;i<ll.length;i++)Ne(ll[i],r);break;case"source":Ne("error",r);break;case"img":case"image":case"link":Ne("error",r),Ne("load",r);break;case"details":Ne("toggle",r);break;case"input":M1(r,s),Ne("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ne("invalid",r);break;case"textarea":V1(r,s),Ne("invalid",r)}Fm(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Nc(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Nc(r.textContent,a,t),i=["children",""+a]):ql.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ne("scroll",r)}switch(n){case"input":Sc(r),L1(r,s,!0);break;case"textarea":Sc(r),F1(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=td)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=gT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[nr]=e,t[nu]=r,jS(t,e,!1,!1),e.stateNode=t;e:{switch(o=Um(n,r),n){case"dialog":Ne("cancel",t),Ne("close",t),i=r;break;case"iframe":case"object":case"embed":Ne("load",t),i=r;break;case"video":case"audio":for(i=0;i<ll.length;i++)Ne(ll[i],t);i=r;break;case"source":Ne("error",t),i=r;break;case"img":case"image":case"link":Ne("error",t),Ne("load",t),i=r;break;case"details":Ne("toggle",t),i=r;break;case"input":M1(t,r),i=Nm(t,r),Ne("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=$e({},r,{value:void 0}),Ne("invalid",t);break;case"textarea":V1(t,r),i=Lm(t,r),Ne("invalid",t);break;default:i=r}Fm(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?_T(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&yT(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Kl(t,l):typeof l=="number"&&Kl(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ql.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ne("scroll",t):l!=null&&jy(t,s,l,o))}switch(n){case"input":Sc(t),L1(t,r,!1);break;case"textarea":Sc(t),F1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Fi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ro(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ro(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=td)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Pt(e),null;case 6:if(t&&e.stateNode!=null)zS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(n=ms(iu.current),ms(ir.current),Oc(e)){if(r=e.stateNode,n=e.memoizedProps,r[nr]=e,(s=r.nodeValue!==n)&&(t=fn,t!==null))switch(t.tag){case 3:Nc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Nc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[nr]=e,e.stateNode=r}return Pt(e),null;case 13:if(Le(Ue),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ve&&hn!==null&&e.mode&1&&!(e.flags&128))oS(),qo(),e.flags|=98560,s=!1;else if(s=Oc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(B(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(B(317));s[nr]=e}else qo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Pt(e),s=!1}else Un!==null&&(_g(Un),Un=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ue.current&1?ot===0&&(ot=3):x0())),e.updateQueue!==null&&(e.flags|=4),Pt(e),null);case 4:return Go(),hg(t,e),t===null&&eu(e.stateNode.containerInfo),Pt(e),null;case 10:return s0(e.type._context),Pt(e),null;case 17:return rn(e.type)&&nd(),Pt(e),null;case 19:if(Le(Ue),s=e.memoizedState,s===null)return Pt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ka(s,!1);else{if(ot!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ud(t),o!==null){for(e.flags|=128,Ka(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ce(Ue,Ue.current&1|2),e.child}t=t.sibling}s.tail!==null&&Xe()>Yo&&(e.flags|=128,r=!0,Ka(s,!1),e.lanes=4194304)}else{if(!r)if(t=ud(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ka(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ve)return Pt(e),null}else 2*Xe()-s.renderingStartTime>Yo&&n!==1073741824&&(e.flags|=128,r=!0,Ka(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Xe(),e.sibling=null,n=Ue.current,Ce(Ue,r?n&1|2:n&1),e):(Pt(e),null);case 22:case 23:return E0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?cn&1073741824&&(Pt(e),e.subtreeFlags&6&&(e.flags|=8192)):Pt(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function mN(t,e){switch(t0(e),e.tag){case 1:return rn(e.type)&&nd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Go(),Le(nn),Le(Ft),c0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return u0(e),null;case 13:if(Le(Ue),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));qo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Le(Ue),null;case 4:return Go(),null;case 10:return s0(e.type._context),null;case 22:case 23:return E0(),null;case 24:return null;default:return null}}var Vc=!1,Ot=!1,gN=typeof WeakSet=="function"?WeakSet:Set,$=null;function Eo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ke(t,e,r)}else n.current=null}function dg(t,e,n){try{n()}catch(r){Ke(t,e,r)}}var Iw=!1;function yN(t,e){if(Qm=Jh,t=KT(),Zy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,f=null;t:for(;;){for(var m;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)f=d,d=m;for(;;){if(d===t)break t;if(f===n&&++u===i&&(a=o),f===s&&++c===r&&(l=o),(m=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ym={focusedElem:t,selectionRange:n},Jh=!1,$=e;$!==null;)if(e=$,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,$=t;else for(;$!==null;){e=$;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var _=y.memoizedProps,E=y.memoizedState,w=e.stateNode,b=w.getSnapshotBeforeUpdate(e.elementType===e.type?_:Vn(e.type,_),E);w.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(R){Ke(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,$=t;break}$=e.return}return y=Iw,Iw=!1,y}function Il(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&dg(e,n,s)}i=i.next}while(i!==r)}}function lf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function fg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function $S(t){var e=t.alternate;e!==null&&(t.alternate=null,$S(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[nr],delete e[nu],delete e[Zm],delete e[ZD],delete e[eN])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function HS(t){return t.tag===5||t.tag===3||t.tag===4}function Cw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||HS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function pg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=td));else if(r!==4&&(t=t.child,t!==null))for(pg(t,e,n),t=t.sibling;t!==null;)pg(t,e,n),t=t.sibling}function mg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(mg(t,e,n),t=t.sibling;t!==null;)mg(t,e,n),t=t.sibling}var gt=null,Fn=!1;function ei(t,e,n){for(n=n.child;n!==null;)WS(t,e,n),n=n.sibling}function WS(t,e,n){if(rr&&typeof rr.onCommitFiberUnmount=="function")try{rr.onCommitFiberUnmount(Zd,n)}catch{}switch(n.tag){case 5:Ot||Eo(n,e);case 6:var r=gt,i=Fn;gt=null,ei(t,e,n),gt=r,Fn=i,gt!==null&&(Fn?(t=gt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):gt.removeChild(n.stateNode));break;case 18:gt!==null&&(Fn?(t=gt,n=n.stateNode,t.nodeType===8?Rp(t.parentNode,n):t.nodeType===1&&Rp(t,n),Xl(t)):Rp(gt,n.stateNode));break;case 4:r=gt,i=Fn,gt=n.stateNode.containerInfo,Fn=!0,ei(t,e,n),gt=r,Fn=i;break;case 0:case 11:case 14:case 15:if(!Ot&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&dg(n,e,o),i=i.next}while(i!==r)}ei(t,e,n);break;case 1:if(!Ot&&(Eo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ke(n,e,a)}ei(t,e,n);break;case 21:ei(t,e,n);break;case 22:n.mode&1?(Ot=(r=Ot)||n.memoizedState!==null,ei(t,e,n),Ot=r):ei(t,e,n);break;default:ei(t,e,n)}}function Aw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new gN),e.forEach(function(r){var i=kN.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Nn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:gt=a.stateNode,Fn=!1;break e;case 3:gt=a.stateNode.containerInfo,Fn=!0;break e;case 4:gt=a.stateNode.containerInfo,Fn=!0;break e}a=a.return}if(gt===null)throw Error(B(160));WS(s,o,i),gt=null,Fn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ke(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)qS(e,t),e=e.sibling}function qS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Nn(e,t),Qn(t),r&4){try{Il(3,t,t.return),lf(3,t)}catch(_){Ke(t,t.return,_)}try{Il(5,t,t.return)}catch(_){Ke(t,t.return,_)}}break;case 1:Nn(e,t),Qn(t),r&512&&n!==null&&Eo(n,n.return);break;case 5:if(Nn(e,t),Qn(t),r&512&&n!==null&&Eo(n,n.return),t.flags&32){var i=t.stateNode;try{Kl(i,"")}catch(_){Ke(t,t.return,_)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&pT(i,s),Um(a,o);var u=Um(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?_T(i,d):c==="dangerouslySetInnerHTML"?yT(i,d):c==="children"?Kl(i,d):jy(i,c,d,u)}switch(a){case"input":Om(i,s);break;case"textarea":mT(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Ro(i,!!s.multiple,m,!1):f!==!!s.multiple&&(s.defaultValue!=null?Ro(i,!!s.multiple,s.defaultValue,!0):Ro(i,!!s.multiple,s.multiple?[]:"",!1))}i[nu]=s}catch(_){Ke(t,t.return,_)}}break;case 6:if(Nn(e,t),Qn(t),r&4){if(t.stateNode===null)throw Error(B(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(_){Ke(t,t.return,_)}}break;case 3:if(Nn(e,t),Qn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Xl(e.containerInfo)}catch(_){Ke(t,t.return,_)}break;case 4:Nn(e,t),Qn(t);break;case 13:Nn(e,t),Qn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(_0=Xe())),r&4&&Aw(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Ot=(u=Ot)||c,Nn(e,t),Ot=u):Nn(e,t),Qn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for($=t,c=t.child;c!==null;){for(d=$=c;$!==null;){switch(f=$,m=f.child,f.tag){case 0:case 11:case 14:case 15:Il(4,f,f.return);break;case 1:Eo(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(_){Ke(r,n,_)}}break;case 5:Eo(f,f.return);break;case 22:if(f.memoizedState!==null){Rw(d);continue}}m!==null?(m.return=f,$=m):Rw(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=vT("display",o))}catch(_){Ke(t,t.return,_)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(_){Ke(t,t.return,_)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Nn(e,t),Qn(t),r&4&&Aw(t);break;case 21:break;default:Nn(e,t),Qn(t)}}function Qn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(HS(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Kl(i,""),r.flags&=-33);var s=Cw(t);mg(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Cw(t);pg(t,a,o);break;default:throw Error(B(161))}}catch(l){Ke(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function vN(t,e,n){$=t,KS(t)}function KS(t,e,n){for(var r=(t.mode&1)!==0;$!==null;){var i=$,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Vc;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ot;a=Vc;var u=Ot;if(Vc=o,(Ot=l)&&!u)for($=i;$!==null;)o=$,l=o.child,o.tag===22&&o.memoizedState!==null?Dw(i):l!==null?(l.return=o,$=l):Dw(i);for(;s!==null;)$=s,KS(s),s=s.sibling;$=i,Vc=a,Ot=u}Pw(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,$=s):Pw(t)}}function Pw(t){for(;$!==null;){var e=$;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ot||lf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ot)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Vn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&pw(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}pw(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Xl(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}Ot||e.flags&512&&fg(e)}catch(f){Ke(e,e.return,f)}}if(e===t){$=null;break}if(n=e.sibling,n!==null){n.return=e.return,$=n;break}$=e.return}}function Rw(t){for(;$!==null;){var e=$;if(e===t){$=null;break}var n=e.sibling;if(n!==null){n.return=e.return,$=n;break}$=e.return}}function Dw(t){for(;$!==null;){var e=$;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{lf(4,e)}catch(l){Ke(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ke(e,i,l)}}var s=e.return;try{fg(e)}catch(l){Ke(e,s,l)}break;case 5:var o=e.return;try{fg(e)}catch(l){Ke(e,o,l)}}}catch(l){Ke(e,e.return,l)}if(e===t){$=null;break}var a=e.sibling;if(a!==null){a.return=e.return,$=a;break}$=e.return}}var _N=Math.ceil,dd=Wr.ReactCurrentDispatcher,y0=Wr.ReactCurrentOwner,kn=Wr.ReactCurrentBatchConfig,ge=0,ft=null,rt=null,Et=0,cn=0,xo=Ki(0),ot=0,lu=null,Ns=0,uf=0,v0=0,Cl=null,Yt=null,_0=0,Yo=1/0,Sr=null,fd=!1,gg=null,ki=null,Fc=!1,yi=null,pd=0,Al=0,yg=null,xh=-1,bh=0;function Wt(){return ge&6?Xe():xh!==-1?xh:xh=Xe()}function Ii(t){return t.mode&1?ge&2&&Et!==0?Et&-Et:nN.transition!==null?(bh===0&&(bh=RT()),bh):(t=Te,t!==0||(t=window.event,t=t===void 0?16:FT(t.type)),t):1}function $n(t,e,n,r){if(50<Al)throw Al=0,yg=null,Error(B(185));Lu(t,n,r),(!(ge&2)||t!==ft)&&(t===ft&&(!(ge&2)&&(uf|=n),ot===4&&ci(t,Et)),sn(t,r),n===1&&ge===0&&!(e.mode&1)&&(Yo=Xe()+500,sf&&Gi()))}function sn(t,e){var n=t.callbackNode;nD(t,e);var r=Xh(t,t===ft?Et:0);if(r===0)n!==null&&B1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&B1(n),e===1)t.tag===0?tN(Nw.bind(null,t)):rS(Nw.bind(null,t)),XD(function(){!(ge&6)&&Gi()}),n=null;else{switch(DT(r)){case 1:n=Wy;break;case 4:n=AT;break;case 16:n=Yh;break;case 536870912:n=PT;break;default:n=Yh}n=tk(n,GS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function GS(t,e){if(xh=-1,bh=0,ge&6)throw Error(B(327));var n=t.callbackNode;if(Lo()&&t.callbackNode!==n)return null;var r=Xh(t,t===ft?Et:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=md(t,r);else{e=r;var i=ge;ge|=2;var s=YS();(ft!==t||Et!==e)&&(Sr=null,Yo=Xe()+500,bs(t,e));do try{xN();break}catch(a){QS(t,a)}while(!0);i0(),dd.current=s,ge=i,rt!==null?e=0:(ft=null,Et=0,e=ot)}if(e!==0){if(e===2&&(i=Hm(t),i!==0&&(r=i,e=vg(t,i))),e===1)throw n=lu,bs(t,0),ci(t,r),sn(t,Xe()),n;if(e===6)ci(t,r);else{if(i=t.current.alternate,!(r&30)&&!wN(i)&&(e=md(t,r),e===2&&(s=Hm(t),s!==0&&(r=s,e=vg(t,s))),e===1))throw n=lu,bs(t,0),ci(t,r),sn(t,Xe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:ls(t,Yt,Sr);break;case 3:if(ci(t,r),(r&130023424)===r&&(e=_0+500-Xe(),10<e)){if(Xh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Wt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Jm(ls.bind(null,t,Yt,Sr),e);break}ls(t,Yt,Sr);break;case 4:if(ci(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-zn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Xe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_N(r/1960))-r,10<r){t.timeoutHandle=Jm(ls.bind(null,t,Yt,Sr),r);break}ls(t,Yt,Sr);break;case 5:ls(t,Yt,Sr);break;default:throw Error(B(329))}}}return sn(t,Xe()),t.callbackNode===n?GS.bind(null,t):null}function vg(t,e){var n=Cl;return t.current.memoizedState.isDehydrated&&(bs(t,e).flags|=256),t=md(t,e),t!==2&&(e=Yt,Yt=n,e!==null&&_g(e)),t}function _g(t){Yt===null?Yt=t:Yt.push.apply(Yt,t)}function wN(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Wn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ci(t,e){for(e&=~v0,e&=~uf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-zn(e),r=1<<n;t[n]=-1,e&=~r}}function Nw(t){if(ge&6)throw Error(B(327));Lo();var e=Xh(t,0);if(!(e&1))return sn(t,Xe()),null;var n=md(t,e);if(t.tag!==0&&n===2){var r=Hm(t);r!==0&&(e=r,n=vg(t,r))}if(n===1)throw n=lu,bs(t,0),ci(t,e),sn(t,Xe()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ls(t,Yt,Sr),sn(t,Xe()),null}function w0(t,e){var n=ge;ge|=1;try{return t(e)}finally{ge=n,ge===0&&(Yo=Xe()+500,sf&&Gi())}}function Os(t){yi!==null&&yi.tag===0&&!(ge&6)&&Lo();var e=ge;ge|=1;var n=kn.transition,r=Te;try{if(kn.transition=null,Te=1,t)return t()}finally{Te=r,kn.transition=n,ge=e,!(ge&6)&&Gi()}}function E0(){cn=xo.current,Le(xo)}function bs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,YD(n)),rt!==null)for(n=rt.return;n!==null;){var r=n;switch(t0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&nd();break;case 3:Go(),Le(nn),Le(Ft),c0();break;case 5:u0(r);break;case 4:Go();break;case 13:Le(Ue);break;case 19:Le(Ue);break;case 10:s0(r.type._context);break;case 22:case 23:E0()}n=n.return}if(ft=t,rt=t=Ci(t.current,null),Et=cn=e,ot=0,lu=null,v0=uf=Ns=0,Yt=Cl=null,ps!==null){for(e=0;e<ps.length;e++)if(n=ps[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ps=null}return t}function QS(t,e){do{var n=rt;try{if(i0(),_h.current=hd,cd){for(var r=Be.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}cd=!1}if(Ds=0,ht=st=Be=null,kl=!1,su=0,y0.current=null,n===null||n.return===null){ot=1,lu=e,rt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Et,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=ww(o);if(m!==null){m.flags&=-257,Ew(m,o,a,s,e),m.mode&1&&_w(s,u,e),e=m,l=u;var y=e.updateQueue;if(y===null){var _=new Set;_.add(l),e.updateQueue=_}else y.add(l);break e}else{if(!(e&1)){_w(s,u,e),x0();break e}l=Error(B(426))}}else if(Ve&&a.mode&1){var E=ww(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),Ew(E,o,a,s,e),n0(Qo(l,a));break e}}s=l=Qo(l,a),ot!==4&&(ot=2),Cl===null?Cl=[s]:Cl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=DS(s,l,e);fw(s,w);break e;case 1:a=l;var b=s.type,T=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(ki===null||!ki.has(T)))){s.flags|=65536,e&=-e,s.lanes|=e;var R=NS(s,a,e);fw(s,R);break e}}s=s.return}while(s!==null)}JS(n)}catch(D){e=D,rt===n&&n!==null&&(rt=n=n.return);continue}break}while(!0)}function YS(){var t=dd.current;return dd.current=hd,t===null?hd:t}function x0(){(ot===0||ot===3||ot===2)&&(ot=4),ft===null||!(Ns&268435455)&&!(uf&268435455)||ci(ft,Et)}function md(t,e){var n=ge;ge|=2;var r=YS();(ft!==t||Et!==e)&&(Sr=null,bs(t,e));do try{EN();break}catch(i){QS(t,i)}while(!0);if(i0(),ge=n,dd.current=r,rt!==null)throw Error(B(261));return ft=null,Et=0,ot}function EN(){for(;rt!==null;)XS(rt)}function xN(){for(;rt!==null&&!K4();)XS(rt)}function XS(t){var e=ek(t.alternate,t,cn);t.memoizedProps=t.pendingProps,e===null?JS(t):rt=e,y0.current=null}function JS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=mN(n,e),n!==null){n.flags&=32767,rt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ot=6,rt=null;return}}else if(n=pN(n,e,cn),n!==null){rt=n;return}if(e=e.sibling,e!==null){rt=e;return}rt=e=t}while(e!==null);ot===0&&(ot=5)}function ls(t,e,n){var r=Te,i=kn.transition;try{kn.transition=null,Te=1,bN(t,e,n,r)}finally{kn.transition=i,Te=r}return null}function bN(t,e,n,r){do Lo();while(yi!==null);if(ge&6)throw Error(B(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(rD(t,s),t===ft&&(rt=ft=null,Et=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Fc||(Fc=!0,tk(Yh,function(){return Lo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=kn.transition,kn.transition=null;var o=Te;Te=1;var a=ge;ge|=4,y0.current=null,yN(t,n),qS(n,t),$D(Ym),Jh=!!Qm,Ym=Qm=null,t.current=n,vN(n),G4(),ge=a,Te=o,kn.transition=s}else t.current=n;if(Fc&&(Fc=!1,yi=t,pd=i),s=t.pendingLanes,s===0&&(ki=null),X4(n.stateNode),sn(t,Xe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(fd)throw fd=!1,t=gg,gg=null,t;return pd&1&&t.tag!==0&&Lo(),s=t.pendingLanes,s&1?t===yg?Al++:(Al=0,yg=t):Al=0,Gi(),null}function Lo(){if(yi!==null){var t=DT(pd),e=kn.transition,n=Te;try{if(kn.transition=null,Te=16>t?16:t,yi===null)var r=!1;else{if(t=yi,yi=null,pd=0,ge&6)throw Error(B(331));var i=ge;for(ge|=4,$=t.current;$!==null;){var s=$,o=s.child;if($.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for($=u;$!==null;){var c=$;switch(c.tag){case 0:case 11:case 15:Il(8,c,s)}var d=c.child;if(d!==null)d.return=c,$=d;else for(;$!==null;){c=$;var f=c.sibling,m=c.return;if($S(c),c===u){$=null;break}if(f!==null){f.return=m,$=f;break}$=m}}}var y=s.alternate;if(y!==null){var _=y.child;if(_!==null){y.child=null;do{var E=_.sibling;_.sibling=null,_=E}while(_!==null)}}$=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,$=o;else e:for(;$!==null;){if(s=$,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Il(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,$=w;break e}$=s.return}}var b=t.current;for($=b;$!==null;){o=$;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,$=T;else e:for(o=b;$!==null;){if(a=$,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:lf(9,a)}}catch(D){Ke(a,a.return,D)}if(a===o){$=null;break e}var R=a.sibling;if(R!==null){R.return=a.return,$=R;break e}$=a.return}}if(ge=i,Gi(),rr&&typeof rr.onPostCommitFiberRoot=="function")try{rr.onPostCommitFiberRoot(Zd,t)}catch{}r=!0}return r}finally{Te=n,kn.transition=e}}return!1}function Ow(t,e,n){e=Qo(n,e),e=DS(t,e,1),t=Si(t,e,1),e=Wt(),t!==null&&(Lu(t,1,e),sn(t,e))}function Ke(t,e,n){if(t.tag===3)Ow(t,t,n);else for(;e!==null;){if(e.tag===3){Ow(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ki===null||!ki.has(r))){t=Qo(n,t),t=NS(e,t,1),e=Si(e,t,1),t=Wt(),e!==null&&(Lu(e,1,t),sn(e,t));break}}e=e.return}}function TN(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Wt(),t.pingedLanes|=t.suspendedLanes&n,ft===t&&(Et&n)===n&&(ot===4||ot===3&&(Et&130023424)===Et&&500>Xe()-_0?bs(t,0):v0|=n),sn(t,e)}function ZS(t,e){e===0&&(t.mode&1?(e=Cc,Cc<<=1,!(Cc&130023424)&&(Cc=4194304)):e=1);var n=Wt();t=Vr(t,e),t!==null&&(Lu(t,e,n),sn(t,n))}function SN(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),ZS(t,n)}function kN(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),ZS(t,n)}var ek;ek=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||nn.current)en=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return en=!1,fN(t,e,n);en=!!(t.flags&131072)}else en=!1,Ve&&e.flags&1048576&&iS(e,sd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Eh(t,e),t=e.pendingProps;var i=Wo(e,Ft.current);Mo(e,n),i=d0(null,e,r,t,i,n);var s=f0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,rn(r)?(s=!0,rd(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,a0(e),i.updater=af,e.stateNode=i,i._reactInternals=e,sg(e,r,t,n),e=lg(null,e,r,!0,s,n)):(e.tag=0,Ve&&s&&e0(e),$t(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Eh(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=CN(r),t=Vn(r,t),i){case 0:e=ag(null,e,r,t,n);break e;case 1:e=Tw(null,e,r,t,n);break e;case 11:e=xw(null,e,r,t,n);break e;case 14:e=bw(null,e,r,Vn(r.type,t),n);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vn(r,i),ag(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vn(r,i),Tw(t,e,r,i,n);case 3:e:{if(VS(e),t===null)throw Error(B(387));r=e.pendingProps,s=e.memoizedState,i=s.element,cS(t,e),ld(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Qo(Error(B(423)),e),e=Sw(t,e,r,n,i);break e}else if(r!==i){i=Qo(Error(B(424)),e),e=Sw(t,e,r,n,i);break e}else for(hn=Ti(e.stateNode.containerInfo.firstChild),fn=e,Ve=!0,Un=null,n=lS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(qo(),r===i){e=Fr(t,e,n);break e}$t(t,e,r,n)}e=e.child}return e;case 5:return hS(e),t===null&&ng(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Xm(r,i)?o=null:s!==null&&Xm(r,s)&&(e.flags|=32),LS(t,e),$t(t,e,o,n),e.child;case 6:return t===null&&ng(e),null;case 13:return FS(t,e,n);case 4:return l0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ko(e,null,r,n):$t(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vn(r,i),xw(t,e,r,i,n);case 7:return $t(t,e,e.pendingProps,n),e.child;case 8:return $t(t,e,e.pendingProps.children,n),e.child;case 12:return $t(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ce(od,r._currentValue),r._currentValue=o,s!==null)if(Wn(s.value,o)){if(s.children===i.children&&!nn.current){e=Fr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Or(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),rg(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(B(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),rg(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}$t(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Mo(e,n),i=Cn(i),r=r(i),e.flags|=1,$t(t,e,r,n),e.child;case 14:return r=e.type,i=Vn(r,e.pendingProps),i=Vn(r.type,i),bw(t,e,r,i,n);case 15:return OS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vn(r,i),Eh(t,e),e.tag=1,rn(r)?(t=!0,rd(e)):t=!1,Mo(e,n),RS(e,r,i),sg(e,r,i,n),lg(null,e,r,!0,t,n);case 19:return US(t,e,n);case 22:return MS(t,e,n)}throw Error(B(156,e.tag))};function tk(t,e){return CT(t,e)}function IN(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(t,e,n,r){return new IN(t,e,n,r)}function b0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function CN(t){if(typeof t=="function")return b0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===zy)return 11;if(t===$y)return 14}return 2}function Ci(t,e){var n=t.alternate;return n===null?(n=bn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Th(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")b0(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ho:return Ts(n.children,i,s,e);case By:o=8,i|=8;break;case Am:return t=bn(12,n,e,i|2),t.elementType=Am,t.lanes=s,t;case Pm:return t=bn(13,n,e,i),t.elementType=Pm,t.lanes=s,t;case Rm:return t=bn(19,n,e,i),t.elementType=Rm,t.lanes=s,t;case hT:return cf(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case uT:o=10;break e;case cT:o=9;break e;case zy:o=11;break e;case $y:o=14;break e;case ai:o=16,r=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=bn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ts(t,e,n,r){return t=bn(7,t,r,e),t.lanes=n,t}function cf(t,e,n,r){return t=bn(22,t,r,e),t.elementType=hT,t.lanes=n,t.stateNode={isHidden:!1},t}function Up(t,e,n){return t=bn(6,t,null,e),t.lanes=n,t}function jp(t,e,n){return e=bn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function AN(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wp(0),this.expirationTimes=wp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function T0(t,e,n,r,i,s,o,a,l){return t=new AN(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=bn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},a0(s),t}function PN(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:co,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function nk(t){if(!t)return Ui;t=t._reactInternals;e:{if($s(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(rn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(rn(n))return nS(t,n,e)}return e}function rk(t,e,n,r,i,s,o,a,l){return t=T0(n,r,!0,t,i,s,o,a,l),t.context=nk(null),n=t.current,r=Wt(),i=Ii(n),s=Or(r,i),s.callback=e??null,Si(n,s,i),t.current.lanes=i,Lu(t,i,r),sn(t,r),t}function hf(t,e,n,r){var i=e.current,s=Wt(),o=Ii(i);return n=nk(n),e.context===null?e.context=n:e.pendingContext=n,e=Or(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Si(i,e,o),t!==null&&($n(t,i,o,s),vh(t,i,o)),o}function gd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Mw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function S0(t,e){Mw(t,e),(t=t.alternate)&&Mw(t,e)}function RN(){return null}var ik=typeof reportError=="function"?reportError:function(t){console.error(t)};function k0(t){this._internalRoot=t}df.prototype.render=k0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));hf(t,e,null,null)};df.prototype.unmount=k0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Os(function(){hf(null,t,null,null)}),e[Lr]=null}};function df(t){this._internalRoot=t}df.prototype.unstable_scheduleHydration=function(t){if(t){var e=MT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ui.length&&e!==0&&e<ui[n].priority;n++);ui.splice(n,0,t),n===0&&VT(t)}};function I0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ff(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Lw(){}function DN(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=gd(o);s.call(u)}}var o=rk(e,r,t,0,null,!1,!1,"",Lw);return t._reactRootContainer=o,t[Lr]=o.current,eu(t.nodeType===8?t.parentNode:t),Os(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=gd(l);a.call(u)}}var l=T0(t,0,!1,null,null,!1,!1,"",Lw);return t._reactRootContainer=l,t[Lr]=l.current,eu(t.nodeType===8?t.parentNode:t),Os(function(){hf(e,l,n,r)}),l}function pf(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=gd(o);a.call(l)}}hf(e,o,t,i)}else o=DN(n,e,t,i,r);return gd(o)}NT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=al(e.pendingLanes);n!==0&&(qy(e,n|1),sn(e,Xe()),!(ge&6)&&(Yo=Xe()+500,Gi()))}break;case 13:Os(function(){var r=Vr(t,1);if(r!==null){var i=Wt();$n(r,t,1,i)}}),S0(t,1)}};Ky=function(t){if(t.tag===13){var e=Vr(t,134217728);if(e!==null){var n=Wt();$n(e,t,134217728,n)}S0(t,134217728)}};OT=function(t){if(t.tag===13){var e=Ii(t),n=Vr(t,e);if(n!==null){var r=Wt();$n(n,t,e,r)}S0(t,e)}};MT=function(){return Te};LT=function(t,e){var n=Te;try{return Te=t,e()}finally{Te=n}};Bm=function(t,e,n){switch(e){case"input":if(Om(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=rf(r);if(!i)throw Error(B(90));fT(r),Om(r,i)}}}break;case"textarea":mT(t,n);break;case"select":e=n.value,e!=null&&Ro(t,!!n.multiple,e,!1)}};xT=w0;bT=Os;var NN={usingClientEntryPoint:!1,Events:[Fu,go,rf,wT,ET,w0]},Ga={findFiberByHostInstance:fs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ON={bundleType:Ga.bundleType,version:Ga.version,rendererPackageName:Ga.rendererPackageName,rendererConfig:Ga.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Wr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=kT(t),t===null?null:t.stateNode},findFiberByHostInstance:Ga.findFiberByHostInstance||RN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uc.isDisabled&&Uc.supportsFiber)try{Zd=Uc.inject(ON),rr=Uc}catch{}}mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NN;mn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!I0(e))throw Error(B(200));return PN(t,e,null,n)};mn.createRoot=function(t,e){if(!I0(t))throw Error(B(299));var n=!1,r="",i=ik;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=T0(t,1,!1,null,null,n,!1,r,i),t[Lr]=e.current,eu(t.nodeType===8?t.parentNode:t),new k0(e)};mn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=kT(e),t=t===null?null:t.stateNode,t};mn.flushSync=function(t){return Os(t)};mn.hydrate=function(t,e,n){if(!ff(e))throw Error(B(200));return pf(null,t,e,!0,n)};mn.hydrateRoot=function(t,e,n){if(!I0(t))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=ik;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=rk(e,null,t,1,n??null,i,!1,s,o),t[Lr]=e.current,eu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new df(e)};mn.render=function(t,e,n){if(!ff(e))throw Error(B(200));return pf(null,t,e,!1,n)};mn.unmountComponentAtNode=function(t){if(!ff(t))throw Error(B(40));return t._reactRootContainer?(Os(function(){pf(null,null,t,!1,function(){t._reactRootContainer=null,t[Lr]=null})}),!0):!1};mn.unstable_batchedUpdates=w0;mn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ff(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return pf(t,e,n,!1,r)};mn.version="18.3.1-next-f1338f8080-20240426";function sk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sk)}catch(t){console.error(t)}}sk(),sT.exports=mn;var MN=sT.exports,Vw=MN;Im.createRoot=Vw.createRoot,Im.hydrateRoot=Vw.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function uu(){return uu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uu.apply(this,arguments)}var vi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(vi||(vi={}));const Fw="popstate";function LN(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return wg("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:yd(i)}return FN(e,n,null,t)}function Ze(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ok(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function VN(){return Math.random().toString(36).substr(2,8)}function Uw(t,e){return{usr:t.state,key:t.key,idx:e}}function wg(t,e,n,r){return n===void 0&&(n=null),uu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?pa(e):e,{state:n,key:e&&e.key||r||VN()})}function yd(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function pa(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function FN(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=vi.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(uu({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=vi.Pop;let E=c(),w=E==null?null:E-u;u=E,l&&l({action:a,location:_.location,delta:w})}function f(E,w){a=vi.Push;let b=wg(_.location,E,w);u=c()+1;let T=Uw(b,u),R=_.createHref(b);try{o.pushState(T,"",R)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(R)}s&&l&&l({action:a,location:_.location,delta:1})}function m(E,w){a=vi.Replace;let b=wg(_.location,E,w);u=c();let T=Uw(b,u),R=_.createHref(b);o.replaceState(T,"",R),s&&l&&l({action:a,location:_.location,delta:0})}function y(E){let w=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof E=="string"?E:yd(E);return b=b.replace(/ $/,"%20"),Ze(w,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,w)}let _={get action(){return a},get location(){return t(i,o)},listen(E){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Fw,d),l=E,()=>{i.removeEventListener(Fw,d),l=null}},createHref(E){return e(i,E)},createURL:y,encodeLocation(E){let w=y(E);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:f,replace:m,go(E){return o.go(E)}};return _}var jw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(jw||(jw={}));function UN(t,e,n){return n===void 0&&(n="/"),jN(t,e,n)}function jN(t,e,n,r){let i=typeof e=="string"?pa(e):e,s=C0(i.pathname||"/",n);if(s==null)return null;let o=ak(t);BN(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=ZN(s);a=YN(o[l],u)}return a}function ak(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Ze(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Ai([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(Ze(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),ak(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:GN(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of lk(s.path))i(s,o,l)}),e}function lk(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=lk(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function BN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:QN(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const zN=/^:[\w-]+$/,$N=3,HN=2,WN=1,qN=10,KN=-2,Bw=t=>t==="*";function GN(t,e){let n=t.split("/"),r=n.length;return n.some(Bw)&&(r+=KN),e&&(r+=HN),n.filter(i=>!Bw(i)).reduce((i,s)=>i+(zN.test(s)?$N:s===""?WN:qN),r)}function QN(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function YN(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=s==="/"?e:e.slice(s.length)||"/",d=XN({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),f=l.route;if(!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:Ai([s,d.pathname]),pathnameBase:rO(Ai([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=Ai([s,d.pathnameBase]))}return o}function XN(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=JN(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:f,isOptional:m}=c;if(f==="*"){let _=a[d]||"";o=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const y=a[d];return m&&!y?u[f]=void 0:u[f]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function JN(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),ok(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function ZN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ok(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function C0(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function eO(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?pa(t):t;return{pathname:n?n.startsWith("/")?n:tO(n,e):e,search:iO(r),hash:sO(i)}}function tO(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Bp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function nO(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function A0(t,e){let n=nO(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function P0(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=pa(t):(i=uu({},t),Ze(!i.pathname||!i.pathname.includes("?"),Bp("?","pathname","search",i)),Ze(!i.pathname||!i.pathname.includes("#"),Bp("#","pathname","hash",i)),Ze(!i.search||!i.search.includes("#"),Bp("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=eO(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Ai=t=>t.join("/").replace(/\/\/+/g,"/"),rO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),iO=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,sO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function oO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const uk=["post","put","patch","delete"];new Set(uk);const aO=["get",...uk];new Set(aO);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cu(){return cu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cu.apply(this,arguments)}const R0=O.createContext(null),lO=O.createContext(null),Qi=O.createContext(null),mf=O.createContext(null),gr=O.createContext({outlet:null,matches:[],isDataRoute:!1}),ck=O.createContext(null);function uO(t,e){let{relative:n}=e===void 0?{}:e;ma()||Ze(!1);let{basename:r,navigator:i}=O.useContext(Qi),{hash:s,pathname:o,search:a}=dk(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Ai([r,o])),i.createHref({pathname:l,search:a,hash:s})}function ma(){return O.useContext(mf)!=null}function qr(){return ma()||Ze(!1),O.useContext(mf).location}function hk(t){O.useContext(Qi).static||O.useLayoutEffect(t)}function Kr(){let{isDataRoute:t}=O.useContext(gr);return t?SO():cO()}function cO(){ma()||Ze(!1);let t=O.useContext(R0),{basename:e,future:n,navigator:r}=O.useContext(Qi),{matches:i}=O.useContext(gr),{pathname:s}=qr(),o=JSON.stringify(A0(i,n.v7_relativeSplatPath)),a=O.useRef(!1);return hk(()=>{a.current=!0}),O.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let d=P0(u,JSON.parse(o),s,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Ai([e,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[e,r,o,s,t])}const hO=O.createContext(null);function dO(t){let e=O.useContext(gr).outlet;return e&&O.createElement(hO.Provider,{value:t},e)}function fO(){let{matches:t}=O.useContext(gr),e=t[t.length-1];return e?e.params:{}}function dk(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=O.useContext(Qi),{matches:i}=O.useContext(gr),{pathname:s}=qr(),o=JSON.stringify(A0(i,r.v7_relativeSplatPath));return O.useMemo(()=>P0(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function pO(t,e){return mO(t,e)}function mO(t,e,n,r){ma()||Ze(!1);let{navigator:i}=O.useContext(Qi),{matches:s}=O.useContext(gr),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=qr(),c;if(e){var d;let E=typeof e=="string"?pa(e):e;l==="/"||(d=E.pathname)!=null&&d.startsWith(l)||Ze(!1),c=E}else c=u;let f=c.pathname||"/",m=f;if(l!=="/"){let E=l.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(E.length).join("/")}let y=UN(t,{pathname:m}),_=wO(y&&y.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:Ai([l,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?l:Ai([l,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),s,n,r);return e&&_?O.createElement(mf.Provider,{value:{location:cu({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:vi.Pop}},_):_}function gO(){let t=TO(),e=oO(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),n?O.createElement("pre",{style:i},n):null,null)}const yO=O.createElement(gO,null);class vO extends O.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?O.createElement(gr.Provider,{value:this.props.routeContext},O.createElement(ck.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function _O(t){let{routeContext:e,match:n,children:r}=t,i=O.useContext(R0);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),O.createElement(gr.Provider,{value:e},r)}function wO(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);c>=0||Ze(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let d=o[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:f,errors:m}=n,y=d.route.loader&&f[d.route.id]===void 0&&(!m||m[d.route.id]===void 0);if(d.route.lazy||y){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,d,f)=>{let m,y=!1,_=null,E=null;n&&(m=a&&d.route.id?a[d.route.id]:void 0,_=d.route.errorElement||yO,l&&(u<0&&f===0?(kO("route-fallback"),y=!0,E=null):u===f&&(y=!0,E=d.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,f+1)),b=()=>{let T;return m?T=_:y?T=E:d.route.Component?T=O.createElement(d.route.Component,null):d.route.element?T=d.route.element:T=c,O.createElement(_O,{match:d,routeContext:{outlet:c,matches:w,isDataRoute:n!=null},children:T})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?O.createElement(vO,{location:n.location,revalidation:n.revalidation,component:_,error:m,children:b(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):b()},null)}var fk=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(fk||{}),pk=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(pk||{});function EO(t){let e=O.useContext(R0);return e||Ze(!1),e}function xO(t){let e=O.useContext(lO);return e||Ze(!1),e}function bO(t){let e=O.useContext(gr);return e||Ze(!1),e}function mk(t){let e=bO(),n=e.matches[e.matches.length-1];return n.route.id||Ze(!1),n.route.id}function TO(){var t;let e=O.useContext(ck),n=xO(),r=mk();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function SO(){let{router:t}=EO(fk.UseNavigateStable),e=mk(pk.UseNavigateStable),n=O.useRef(!1);return hk(()=>{n.current=!0}),O.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,cu({fromRouteId:e},s)))},[t,e])}const zw={};function kO(t,e,n){zw[t]||(zw[t]=!0)}function IO(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Sh(t){let{to:e,replace:n,state:r,relative:i}=t;ma()||Ze(!1);let{future:s,static:o}=O.useContext(Qi),{matches:a}=O.useContext(gr),{pathname:l}=qr(),u=Kr(),c=P0(e,A0(a,s.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(c);return O.useEffect(()=>u(JSON.parse(d),{replace:n,state:r,relative:i}),[u,d,i,n,r]),null}function CO(t){return dO(t.context)}function Xn(t){Ze(!1)}function AO(t){let{basename:e="/",children:n=null,location:r,navigationType:i=vi.Pop,navigator:s,static:o=!1,future:a}=t;ma()&&Ze(!1);let l=e.replace(/^\/*/,"/"),u=O.useMemo(()=>({basename:l,navigator:s,static:o,future:cu({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=pa(r));let{pathname:c="/",search:d="",hash:f="",state:m=null,key:y="default"}=r,_=O.useMemo(()=>{let E=C0(c,l);return E==null?null:{location:{pathname:E,search:d,hash:f,state:m,key:y},navigationType:i}},[l,c,d,f,m,y,i]);return _==null?null:O.createElement(Qi.Provider,{value:u},O.createElement(mf.Provider,{children:n,value:_}))}function PO(t){let{children:e,location:n}=t;return pO(Eg(e),n)}new Promise(()=>{});function Eg(t,e){e===void 0&&(e=[]);let n=[];return O.Children.forEach(t,(r,i)=>{if(!O.isValidElement(r))return;let s=[...e,i];if(r.type===O.Fragment){n.push.apply(n,Eg(r.props.children,s));return}r.type!==Xn&&Ze(!1),!r.props.index||!r.props.children||Ze(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Eg(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xg(){return xg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xg.apply(this,arguments)}function RO(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function DO(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function NO(t,e){return t.button===0&&(!e||e==="_self")&&!DO(t)}const OO=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],MO="6";try{window.__reactRouterVersion=MO}catch{}const LO="startTransition",$w=P4[LO];function VO(t){let{basename:e,children:n,future:r,window:i}=t,s=O.useRef();s.current==null&&(s.current=LN({window:i,v5Compat:!0}));let o=s.current,[a,l]=O.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=O.useCallback(d=>{u&&$w?$w(()=>l(d)):l(d)},[l,u]);return O.useLayoutEffect(()=>o.listen(c),[o,c]),O.useEffect(()=>IO(r),[r]),O.createElement(AO,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const FO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",UO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gk=O.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,viewTransition:d}=e,f=RO(e,OO),{basename:m}=O.useContext(Qi),y,_=!1;if(typeof u=="string"&&UO.test(u)&&(y=u,FO))try{let T=new URL(window.location.href),R=u.startsWith("//")?new URL(T.protocol+u):new URL(u),D=C0(R.pathname,m);R.origin===T.origin&&D!=null?u=D+R.search+R.hash:_=!0}catch{}let E=uO(u,{relative:i}),w=jO(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,viewTransition:d});function b(T){r&&r(T),T.defaultPrevented||w(T)}return O.createElement("a",xg({},f,{href:y||E,onClick:_||s?r:b,ref:n,target:l}))});var Hw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Hw||(Hw={}));var Ww;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Ww||(Ww={}));function jO(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=Kr(),u=qr(),c=dk(t,{relative:o});return O.useCallback(d=>{if(NO(d,n)){d.preventDefault();let f=r!==void 0?r:yd(u)===yd(c);l(t,{replace:f,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[u,l,c,r,i,n,t,s,o,a])}var yk={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},qw=g.createContext&&g.createContext(yk),BO=["attr","size","title"];function zO(t,e){if(t==null)return{};var n=$O(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $O(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function vd(){return vd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vd.apply(this,arguments)}function Kw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _d(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Kw(Object(n),!0).forEach(function(r){HO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HO(t,e,n){return e=WO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WO(t){var e=qO(t,"string");return typeof e=="symbol"?e:e+""}function qO(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vk(t){return t&&t.map((e,n)=>g.createElement(e.tag,_d({key:n},e.attr),vk(e.child)))}function Pe(t){return e=>g.createElement(KO,vd({attr:_d({},t.attr)},e),vk(t.child))}function KO(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=zO(t,BO),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),g.createElement("svg",vd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:_d(_d({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&g.createElement("title",null,s),t.children)};return qw!==void 0?g.createElement(qw.Consumer,null,n=>e(n)):e(yk)}function GO(t){return Pe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(t)}function _k(t){return Pe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M446.7 98.6l-67.6 318.8c-5.1 22.5-18.4 28.1-37.3 17.5l-103-75.9-49.7 47.8c-5.5 5.5-10.1 10.1-20.7 10.1l7.4-104.9 190.9-172.5c8.3-7.4-1.8-11.5-12.9-4.1L117.8 284 16.2 252.2c-22.1-6.9-22.5-22.1 4.6-32.7L418.2 66.4c18.4-6.9 34.5 4.1 28.5 32.2z"},child:[]}]})(t)}function wk(t){return Pe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(t)}function QO(t){return Pe({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"},child:[]}]})(t)}function YO(t){return Pe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function gf(t){return Pe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(t)}function Gw(t){return Pe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 405.3V448c0 35.3 86 64 192 64s192-28.7 192-64v-42.7C342.7 434.4 267.2 448 192 448S41.3 434.4 0 405.3zM320 128c106 0 192-28.7 192-64S426 0 320 0 128 28.7 128 64s86 64 192 64zM0 300.4V352c0 35.3 86 64 192 64s192-28.7 192-64v-51.6c-41.3 34-116.9 51.6-192 51.6S41.3 334.4 0 300.4zm416 11c57.3-11.1 96-31.7 96-55.4v-42.7c-23.2 16.4-57.3 27.6-96 34.5v63.6zM192 160C86 160 0 195.8 0 240s86 80 192 80 192-35.8 192-80-86-80-192-80zm219.3 56.3c60-10.8 100.7-32 100.7-56.3v-42.7c-35.5 25.1-96.5 38.6-160.7 41.8 29.5 14.3 51.2 33.5 60 57.2z"},child:[]}]})(t)}function XO(t){return Pe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"},child:[]}]})(t)}function Ek(t){return Pe({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(t)}function JO(t){return Pe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(t)}function ZO(t){return Pe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zm-48 0l-.003-.282-26.064 22.741-62.679-58.5 16.454-84.355 34.303 3.072c-24.889-34.216-60.004-60.089-100.709-73.141l13.651 31.939L256 139l-74.953-41.525 13.651-31.939c-40.631 13.028-75.78 38.87-100.709 73.141l34.565-3.073 16.192 84.355-62.678 58.5-26.064-22.741-.003.282c0 43.015 13.497 83.952 38.472 117.991l7.704-33.897 85.138 10.447 36.301 77.826-29.902 17.786c40.202 13.122 84.29 13.148 124.572 0l-29.902-17.786 36.301-77.826 85.138-10.447 7.704 33.897C442.503 339.952 456 299.015 456 256zm-248.102 69.571l-29.894-91.312L256 177.732l77.996 56.527-29.622 91.312h-96.476z"},child:[]}]})(t)}function eM(t){return Pe({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M485.5 0L576 160H474.9L405.7 0h79.8zm-128 0l69.2 160H149.3L218.5 0h139zm-267 0h79.8l-69.2 160H0L90.5 0zM0 192h100.7l123 251.7c1.5 3.1-2.7 5.9-5 3.3L0 192zm148.2 0h279.6l-137 318.2c-1 2.4-4.5 2.4-5.5 0L148.2 192zm204.1 251.7l123-251.7H576L357.3 446.9c-2.3 2.7-6.5-.1-5-3.2z"},child:[]}]})(t)}function tM(t){return Pe({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528 32H48C21.5 32 0 53.5 0 80v16h576V80c0-26.5-21.5-48-48-48zM0 432c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V128H0v304zm352-232c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zm0 64c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zm0 64c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zM176 192c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zM67.1 396.2C75.5 370.5 99.6 352 128 352h8.2c12.3 5.1 25.7 8 39.8 8s27.6-2.9 39.8-8h8.2c28.4 0 52.5 18.5 60.9 44.2 3.2 9.9-5.2 19.8-15.6 19.8H82.7c-10.4 0-18.8-10-15.6-19.8z"},child:[]}]})(t)}function nM(t){return Pe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"},child:[]}]})(t)}function rM(t){return Pe({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M272 0H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h224c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zM160 480c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm112-108c0 6.6-5.4 12-12 12H60c-6.6 0-12-5.4-12-12V60c0-6.6 5.4-12 12-12h200c6.6 0 12 5.4 12 12v312z"},child:[]}]})(t)}function iM(t){return Pe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"},child:[]}]})(t)}function sM(t){return Pe({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"},child:[]}]})(t)}function oM(t){return Pe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 56v240c0 13.255 10.745 24 24 24h80c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24H24C10.745 32 0 42.745 0 56zm40 200c0-13.255 10.745-24 24-24s24 10.745 24 24-10.745 24-24 24-24-10.745-24-24zm272 256c-20.183 0-29.485-39.293-33.931-57.795-5.206-21.666-10.589-44.07-25.393-58.902-32.469-32.524-49.503-73.967-89.117-113.111a11.98 11.98 0 0 1-3.558-8.521V59.901c0-6.541 5.243-11.878 11.783-11.998 15.831-.29 36.694-9.079 52.651-16.178C256.189 17.598 295.709.017 343.995 0h2.844c42.777 0 93.363.413 113.774 29.737 8.392 12.057 10.446 27.034 6.148 44.632 16.312 17.053 25.063 48.863 16.382 74.757 17.544 23.432 19.143 56.132 9.308 79.469l.11.11c11.893 11.949 19.523 31.259 19.439 49.197-.156 30.352-26.157 58.098-59.553 58.098H350.723C358.03 364.34 384 388.132 384 430.548 384 504 336 512 312 512z"},child:[]}]})(t)}function aM(t){return Pe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M104 224H24c-13.255 0-24 10.745-24 24v240c0 13.255 10.745 24 24 24h80c13.255 0 24-10.745 24-24V248c0-13.255-10.745-24-24-24zM64 472c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24zM384 81.452c0 42.416-25.97 66.208-33.277 94.548h101.723c33.397 0 59.397 27.746 59.553 58.098.084 17.938-7.546 37.249-19.439 49.197l-.11.11c9.836 23.337 8.237 56.037-9.308 79.469 8.681 25.895-.069 57.704-16.382 74.757 4.298 17.598 2.244 32.575-6.148 44.632C440.202 511.587 389.616 512 346.839 512l-2.845-.001c-48.287-.017-87.806-17.598-119.56-31.725-15.957-7.099-36.821-15.887-52.651-16.178-6.54-.12-11.783-5.457-11.783-11.998v-213.77c0-3.2 1.282-6.271 3.558-8.521 39.614-39.144 56.648-80.587 89.117-113.111 14.804-14.832 20.188-37.236 25.393-58.902C282.515 39.293 291.817 0 312 0c24 0 72 8 72 81.452z"},child:[]}]})(t)}function lM(t){return Pe({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function wd(t){return Pe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}function uM(t){return Pe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function cM(t){return Pe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M461.2 128H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h384c8.84 0 16-7.16 16-16 0-26.51-21.49-48-48-48H64C28.65 32 0 60.65 0 96v320c0 35.35 28.65 64 64 64h397.2c28.02 0 50.8-21.53 50.8-48V176c0-26.47-22.78-48-50.8-48zM416 336c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},child:[]}]})(t)}const hM=[{name:"Facebook",icon:g.createElement(GO,null),url:"https://www.facebook.com/share/16R2bBKjxd/"},{name:"YouTube",icon:g.createElement(QO,null),url:"https://youtube.com/@user-geniuspes?si=48nRLH-8-NueOhy6"},{name:"Telegram",icon:g.createElement(_k,null),url:"http://t.me/Geniuspes1"}],dM=()=>g.createElement("footer",{className:"bg-white dark:bg-gray-900/50 w-full mt-auto"},g.createElement("div",{className:"max-w-6xl mx-auto py-8 px-4 flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0"},g.createElement("p",{className:"text-gray-500 dark:text-gray-400"}," ",new Date().getFullYear()," Genius Store. All Rights Reserved."),g.createElement("div",{className:"flex space-x-6"},hM.map(t=>g.createElement("a",{key:t.name,href:t.url,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-blue-500 dark:hover:text-blue-400 transition-colors text-2xl"},t.icon))))),fM=()=>{const[t,e]=O.useState(()=>{const n=localStorage.getItem("theme");return n?n==="dark":window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches});return O.useEffect(()=>{t?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},[t]),g.createElement("button",{className:"fixed top-4 right-4 z-50 px-3 py-1 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded shadow",onClick:()=>e(n=>!n),"aria-label":"Toggle dark mode"},t?" Dark":" Light")};function pM(t){return Pe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm54.6 36.4c27.1 8.6 52 23.6 72.7 44.3 20.7 20.7 35.7 45.6 44.3 72.7l-88.8 6c-8.2-14-19.9-25.7-33.9-34l5.7-89zm-181.9 44.3c20.7-20.7 45.5-35.7 72.7-44.3l5.7 89c-13.9 8.3-25.6 20-33.9 33.9l-88.9-5.9c8.7-27.1 23.7-52 44.4-72.7zm72.7 298.9c-27.1-8.6-52-23.6-72.7-44.3-20.7-20.7-35.7-45.6-44.3-72.7l89-5.7c8.2 13.9 19.9 25.5 33.8 33.8l-5.8 88.9zM256 324c-37.5 0-68-30.5-68-68s30.5-68 68-68 68 30.5 68 68-30.5 68-68 68zm127.3 59.3c-20.7 20.7-45.6 35.7-72.7 44.3l-5.9-88.9c14.1-8.3 25.8-20.1 34.1-34.2l88.8 6c-8.6 27.2-23.6 52.1-44.3 72.8z"},child:[]}]})(t)}function mM(t){return Pe({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 2C6.486 2 2 6.486 2 12v4.143C2 17.167 2.897 18 4 18h1a1 1 0 0 0 1-1v-5.143a1 1 0 0 0-1-1h-.908C4.648 6.987 7.978 4 12 4s7.352 2.987 7.908 6.857H19a1 1 0 0 0-1 1V18c0 1.103-.897 2-2 2h-2v-1h-4v3h6c2.206 0 4-1.794 4-4 1.103 0 2-.833 2-1.857V12c0-5.514-4.486-10-10-10z"},child:[]}]})(t)}const gM=()=>{const[t,e]=O.useState(!1),n="https://wa.me/message/HPK7XPQT5V2LD1",r=()=>{window.$crisp?window.$crisp.push(["do","chat:open"]):console.error("Crisp script not loaded.")};return g.createElement("div",{className:"fixed bottom-8 right-8 z-50 flex flex-col items-end gap-4"},g.createElement("div",{className:`flex flex-col items-end gap-4 mb-2 transition-all duration-300 ease-in-out ${t?"opacity-100 translate-y-0":"opacity-0 translate-y-4 pointer-events-none"}`},g.createElement("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"group flex items-center justify-center w-14 h-14 rounded-2xl bg-white/60 backdrop-blur-lg border border-green-400 shadow-xl hover:scale-110 hover:bg-green-50 transition-all relative",title:"WhatsApp"},g.createElement(wk,{size:28,className:"text-green-500 group-hover:text-green-600 transition-colors"}),g.createElement("span",{className:"absolute right-full mr-3 px-3 py-1 rounded-lg bg-gray-900/90 text-white text-xs opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"},"WhatsApp")),g.createElement("button",{onClick:r,className:"group flex items-center justify-center w-14 h-14 rounded-2xl bg-white/60 backdrop-blur-lg border border-blue-400 shadow-xl hover:scale-110 hover:bg-blue-50 transition-all relative",title:"Live Chat"},g.createElement(mM,{size:28,className:"text-blue-500 group-hover:text-blue-600 transition-colors"}),g.createElement("span",{className:"absolute right-full mr-3 px-3 py-1 rounded-lg bg-gray-900/90 text-white text-xs opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"},"Live Chat"))),g.createElement("button",{className:`flex items-center justify-center w-16 h-16 rounded-3xl shadow-2xl border-2 border-white/40 bg-white/40 backdrop-blur-2xl text-blue-700 hover:text-white hover:bg-gradient-to-tr hover:from-blue-500 hover:to-purple-600 transition-all duration-300 relative ${t?"rotate-180":""}`,onClick:()=>e(!t),style:{boxShadow:"0 8px 32px 0 rgba(31, 38, 135, 0.37)"},"aria-label":"Contact options"},g.createElement("span",{className:"absolute inset-0 rounded-3xl bg-gradient-to-tr from-blue-400/30 to-purple-400/20 blur-lg opacity-60 pointer-events-none"}),t?g.createElement(lM,{size:32,className:"relative z-10"}):g.createElement(pM,{size:36,className:"relative z-10 animate-pulse"})))},yM=()=>g.createElement("div",{className:"flex flex-col min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors"},g.createElement(fM,null),g.createElement("main",{className:"flex-grow pb-20"},g.createElement(CO,null)),g.createElement(gM,null),g.createElement(dM,null)),vM="/assets/pubg-DRAqToEh.png",_M="/assets/free_fire-v4FKHjLf.png",wM="/assets/pes-BtsoUCnt.png",EM="/assets/FIFA-DJ6Z4foF.png",xM="data:image/png;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiB2aWV3Qm94PSIwIDAgMjAwIDIwMCI+DQogIDxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiBmaWxsPSIjRTVFN0VCIi8+DQogIDx0ZXh0IHg9IjUwJSIgeT0iNTAlIiBkb21pbmFudC1iYXNlbGluZT0ibWlkZGxlIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMjAiIGZpbGw9IiM5Q0EzQUYiPkltYWdlPC90ZXh0Pg0KPC9zdmc+IA==",bM={PUBG:vM,"Free Fire":_M,PES:wM,FIFA:EM},TM=({game:t,selected:e,onSelect:n,orderCount:r})=>{const i=e===t.name,s=bM[t.name]||xM;return g.createElement("div",{className:`relative rounded-lg shadow-lg overflow-hidden cursor-pointer transform transition-transform duration-300 ${i?"scale-105 ring-4 ring-blue-500":"hover:scale-105 hover:-rotate-1"}`,onClick:()=>n(t.name)},g.createElement("img",{src:s,alt:`${t.name} Logo`,className:"w-full h-48 object-cover bg-gray-700"}),g.createElement("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/60 to-transparent"}),g.createElement("div",{className:"absolute bottom-4 left-4"},g.createElement("h3",{className:"text-xl font-bold text-white"},t.name),r>0&&g.createElement("p",{className:"text-sm font-semibold text-gray-200 mt-1"}," ",r.toLocaleString()," orders")))},SM=({value:t,onChange:e,orderCounts:n})=>{const r=[{name:"PUBG"},{name:"Free Fire"},{name:"PES"},{name:"FIFA"}],[i,s]=O.useState(t||"PUBG"),o=Kr(),a=l=>{s(l),e&&e(l),o("/select-package",{state:{game:l}})};return g.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-8 w-full max-w-4xl"},r.map(l=>g.createElement(TM,{key:l.name,game:l,selected:i,onSelect:a,orderCount:n[l.name]||0})))};var Qw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xk=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},kM=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},bk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,m=u&63;l||(m=64,o||(f=64)),r.push(n[c],n[d],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(xk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):kM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new IM;const f=s<<2|a>>4;if(r.push(f),u!==64){const m=a<<4&240|u>>2;if(r.push(m),d!==64){const y=u<<6&192|d;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class IM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const CM=function(t){const e=xk(t);return bk.encodeByteArray(e,!0)},Ed=function(t){return CM(t).replace(/\./g,"")},Tk=function(t){try{return bk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM=()=>AM().__FIREBASE_DEFAULTS__,RM=()=>{if(typeof process>"u"||typeof Qw>"u")return;const t=Qw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},DM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Tk(t[1]);return e&&JSON.parse(e)},yf=()=>{try{return PM()||RM()||DM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Sk=t=>{var e,n;return(n=(e=yf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},NM=t=>{const e=Sk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},kk=()=>{var t;return(t=yf())===null||t===void 0?void 0:t.config},Ik=t=>{var e;return(e=yf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MM(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ed(JSON.stringify(n)),Ed(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function LM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ut())}function VM(){var t;const e=(t=yf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function FM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function UM(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function jM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function BM(){const t=Ut();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function zM(){return!VM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $M(){try{return typeof indexedDB=="object"}catch{return!1}}function HM(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WM="FirebaseError";class Gr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=WM,Object.setPrototypeOf(this,Gr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ju.prototype.create)}}class ju{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?qM(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Gr(i,a,r)}}function qM(t,e){return t.replace(KM,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const KM=/\{\$([^}]+)}/g;function GM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function xd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Yw(s)&&Yw(o)){if(!xd(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Yw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ul(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function cl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function QM(t,e){const n=new YM(t,e);return n.subscribe.bind(n)}class YM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");XM(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=zp),i.error===void 0&&(i.error=zp),i.complete===void 0&&(i.complete=zp);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function XM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function zp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(t){return t&&t._delegate?t._delegate:t}class Ms{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new OM;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(e3(e))try{this.getOrInitializeService({instanceIdentifier:us})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=us){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=us){return this.instances.has(e)}getOptions(e=us){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ZM(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=us){return this.component?this.component.multipleInstances?e:us:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ZM(t){return t===us?void 0:t}function e3(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new JM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(fe||(fe={}));const n3={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},r3=fe.INFO,i3={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},s3=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=i3[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class D0{constructor(e){this.name=e,this._logLevel=r3,this._logHandler=s3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?n3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}}const o3=(t,e)=>e.some(n=>t instanceof n);let Xw,Jw;function a3(){return Xw||(Xw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function l3(){return Jw||(Jw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ck=new WeakMap,bg=new WeakMap,Ak=new WeakMap,$p=new WeakMap,N0=new WeakMap;function u3(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Pi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Ck.set(n,t)}).catch(()=>{}),N0.set(e,t),e}function c3(t){if(bg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});bg.set(t,e)}let Tg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return bg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Ak.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Pi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function h3(t){Tg=t(Tg)}function d3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Hp(this),e,...n);return Ak.set(r,e.sort?e.sort():[e]),Pi(r)}:l3().includes(t)?function(...e){return t.apply(Hp(this),e),Pi(Ck.get(this))}:function(...e){return Pi(t.apply(Hp(this),e))}}function f3(t){return typeof t=="function"?d3(t):(t instanceof IDBTransaction&&c3(t),o3(t,a3())?new Proxy(t,Tg):t)}function Pi(t){if(t instanceof IDBRequest)return u3(t);if($p.has(t))return $p.get(t);const e=f3(t);return e!==t&&($p.set(t,e),N0.set(e,t)),e}const Hp=t=>N0.get(t);function p3(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Pi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Pi(o.result),l.oldVersion,l.newVersion,Pi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const m3=["get","getKey","getAll","getAllKeys","count"],g3=["put","add","delete","clear"],Wp=new Map;function Zw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Wp.get(e))return Wp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=g3.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||m3.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Wp.set(e,s),s}h3(t=>({...t,get:(e,n,r)=>Zw(e,n)||t.get(e,n,r),has:(e,n)=>!!Zw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(v3(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function v3(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Sg="@firebase/app",eE="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur=new D0("@firebase/app"),_3="@firebase/app-compat",w3="@firebase/analytics-compat",E3="@firebase/analytics",x3="@firebase/app-check-compat",b3="@firebase/app-check",T3="@firebase/auth",S3="@firebase/auth-compat",k3="@firebase/database",I3="@firebase/data-connect",C3="@firebase/database-compat",A3="@firebase/functions",P3="@firebase/functions-compat",R3="@firebase/installations",D3="@firebase/installations-compat",N3="@firebase/messaging",O3="@firebase/messaging-compat",M3="@firebase/performance",L3="@firebase/performance-compat",V3="@firebase/remote-config",F3="@firebase/remote-config-compat",U3="@firebase/storage",j3="@firebase/storage-compat",B3="@firebase/firestore",z3="@firebase/vertexai-preview",$3="@firebase/firestore-compat",H3="firebase",W3="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kg="[DEFAULT]",q3={[Sg]:"fire-core",[_3]:"fire-core-compat",[E3]:"fire-analytics",[w3]:"fire-analytics-compat",[b3]:"fire-app-check",[x3]:"fire-app-check-compat",[T3]:"fire-auth",[S3]:"fire-auth-compat",[k3]:"fire-rtdb",[I3]:"fire-data-connect",[C3]:"fire-rtdb-compat",[A3]:"fire-fn",[P3]:"fire-fn-compat",[R3]:"fire-iid",[D3]:"fire-iid-compat",[N3]:"fire-fcm",[O3]:"fire-fcm-compat",[M3]:"fire-perf",[L3]:"fire-perf-compat",[V3]:"fire-rc",[F3]:"fire-rc-compat",[U3]:"fire-gcs",[j3]:"fire-gcs-compat",[B3]:"fire-fst",[$3]:"fire-fst-compat",[z3]:"fire-vertex","fire-js":"fire-js",[H3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd=new Map,K3=new Map,Ig=new Map;function tE(t,e){try{t.container.addComponent(e)}catch(n){Ur.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Xo(t){const e=t.name;if(Ig.has(e))return Ur.debug(`There were multiple attempts to register component ${e}.`),!1;Ig.set(e,t);for(const n of bd.values())tE(n,t);for(const n of K3.values())tE(n,t);return!0}function O0(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Pr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ri=new ju("app","Firebase",G3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ms("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ri.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga=W3;function Pk(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:kg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ri.create("bad-app-name",{appName:String(i)});if(n||(n=kk()),!n)throw Ri.create("no-options");const s=bd.get(i);if(s){if(xd(n,s.options)&&xd(r,s.config))return s;throw Ri.create("duplicate-app",{appName:i})}const o=new t3(i);for(const l of Ig.values())o.addComponent(l);const a=new Q3(n,r,o);return bd.set(i,a),a}function Rk(t=kg){const e=bd.get(t);if(!e&&t===kg&&kk())return Pk();if(!e)throw Ri.create("no-app",{appName:t});return e}function Di(t,e,n){var r;let i=(r=q3[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ur.warn(a.join(" "));return}Xo(new Ms(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y3="firebase-heartbeat-database",X3=1,hu="firebase-heartbeat-store";let qp=null;function Dk(){return qp||(qp=p3(Y3,X3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(hu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ri.create("idb-open",{originalErrorMessage:t.message})})),qp}async function J3(t){try{const n=(await Dk()).transaction(hu),r=await n.objectStore(hu).get(Nk(t));return await n.done,r}catch(e){if(e instanceof Gr)Ur.warn(e.message);else{const n=Ri.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ur.warn(n.message)}}}async function nE(t,e){try{const r=(await Dk()).transaction(hu,"readwrite");await r.objectStore(hu).put(e,Nk(t)),await r.done}catch(n){if(n instanceof Gr)Ur.warn(n.message);else{const r=Ri.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ur.warn(r.message)}}}function Nk(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z3=1024,e5=30*24*60*60*1e3;class t5{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new r5(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=rE();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=e5}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ur.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=rE(),{heartbeatsToSend:r,unsentEntries:i}=n5(this._heartbeatsCache.heartbeats),s=Ed(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Ur.warn(n),""}}}function rE(){return new Date().toISOString().substring(0,10)}function n5(t,e=Z3){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),iE(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),iE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class r5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $M()?HM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await J3(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return nE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return nE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function iE(t){return Ed(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i5(t){Xo(new Ms("platform-logger",e=>new y3(e),"PRIVATE")),Xo(new Ms("heartbeat",e=>new t5(e),"PRIVATE")),Di(Sg,eE,t),Di(Sg,eE,"esm2017"),Di("fire-js","")}i5("");var s5="firebase",o5="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Di(s5,o5,"app");var sE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ss,Ok;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,x){function I(){}I.prototype=x.prototype,S.D=x.prototype,S.prototype=new I,S.prototype.constructor=S,S.C=function(C,A,N){for(var P=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)P[ae-2]=arguments[ae];return x.prototype[A].apply(C,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,x,I){I||(I=0);var C=Array(16);if(typeof x=="string")for(var A=0;16>A;++A)C[A]=x.charCodeAt(I++)|x.charCodeAt(I++)<<8|x.charCodeAt(I++)<<16|x.charCodeAt(I++)<<24;else for(A=0;16>A;++A)C[A]=x[I++]|x[I++]<<8|x[I++]<<16|x[I++]<<24;x=S.g[0],I=S.g[1],A=S.g[2];var N=S.g[3],P=x+(N^I&(A^N))+C[0]+3614090360&4294967295;x=I+(P<<7&4294967295|P>>>25),P=N+(A^x&(I^A))+C[1]+3905402710&4294967295,N=x+(P<<12&4294967295|P>>>20),P=A+(I^N&(x^I))+C[2]+606105819&4294967295,A=N+(P<<17&4294967295|P>>>15),P=I+(x^A&(N^x))+C[3]+3250441966&4294967295,I=A+(P<<22&4294967295|P>>>10),P=x+(N^I&(A^N))+C[4]+4118548399&4294967295,x=I+(P<<7&4294967295|P>>>25),P=N+(A^x&(I^A))+C[5]+1200080426&4294967295,N=x+(P<<12&4294967295|P>>>20),P=A+(I^N&(x^I))+C[6]+2821735955&4294967295,A=N+(P<<17&4294967295|P>>>15),P=I+(x^A&(N^x))+C[7]+4249261313&4294967295,I=A+(P<<22&4294967295|P>>>10),P=x+(N^I&(A^N))+C[8]+1770035416&4294967295,x=I+(P<<7&4294967295|P>>>25),P=N+(A^x&(I^A))+C[9]+2336552879&4294967295,N=x+(P<<12&4294967295|P>>>20),P=A+(I^N&(x^I))+C[10]+4294925233&4294967295,A=N+(P<<17&4294967295|P>>>15),P=I+(x^A&(N^x))+C[11]+2304563134&4294967295,I=A+(P<<22&4294967295|P>>>10),P=x+(N^I&(A^N))+C[12]+1804603682&4294967295,x=I+(P<<7&4294967295|P>>>25),P=N+(A^x&(I^A))+C[13]+4254626195&4294967295,N=x+(P<<12&4294967295|P>>>20),P=A+(I^N&(x^I))+C[14]+2792965006&4294967295,A=N+(P<<17&4294967295|P>>>15),P=I+(x^A&(N^x))+C[15]+1236535329&4294967295,I=A+(P<<22&4294967295|P>>>10),P=x+(A^N&(I^A))+C[1]+4129170786&4294967295,x=I+(P<<5&4294967295|P>>>27),P=N+(I^A&(x^I))+C[6]+3225465664&4294967295,N=x+(P<<9&4294967295|P>>>23),P=A+(x^I&(N^x))+C[11]+643717713&4294967295,A=N+(P<<14&4294967295|P>>>18),P=I+(N^x&(A^N))+C[0]+3921069994&4294967295,I=A+(P<<20&4294967295|P>>>12),P=x+(A^N&(I^A))+C[5]+3593408605&4294967295,x=I+(P<<5&4294967295|P>>>27),P=N+(I^A&(x^I))+C[10]+38016083&4294967295,N=x+(P<<9&4294967295|P>>>23),P=A+(x^I&(N^x))+C[15]+3634488961&4294967295,A=N+(P<<14&4294967295|P>>>18),P=I+(N^x&(A^N))+C[4]+3889429448&4294967295,I=A+(P<<20&4294967295|P>>>12),P=x+(A^N&(I^A))+C[9]+568446438&4294967295,x=I+(P<<5&4294967295|P>>>27),P=N+(I^A&(x^I))+C[14]+3275163606&4294967295,N=x+(P<<9&4294967295|P>>>23),P=A+(x^I&(N^x))+C[3]+4107603335&4294967295,A=N+(P<<14&4294967295|P>>>18),P=I+(N^x&(A^N))+C[8]+1163531501&4294967295,I=A+(P<<20&4294967295|P>>>12),P=x+(A^N&(I^A))+C[13]+2850285829&4294967295,x=I+(P<<5&4294967295|P>>>27),P=N+(I^A&(x^I))+C[2]+4243563512&4294967295,N=x+(P<<9&4294967295|P>>>23),P=A+(x^I&(N^x))+C[7]+1735328473&4294967295,A=N+(P<<14&4294967295|P>>>18),P=I+(N^x&(A^N))+C[12]+2368359562&4294967295,I=A+(P<<20&4294967295|P>>>12),P=x+(I^A^N)+C[5]+4294588738&4294967295,x=I+(P<<4&4294967295|P>>>28),P=N+(x^I^A)+C[8]+2272392833&4294967295,N=x+(P<<11&4294967295|P>>>21),P=A+(N^x^I)+C[11]+1839030562&4294967295,A=N+(P<<16&4294967295|P>>>16),P=I+(A^N^x)+C[14]+4259657740&4294967295,I=A+(P<<23&4294967295|P>>>9),P=x+(I^A^N)+C[1]+2763975236&4294967295,x=I+(P<<4&4294967295|P>>>28),P=N+(x^I^A)+C[4]+1272893353&4294967295,N=x+(P<<11&4294967295|P>>>21),P=A+(N^x^I)+C[7]+4139469664&4294967295,A=N+(P<<16&4294967295|P>>>16),P=I+(A^N^x)+C[10]+3200236656&4294967295,I=A+(P<<23&4294967295|P>>>9),P=x+(I^A^N)+C[13]+681279174&4294967295,x=I+(P<<4&4294967295|P>>>28),P=N+(x^I^A)+C[0]+3936430074&4294967295,N=x+(P<<11&4294967295|P>>>21),P=A+(N^x^I)+C[3]+3572445317&4294967295,A=N+(P<<16&4294967295|P>>>16),P=I+(A^N^x)+C[6]+76029189&4294967295,I=A+(P<<23&4294967295|P>>>9),P=x+(I^A^N)+C[9]+3654602809&4294967295,x=I+(P<<4&4294967295|P>>>28),P=N+(x^I^A)+C[12]+3873151461&4294967295,N=x+(P<<11&4294967295|P>>>21),P=A+(N^x^I)+C[15]+530742520&4294967295,A=N+(P<<16&4294967295|P>>>16),P=I+(A^N^x)+C[2]+3299628645&4294967295,I=A+(P<<23&4294967295|P>>>9),P=x+(A^(I|~N))+C[0]+4096336452&4294967295,x=I+(P<<6&4294967295|P>>>26),P=N+(I^(x|~A))+C[7]+1126891415&4294967295,N=x+(P<<10&4294967295|P>>>22),P=A+(x^(N|~I))+C[14]+2878612391&4294967295,A=N+(P<<15&4294967295|P>>>17),P=I+(N^(A|~x))+C[5]+4237533241&4294967295,I=A+(P<<21&4294967295|P>>>11),P=x+(A^(I|~N))+C[12]+1700485571&4294967295,x=I+(P<<6&4294967295|P>>>26),P=N+(I^(x|~A))+C[3]+2399980690&4294967295,N=x+(P<<10&4294967295|P>>>22),P=A+(x^(N|~I))+C[10]+4293915773&4294967295,A=N+(P<<15&4294967295|P>>>17),P=I+(N^(A|~x))+C[1]+2240044497&4294967295,I=A+(P<<21&4294967295|P>>>11),P=x+(A^(I|~N))+C[8]+1873313359&4294967295,x=I+(P<<6&4294967295|P>>>26),P=N+(I^(x|~A))+C[15]+4264355552&4294967295,N=x+(P<<10&4294967295|P>>>22),P=A+(x^(N|~I))+C[6]+2734768916&4294967295,A=N+(P<<15&4294967295|P>>>17),P=I+(N^(A|~x))+C[13]+1309151649&4294967295,I=A+(P<<21&4294967295|P>>>11),P=x+(A^(I|~N))+C[4]+4149444226&4294967295,x=I+(P<<6&4294967295|P>>>26),P=N+(I^(x|~A))+C[11]+3174756917&4294967295,N=x+(P<<10&4294967295|P>>>22),P=A+(x^(N|~I))+C[2]+718787259&4294967295,A=N+(P<<15&4294967295|P>>>17),P=I+(N^(A|~x))+C[9]+3951481745&4294967295,S.g[0]=S.g[0]+x&4294967295,S.g[1]=S.g[1]+(A+(P<<21&4294967295|P>>>11))&4294967295,S.g[2]=S.g[2]+A&4294967295,S.g[3]=S.g[3]+N&4294967295}r.prototype.u=function(S,x){x===void 0&&(x=S.length);for(var I=x-this.blockSize,C=this.B,A=this.h,N=0;N<x;){if(A==0)for(;N<=I;)i(this,S,N),N+=this.blockSize;if(typeof S=="string"){for(;N<x;)if(C[A++]=S.charCodeAt(N++),A==this.blockSize){i(this,C),A=0;break}}else for(;N<x;)if(C[A++]=S[N++],A==this.blockSize){i(this,C),A=0;break}}this.h=A,this.o+=x},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var x=1;x<S.length-8;++x)S[x]=0;var I=8*this.o;for(x=S.length-8;x<S.length;++x)S[x]=I&255,I/=256;for(this.u(S),S=Array(16),x=I=0;4>x;++x)for(var C=0;32>C;C+=8)S[I++]=this.g[x]>>>C&255;return S};function s(S,x){var I=a;return Object.prototype.hasOwnProperty.call(I,S)?I[S]:I[S]=x(S)}function o(S,x){this.h=x;for(var I=[],C=!0,A=S.length-1;0<=A;A--){var N=S[A]|0;C&&N==x||(I[A]=N,C=!1)}this.g=I}var a={};function l(S){return-128<=S&&128>S?s(S,function(x){return new o([x|0],0>x?-1:0)}):new o([S|0],0>S?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return d;if(0>S)return E(u(-S));for(var x=[],I=1,C=0;S>=I;C++)x[C]=S/I|0,I*=4294967296;return new o(x,0)}function c(S,x){if(S.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(S.charAt(0)=="-")return E(c(S.substring(1),x));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=u(Math.pow(x,8)),C=d,A=0;A<S.length;A+=8){var N=Math.min(8,S.length-A),P=parseInt(S.substring(A,A+N),x);8>N?(N=u(Math.pow(x,N)),C=C.j(N).add(u(P))):(C=C.j(I),C=C.add(u(P)))}return C}var d=l(0),f=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(_(this))return-E(this).m();for(var S=0,x=1,I=0;I<this.g.length;I++){var C=this.i(I);S+=(0<=C?C:4294967296+C)*x,x*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(y(this))return"0";if(_(this))return"-"+E(this).toString(S);for(var x=u(Math.pow(S,6)),I=this,C="";;){var A=R(I,x).g;I=w(I,A.j(x));var N=((0<I.g.length?I.g[0]:I.h)>>>0).toString(S);if(I=A,y(I))return N+C;for(;6>N.length;)N="0"+N;C=N+C}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function y(S){if(S.h!=0)return!1;for(var x=0;x<S.g.length;x++)if(S.g[x]!=0)return!1;return!0}function _(S){return S.h==-1}t.l=function(S){return S=w(this,S),_(S)?-1:y(S)?0:1};function E(S){for(var x=S.g.length,I=[],C=0;C<x;C++)I[C]=~S.g[C];return new o(I,~S.h).add(f)}t.abs=function(){return _(this)?E(this):this},t.add=function(S){for(var x=Math.max(this.g.length,S.g.length),I=[],C=0,A=0;A<=x;A++){var N=C+(this.i(A)&65535)+(S.i(A)&65535),P=(N>>>16)+(this.i(A)>>>16)+(S.i(A)>>>16);C=P>>>16,N&=65535,P&=65535,I[A]=P<<16|N}return new o(I,I[I.length-1]&-2147483648?-1:0)};function w(S,x){return S.add(E(x))}t.j=function(S){if(y(this)||y(S))return d;if(_(this))return _(S)?E(this).j(E(S)):E(E(this).j(S));if(_(S))return E(this.j(E(S)));if(0>this.l(m)&&0>S.l(m))return u(this.m()*S.m());for(var x=this.g.length+S.g.length,I=[],C=0;C<2*x;C++)I[C]=0;for(C=0;C<this.g.length;C++)for(var A=0;A<S.g.length;A++){var N=this.i(C)>>>16,P=this.i(C)&65535,ae=S.i(A)>>>16,oe=S.i(A)&65535;I[2*C+2*A]+=P*oe,b(I,2*C+2*A),I[2*C+2*A+1]+=N*oe,b(I,2*C+2*A+1),I[2*C+2*A+1]+=P*ae,b(I,2*C+2*A+1),I[2*C+2*A+2]+=N*ae,b(I,2*C+2*A+2)}for(C=0;C<x;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=x;C<2*x;C++)I[C]=0;return new o(I,0)};function b(S,x){for(;(S[x]&65535)!=S[x];)S[x+1]+=S[x]>>>16,S[x]&=65535,x++}function T(S,x){this.g=S,this.h=x}function R(S,x){if(y(x))throw Error("division by zero");if(y(S))return new T(d,d);if(_(S))return x=R(E(S),x),new T(E(x.g),E(x.h));if(_(x))return x=R(S,E(x)),new T(E(x.g),x.h);if(30<S.g.length){if(_(S)||_(x))throw Error("slowDivide_ only works with positive integers.");for(var I=f,C=x;0>=C.l(S);)I=D(I),C=D(C);var A=M(I,1),N=M(C,1);for(C=M(C,2),I=M(I,2);!y(C);){var P=N.add(C);0>=P.l(S)&&(A=A.add(I),N=P),C=M(C,1),I=M(I,1)}return x=w(S,A.j(x)),new T(A,x)}for(A=d;0<=S.l(x);){for(I=Math.max(1,Math.floor(S.m()/x.m())),C=Math.ceil(Math.log(I)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),N=u(I),P=N.j(x);_(P)||0<P.l(S);)I-=C,N=u(I),P=N.j(x);y(N)&&(N=f),A=A.add(N),S=w(S,P)}return new T(A,S)}t.A=function(S){return R(this,S).h},t.and=function(S){for(var x=Math.max(this.g.length,S.g.length),I=[],C=0;C<x;C++)I[C]=this.i(C)&S.i(C);return new o(I,this.h&S.h)},t.or=function(S){for(var x=Math.max(this.g.length,S.g.length),I=[],C=0;C<x;C++)I[C]=this.i(C)|S.i(C);return new o(I,this.h|S.h)},t.xor=function(S){for(var x=Math.max(this.g.length,S.g.length),I=[],C=0;C<x;C++)I[C]=this.i(C)^S.i(C);return new o(I,this.h^S.h)};function D(S){for(var x=S.g.length+1,I=[],C=0;C<x;C++)I[C]=S.i(C)<<1|S.i(C-1)>>>31;return new o(I,S.h)}function M(S,x){var I=x>>5;x%=32;for(var C=S.g.length-I,A=[],N=0;N<C;N++)A[N]=0<x?S.i(N+I)>>>x|S.i(N+I+1)<<32-x:S.i(N+I);return new o(A,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Ok=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=c,Ss=o}).apply(typeof sE<"u"?sE:typeof self<"u"?self:typeof window<"u"?window:{});var jc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Mk,hl,Lk,kh,Cg,Vk,Fk,Uk;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,p,v){return h==Array.prototype||h==Object.prototype||(h[p]=v.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof jc=="object"&&jc];for(var p=0;p<h.length;++p){var v=h[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function i(h,p){if(p)e:{var v=r;h=h.split(".");for(var k=0;k<h.length-1;k++){var L=h[k];if(!(L in v))break e;v=v[L]}h=h[h.length-1],k=v[h],p=p(k),p!=k&&p!=null&&e(v,h,{configurable:!0,writable:!0,value:p})}}function s(h,p){h instanceof String&&(h+="");var v=0,k=!1,L={next:function(){if(!k&&v<h.length){var V=v++;return{value:p(V,h[V]),done:!1}}return k=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}i("Array.prototype.values",function(h){return h||function(){return s(this,function(p,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(h){var p=typeof h;return p=p!="object"?p:h?Array.isArray(h)?"array":p:"null",p=="array"||p=="object"&&typeof h.length=="number"}function u(h){var p=typeof h;return p=="object"&&h!=null||p=="function"}function c(h,p,v){return h.call.apply(h.bind,arguments)}function d(h,p,v){if(!h)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,k),h.apply(p,L)}}return function(){return h.apply(p,arguments)}}function f(h,p,v){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:d,f.apply(null,arguments)}function m(h,p){var v=Array.prototype.slice.call(arguments,1);return function(){var k=v.slice();return k.push.apply(k,arguments),h.apply(this,k)}}function y(h,p){function v(){}v.prototype=p.prototype,h.aa=p.prototype,h.prototype=new v,h.prototype.constructor=h,h.Qb=function(k,L,V){for(var z=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)z[Ie-2]=arguments[Ie];return p.prototype[L].apply(k,z)}}function _(h){const p=h.length;if(0<p){const v=Array(p);for(let k=0;k<p;k++)v[k]=h[k];return v}return[]}function E(h,p){for(let v=1;v<arguments.length;v++){const k=arguments[v];if(l(k)){const L=h.length||0,V=k.length||0;h.length=L+V;for(let z=0;z<V;z++)h[L+z]=k[z]}else h.push(k)}}class w{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function b(h){return/^[\s\xa0]*$/.test(h)}function T(){var h=a.navigator;return h&&(h=h.userAgent)?h:""}function R(h){return R[" "](h),h}R[" "]=function(){};var D=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function M(h,p,v){for(const k in h)p.call(v,h[k],k,h)}function S(h,p){for(const v in h)p.call(void 0,h[v],v,h)}function x(h){const p={};for(const v in h)p[v]=h[v];return p}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(h,p){let v,k;for(let L=1;L<arguments.length;L++){k=arguments[L];for(v in k)h[v]=k[v];for(let V=0;V<I.length;V++)v=I[V],Object.prototype.hasOwnProperty.call(k,v)&&(h[v]=k[v])}}function A(h){var p=1;h=h.split(":");const v=[];for(;0<p&&h.length;)v.push(h.shift()),p--;return h.length&&v.push(h.join(":")),v}function N(h){a.setTimeout(()=>{throw h},0)}function P(){var h=W;let p=null;return h.g&&(p=h.g,h.g=h.g.next,h.g||(h.h=null),p.next=null),p}class ae{constructor(){this.h=this.g=null}add(p,v){const k=oe.get();k.set(p,v),this.h?this.h.next=k:this.g=k,this.h=k}}var oe=new w(()=>new xe,h=>h.reset());class xe{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let te,j=!1,W=new ae,K=()=>{const h=a.Promise.resolve(void 0);te=()=>{h.then(de)}};var de=()=>{for(var h;h=P();){try{h.h.call(h.g)}catch(v){N(v)}var p=oe;p.j(h),100>p.h&&(p.h++,h.next=p.g,p.g=h)}j=!1};function se(){this.s=this.s,this.C=this.C}se.prototype.s=!1,se.prototype.ma=function(){this.s||(this.s=!0,this.N())},se.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(h,p){this.type=h,this.g=this.target=p,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var Fe=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var h=!1,p=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const v=()=>{};a.addEventListener("test",v,p),a.removeEventListener("test",v,p)}catch{}return h}();function Ge(h,p){if(ce.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var v=this.type=h.type,k=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=p,p=h.relatedTarget){if(D){e:{try{R(p.nodeName);var L=!0;break e}catch{}L=!1}L||(p=null)}}else v=="mouseover"?p=h.fromElement:v=="mouseout"&&(p=h.toElement);this.relatedTarget=p,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Re[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Ge.aa.h.call(this)}}y(Ge,ce);var Re={2:"touch",3:"pen",4:"mouse"};Ge.prototype.h=function(){Ge.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var jt="closure_listenable_"+(1e6*Math.random()|0),Yr=0;function G(h,p,v,k,L){this.listener=h,this.proxy=null,this.src=p,this.type=v,this.capture=!!k,this.ha=L,this.key=++Yr,this.da=this.fa=!1}function ke(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function le(h){this.src=h,this.g={},this.h=0}le.prototype.add=function(h,p,v,k,L){var V=h.toString();h=this.g[V],h||(h=this.g[V]=[],this.h++);var z=yr(h,p,k,L);return-1<z?(p=h[z],v||(p.fa=!1)):(p=new G(p,this.src,V,!!k,L),p.fa=v,h.push(p)),p};function an(h,p){var v=p.type;if(v in h.g){var k=h.g[v],L=Array.prototype.indexOf.call(k,p,void 0),V;(V=0<=L)&&Array.prototype.splice.call(k,L,1),V&&(ke(p),h.g[v].length==0&&(delete h.g[v],h.h--))}}function yr(h,p,v,k){for(var L=0;L<h.length;++L){var V=h[L];if(!V.da&&V.listener==p&&V.capture==!!v&&V.ha==k)return L}return-1}var Y="closure_lm_"+(1e6*Math.random()|0),ne={};function ye(h,p,v,k,L){if(Array.isArray(p)){for(var V=0;V<p.length;V++)ye(h,p[V],v,k,L);return null}return v=N_(v),h&&h[jt]?h.K(p,v,u(k)?!!k.capture:!1,L):et(h,p,v,!1,k,L)}function et(h,p,v,k,L,V){if(!p)throw Error("Invalid event type");var z=u(L)?!!L.capture:!!L,Ie=Xf(h);if(Ie||(h[Y]=Ie=new le(h)),v=Ie.add(p,v,k,z,V),v.proxy)return v;if(k=Ia(),v.proxy=k,k.src=h,k.listener=v,h.addEventListener)Fe||(L=z),L===void 0&&(L=!1),h.addEventListener(p.toString(),k,L);else if(h.attachEvent)h.attachEvent(St(p.toString()),k);else if(h.addListener&&h.removeListener)h.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ia(){function h(v){return p.call(h.src,h.listener,v)}const p=oc;return h}function sc(h,p,v,k,L){if(Array.isArray(p))for(var V=0;V<p.length;V++)sc(h,p[V],v,k,L);else k=u(k)?!!k.capture:!!k,v=N_(v),h&&h[jt]?(h=h.i,p=String(p).toString(),p in h.g&&(V=h.g[p],v=yr(V,v,k,L),-1<v&&(ke(V[v]),Array.prototype.splice.call(V,v,1),V.length==0&&(delete h.g[p],h.h--)))):h&&(h=Xf(h))&&(p=h.g[p.toString()],h=-1,p&&(h=yr(p,v,k,L)),(v=-1<h?p[h]:null)&&ve(v))}function ve(h){if(typeof h!="number"&&h&&!h.da){var p=h.src;if(p&&p[jt])an(p.i,h);else{var v=h.type,k=h.proxy;p.removeEventListener?p.removeEventListener(v,k,h.capture):p.detachEvent?p.detachEvent(St(v),k):p.addListener&&p.removeListener&&p.removeListener(k),(v=Xf(p))?(an(v,h),v.h==0&&(v.src=null,p[Y]=null)):ke(h)}}}function St(h){return h in ne?ne[h]:ne[h]="on"+h}function oc(h,p){if(h.da)h=!0;else{p=new Ge(p,this);var v=h.listener,k=h.ha||h.src;h.fa&&ve(h),h=v.call(k,p)}return h}function Xf(h){return h=h[Y],h instanceof le?h:null}var Jf="__closure_events_fn_"+(1e9*Math.random()>>>0);function N_(h){return typeof h=="function"?h:(h[Jf]||(h[Jf]=function(p){return h.handleEvent(p)}),h[Jf])}function kt(){se.call(this),this.i=new le(this),this.M=this,this.F=null}y(kt,se),kt.prototype[jt]=!0,kt.prototype.removeEventListener=function(h,p,v,k){sc(this,h,p,v,k)};function Bt(h,p){var v,k=h.F;if(k)for(v=[];k;k=k.F)v.push(k);if(h=h.M,k=p.type||p,typeof p=="string")p=new ce(p,h);else if(p instanceof ce)p.target=p.target||h;else{var L=p;p=new ce(k,h),C(p,L)}if(L=!0,v)for(var V=v.length-1;0<=V;V--){var z=p.g=v[V];L=ac(z,k,!0,p)&&L}if(z=p.g=h,L=ac(z,k,!0,p)&&L,L=ac(z,k,!1,p)&&L,v)for(V=0;V<v.length;V++)z=p.g=v[V],L=ac(z,k,!1,p)&&L}kt.prototype.N=function(){if(kt.aa.N.call(this),this.i){var h=this.i,p;for(p in h.g){for(var v=h.g[p],k=0;k<v.length;k++)ke(v[k]);delete h.g[p],h.h--}}this.F=null},kt.prototype.K=function(h,p,v,k){return this.i.add(String(h),p,!1,v,k)},kt.prototype.L=function(h,p,v,k){return this.i.add(String(h),p,!0,v,k)};function ac(h,p,v,k){if(p=h.i.g[String(p)],!p)return!0;p=p.concat();for(var L=!0,V=0;V<p.length;++V){var z=p[V];if(z&&!z.da&&z.capture==v){var Ie=z.listener,mt=z.ha||z.src;z.fa&&an(h.i,z),L=Ie.call(mt,k)!==!1&&L}}return L&&!k.defaultPrevented}function O_(h,p,v){if(typeof h=="function")v&&(h=f(h,v));else if(h&&typeof h.handleEvent=="function")h=f(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(h,p||0)}function M_(h){h.g=O_(()=>{h.g=null,h.i&&(h.i=!1,M_(h))},h.l);const p=h.h;h.h=null,h.m.apply(null,p)}class jR extends se{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:M_(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ca(h){se.call(this),this.h=h,this.g={}}y(Ca,se);var L_=[];function V_(h){M(h.g,function(p,v){this.g.hasOwnProperty(v)&&ve(p)},h),h.g={}}Ca.prototype.N=function(){Ca.aa.N.call(this),V_(this)},Ca.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zf=a.JSON.stringify,BR=a.JSON.parse,zR=class{stringify(h){return a.JSON.stringify(h,void 0)}parse(h){return a.JSON.parse(h,void 0)}};function ep(){}ep.prototype.h=null;function F_(h){return h.h||(h.h=h.i())}function U_(){}var Aa={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function tp(){ce.call(this,"d")}y(tp,ce);function np(){ce.call(this,"c")}y(np,ce);var Zi={},j_=null;function lc(){return j_=j_||new kt}Zi.La="serverreachability";function B_(h){ce.call(this,Zi.La,h)}y(B_,ce);function Pa(h){const p=lc();Bt(p,new B_(p))}Zi.STAT_EVENT="statevent";function z_(h,p){ce.call(this,Zi.STAT_EVENT,h),this.stat=p}y(z_,ce);function zt(h){const p=lc();Bt(p,new z_(p,h))}Zi.Ma="timingevent";function $_(h,p){ce.call(this,Zi.Ma,h),this.size=p}y($_,ce);function Ra(h,p){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){h()},p)}function Da(){this.g=!0}Da.prototype.xa=function(){this.g=!1};function $R(h,p,v,k,L,V){h.info(function(){if(h.g)if(V)for(var z="",Ie=V.split("&"),mt=0;mt<Ie.length;mt++){var _e=Ie[mt].split("=");if(1<_e.length){var It=_e[0];_e=_e[1];var Ct=It.split("_");z=2<=Ct.length&&Ct[1]=="type"?z+(It+"="+_e+"&"):z+(It+"=redacted&")}}else z=null;else z=V;return"XMLHTTP REQ ("+k+") [attempt "+L+"]: "+p+`
`+v+`
`+z})}function HR(h,p,v,k,L,V,z){h.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+L+"]: "+p+`
`+v+`
`+V+" "+z})}function Zs(h,p,v,k){h.info(function(){return"XMLHTTP TEXT ("+p+"): "+qR(h,v)+(k?" "+k:"")})}function WR(h,p){h.info(function(){return"TIMEOUT: "+p})}Da.prototype.info=function(){};function qR(h,p){if(!h.g)return p;if(!p)return null;try{var v=JSON.parse(p);if(v){for(h=0;h<v.length;h++)if(Array.isArray(v[h])){var k=v[h];if(!(2>k.length)){var L=k[1];if(Array.isArray(L)&&!(1>L.length)){var V=L[0];if(V!="noop"&&V!="stop"&&V!="close")for(var z=1;z<L.length;z++)L[z]=""}}}}return Zf(v)}catch{return p}}var uc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},H_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},rp;function cc(){}y(cc,ep),cc.prototype.g=function(){return new XMLHttpRequest},cc.prototype.i=function(){return{}},rp=new cc;function Xr(h,p,v,k){this.j=h,this.i=p,this.l=v,this.R=k||1,this.U=new Ca(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new W_}function W_(){this.i=null,this.g="",this.h=!1}var q_={},ip={};function sp(h,p,v){h.L=1,h.v=pc(vr(p)),h.m=v,h.P=!0,K_(h,null)}function K_(h,p){h.F=Date.now(),hc(h),h.A=vr(h.v);var v=h.A,k=h.R;Array.isArray(k)||(k=[String(k)]),a1(v.i,"t",k),h.C=0,v=h.j.J,h.h=new W_,h.g=S1(h.j,v?p:null,!h.m),0<h.O&&(h.M=new jR(f(h.Y,h,h.g),h.O)),p=h.U,v=h.g,k=h.ca;var L="readystatechange";Array.isArray(L)||(L&&(L_[0]=L.toString()),L=L_);for(var V=0;V<L.length;V++){var z=ye(v,L[V],k||p.handleEvent,!1,p.h||p);if(!z)break;p.g[z.key]=z}p=h.H?x(h.H):{},h.m?(h.u||(h.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,p)):(h.u="GET",h.g.ea(h.A,h.u,null,p)),Pa(),$R(h.i,h.u,h.A,h.l,h.R,h.m)}Xr.prototype.ca=function(h){h=h.target;const p=this.M;p&&_r(h)==3?p.j():this.Y(h)},Xr.prototype.Y=function(h){try{if(h==this.g)e:{const Ct=_r(this.g);var p=this.g.Ba();const no=this.g.Z();if(!(3>Ct)&&(Ct!=3||this.g&&(this.h.h||this.g.oa()||p1(this.g)))){this.J||Ct!=4||p==7||(p==8||0>=no?Pa(3):Pa(2)),op(this);var v=this.g.Z();this.X=v;t:if(G_(this)){var k=p1(this.g);h="";var L=k.length,V=_r(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){es(this),Na(this);var z="";break t}this.h.i=new a.TextDecoder}for(p=0;p<L;p++)this.h.h=!0,h+=this.h.i.decode(k[p],{stream:!(V&&p==L-1)});k.length=0,this.h.g+=h,this.C=0,z=this.h.g}else z=this.g.oa();if(this.o=v==200,HR(this.i,this.u,this.A,this.l,this.R,Ct,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Ie,mt=this.g;if((Ie=mt.g?mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(Ie)){var _e=Ie;break t}}_e=null}if(v=_e)Zs(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ap(this,v);else{this.o=!1,this.s=3,zt(12),es(this),Na(this);break e}}if(this.P){v=!0;let Dn;for(;!this.J&&this.C<z.length;)if(Dn=KR(this,z),Dn==ip){Ct==4&&(this.s=4,zt(14),v=!1),Zs(this.i,this.l,null,"[Incomplete Response]");break}else if(Dn==q_){this.s=4,zt(15),Zs(this.i,this.l,z,"[Invalid Chunk]"),v=!1;break}else Zs(this.i,this.l,Dn,null),ap(this,Dn);if(G_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||z.length!=0||this.h.h||(this.s=1,zt(16),v=!1),this.o=this.o&&v,!v)Zs(this.i,this.l,z,"[Invalid Chunked Response]"),es(this),Na(this);else if(0<z.length&&!this.W){this.W=!0;var It=this.j;It.g==this&&It.ba&&!It.M&&(It.j.info("Great, no buffering proxy detected. Bytes received: "+z.length),fp(It),It.M=!0,zt(11))}}else Zs(this.i,this.l,z,null),ap(this,z);Ct==4&&es(this),this.o&&!this.J&&(Ct==4?E1(this.j,this):(this.o=!1,hc(this)))}else c4(this.g),v==400&&0<z.indexOf("Unknown SID")?(this.s=3,zt(12)):(this.s=0,zt(13)),es(this),Na(this)}}}catch{}finally{}};function G_(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function KR(h,p){var v=h.C,k=p.indexOf(`
`,v);return k==-1?ip:(v=Number(p.substring(v,k)),isNaN(v)?q_:(k+=1,k+v>p.length?ip:(p=p.slice(k,k+v),h.C=k+v,p)))}Xr.prototype.cancel=function(){this.J=!0,es(this)};function hc(h){h.S=Date.now()+h.I,Q_(h,h.I)}function Q_(h,p){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Ra(f(h.ba,h),p)}function op(h){h.B&&(a.clearTimeout(h.B),h.B=null)}Xr.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(WR(this.i,this.A),this.L!=2&&(Pa(),zt(17)),es(this),this.s=2,Na(this)):Q_(this,this.S-h)};function Na(h){h.j.G==0||h.J||E1(h.j,h)}function es(h){op(h);var p=h.M;p&&typeof p.ma=="function"&&p.ma(),h.M=null,V_(h.U),h.g&&(p=h.g,h.g=null,p.abort(),p.ma())}function ap(h,p){try{var v=h.j;if(v.G!=0&&(v.g==h||lp(v.h,h))){if(!h.K&&lp(v.h,h)&&v.G==3){try{var k=v.Da.g.parse(p)}catch{k=null}if(Array.isArray(k)&&k.length==3){var L=k;if(L[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<h.F)wc(v),vc(v);else break e;dp(v),zt(18)}}else v.za=L[1],0<v.za-v.T&&37500>L[2]&&v.F&&v.v==0&&!v.C&&(v.C=Ra(f(v.Za,v),6e3));if(1>=J_(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else ns(v,11)}else if((h.K||v.g==h)&&wc(v),!b(p))for(L=v.Da.g.parse(p),p=0;p<L.length;p++){let _e=L[p];if(v.T=_e[0],_e=_e[1],v.G==2)if(_e[0]=="c"){v.K=_e[1],v.ia=_e[2];const It=_e[3];It!=null&&(v.la=It,v.j.info("VER="+v.la));const Ct=_e[4];Ct!=null&&(v.Aa=Ct,v.j.info("SVER="+v.Aa));const no=_e[5];no!=null&&typeof no=="number"&&0<no&&(k=1.5*no,v.L=k,v.j.info("backChannelRequestTimeoutMs_="+k)),k=v;const Dn=h.g;if(Dn){const xc=Dn.g?Dn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xc){var V=k.h;V.g||xc.indexOf("spdy")==-1&&xc.indexOf("quic")==-1&&xc.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(up(V,V.h),V.h=null))}if(k.D){const pp=Dn.g?Dn.g.getResponseHeader("X-HTTP-Session-Id"):null;pp&&(k.ya=pp,De(k.I,k.D,pp))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-h.F,v.j.info("Handshake RTT: "+v.R+"ms")),k=v;var z=h;if(k.qa=T1(k,k.J?k.ia:null,k.W),z.K){Z_(k.h,z);var Ie=z,mt=k.L;mt&&(Ie.I=mt),Ie.B&&(op(Ie),hc(Ie)),k.g=z}else _1(k);0<v.i.length&&_c(v)}else _e[0]!="stop"&&_e[0]!="close"||ns(v,7);else v.G==3&&(_e[0]=="stop"||_e[0]=="close"?_e[0]=="stop"?ns(v,7):hp(v):_e[0]!="noop"&&v.l&&v.l.ta(_e),v.v=0)}}Pa(4)}catch{}}var GR=class{constructor(h,p){this.g=h,this.map=p}};function Y_(h){this.l=h||10,a.PerformanceNavigationTiming?(h=a.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function X_(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function J_(h){return h.h?1:h.g?h.g.size:0}function lp(h,p){return h.h?h.h==p:h.g?h.g.has(p):!1}function up(h,p){h.g?h.g.add(p):h.h=p}function Z_(h,p){h.h&&h.h==p?h.h=null:h.g&&h.g.has(p)&&h.g.delete(p)}Y_.prototype.cancel=function(){if(this.i=e1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function e1(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let p=h.i;for(const v of h.g.values())p=p.concat(v.D);return p}return _(h.i)}function QR(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(l(h)){for(var p=[],v=h.length,k=0;k<v;k++)p.push(h[k]);return p}p=[],v=0;for(k in h)p[v++]=h[k];return p}function YR(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(l(h)||typeof h=="string"){var p=[];h=h.length;for(var v=0;v<h;v++)p.push(v);return p}p=[],v=0;for(const k in h)p[v++]=k;return p}}}function t1(h,p){if(h.forEach&&typeof h.forEach=="function")h.forEach(p,void 0);else if(l(h)||typeof h=="string")Array.prototype.forEach.call(h,p,void 0);else for(var v=YR(h),k=QR(h),L=k.length,V=0;V<L;V++)p.call(void 0,k[V],v&&v[V],h)}var n1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function XR(h,p){if(h){h=h.split("&");for(var v=0;v<h.length;v++){var k=h[v].indexOf("="),L=null;if(0<=k){var V=h[v].substring(0,k);L=h[v].substring(k+1)}else V=h[v];p(V,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function ts(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof ts){this.h=h.h,dc(this,h.j),this.o=h.o,this.g=h.g,fc(this,h.s),this.l=h.l;var p=h.i,v=new La;v.i=p.i,p.g&&(v.g=new Map(p.g),v.h=p.h),r1(this,v),this.m=h.m}else h&&(p=String(h).match(n1))?(this.h=!1,dc(this,p[1]||"",!0),this.o=Oa(p[2]||""),this.g=Oa(p[3]||"",!0),fc(this,p[4]),this.l=Oa(p[5]||"",!0),r1(this,p[6]||"",!0),this.m=Oa(p[7]||"")):(this.h=!1,this.i=new La(null,this.h))}ts.prototype.toString=function(){var h=[],p=this.j;p&&h.push(Ma(p,i1,!0),":");var v=this.g;return(v||p=="file")&&(h.push("//"),(p=this.o)&&h.push(Ma(p,i1,!0),"@"),h.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&h.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&h.push("/"),h.push(Ma(v,v.charAt(0)=="/"?e4:ZR,!0))),(v=this.i.toString())&&h.push("?",v),(v=this.m)&&h.push("#",Ma(v,n4)),h.join("")};function vr(h){return new ts(h)}function dc(h,p,v){h.j=v?Oa(p,!0):p,h.j&&(h.j=h.j.replace(/:$/,""))}function fc(h,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);h.s=p}else h.s=null}function r1(h,p,v){p instanceof La?(h.i=p,r4(h.i,h.h)):(v||(p=Ma(p,t4)),h.i=new La(p,h.h))}function De(h,p,v){h.i.set(p,v)}function pc(h){return De(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Oa(h,p){return h?p?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ma(h,p,v){return typeof h=="string"?(h=encodeURI(h).replace(p,JR),v&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function JR(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var i1=/[#\/\?@]/g,ZR=/[#\?:]/g,e4=/[#\?]/g,t4=/[#\?@]/g,n4=/#/g;function La(h,p){this.h=this.g=null,this.i=h||null,this.j=!!p}function Jr(h){h.g||(h.g=new Map,h.h=0,h.i&&XR(h.i,function(p,v){h.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}t=La.prototype,t.add=function(h,p){Jr(this),this.i=null,h=eo(this,h);var v=this.g.get(h);return v||this.g.set(h,v=[]),v.push(p),this.h+=1,this};function s1(h,p){Jr(h),p=eo(h,p),h.g.has(p)&&(h.i=null,h.h-=h.g.get(p).length,h.g.delete(p))}function o1(h,p){return Jr(h),p=eo(h,p),h.g.has(p)}t.forEach=function(h,p){Jr(this),this.g.forEach(function(v,k){v.forEach(function(L){h.call(p,L,k,this)},this)},this)},t.na=function(){Jr(this);const h=Array.from(this.g.values()),p=Array.from(this.g.keys()),v=[];for(let k=0;k<p.length;k++){const L=h[k];for(let V=0;V<L.length;V++)v.push(p[k])}return v},t.V=function(h){Jr(this);let p=[];if(typeof h=="string")o1(this,h)&&(p=p.concat(this.g.get(eo(this,h))));else{h=Array.from(this.g.values());for(let v=0;v<h.length;v++)p=p.concat(h[v])}return p},t.set=function(h,p){return Jr(this),this.i=null,h=eo(this,h),o1(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[p]),this.h+=1,this},t.get=function(h,p){return h?(h=this.V(h),0<h.length?String(h[0]):p):p};function a1(h,p,v){s1(h,p),0<v.length&&(h.i=null,h.g.set(eo(h,p),_(v)),h.h+=v.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],p=Array.from(this.g.keys());for(var v=0;v<p.length;v++){var k=p[v];const V=encodeURIComponent(String(k)),z=this.V(k);for(k=0;k<z.length;k++){var L=V;z[k]!==""&&(L+="="+encodeURIComponent(String(z[k]))),h.push(L)}}return this.i=h.join("&")};function eo(h,p){return p=String(p),h.j&&(p=p.toLowerCase()),p}function r4(h,p){p&&!h.j&&(Jr(h),h.i=null,h.g.forEach(function(v,k){var L=k.toLowerCase();k!=L&&(s1(this,k),a1(this,L,v))},h)),h.j=p}function i4(h,p){const v=new Da;if(a.Image){const k=new Image;k.onload=m(Zr,v,"TestLoadImage: loaded",!0,p,k),k.onerror=m(Zr,v,"TestLoadImage: error",!1,p,k),k.onabort=m(Zr,v,"TestLoadImage: abort",!1,p,k),k.ontimeout=m(Zr,v,"TestLoadImage: timeout",!1,p,k),a.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=h}else p(!1)}function s4(h,p){const v=new Da,k=new AbortController,L=setTimeout(()=>{k.abort(),Zr(v,"TestPingServer: timeout",!1,p)},1e4);fetch(h,{signal:k.signal}).then(V=>{clearTimeout(L),V.ok?Zr(v,"TestPingServer: ok",!0,p):Zr(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(L),Zr(v,"TestPingServer: error",!1,p)})}function Zr(h,p,v,k,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),k(v)}catch{}}function o4(){this.g=new zR}function a4(h,p,v){const k=v||"";try{t1(h,function(L,V){let z=L;u(L)&&(z=Zf(L)),p.push(k+V+"="+encodeURIComponent(z))})}catch(L){throw p.push(k+"type="+encodeURIComponent("_badmap")),L}}function mc(h){this.l=h.Ub||null,this.j=h.eb||!1}y(mc,ep),mc.prototype.g=function(){return new gc(this.l,this.j)},mc.prototype.i=function(h){return function(){return h}}({});function gc(h,p){kt.call(this),this.D=h,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(gc,kt),t=gc.prototype,t.open=function(h,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=p,this.readyState=1,Fa(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(p.body=h),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Va(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Fa(this)),this.g&&(this.readyState=3,Fa(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;l1(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function l1(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var p=h.value?h.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!h.done}))&&(this.response=this.responseText+=p)}h.done?Va(this):Fa(this),this.readyState==3&&l1(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,Va(this))},t.Qa=function(h){this.g&&(this.response=h,Va(this))},t.ga=function(){this.g&&Va(this)};function Va(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Fa(h)}t.setRequestHeader=function(h,p){this.u.append(h,p)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,h.push(v[0]+": "+v[1]),v=p.next();return h.join(`\r
`)};function Fa(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(gc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function u1(h){let p="";return M(h,function(v,k){p+=k,p+=":",p+=v,p+=`\r
`}),p}function cp(h,p,v){e:{for(k in v){var k=!1;break e}k=!0}k||(v=u1(v),typeof h=="string"?v!=null&&encodeURIComponent(String(v)):De(h,p,v))}function We(h){kt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(We,kt);var l4=/^https?$/i,u4=["POST","PUT"];t=We.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,p,v,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);p=p?p.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():rp.g(),this.v=this.o?F_(this.o):F_(rp),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(p,String(h),!0),this.B=!1}catch(V){c1(this,V);return}if(h=v||"",v=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var L in k)v.set(L,k[L]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const V of k.keys())v.set(V,k.get(V));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(v.keys()).find(V=>V.toLowerCase()=="content-type"),L=a.FormData&&h instanceof a.FormData,!(0<=Array.prototype.indexOf.call(u4,p,void 0))||k||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,z]of v)this.g.setRequestHeader(V,z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{f1(this),this.u=!0,this.g.send(h),this.u=!1}catch(V){c1(this,V)}};function c1(h,p){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=p,h.m=5,h1(h),yc(h)}function h1(h){h.A||(h.A=!0,Bt(h,"complete"),Bt(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Bt(this,"complete"),Bt(this,"abort"),yc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yc(this,!0)),We.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?d1(this):this.bb())},t.bb=function(){d1(this)};function d1(h){if(h.h&&typeof o<"u"&&(!h.v[1]||_r(h)!=4||h.Z()!=2)){if(h.u&&_r(h)==4)O_(h.Ea,0,h);else if(Bt(h,"readystatechange"),_r(h)==4){h.h=!1;try{const z=h.Z();e:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var v;if(!(v=p)){var k;if(k=z===0){var L=String(h.D).match(n1)[1]||null;!L&&a.self&&a.self.location&&(L=a.self.location.protocol.slice(0,-1)),k=!l4.test(L?L.toLowerCase():"")}v=k}if(v)Bt(h,"complete"),Bt(h,"success");else{h.m=6;try{var V=2<_r(h)?h.g.statusText:""}catch{V=""}h.l=V+" ["+h.Z()+"]",h1(h)}}finally{yc(h)}}}}function yc(h,p){if(h.g){f1(h);const v=h.g,k=h.v[0]?()=>{}:null;h.g=null,h.v=null,p||Bt(h,"ready");try{v.onreadystatechange=k}catch{}}}function f1(h){h.I&&(a.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function _r(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<_r(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var p=this.g.responseText;return h&&p.indexOf(h)==0&&(p=p.substring(h.length)),BR(p)}};function p1(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function c4(h){const p={};h=(h.g&&2<=_r(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<h.length;k++){if(b(h[k]))continue;var v=A(h[k]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const V=p[L]||[];p[L]=V,V.push(v)}S(p,function(k){return k.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ua(h,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[h]||p}function m1(h){this.Aa=0,this.i=[],this.j=new Da,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ua("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ua("baseRetryDelayMs",5e3,h),this.cb=Ua("retryDelaySeedMs",1e4,h),this.Wa=Ua("forwardChannelMaxRetries",2,h),this.wa=Ua("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Y_(h&&h.concurrentRequestLimit),this.Da=new o4,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=m1.prototype,t.la=8,t.G=1,t.connect=function(h,p,v,k){zt(0),this.W=h,this.H=p||{},v&&k!==void 0&&(this.H.OSID=v,this.H.OAID=k),this.F=this.X,this.I=T1(this,null,this.W),_c(this)};function hp(h){if(g1(h),h.G==3){var p=h.U++,v=vr(h.I);if(De(v,"SID",h.K),De(v,"RID",p),De(v,"TYPE","terminate"),ja(h,v),p=new Xr(h,h.j,p),p.L=2,p.v=pc(vr(v)),v=!1,a.navigator&&a.navigator.sendBeacon)try{v=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!v&&a.Image&&(new Image().src=p.v,v=!0),v||(p.g=S1(p.j,null),p.g.ea(p.v)),p.F=Date.now(),hc(p)}b1(h)}function vc(h){h.g&&(fp(h),h.g.cancel(),h.g=null)}function g1(h){vc(h),h.u&&(a.clearTimeout(h.u),h.u=null),wc(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&a.clearTimeout(h.s),h.s=null)}function _c(h){if(!X_(h.h)&&!h.s){h.s=!0;var p=h.Ga;te||K(),j||(te(),j=!0),W.add(p,h),h.B=0}}function h4(h,p){return J_(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=p.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Ra(f(h.Ga,h,p),x1(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const L=new Xr(this,this.j,h);let V=this.o;if(this.S&&(V?(V=x(V),C(V,this.S)):V=this.S),this.m!==null||this.O||(L.H=V,V=null),this.P)e:{for(var p=0,v=0;v<this.i.length;v++){t:{var k=this.i[v];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(p+=k,4096<p){p=v;break e}if(p===4096||v===this.i.length-1){p=v+1;break e}}p=1e3}else p=1e3;p=v1(this,L,p),v=vr(this.I),De(v,"RID",h),De(v,"CVER",22),this.D&&De(v,"X-HTTP-Session-Id",this.D),ja(this,v),V&&(this.O?p="headers="+encodeURIComponent(String(u1(V)))+"&"+p:this.m&&cp(v,this.m,V)),up(this.h,L),this.Ua&&De(v,"TYPE","init"),this.P?(De(v,"$req",p),De(v,"SID","null"),L.T=!0,sp(L,v,null)):sp(L,v,p),this.G=2}}else this.G==3&&(h?y1(this,h):this.i.length==0||X_(this.h)||y1(this))};function y1(h,p){var v;p?v=p.l:v=h.U++;const k=vr(h.I);De(k,"SID",h.K),De(k,"RID",v),De(k,"AID",h.T),ja(h,k),h.m&&h.o&&cp(k,h.m,h.o),v=new Xr(h,h.j,v,h.B+1),h.m===null&&(v.H=h.o),p&&(h.i=p.D.concat(h.i)),p=v1(h,v,1e3),v.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),up(h.h,v),sp(v,k,p)}function ja(h,p){h.H&&M(h.H,function(v,k){De(p,k,v)}),h.l&&t1({},function(v,k){De(p,k,v)})}function v1(h,p,v){v=Math.min(h.i.length,v);var k=h.l?f(h.l.Na,h.l,h):null;e:{var L=h.i;let V=-1;for(;;){const z=["count="+v];V==-1?0<v?(V=L[0].g,z.push("ofs="+V)):V=0:z.push("ofs="+V);let Ie=!0;for(let mt=0;mt<v;mt++){let _e=L[mt].g;const It=L[mt].map;if(_e-=V,0>_e)V=Math.max(0,L[mt].g-100),Ie=!1;else try{a4(It,z,"req"+_e+"_")}catch{k&&k(It)}}if(Ie){k=z.join("&");break e}}}return h=h.i.splice(0,v),p.D=h,k}function _1(h){if(!h.g&&!h.u){h.Y=1;var p=h.Fa;te||K(),j||(te(),j=!0),W.add(p,h),h.v=0}}function dp(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Ra(f(h.Fa,h),x1(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,w1(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Ra(f(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,zt(10),vc(this),w1(this))};function fp(h){h.A!=null&&(a.clearTimeout(h.A),h.A=null)}function w1(h){h.g=new Xr(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var p=vr(h.qa);De(p,"RID","rpc"),De(p,"SID",h.K),De(p,"AID",h.T),De(p,"CI",h.F?"0":"1"),!h.F&&h.ja&&De(p,"TO",h.ja),De(p,"TYPE","xmlhttp"),ja(h,p),h.m&&h.o&&cp(p,h.m,h.o),h.L&&(h.g.I=h.L);var v=h.g;h=h.ia,v.L=1,v.v=pc(vr(p)),v.m=null,v.P=!0,K_(v,h)}t.Za=function(){this.C!=null&&(this.C=null,vc(this),dp(this),zt(19))};function wc(h){h.C!=null&&(a.clearTimeout(h.C),h.C=null)}function E1(h,p){var v=null;if(h.g==p){wc(h),fp(h),h.g=null;var k=2}else if(lp(h.h,p))v=p.D,Z_(h.h,p),k=1;else return;if(h.G!=0){if(p.o)if(k==1){v=p.m?p.m.length:0,p=Date.now()-p.F;var L=h.B;k=lc(),Bt(k,new $_(k,v)),_c(h)}else _1(h);else if(L=p.s,L==3||L==0&&0<p.X||!(k==1&&h4(h,p)||k==2&&dp(h)))switch(v&&0<v.length&&(p=h.h,p.i=p.i.concat(v)),L){case 1:ns(h,5);break;case 4:ns(h,10);break;case 3:ns(h,6);break;default:ns(h,2)}}}function x1(h,p){let v=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(v*=2),v*p}function ns(h,p){if(h.j.info("Error code "+p),p==2){var v=f(h.fb,h),k=h.Xa;const L=!k;k=new ts(k||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||dc(k,"https"),pc(k),L?i4(k.toString(),v):s4(k.toString(),v)}else zt(2);h.G=0,h.l&&h.l.sa(p),b1(h),g1(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),zt(2)):(this.j.info("Failed to ping google.com"),zt(1))};function b1(h){if(h.G=0,h.ka=[],h.l){const p=e1(h.h);(p.length!=0||h.i.length!=0)&&(E(h.ka,p),E(h.ka,h.i),h.h.i.length=0,_(h.i),h.i.length=0),h.l.ra()}}function T1(h,p,v){var k=v instanceof ts?vr(v):new ts(v);if(k.g!="")p&&(k.g=p+"."+k.g),fc(k,k.s);else{var L=a.location;k=L.protocol,p=p?p+"."+L.hostname:L.hostname,L=+L.port;var V=new ts(null);k&&dc(V,k),p&&(V.g=p),L&&fc(V,L),v&&(V.l=v),k=V}return v=h.D,p=h.ya,v&&p&&De(k,v,p),De(k,"VER",h.la),ja(h,k),k}function S1(h,p,v){if(p&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=h.Ca&&!h.pa?new We(new mc({eb:v})):new We(h.pa),p.Ha(h.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function k1(){}t=k1.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ec(){}Ec.prototype.g=function(h,p){return new ln(h,p)};function ln(h,p){kt.call(this),this.g=new m1(p),this.l=h,this.h=p&&p.messageUrlParams||null,h=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(h?h["X-WebChannel-Content-Type"]=p.messageContentType:h={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(h?h["X-WebChannel-Client-Profile"]=p.va:h={"X-WebChannel-Client-Profile":p.va}),this.g.S=h,(h=p&&p.Sb)&&!b(h)&&(this.g.m=h),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!b(p)&&(this.g.D=p,h=this.h,h!==null&&p in h&&(h=this.h,p in h&&delete h[p])),this.j=new to(this)}y(ln,kt),ln.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){hp(this.g)},ln.prototype.o=function(h){var p=this.g;if(typeof h=="string"){var v={};v.__data__=h,h=v}else this.u&&(v={},v.__data__=Zf(h),h=v);p.i.push(new GR(p.Ya++,h)),p.G==3&&_c(p)},ln.prototype.N=function(){this.g.l=null,delete this.j,hp(this.g),delete this.g,ln.aa.N.call(this)};function I1(h){tp.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var p=h.__sm__;if(p){e:{for(const v in p){h=v;break e}h=void 0}(this.i=h)&&(h=this.i,p=p!==null&&h in p?p[h]:void 0),this.data=p}else this.data=h}y(I1,tp);function C1(){np.call(this),this.status=1}y(C1,np);function to(h){this.g=h}y(to,k1),to.prototype.ua=function(){Bt(this.g,"a")},to.prototype.ta=function(h){Bt(this.g,new I1(h))},to.prototype.sa=function(h){Bt(this.g,new C1)},to.prototype.ra=function(){Bt(this.g,"b")},Ec.prototype.createWebChannel=Ec.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,Uk=function(){return new Ec},Fk=function(){return lc()},Vk=Zi,Cg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},uc.NO_ERROR=0,uc.TIMEOUT=8,uc.HTTP_ERROR=6,kh=uc,H_.COMPLETE="complete",Lk=H_,U_.EventType=Aa,Aa.OPEN="a",Aa.CLOSE="b",Aa.ERROR="c",Aa.MESSAGE="d",kt.prototype.listen=kt.prototype.K,hl=U_,We.prototype.listenOnce=We.prototype.L,We.prototype.getLastError=We.prototype.Ka,We.prototype.getLastErrorCode=We.prototype.Ba,We.prototype.getStatus=We.prototype.Z,We.prototype.getResponseJson=We.prototype.Oa,We.prototype.getResponseText=We.prototype.oa,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Ha,Mk=We}).apply(typeof jc<"u"?jc:typeof self<"u"?self:typeof window<"u"?window:{});const oE="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Nt.UNAUTHENTICATED=new Nt(null),Nt.GOOGLE_CREDENTIALS=new Nt("google-credentials-uid"),Nt.FIRST_PARTY=new Nt("first-party-uid"),Nt.MOCK_USER=new Nt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ya="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls=new D0("@firebase/firestore");function Qa(){return Ls.logLevel}function q(t,...e){if(Ls.logLevel<=fe.DEBUG){const n=e.map(M0);Ls.debug(`Firestore (${ya}): ${t}`,...n)}}function jr(t,...e){if(Ls.logLevel<=fe.ERROR){const n=e.map(M0);Ls.error(`Firestore (${ya}): ${t}`,...n)}}function Jo(t,...e){if(Ls.logLevel<=fe.WARN){const n=e.map(M0);Ls.warn(`Firestore (${ya}): ${t}`,...n)}}function M0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ee(t="Unexpected state"){const e=`FIRESTORE (${ya}) INTERNAL ASSERTION FAILED: `+t;throw jr(e),new Error(e)}function Se(t,e){t||ee()}function ie(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class H extends Gr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class a5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Nt.UNAUTHENTICATED))}shutdown(){}}class l5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class u5{constructor(e){this.t=e,this.currentUser=Nt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Se(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Ni;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ni,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ni)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Se(typeof r.accessToken=="string"),new jk(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Se(e===null||typeof e=="string"),new Nt(e)}}class c5{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Nt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class h5{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new c5(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Nt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class d5{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class f5{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Se(this.o===void 0);const r=s=>{s.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Se(typeof n.token=="string"),this.R=n.token,new d5(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p5(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=p5(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function we(t,e){return t<e?-1:t>e?1:0}function Zo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new H(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new H(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new at(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?we(this.nanoseconds,e.nanoseconds):we(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.timestamp=e}static fromTimestamp(e){return new re(e)}static min(){return new re(new at(0,0))}static max(){return new re(new at(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e,n,r){n===void 0?n=0:n>e.length&&ee(),r===void 0?r=e.length-n:r>e.length-n&&ee(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return du.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof du?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Me extends du{construct(e,n,r){return new Me(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new H(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Me(n)}static emptyPath(){return new Me([])}}const m5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wt extends du{construct(e,n,r){return new wt(e,n,r)}static isValidIdentifier(e){return m5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new wt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new H(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new H(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new H(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new H(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wt(n)}static emptyPath(){return new wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.path=e}static fromPath(e){return new Q(Me.fromString(e))}static fromName(e){return new Q(Me.fromString(e).popFirst(5))}static empty(){return new Q(Me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Me.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Me.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Q(new Me(e.slice()))}}function g5(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=re.fromTimestamp(r===1e9?new at(n+1,0):new at(n,r));return new ji(i,Q.empty(),e)}function y5(t){return new ji(t.readTime,t.key,-1)}class ji{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ji(re.min(),Q.empty(),-1)}static max(){return new ji(re.max(),Q.empty(),-1)}}function v5(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Q.comparator(t.documentKey,e.documentKey),n!==0?n:we(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class w5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zu(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==_5)throw t;q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(i=>i?U.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new U((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new U((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function E5(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function $u(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}L0.oe=-1;function vf(t){return t==null}function Td(t){return t===0&&1/t==-1/0}function x5(t){return typeof t=="number"&&Number.isInteger(t)&&!Td(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Hs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function zk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e,n){this.comparator=e,this.root=n||vt.EMPTY}insert(e,n){return new He(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,vt.BLACK,null,null))}remove(e){return new He(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bc(this.root,e,this.comparator,!0)}}class Bc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??vt.RED,this.left=i??vt.EMPTY,this.right=s??vt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new vt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return vt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return vt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ee();const e=this.left.check();if(e!==this.right.check())throw ee();return e+(this.isRed()?0:1)}}vt.EMPTY=null,vt.RED=!0,vt.BLACK=!1;vt.EMPTY=new class{constructor(){this.size=0}get key(){throw ee()}get value(){throw ee()}get color(){throw ee()}get left(){throw ee()}get right(){throw ee()}copy(e,n,r,i,s){return this}insert(e,n,r){return new vt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.comparator=e,this.data=new He(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new lE(this.data.getIterator())}getIteratorFrom(e){return new lE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new xt(this.comparator);return n.data=e,n}}class lE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.fields=e,e.sort(wt.comparator)}static empty(){return new dn([])}unionWith(e){let n=new xt(wt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new dn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Zo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new $k("Invalid base64 string: "+s):s}}(e);return new Tt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Tt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return we(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tt.EMPTY_BYTE_STRING=new Tt("");const b5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bi(t){if(Se(!!t),typeof t=="string"){let e=0;const n=b5.exec(t);if(Se(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ye(t.seconds),nanos:Ye(t.nanos)}}function Ye(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Vs(t){return typeof t=="string"?Tt.fromBase64String(t):Tt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function F0(t){const e=t.mapValue.fields.__previous_value__;return V0(e)?F0(e):e}function fu(t){const e=Bi(t.mapValue.fields.__local_write_time__.timestampValue);return new at(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class pu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new pu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof pu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zc={mapValue:{}};function Fs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?V0(t)?4:k5(t)?9007199254740991:S5(t)?10:11:ee()}function pr(t,e){if(t===e)return!0;const n=Fs(t);if(n!==Fs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return fu(t).isEqual(fu(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Bi(i.timestampValue),a=Bi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Vs(i.bytesValue).isEqual(Vs(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ye(i.geoPointValue.latitude)===Ye(s.geoPointValue.latitude)&&Ye(i.geoPointValue.longitude)===Ye(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ye(i.integerValue)===Ye(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Ye(i.doubleValue),a=Ye(s.doubleValue);return o===a?Td(o)===Td(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Zo(t.arrayValue.values||[],e.arrayValue.values||[],pr);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(aE(o)!==aE(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!pr(o[l],a[l])))return!1;return!0}(t,e);default:return ee()}}function mu(t,e){return(t.values||[]).find(n=>pr(n,e))!==void 0}function ea(t,e){if(t===e)return 0;const n=Fs(t),r=Fs(e);if(n!==r)return we(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return we(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Ye(s.integerValue||s.doubleValue),l=Ye(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return uE(t.timestampValue,e.timestampValue);case 4:return uE(fu(t),fu(e));case 5:return we(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Vs(s),l=Vs(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=we(a[u],l[u]);if(c!==0)return c}return we(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=we(Ye(s.latitude),Ye(o.latitude));return a!==0?a:we(Ye(s.longitude),Ye(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return cE(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,c;const d=s.fields||{},f=o.fields||{},m=(a=d.value)===null||a===void 0?void 0:a.arrayValue,y=(l=f.value)===null||l===void 0?void 0:l.arrayValue,_=we(((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0,((c=y==null?void 0:y.values)===null||c===void 0?void 0:c.length)||0);return _!==0?_:cE(m,y)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===zc.mapValue&&o===zc.mapValue)return 0;if(s===zc.mapValue)return 1;if(o===zc.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const f=we(l[d],c[d]);if(f!==0)return f;const m=ea(a[l[d]],u[c[d]]);if(m!==0)return m}return we(l.length,c.length)}(t.mapValue,e.mapValue);default:throw ee()}}function uE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return we(t,e);const n=Bi(t),r=Bi(e),i=we(n.seconds,r.seconds);return i!==0?i:we(n.nanos,r.nanos)}function cE(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=ea(n[i],r[i]);if(s)return s}return we(n.length,r.length)}function ta(t){return Ag(t)}function Ag(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Bi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Vs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Ag(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Ag(n.fields[o])}`;return i+"}"}(t.mapValue):ee()}function hE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Pg(t){return!!t&&"integerValue"in t}function U0(t){return!!t&&"arrayValue"in t}function dE(t){return!!t&&"nullValue"in t}function fE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ih(t){return!!t&&"mapValue"in t}function S5(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Pl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Hs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Pl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Pl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function k5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.value=e}static empty(){return new Jt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ih(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pl(n)}setAll(e){let n=wt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Pl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Ih(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return pr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ih(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Hs(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Jt(Pl(this.value))}}function Hk(t){const e=[];return Hs(t.fields,(n,r)=>{const i=new wt([n]);if(Ih(r)){const s=Hk(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new dn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Mt(e,0,re.min(),re.min(),re.min(),Jt.empty(),0)}static newFoundDocument(e,n,r,i){return new Mt(e,1,n,re.min(),r,i,0)}static newNoDocument(e,n){return new Mt(e,2,n,re.min(),re.min(),Jt.empty(),0)}static newUnknownDocument(e,n){return new Mt(e,3,n,re.min(),re.min(),Jt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Mt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,n){this.position=e,this.inclusive=n}}function pE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Q.comparator(Q.fromName(o.referenceValue),n.key):r=ea(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function mE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!pr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,n="asc"){this.field=e,this.dir=n}}function I5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{}class it extends Wk{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new A5(e,n,r):n==="array-contains"?new D5(e,r):n==="in"?new N5(e,r):n==="not-in"?new O5(e,r):n==="array-contains-any"?new M5(e,r):new it(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new P5(e,r):new R5(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ea(n,this.value)):n!==null&&Fs(this.value)===Fs(n)&&this.matchesComparison(ea(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qn extends Wk{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new qn(e,n)}matches(e){return qk(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function qk(t){return t.op==="and"}function Kk(t){return C5(t)&&qk(t)}function C5(t){for(const e of t.filters)if(e instanceof qn)return!1;return!0}function Rg(t){if(t instanceof it)return t.field.canonicalString()+t.op.toString()+ta(t.value);if(Kk(t))return t.filters.map(e=>Rg(e)).join(",");{const e=t.filters.map(n=>Rg(n)).join(",");return`${t.op}(${e})`}}function Gk(t,e){return t instanceof it?function(r,i){return i instanceof it&&r.op===i.op&&r.field.isEqual(i.field)&&pr(r.value,i.value)}(t,e):t instanceof qn?function(r,i){return i instanceof qn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&Gk(o,i.filters[a]),!0):!1}(t,e):void ee()}function Qk(t){return t instanceof it?function(n){return`${n.field.canonicalString()} ${n.op} ${ta(n.value)}`}(t):t instanceof qn?function(n){return n.op.toString()+" {"+n.getFilters().map(Qk).join(" ,")+"}"}(t):"Filter"}class A5 extends it{constructor(e,n,r){super(e,n,r),this.key=Q.fromName(r.referenceValue)}matches(e){const n=Q.comparator(e.key,this.key);return this.matchesComparison(n)}}class P5 extends it{constructor(e,n){super(e,"in",n),this.keys=Yk("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class R5 extends it{constructor(e,n){super(e,"not-in",n),this.keys=Yk("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Yk(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Q.fromName(r.referenceValue))}class D5 extends it{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return U0(n)&&mu(n.arrayValue,this.value)}}class N5 extends it{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&mu(this.value.arrayValue,n)}}class O5 extends it{constructor(e,n){super(e,"not-in",n)}matches(e){if(mu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!mu(this.value.arrayValue,n)}}class M5 extends it{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!U0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>mu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L5{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function gE(t,e=null,n=[],r=[],i=null,s=null,o=null){return new L5(t,e,n,r,i,s,o)}function j0(t){const e=ie(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Rg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),vf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ta(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ta(r)).join(",")),e.ue=n}return e.ue}function B0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!I5(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Gk(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!mE(t.startAt,e.startAt)&&mE(t.endAt,e.endAt)}function Dg(t){return Q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function V5(t,e,n,r,i,s,o,a){return new Hu(t,e,n,r,i,s,o,a)}function z0(t){return new Hu(t)}function yE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Xk(t){return t.collectionGroup!==null}function Rl(t){const e=ie(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new xt(wt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new kd(s,r))}),n.has(wt.keyField().canonicalString())||e.ce.push(new kd(wt.keyField(),r))}return e.ce}function sr(t){const e=ie(t);return e.le||(e.le=F5(e,Rl(t))),e.le}function F5(t,e){if(t.limitType==="F")return gE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new kd(i.field,s)});const n=t.endAt?new Sd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Sd(t.startAt.position,t.startAt.inclusive):null;return gE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Ng(t,e){const n=t.filters.concat([e]);return new Hu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Og(t,e,n){return new Hu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function _f(t,e){return B0(sr(t),sr(e))&&t.limitType===e.limitType}function Jk(t){return`${j0(sr(t))}|lt:${t.limitType}`}function ao(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Qk(i)).join(", ")}]`),vf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ta(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ta(i)).join(",")),`Target(${r})`}(sr(t))}; limitType=${t.limitType})`}function wf(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Q.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Rl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=pE(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Rl(r),i)||r.endAt&&!function(o,a,l){const u=pE(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Rl(r),i))}(t,e)}function U5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Zk(t){return(e,n)=>{let r=!1;for(const i of Rl(t)){const s=j5(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function j5(t,e,n){const r=t.field.isKeyField()?Q.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?ea(l,u):ee()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ee()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Hs(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return zk(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B5=new He(Q.comparator);function Br(){return B5}const eI=new He(Q.comparator);function dl(...t){let e=eI;for(const n of t)e=e.insert(n.key,n);return e}function tI(t){let e=eI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function gs(){return Dl()}function nI(){return Dl()}function Dl(){return new va(t=>t.toString(),(t,e)=>t.isEqual(e))}const z5=new He(Q.comparator),$5=new xt(Q.comparator);function he(...t){let e=$5;for(const n of t)e=e.add(n);return e}const H5=new xt(we);function W5(){return H5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Td(e)?"-0":e}}function rI(t){return{integerValue:""+t}}function iI(t,e){return x5(e)?rI(e):$0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(){this._=void 0}}function q5(t,e,n){return t instanceof Id?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&V0(s)&&(s=F0(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof gu?oI(t,e):t instanceof yu?aI(t,e):function(i,s){const o=sI(i,s),a=vE(o)+vE(i.Pe);return Pg(o)&&Pg(i.Pe)?rI(a):$0(i.serializer,a)}(t,e)}function K5(t,e,n){return t instanceof gu?oI(t,e):t instanceof yu?aI(t,e):n}function sI(t,e){return t instanceof vu?function(r){return Pg(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Id extends Ef{}class gu extends Ef{constructor(e){super(),this.elements=e}}function oI(t,e){const n=lI(e);for(const r of t.elements)n.some(i=>pr(i,r))||n.push(r);return{arrayValue:{values:n}}}class yu extends Ef{constructor(e){super(),this.elements=e}}function aI(t,e){let n=lI(e);for(const r of t.elements)n=n.filter(i=>!pr(i,r));return{arrayValue:{values:n}}}class vu extends Ef{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function vE(t){return Ye(t.integerValue||t.doubleValue)}function lI(t){return U0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G5{constructor(e,n){this.field=e,this.transform=n}}function Q5(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof gu&&i instanceof gu||r instanceof yu&&i instanceof yu?Zo(r.elements,i.elements,pr):r instanceof vu&&i instanceof vu?pr(r.Pe,i.Pe):r instanceof Id&&i instanceof Id}(t.transform,e.transform)}class Y5{constructor(e,n){this.version=e,this.transformResults=n}}class Hn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Hn}static exists(e){return new Hn(void 0,e)}static updateTime(e){return new Hn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ch(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class xf{}function uI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new H0(t.key,Hn.none()):new Wu(t.key,t.data,Hn.none());{const n=t.data,r=Jt.empty();let i=new xt(wt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Yi(t.key,r,new dn(i.toArray()),Hn.none())}}function X5(t,e,n){t instanceof Wu?function(i,s,o){const a=i.value.clone(),l=wE(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Yi?function(i,s,o){if(!Ch(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=wE(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(cI(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Nl(t,e,n,r){return t instanceof Wu?function(s,o,a,l){if(!Ch(s.precondition,o))return a;const u=s.value.clone(),c=EE(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Yi?function(s,o,a,l){if(!Ch(s.precondition,o))return a;const u=EE(s.fieldTransforms,l,o),c=o.data;return c.setAll(cI(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return Ch(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function J5(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=sI(r.transform,i||null);s!=null&&(n===null&&(n=Jt.empty()),n.set(r.field,s))}return n||null}function _E(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Zo(r,i,(s,o)=>Q5(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Wu extends xf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Yi extends xf{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function cI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function wE(t,e,n){const r=new Map;Se(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,K5(o,a,n[i]))}return r}function EE(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,q5(s,o,e))}return r}class H0 extends xf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Z5 extends xf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&X5(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Nl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Nl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=nI();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=uI(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(re.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),he())}isEqual(e){return this.batchId===e.batchId&&Zo(this.mutations,e.mutations,(n,r)=>_E(n,r))&&Zo(this.baseMutations,e.baseMutations,(n,r)=>_E(n,r))}}class W0{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Se(e.mutations.length===r.length);let i=function(){return z5}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new W0(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tt,pe;function r6(t){switch(t){default:return ee();case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0}}function hI(t){if(t===void 0)return jr("GRPC error has no .code"),F.UNKNOWN;switch(t){case tt.OK:return F.OK;case tt.CANCELLED:return F.CANCELLED;case tt.UNKNOWN:return F.UNKNOWN;case tt.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case tt.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case tt.INTERNAL:return F.INTERNAL;case tt.UNAVAILABLE:return F.UNAVAILABLE;case tt.UNAUTHENTICATED:return F.UNAUTHENTICATED;case tt.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case tt.NOT_FOUND:return F.NOT_FOUND;case tt.ALREADY_EXISTS:return F.ALREADY_EXISTS;case tt.PERMISSION_DENIED:return F.PERMISSION_DENIED;case tt.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case tt.ABORTED:return F.ABORTED;case tt.OUT_OF_RANGE:return F.OUT_OF_RANGE;case tt.UNIMPLEMENTED:return F.UNIMPLEMENTED;case tt.DATA_LOSS:return F.DATA_LOSS;default:return ee()}}(pe=tt||(tt={}))[pe.OK=0]="OK",pe[pe.CANCELLED=1]="CANCELLED",pe[pe.UNKNOWN=2]="UNKNOWN",pe[pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pe[pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pe[pe.NOT_FOUND=5]="NOT_FOUND",pe[pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",pe[pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",pe[pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",pe[pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pe[pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pe[pe.ABORTED=10]="ABORTED",pe[pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",pe[pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",pe[pe.INTERNAL=13]="INTERNAL",pe[pe.UNAVAILABLE=14]="UNAVAILABLE",pe[pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i6(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s6=new Ss([4294967295,4294967295],0);function xE(t){const e=i6().encode(t),n=new Ok;return n.update(e),new Uint8Array(n.digest())}function bE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ss([n,r],0),new Ss([i,s],0)]}class q0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new fl(`Invalid padding: ${n}`);if(r<0)throw new fl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new fl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new fl(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Ss.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Ss.fromNumber(r)));return i.compare(s6)===1&&(i=new Ss([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=xE(e),[r,i]=bE(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new q0(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=xE(e),[r,i]=bE(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class fl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,qu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new bf(re.min(),i,new He(we),Br(),he())}}class qu{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new qu(r,n,he(),he(),he())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class dI{constructor(e,n){this.targetId=e,this.me=n}}class fI{constructor(e,n,r=Tt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class TE{constructor(){this.fe=0,this.ge=kE(),this.pe=Tt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=he(),n=he(),r=he();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ee()}}),new qu(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=kE()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Se(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class o6{constructor(e){this.Le=e,this.Be=new Map,this.ke=Br(),this.qe=SE(),this.Qe=new He(we)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ee()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(Dg(s))if(r===0){const o=new Q(s.path);this.Ue(n,o,Mt.newNoDocument(o,re.min()))}else Se(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Vs(r).toUint8Array()}catch(l){if(l instanceof $k)return Jo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new q0(o,i,s)}catch(l){return Jo(l instanceof fl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&Dg(a.target)){const l=new Q(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Mt.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=he();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new bf(e,n,this.Qe,this.ke,r);return this.ke=Br(),this.qe=SE(),this.Qe=new He(we),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new TE,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new xt(we),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||q("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new TE),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function SE(){return new He(Q.comparator)}function kE(){return new He(Q.comparator)}const a6={asc:"ASCENDING",desc:"DESCENDING"},l6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},u6={and:"AND",or:"OR"};class c6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Mg(t,e){return t.useProto3Json||vf(e)?e:{value:e}}function Cd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function h6(t,e){return Cd(t,e.toTimestamp())}function or(t){return Se(!!t),re.fromTimestamp(function(n){const r=Bi(n);return new at(r.seconds,r.nanos)}(t))}function K0(t,e){return Lg(t,e).canonicalString()}function Lg(t,e){const n=function(i){return new Me(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function mI(t){const e=Me.fromString(t);return Se(wI(e)),e}function Vg(t,e){return K0(t.databaseId,e.path)}function Kp(t,e){const n=mI(e);if(n.get(1)!==t.databaseId.projectId)throw new H(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new H(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Q(yI(n))}function gI(t,e){return K0(t.databaseId,e)}function d6(t){const e=mI(t);return e.length===4?Me.emptyPath():yI(e)}function Fg(t){return new Me(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function yI(t){return Se(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function IE(t,e,n){return{name:Vg(t,e),fields:n.value.mapValue.fields}}function f6(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(Se(c===void 0||typeof c=="string"),Tt.fromBase64String(c||"")):(Se(c===void 0||c instanceof Buffer||c instanceof Uint8Array),Tt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?F.UNKNOWN:hI(u.code);return new H(c,u.message||"")}(o);n=new fI(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Kp(t,r.document.name),s=or(r.document.updateTime),o=r.document.createTime?or(r.document.createTime):re.min(),a=new Jt({mapValue:{fields:r.document.fields}}),l=Mt.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Ah(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Kp(t,r.document),s=r.readTime?or(r.readTime):re.min(),o=Mt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Ah([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Kp(t,r.document),s=r.removedTargetIds||[];n=new Ah([],s,i,null)}else{if(!("filter"in e))return ee();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new n6(i,s),a=r.targetId;n=new dI(a,o)}}return n}function p6(t,e){let n;if(e instanceof Wu)n={update:IE(t,e.key,e.value)};else if(e instanceof H0)n={delete:Vg(t,e.key)};else if(e instanceof Yi)n={update:IE(t,e.key,e.data),updateMask:b6(e.fieldMask)};else{if(!(e instanceof Z5))return ee();n={verify:Vg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Id)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof gu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof yu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof vu)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ee()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:h6(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ee()}(t,e.precondition)),n}function m6(t,e){return t&&t.length>0?(Se(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?or(i.updateTime):or(s);return o.isEqual(re.min())&&(o=or(s)),new Y5(o,i.transformResults||[])}(n,e))):[]}function g6(t,e){return{documents:[gI(t,e.path)]}}function y6(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=gI(t,i);const s=function(u){if(u.length!==0)return _I(qn.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(c=>function(f){return{field:lo(f.field),direction:w6(f.dir)}}(c))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Mg(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function v6(t){let e=d6(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Se(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(d){const f=vI(d);return f instanceof qn&&Kk(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(f=>function(y){return new kd(uo(y.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,vf(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,m=d.values||[];return new Sd(m,f)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const f=!d.before,m=d.values||[];return new Sd(m,f)}(n.endAt)),V5(e,i,o,s,a,"F",l,u)}function _6(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ee()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function vI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=uo(n.unaryFilter.field);return it.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=uo(n.unaryFilter.field);return it.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=uo(n.unaryFilter.field);return it.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=uo(n.unaryFilter.field);return it.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ee()}}(t):t.fieldFilter!==void 0?function(n){return it.create(uo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ee()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return qn.create(n.compositeFilter.filters.map(r=>vI(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ee()}}(n.compositeFilter.op))}(t):ee()}function w6(t){return a6[t]}function E6(t){return l6[t]}function x6(t){return u6[t]}function lo(t){return{fieldPath:t.canonicalString()}}function uo(t){return wt.fromServerFormat(t.fieldPath)}function _I(t){return t instanceof it?function(n){if(n.op==="=="){if(fE(n.value))return{unaryFilter:{field:lo(n.field),op:"IS_NAN"}};if(dE(n.value))return{unaryFilter:{field:lo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(fE(n.value))return{unaryFilter:{field:lo(n.field),op:"IS_NOT_NAN"}};if(dE(n.value))return{unaryFilter:{field:lo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lo(n.field),op:E6(n.op),value:n.value}}}(t):t instanceof qn?function(n){const r=n.getFilters().map(i=>_I(i));return r.length===1?r[0]:{compositeFilter:{op:x6(n.op),filters:r}}}(t):ee()}function b6(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function wI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e,n,r,i,s=re.min(),o=re.min(),a=Tt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new _i(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new _i(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(e){this.ct=e}}function S6(t){const e=v6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Og(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(){this.un=new I6}addToCollectionParentIndex(e,n){return this.un.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(ji.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(ji.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class I6{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new xt(Me.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new xt(Me.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new na(0)}static kn(){return new na(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{constructor(){this.changes=new va(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Mt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Nl(r.mutation,i,dn.empty(),at.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,he()).next(()=>r))}getLocalViewOfDocuments(e,n,r=he()){const i=gs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=dl();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=gs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,he()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Br();const o=Dl(),a=function(){return Dl()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Yi)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Nl(c.mutation,u,c.mutation.getFieldMask(),at.now())):o.set(u.key,dn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new A6(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Dl();let i=new He((o,a)=>o-a),s=he();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||dn.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||he()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=nI();c.forEach(f=>{if(!s.has(f)){const m=uI(n.get(f),r.get(f));m!==null&&d.set(f,m),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return U.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Q.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Xk(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):U.resolve(gs());let a=-1,l=s;return o.next(u=>U.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?U.resolve():this.remoteDocumentCache.getEntry(e,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,he())).next(c=>({batchId:a,changes:tI(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Q(n)).next(r=>{let i=dl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=dl();return this.indexManager.getCollectionParents(e,s).next(a=>U.forEach(a,l=>{const u=function(d,f){return new Hu(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,Mt.newInvalidDocument(c)))});let a=dl();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&Nl(c.mutation,u,dn.empty(),at.now()),wf(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return U.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:or(i.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:S6(i.bundledQuery),readTime:or(i.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(){this.overlays=new He(Q.comparator),this.Ir=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=gs();return U.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const i=gs(),s=n.length+1,o=new Q(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return U.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new He((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=gs(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=gs(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return U.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new t6(n,r));let s=this.Ir.get(n);s===void 0&&(s=he(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6{constructor(){this.sessionToken=Tt.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(){this.Tr=new xt(ct.Er),this.dr=new xt(ct.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new ct(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new ct(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new Q(new Me([])),r=new ct(n,e),i=new ct(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Q(new Me([])),r=new ct(n,e),i=new ct(n,e+1);let s=he();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new ct(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ct{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Q.comparator(e.key,n.key)||we(e.wr,n.wr)}static Ar(e,n){return we(e.wr,n.wr)||Q.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new xt(ct.Er)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new e6(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new ct(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return U.resolve(o)}lookupMutationBatch(e,n){return U.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return U.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ct(n,0),i=new ct(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),U.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new xt(we);return n.forEach(i=>{const s=new ct(i,0),o=new ct(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),U.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Q.isDocumentKey(s)||(s=s.child(""));const o=new ct(new Q(s),0);let a=new xt(we);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},o),U.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Se(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return U.forEach(n.mutations,i=>{const s=new ct(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new ct(n,0),i=this.br.firstAfterOrEqual(r);return U.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{constructor(e){this.Mr=e,this.docs=function(){return new He(Q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():Mt.newInvalidDocument(n))}getEntries(e,n){let r=Br();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Mt.newInvalidDocument(i))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Br();const o=n.path,a=new Q(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||v5(y5(c),r)<=0||(i.has(c.key)||wf(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return U.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ee()}Or(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new L6(this)}getSize(e){return U.resolve(this.size)}}class L6 extends C6{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6{constructor(e){this.persistence=e,this.Nr=new va(n=>j0(n),B0),this.lastRemoteSnapshotVersion=re.min(),this.highestTargetId=0,this.Lr=0,this.Br=new G0,this.targetCount=0,this.kr=na.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),U.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new na(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.Kn(n),U.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),U.waitFor(s).next(()=>i)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),U.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F6{constructor(e,n){this.qr={},this.overlays={},this.Qr=new L0(0),this.Kr=!1,this.Kr=!0,this.$r=new N6,this.referenceDelegate=e(this),this.Ur=new V6(this),this.indexManager=new k6,this.remoteDocumentCache=function(i){return new M6(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new T6(n),this.Gr=new R6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new D6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new O6(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){q("MemoryPersistence","Starting transaction:",e);const i=new U6(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return U.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class U6 extends w5{constructor(e){super(),this.currentSequenceNumber=e}}class Q0{constructor(e){this.persistence=e,this.Jr=new G0,this.Yr=null}static Zr(e){return new Q0(e)}get Xr(){if(this.Yr)return this.Yr;throw ee()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),U.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.Xr,r=>{const i=Q.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,re.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return U.or([()=>U.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=he(),i=he();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Y0(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return zM()?8:E5(Ut())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new j6;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Qa()<=fe.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",ao(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),U.resolve()):(Qa()<=fe.DEBUG&&q("QueryEngine","Query:",ao(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Qa()<=fe.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",ao(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,sr(n))):U.resolve())}Yi(e,n){if(yE(n))return U.resolve(null);let r=sr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Og(n,null,"F"),r=sr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=he(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,o,l.readTime)?this.Yi(e,Og(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return yE(n)||i.isEqual(re.min())?U.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?U.resolve(null):(Qa()<=fe.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ao(n)),this.rs(e,o,n,g5(i,-1)).next(a=>a))})}ts(e,n){let r=new xt(Zk(e));return n.forEach((i,s)=>{wf(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Qa()<=fe.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",ao(n)),this.Ji.getDocumentsMatchingQuery(e,n,ji.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z6{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new He(we),this._s=new va(s=>j0(s),B0),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new P6(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function $6(t,e,n,r){return new z6(t,e,n,r)}async function EI(t,e){const n=ie(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=he();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})}function H6(t,e){const n=ie(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,f=d.keys();let m=U.resolve();return f.forEach(y=>{m=m.next(()=>c.getEntry(l,y)).next(_=>{const E=u.docVersions.get(y);Se(E!==null),_.version.compareTo(E)<0&&(d.applyToRemoteDocument(_,u),_.isValidDocument()&&(_.setReadTime(u.commitVersion),c.addEntry(_)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=he();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function xI(t){const e=ie(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function W6(t,e){const n=ie(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((c,d)=>{const f=i.get(d);if(!f)return;a.push(n.Ur.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.Ur.addMatchingKeys(s,c.addedDocuments,d)));let m=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?m=m.withResumeToken(Tt.EMPTY_BYTE_STRING,re.min()).withLastLimboFreeSnapshotVersion(re.min()):c.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(c.resumeToken,r)),i=i.insert(d,m),function(_,E,w){return _.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(f,m,c)&&a.push(n.Ur.updateTargetData(s,m))});let l=Br(),u=he();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(q6(s,o,e.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!r.isEqual(re.min())){const c=n.Ur.getLastRemoteSnapshotVersion(s).next(d=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return U.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.os=i,s))}function q6(t,e,n){let r=he(),i=he();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Br();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(re.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):q("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function K6(t,e){const n=ie(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function G6(t,e){const n=ie(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,U.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new _i(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Ug(t,e,n){const r=ie(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!$u(o))throw o;q("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function CE(t,e,n){const r=ie(t);let i=re.min(),s=he();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const d=ie(l),f=d._s.get(c);return f!==void 0?U.resolve(d.os.get(f)):d.Ur.getTargetData(u,c)}(r,o,sr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:re.min(),n?s:he())).next(a=>(Q6(r,U5(e),a),{documents:a,Ts:s})))}function Q6(t,e,n){let r=t.us.get(e)||re.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class AE{constructor(){this.activeTargetIds=W5()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Y6{constructor(){this.so=new AE,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new AE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $c=null;function Gp(){return $c===null?$c=function(){return 268435456+Math.round(2147483648*Math.random())}():$c++,"0x"+$c.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z6{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rt="WebChannelConnection";class eL extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=Gp(),l=this.xo(n,r.toUriEncodedString());q("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(n,l,u,i).then(c=>(q("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw Jo("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ya}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=J6[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=Gp();return new Promise((o,a)=>{const l=new Mk;l.setWithCredentials(!0),l.listenOnce(Lk.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case kh.NO_ERROR:const c=l.getResponseJson();q(Rt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case kh.TIMEOUT:q(Rt,`RPC '${e}' ${s} timed out`),a(new H(F.DEADLINE_EXCEEDED,"Request time out"));break;case kh.HTTP_ERROR:const d=l.getStatus();if(q(Rt,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const m=f==null?void 0:f.error;if(m&&m.status&&m.message){const y=function(E){const w=E.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(w)>=0?w:F.UNKNOWN}(m.status);a(new H(y,m.message))}else a(new H(F.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new H(F.UNAVAILABLE,"Connection failed."));break;default:ee()}}finally{q(Rt,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);q(Rt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=Gp(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Uk(),a=Fk(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");q(Rt,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=o.createWebChannel(c,l);let f=!1,m=!1;const y=new Z6({Io:E=>{m?q(Rt,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(f||(q(Rt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),q(Rt,`RPC '${e}' stream ${i} sending:`,E),d.send(E))},To:()=>d.close()}),_=(E,w,b)=>{E.listen(w,T=>{try{b(T)}catch(R){setTimeout(()=>{throw R},0)}})};return _(d,hl.EventType.OPEN,()=>{m||(q(Rt,`RPC '${e}' stream ${i} transport opened.`),y.yo())}),_(d,hl.EventType.CLOSE,()=>{m||(m=!0,q(Rt,`RPC '${e}' stream ${i} transport closed`),y.So())}),_(d,hl.EventType.ERROR,E=>{m||(m=!0,Jo(Rt,`RPC '${e}' stream ${i} transport errored:`,E),y.So(new H(F.UNAVAILABLE,"The operation could not be completed")))}),_(d,hl.EventType.MESSAGE,E=>{var w;if(!m){const b=E.data[0];Se(!!b);const T=b,R=T.error||((w=T[0])===null||w===void 0?void 0:w.error);if(R){q(Rt,`RPC '${e}' stream ${i} received error:`,R);const D=R.status;let M=function(I){const C=tt[I];if(C!==void 0)return hI(C)}(D),S=R.message;M===void 0&&(M=F.INTERNAL,S="Unknown error status: "+D+" with message "+R.message),m=!0,y.So(new H(M,S)),d.close()}else q(Rt,`RPC '${e}' stream ${i} received:`,b),y.bo(b)}}),_(a,Vk.STAT_EVENT,E=>{E.stat===Cg.PROXY?q(Rt,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===Cg.NOPROXY&&q(Rt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.wo()},0),y}}function Qp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tf(t){return new c6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new bI(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(jr(n.toString()),jr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new H(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class tL extends TI{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=f6(this.serializer,e),r=function(s){if(!("targetChange"in s))return re.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?re.min():o.readTime?or(o.readTime):re.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Fg(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Dg(l)?{documents:g6(s,l)}:{query:y6(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=pI(s,o.resumeToken);const u=Mg(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(re.min())>0){a.readTime=Cd(s,o.snapshotVersion.toTimestamp());const u=Mg(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=_6(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Fg(this.serializer),n.removeTarget=e,this.a_(n)}}class nL extends TI{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Se(!!e.streamToken),this.lastStreamToken=e.streamToken,Se(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Se(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=m6(e.writeResults,e.commitTime),r=or(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Fg(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>p6(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new H(F.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Lg(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new H(F.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,Lg(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new H(F.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class iL{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(jr(n),this.D_=!1):q("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{Ws(this)&&(q("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=ie(l);u.L_.add(4),await Ku(u),u.q_.set("Unknown"),u.L_.delete(4),await Sf(u)}(this))})}),this.q_=new iL(r,i)}}async function Sf(t){if(Ws(t))for(const e of t.B_)await e(!0)}async function Ku(t){for(const e of t.B_)await e(!1)}function SI(t,e){const n=ie(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),ev(n)?Z0(n):_a(n).r_()&&J0(n,e))}function X0(t,e){const n=ie(t),r=_a(n);n.N_.delete(e),r.r_()&&kI(n,e),n.N_.size===0&&(r.r_()?r.o_():Ws(n)&&n.q_.set("Unknown"))}function J0(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(re.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}_a(t).A_(e)}function kI(t,e){t.Q_.xe(e),_a(t).R_(e)}function Z0(t){t.Q_=new o6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),_a(t).start(),t.q_.v_()}function ev(t){return Ws(t)&&!_a(t).n_()&&t.N_.size>0}function Ws(t){return ie(t).L_.size===0}function II(t){t.Q_=void 0}async function oL(t){t.q_.set("Online")}async function aL(t){t.N_.forEach((e,n)=>{J0(t,e)})}async function lL(t,e){II(t),ev(t)?(t.q_.M_(e),Z0(t)):t.q_.set("Unknown")}async function uL(t,e,n){if(t.q_.set("Online"),e instanceof fI&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){q("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ad(t,r)}else if(e instanceof Ah?t.Q_.Ke(e):e instanceof dI?t.Q_.He(e):t.Q_.We(e),!n.isEqual(re.min()))try{const r=await xI(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.N_.get(u);c&&s.N_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.N_.get(l);if(!c)return;s.N_.set(l,c.withResumeToken(Tt.EMPTY_BYTE_STRING,c.snapshotVersion)),kI(s,l);const d=new _i(c.target,l,u,c.sequenceNumber);J0(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){q("RemoteStore","Failed to raise snapshot:",r),await Ad(t,r)}}async function Ad(t,e,n){if(!$u(e))throw e;t.L_.add(1),await Ku(t),t.q_.set("Offline"),n||(n=()=>xI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{q("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Sf(t)})}function CI(t,e){return e().catch(n=>Ad(t,n,e))}async function kf(t){const e=ie(t),n=zi(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;cL(e);)try{const i=await K6(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,hL(e,i)}catch(i){await Ad(e,i)}AI(e)&&PI(e)}function cL(t){return Ws(t)&&t.O_.length<10}function hL(t,e){t.O_.push(e);const n=zi(t);n.r_()&&n.V_&&n.m_(e.mutations)}function AI(t){return Ws(t)&&!zi(t).n_()&&t.O_.length>0}function PI(t){zi(t).start()}async function dL(t){zi(t).p_()}async function fL(t){const e=zi(t);for(const n of t.O_)e.m_(n.mutations)}async function pL(t,e,n){const r=t.O_.shift(),i=W0.from(r,e,n);await CI(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await kf(t)}async function mL(t,e){e&&zi(t).V_&&await async function(r,i){if(function(o){return r6(o)&&o!==F.ABORTED}(i.code)){const s=r.O_.shift();zi(r).s_(),await CI(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await kf(r)}}(t,e),AI(t)&&PI(t)}async function RE(t,e){const n=ie(t);n.asyncQueue.verifyOperationInProgress(),q("RemoteStore","RemoteStore received new credentials");const r=Ws(n);n.L_.add(3),await Ku(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Sf(n)}async function gL(t,e){const n=ie(t);e?(n.L_.delete(2),await Sf(n)):e||(n.L_.add(2),await Ku(n),n.q_.set("Unknown"))}function _a(t){return t.K_||(t.K_=function(n,r,i){const s=ie(n);return s.w_(),new tL(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:oL.bind(null,t),Ro:aL.bind(null,t),mo:lL.bind(null,t),d_:uL.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),ev(t)?Z0(t):t.q_.set("Unknown")):(await t.K_.stop(),II(t))})),t.K_}function zi(t){return t.U_||(t.U_=function(n,r,i){const s=ie(n);return s.w_(),new nL(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:dL.bind(null,t),mo:mL.bind(null,t),f_:fL.bind(null,t),g_:pL.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await kf(t)):(await t.U_.stop(),t.O_.length>0&&(q("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ni,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new tv(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nv(t,e){if(jr("AsyncQueue",`${e}: ${t}`),$u(t))return new H(F.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Q.comparator(n.key,r.key):(n,r)=>Q.comparator(n.key,r.key),this.keyedMap=dl(),this.sortedSet=new He(this.comparator)}static emptySet(e){return new Vo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Vo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Vo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(){this.W_=new He(Q.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ee():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ra{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ra(e,n,Vo.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_f(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class vL{constructor(){this.queries=NE(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=ie(n),s=i.queries;i.queries=NE(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new H(F.ABORTED,"Firestore shutting down"))}}function NE(){return new va(t=>Jk(t),_f)}async function RI(t,e){const n=ie(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new yL,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=nv(o,`Initialization of query '${ao(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&rv(n)}async function DI(t,e){const n=ie(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function _L(t,e){const n=ie(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&rv(n)}function wL(t,e,n){const r=ie(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function rv(t){t.Y_.forEach(e=>{e.next()})}var jg,OE;(OE=jg||(jg={})).ea="default",OE.Cache="cache";class NI{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ra(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=ra.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==jg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(e){this.key=e}}class MI{constructor(e){this.key=e}}class EL{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=he(),this.mutatedKeys=he(),this.Aa=Zk(e),this.Ra=new Vo(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new DE,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const f=i.get(c),m=wf(this.query,d)?d:null,y=!!f&&this.mutatedKeys.has(f.key),_=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let E=!1;f&&m?f.data.isEqual(m.data)?y!==_&&(r.track({type:3,doc:m}),E=!0):this.ga(f,m)||(r.track({type:2,doc:m}),E=!0,(l&&this.Aa(m,l)>0||u&&this.Aa(m,u)<0)&&(a=!0)):!f&&m?(r.track({type:0,doc:m}),E=!0):f&&!m&&(r.track({type:1,doc:f}),E=!0,(l||u)&&(a=!0)),E&&(m?(o=o.add(m),s=_?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((c,d)=>function(m,y){const _=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ee()}};return _(m)-_(y)}(c.type,d.type)||this.Aa(c.doc,d.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new ra(this.query,e.Ra,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new DE,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=he(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new MI(r))}),this.da.forEach(r=>{e.has(r)||n.push(new OI(r))}),n}ba(e){this.Ta=e.Ts,this.da=he();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return ra.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class xL{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class bL{constructor(e){this.key=e,this.va=!1}}class TL{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new va(a=>Jk(a),_f),this.Ma=new Map,this.xa=new Set,this.Oa=new He(Q.comparator),this.Na=new Map,this.La=new G0,this.Ba={},this.ka=new Map,this.qa=na.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function SL(t,e,n=!0){const r=BI(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await LI(r,e,n,!0),i}async function kL(t,e){const n=BI(t);await LI(n,e,!0,!1)}async function LI(t,e,n,r){const i=await G6(t.localStore,sr(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await IL(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&SI(t.remoteStore,i),a}async function IL(t,e,n,r,i){t.Ka=(d,f,m)=>async function(_,E,w,b){let T=E.view.ma(w);T.ns&&(T=await CE(_.localStore,E.query,!1).then(({documents:S})=>E.view.ma(S,T)));const R=b&&b.targetChanges.get(E.targetId),D=b&&b.targetMismatches.get(E.targetId)!=null,M=E.view.applyChanges(T,_.isPrimaryClient,R,D);return LE(_,E.targetId,M.wa),M.snapshot}(t,d,f,m);const s=await CE(t.localStore,e,!0),o=new EL(e,s.Ts),a=o.ma(s.documents),l=qu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);LE(t,n,u.wa);const c=new xL(e,n,o);return t.Fa.set(e,c),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function CL(t,e,n){const r=ie(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!_f(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Ug(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&X0(r.remoteStore,i.targetId),Bg(r,i.targetId)}).catch(zu)):(Bg(r,i.targetId),await Ug(r.localStore,i.targetId,!0))}async function AL(t,e){const n=ie(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),X0(n.remoteStore,r.targetId))}async function PL(t,e,n){const r=VL(t);try{const i=await function(o,a){const l=ie(o),u=at.now(),c=a.reduce((m,y)=>m.add(y.key),he());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let y=Br(),_=he();return l.cs.getEntries(m,c).next(E=>{y=E,y.forEach((w,b)=>{b.isValidDocument()||(_=_.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,y)).next(E=>{d=E;const w=[];for(const b of a){const T=J5(b,d.get(b.key).overlayedDocument);T!=null&&w.push(new Yi(b.key,T,Hk(T.value.mapValue),Hn.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,w,a)}).next(E=>{f=E;const w=E.applyToLocalDocumentSet(d,_);return l.documentOverlayCache.saveOverlays(m,E.batchId,w)})}).then(()=>({batchId:f.batchId,changes:tI(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new He(we)),u=u.insert(a,l),o.Ba[o.currentUser.toKey()]=u}(r,i.batchId,n),await Gu(r,i.changes),await kf(r.remoteStore)}catch(i){const s=nv(i,"Failed to persist write");n.reject(s)}}async function VI(t,e){const n=ie(t);try{const r=await W6(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(Se(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Se(o.va):i.removedDocuments.size>0&&(Se(o.va),o.va=!1))}),await Gu(n,r,e)}catch(r){await zu(r)}}function ME(t,e,n){const r=ie(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ie(o);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const f of d.j_)f.Z_(a)&&(u=!0)}),u&&rv(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function RL(t,e,n){const r=ie(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new He(Q.comparator);o=o.insert(s,Mt.newNoDocument(s,re.min()));const a=he().add(s),l=new bf(re.min(),new Map,new He(we),o,a);await VI(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),iv(r)}else await Ug(r.localStore,e,!1).then(()=>Bg(r,e,n)).catch(zu)}async function DL(t,e){const n=ie(t),r=e.batch.batchId;try{const i=await H6(n.localStore,e);UI(n,r,null),FI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Gu(n,i)}catch(i){await zu(i)}}async function NL(t,e,n){const r=ie(t);try{const i=await function(o,a){const l=ie(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(Se(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);UI(r,e,n),FI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Gu(r,i)}catch(i){await zu(i)}}function FI(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function UI(t,e,n){const r=ie(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Bg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||jI(t,r)})}function jI(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(X0(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),iv(t))}function LE(t,e,n){for(const r of n)r instanceof OI?(t.La.addReference(r.key,e),OL(t,r)):r instanceof MI?(q("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||jI(t,r.key)):ee()}function OL(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(q("SyncEngine","New document in limbo: "+n),t.xa.add(r),iv(t))}function iv(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Q(Me.fromString(e)),r=t.qa.next();t.Na.set(r,new bL(n)),t.Oa=t.Oa.insert(n,r),SI(t.remoteStore,new _i(sr(z0(n.path)),r,"TargetPurposeLimboResolution",L0.oe))}}async function Gu(t,e,n){const r=ie(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const d=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);const d=Y0.Wi(l.targetId,u);s.push(d)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,u){const c=ie(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>U.forEach(u,f=>U.forEach(f.$i,m=>c.persistence.referenceDelegate.addReference(d,f.targetId,m)).next(()=>U.forEach(f.Ui,m=>c.persistence.referenceDelegate.removeReference(d,f.targetId,m)))))}catch(d){if(!$u(d))throw d;q("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const f=d.targetId;if(!d.fromCache){const m=c.os.get(f),y=m.snapshotVersion,_=m.withLastLimboFreeSnapshotVersion(y);c.os=c.os.insert(f,_)}}}(r.localStore,s))}async function ML(t,e){const n=ie(t);if(!n.currentUser.isEqual(e)){q("SyncEngine","User change. New user:",e.toKey());const r=await EI(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new H(F.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Gu(n,r.hs)}}function LL(t,e){const n=ie(t),r=n.Na.get(e);if(r&&r.va)return he().add(r.key);{let i=he();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function BI(t){const e=ie(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=VI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=LL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=RL.bind(null,e),e.Ca.d_=_L.bind(null,e.eventManager),e.Ca.$a=wL.bind(null,e.eventManager),e}function VL(t){const e=ie(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=DL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=NL.bind(null,e),e}class Pd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Tf(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return $6(this.persistence,new B6,e.initialUser,this.serializer)}Ga(e){return new F6(Q0.Zr,this.serializer)}Wa(e){return new Y6}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Pd.provider={build:()=>new Pd};class zg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ME(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=ML.bind(null,this.syncEngine),await gL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new vL}()}createDatastore(e){const n=Tf(e.databaseInfo.databaseId),r=function(s){return new eL(s)}(e.databaseInfo);return function(s,o,a,l){return new rL(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new sL(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>ME(this.syncEngine,n,0),function(){return PE.D()?new PE:new X6}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,c){const d=new TL(i,s,o,a,l,u);return c&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ie(i);q("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Ku(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}zg.provider={build:()=>new zg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):jr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Nt.UNAUTHENTICATED,this.clientId=Bk.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{q("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(q("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ni;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=nv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Yp(t,e){t.asyncQueue.verifyOperationInProgress(),q("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await EI(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function VE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await UL(t);q("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>RE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>RE(e.remoteStore,i)),t._onlineComponents=e}async function UL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){q("FirestoreClient","Using user provided OfflineComponentProvider");try{await Yp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===F.FAILED_PRECONDITION||i.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Jo("Error using user provided cache. Falling back to memory cache: "+n),await Yp(t,new Pd)}}else q("FirestoreClient","Using default OfflineComponentProvider"),await Yp(t,new Pd);return t._offlineComponents}async function $I(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(q("FirestoreClient","Using user provided OnlineComponentProvider"),await VE(t,t._uninitializedComponentsProvider._online)):(q("FirestoreClient","Using default OnlineComponentProvider"),await VE(t,new zg))),t._onlineComponents}function jL(t){return $I(t).then(e=>e.syncEngine)}async function $g(t){const e=await $I(t),n=e.eventManager;return n.onListen=SL.bind(null,e.syncEngine),n.onUnlisten=CL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=kL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=AL.bind(null,e.syncEngine),n}function BL(t,e,n={}){const r=new Ni;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new zI({next:f=>{c.Za(),o.enqueueAndForget(()=>DI(s,d)),f.fromCache&&l.source==="server"?u.reject(new H(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),d=new NI(a,c,{includeMetadataChanges:!0,_a:!0});return RI(s,d)}(await $g(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(t,e,n){if(!n)throw new H(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function zL(t,e,n,r){if(e===!0&&r===!0)throw new H(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function UE(t){if(!Q.isDocumentKey(t))throw new H(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function jE(t){if(Q.isDocumentKey(t))throw new H(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function If(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ee()}function ar(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new H(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=If(t);throw new H(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new H(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new H(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}zL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=HI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new H(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new H(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new H(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Cf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new BE({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new H(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new H(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new BE(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new a5;switch(r.type){case"firstParty":return new h5(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new H(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=FE.get(n);r&&(q("ComponentProvider","Removing Datastore"),FE.delete(n),r.terminate())}(this),Promise.resolve()}}function $L(t,e,n,r={}){var i;const s=(t=ar(t,Cf))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Jo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Nt.MOCK_USER;else{a=MM(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new H(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Nt(u)}t._authCredentials=new l5(new jk(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new qs(this.firestore,e,this._query)}}class on{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Oi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new on(this.firestore,e,this._key)}}class Oi extends qs{constructor(e,n,r){super(e,n,z0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new on(this.firestore,null,new Q(e))}withConverter(e){return new Oi(this.firestore,e,this._path)}}function Qr(t,e,...n){if(t=lt(t),WI("collection","path",e),t instanceof Cf){const r=Me.fromString(e,...n);return jE(r),new Oi(t,null,r)}{if(!(t instanceof on||t instanceof Oi))throw new H(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Me.fromString(e,...n));return jE(r),new Oi(t.firestore,null,r)}}function Gn(t,e,...n){if(t=lt(t),arguments.length===1&&(e=Bk.newId()),WI("doc","path",e),t instanceof Cf){const r=Me.fromString(e,...n);return UE(r),new on(t,null,new Q(r))}{if(!(t instanceof on||t instanceof Oi))throw new H(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Me.fromString(e,...n));return UE(r),new on(t.firestore,t instanceof Oi?t.converter:null,new Q(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new bI(this,"async_queue_retry"),this.Vu=()=>{const r=Qp();r&&q("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Qp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Qp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Ni;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!$u(e))throw e;q("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw jr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=tv.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&ee()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function $E(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Us extends Cf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new zE,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new zE(e),this._firestoreClient=void 0,await e}}}function HL(t,e){const n=typeof t=="object"?t:Rk(),r=typeof t=="string"?t:"(default)",i=O0(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=NM("firestore");s&&$L(i,...s)}return i}function sv(t){if(t._terminated)throw new H(F.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||WL(t),t._firestoreClient}function WL(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,c){return new T5(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,HI(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new FL(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ia(Tt.fromBase64String(e))}catch(n){throw new H(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ia(Tt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new H(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new H(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new H(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return we(this._lat,e._lat)||we(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qL=/^__.*__$/;class KL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Yi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Wu(e,this.data,n,this.fieldTransforms)}}class qI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Yi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function KI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ee()}}class lv{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new lv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Rd(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(KI(this.Cu)&&qL.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class GL{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Tf(e)}Qu(e,n,r,i=!1){return new lv({Cu:e,methodName:n,qu:r,path:wt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function uv(t){const e=t._freezeSettings(),n=Tf(t._databaseId);return new GL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function QL(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);hv("Data must be an object, but it was:",o,r);const a=GI(r,o);let l,u;if(s.merge)l=new dn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const f=Hg(e,d,n);if(!o.contains(f))throw new H(F.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);YI(c,f)||c.push(f)}l=new dn(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new KL(new Jt(a),l,u)}class Rf extends Pf{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Rf}}class cv extends Pf{constructor(e,n){super(e),this.$u=n}_toFieldTransform(e){const n=new vu(e.serializer,iI(e.serializer,this.$u));return new G5(e.path,n)}isEqual(e){return e instanceof cv&&this.$u===e.$u}}function YL(t,e,n,r){const i=t.Qu(1,e,n);hv("Data must be an object, but it was:",i,r);const s=[],o=Jt.empty();Hs(r,(l,u)=>{const c=dv(e,l,n);u=lt(u);const d=i.Nu(c);if(u instanceof Rf)s.push(c);else{const f=Qu(u,d);f!=null&&(s.push(c),o.set(c,f))}});const a=new dn(s);return new qI(o,a,i.fieldTransforms)}function XL(t,e,n,r,i,s){const o=t.Qu(1,e,n),a=[Hg(e,r,n)],l=[i];if(s.length%2!=0)throw new H(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(Hg(e,s[f])),l.push(s[f+1]);const u=[],c=Jt.empty();for(let f=a.length-1;f>=0;--f)if(!YI(u,a[f])){const m=a[f];let y=l[f];y=lt(y);const _=o.Nu(m);if(y instanceof Rf)u.push(m);else{const E=Qu(y,_);E!=null&&(u.push(m),c.set(m,E))}}const d=new dn(u);return new qI(c,d,o.fieldTransforms)}function JL(t,e,n,r=!1){return Qu(n,t.Qu(r?4:3,e))}function Qu(t,e){if(QI(t=lt(t)))return hv("Unsupported field value:",e,t),GI(t,e);if(t instanceof Pf)return function(r,i){if(!KI(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Qu(a,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=lt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return iI(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=at.fromDate(r);return{timestampValue:Cd(i.serializer,s)}}if(r instanceof at){const s=new at(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Cd(i.serializer,s)}}if(r instanceof ov)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ia)return{bytesValue:pI(i.serializer,r._byteString)};if(r instanceof on){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:K0(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof av)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return $0(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${If(r)}`)}(t,e)}function GI(t,e){const n={};return zk(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hs(t,(r,i)=>{const s=Qu(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function QI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof at||t instanceof ov||t instanceof ia||t instanceof on||t instanceof Pf||t instanceof av)}function hv(t,e,n){if(!QI(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=If(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Hg(t,e,n){if((e=lt(e))instanceof Af)return e._internalPath;if(typeof e=="string")return dv(t,e);throw Rd("Field path arguments must be of type string or ",t,!1,void 0,n)}const ZL=new RegExp("[~\\*/\\[\\]]");function dv(t,e,n){if(e.search(ZL)>=0)throw Rd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Af(...e.split("."))._internalPath}catch{throw Rd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Rd(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new H(F.INVALID_ARGUMENT,a+t+l)}function YI(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new on(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new eV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(fv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class eV extends XI{data(){return super.data()}}function fv(t,e){return typeof e=="string"?dv(t,e):e instanceof Af?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new H(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class pv{}class tV extends pv{}function nV(t,e,...n){let r=[];e instanceof pv&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof mv).length,a=s.filter(l=>l instanceof Df).length;if(o>1||o>0&&a>0)throw new H(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Df extends tV{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Df(e,n,r)}_apply(e){const n=this._parse(e);return ZI(e._query,n),new qs(e.firestore,e.converter,Ng(e._query,n))}_parse(e){const n=uv(e.firestore);return function(s,o,a,l,u,c,d){let f;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new H(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){WE(d,c);const m=[];for(const y of d)m.push(HE(l,s,y));f={arrayValue:{values:m}}}else f=HE(l,s,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||WE(d,c),f=JL(a,o,d,c==="in"||c==="not-in");return it.create(u,c,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function rV(t,e,n){const r=e,i=fv("where",t);return Df._create(i,r,n)}class mv extends pv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new mv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:qn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)ZI(o,l),o=Ng(o,l)}(e._query,n),new qs(e.firestore,e.converter,Ng(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function HE(t,e,n){if(typeof(n=lt(n))=="string"){if(n==="")throw new H(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Xk(e)&&n.indexOf("/")!==-1)throw new H(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Me.fromString(n));if(!Q.isDocumentKey(r))throw new H(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return hE(t,new Q(r))}if(n instanceof on)return hE(t,n._key);throw new H(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${If(n)}.`)}function WE(t,e){if(!Array.isArray(t)||t.length===0)throw new H(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ZI(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new H(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new H(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class iV{convertValue(e,n="none"){switch(Fs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ye(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Vs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ee()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Hs(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Ye(o.doubleValue));return new av(s)}convertGeoPoint(e){return new ov(Ye(e.latitude),Ye(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=F0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(fu(e));default:return null}}convertTimestamp(e){const n=Bi(e);return new at(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Me.fromString(e);Se(wI(r));const i=new pu(r.get(1),r.get(3)),s=new Q(r.popFirst(5));return i.isEqual(n)||jr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sV(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class eC extends XI{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ph(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(fv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Ph extends eC{data(e={}){return super.data(e)}}class tC{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new pl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ph(this._firestore,this._userDataWriter,r.key,r,new pl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new H(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Ph(i._firestore,i._userDataWriter,a.doc.key,a.doc,new pl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Ph(i._firestore,i._userDataWriter,a.doc.key,a.doc,new pl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:oV(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function oV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ee()}}class gv extends iV{constructor(e){super(),this.firestore=e}convertBytes(e){return new ia(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new on(this.firestore,null,n)}}function nC(t){t=ar(t,qs);const e=ar(t.firestore,Us),n=sv(e),r=new gv(e);return JI(t._query),BL(n,t._query).then(i=>new tC(e,r,t,i))}function wa(t,e,n,...r){t=ar(t,on);const i=ar(t.firestore,Us),s=uv(i);let o;return o=typeof(e=lt(e))=="string"||e instanceof Af?XL(s,"updateDoc",t._key,e,n,r):YL(s,"updateDoc",t._key,e),yv(i,[o.toMutation(t._key,Hn.exists(!0))])}function Nf(t){return yv(ar(t.firestore,Us),[new H0(t._key,Hn.none())])}function Of(t,e){const n=ar(t.firestore,Us),r=Gn(t),i=sV(t.converter,e);return yv(n,[QL(uv(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Hn.exists(!1))]).then(()=>r)}function Mf(t,...e){var n,r,i;t=lt(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||$E(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if($E(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,c;if(t instanceof on)u=ar(t.firestore,Us),c=z0(t._key.path),l={next:d=>{e[o]&&e[o](aV(u,t,d))},error:e[o+1],complete:e[o+2]};else{const d=ar(t,qs);u=ar(d.firestore,Us),c=d._query;const f=new gv(u);l={next:m=>{e[o]&&e[o](new tC(u,f,d,m))},error:e[o+1],complete:e[o+2]},JI(t._query)}return function(f,m,y,_){const E=new zI(_),w=new NI(m,E,y);return f.asyncQueue.enqueueAndForget(async()=>RI(await $g(f),w)),()=>{E.Za(),f.asyncQueue.enqueueAndForget(async()=>DI(await $g(f),w))}}(sv(u),c,a,l)}function yv(t,e){return function(r,i){const s=new Ni;return r.asyncQueue.enqueueAndForget(async()=>PL(await jL(r),i,s)),s.promise}(sv(t),e)}function aV(t,e,n){const r=n.docs.get(e._key),i=new gv(t);return new eC(t,i,e._key,r,new pl(n.hasPendingWrites,n.fromCache),e.converter)}function rC(t){return new cv("increment",t)}(function(e,n=!0){(function(i){ya=i})(ga),Xo(new Ms("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Us(new u5(r.getProvider("auth-internal")),new f5(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new H(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pu(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Di(oE,"4.7.3",e),Di(oE,"4.7.3","esm2017")})();function vv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function iC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const lV=iC,sC=new ju("auth","Firebase",iC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dd=new D0("@firebase/auth");function uV(t,...e){Dd.logLevel<=fe.WARN&&Dd.warn(`Auth (${ga}): ${t}`,...e)}function Rh(t,...e){Dd.logLevel<=fe.ERROR&&Dd.error(`Auth (${ga}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(t,...e){throw _v(t,...e)}function lr(t,...e){return _v(t,...e)}function oC(t,e,n){const r=Object.assign(Object.assign({},lV()),{[e]:n});return new ju("auth","Firebase",r).create(e,{appName:t.name})}function Mi(t){return oC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _v(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return sC.create(t,...e)}function Z(t,e,...n){if(!t)throw _v(e,...n)}function Rr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Rh(e),new Error(e)}function zr(t,e){t||Rr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function cV(){return qE()==="http:"||qE()==="https:"}function qE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cV()||UM()||"connection"in navigator)?navigator.onLine:!0}function dV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e,n){this.shortDelay=e,this.longDelay=n,zr(n>e,"Short delay should be less than long delay!"),this.isMobile=LM()||jM()}get(){return hV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wv(t,e){zr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Rr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Rr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Rr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pV=new Yu(3e4,6e4);function Ks(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Xi(t,e,n,r,i={}){return lC(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Bu(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},s);return FM()||(u.referrerPolicy="no-referrer"),aC.fetch()(uC(t,t.config.apiHost,n,a),u)})}async function lC(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},fV),e);try{const i=new gV(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Hc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Hc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Hc(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw oC(t,c,u);Kn(t,c)}}catch(i){if(i instanceof Gr)throw i;Kn(t,"network-request-failed",{message:String(i)})}}async function Lf(t,e,n,r,i={}){const s=await Xi(t,e,n,r,i);return"mfaPendingCredential"in s&&Kn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function uC(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?wv(t.config,i):`${t.config.apiScheme}://${i}`}function mV(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class gV{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(lr(this.auth,"network-request-failed")),pV.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Hc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=lr(t,e,r);return i.customData._tokenResponse=n,i}function KE(t){return t!==void 0&&t.enterprise!==void 0}class yV{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return mV(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function vV(t,e){return Xi(t,"GET","/v2/recaptchaConfig",Ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _V(t,e){return Xi(t,"POST","/v1/accounts:delete",e)}async function cC(t,e){return Xi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ol(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function wV(t,e=!1){const n=lt(t),r=await n.getIdToken(e),i=Ev(r);Z(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Ol(Xp(i.auth_time)),issuedAtTime:Ol(Xp(i.iat)),expirationTime:Ol(Xp(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Xp(t){return Number(t)*1e3}function Ev(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Rh("JWT malformed, contained fewer than 3 sections"),null;try{const i=Tk(n);return i?JSON.parse(i):(Rh("Failed to decode base64 JWT payload"),null)}catch(i){return Rh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function GE(t){const e=Ev(t);return Z(e,"internal-error"),Z(typeof e.exp<"u","internal-error"),Z(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _u(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Gr&&EV(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function EV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ol(this.lastLoginAt),this.creationTime=Ol(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await _u(t,cC(n,{idToken:r}));Z(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?hC(s.providerUserInfo):[],a=TV(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new qg(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function bV(t){const e=lt(t);await Nd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function TV(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function hC(t){return t.map(e=>{var{providerId:n}=e,r=vv(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SV(t,e){const n=await lC(t,{},async()=>{const r=Bu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=uC(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",aC.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function kV(t,e){return Xi(t,"POST","/v2/accounts:revokeToken",Ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Z(e.idToken,"internal-error"),Z(typeof e.idToken<"u","internal-error"),Z(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):GE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Z(e.length!==0,"internal-error");const n=GE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Z(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await SV(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Fo;return r&&(Z(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Z(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Z(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fo,this.toJSON())}_performRefresh(){return Rr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(t,e){Z(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Dr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=vv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new xV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new qg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await _u(this,this.stsTokenManager.getToken(this.auth,e));return Z(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return wV(this,e)}reload(){return bV(this)}_assign(e){this!==e&&(Z(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Dr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Nd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pr(this.auth.app))return Promise.reject(Mi(this.auth));const e=await this.getIdToken();return await _u(this,_V(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,_=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,w=(u=n.createdAt)!==null&&u!==void 0?u:void 0,b=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:T,emailVerified:R,isAnonymous:D,providerData:M,stsTokenManager:S}=n;Z(T&&S,e,"internal-error");const x=Fo.fromJSON(this.name,S);Z(typeof T=="string",e,"internal-error"),ti(d,e.name),ti(f,e.name),Z(typeof R=="boolean",e,"internal-error"),Z(typeof D=="boolean",e,"internal-error"),ti(m,e.name),ti(y,e.name),ti(_,e.name),ti(E,e.name),ti(w,e.name),ti(b,e.name);const I=new Dr({uid:T,auth:e,email:f,emailVerified:R,displayName:d,isAnonymous:D,photoURL:y,phoneNumber:m,tenantId:_,stsTokenManager:x,createdAt:w,lastLoginAt:b});return M&&Array.isArray(M)&&(I.providerData=M.map(C=>Object.assign({},C))),E&&(I._redirectEventId=E),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new Fo;i.updateFromServerResponse(n);const s=new Dr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Nd(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Z(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?hC(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Fo;a.updateFromIdToken(r);const l=new Dr({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new qg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE=new Map;function Nr(t){zr(t instanceof Function,"Expected a class definition");let e=QE.get(t);return e?(zr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,QE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}dC.type="NONE";const YE=dC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dh(t,e,n){return`firebase:${t}:${e}:${n}`}class Uo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Dh(this.userKey,i.apiKey,s),this.fullPersistenceKey=Dh("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Dr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Uo(Nr(YE),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Nr(YE);const o=Dh(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=Dr._fromJSON(e,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Uo(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Uo(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(gC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(vC(e))return"Blackberry";if(_C(e))return"Webos";if(pC(e))return"Safari";if((e.includes("chrome/")||mC(e))&&!e.includes("edge/"))return"Chrome";if(yC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function fC(t=Ut()){return/firefox\//i.test(t)}function pC(t=Ut()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function mC(t=Ut()){return/crios\//i.test(t)}function gC(t=Ut()){return/iemobile/i.test(t)}function yC(t=Ut()){return/android/i.test(t)}function vC(t=Ut()){return/blackberry/i.test(t)}function _C(t=Ut()){return/webos/i.test(t)}function xv(t=Ut()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function IV(t=Ut()){var e;return xv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function CV(){return BM()&&document.documentMode===10}function wC(t=Ut()){return xv(t)||yC(t)||_C(t)||vC(t)||/windows phone/i.test(t)||gC(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EC(t,e=[]){let n;switch(t){case"Browser":n=XE(Ut());break;case"Worker":n=`${XE(Ut())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ga}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PV(t,e={}){return Xi(t,"GET","/v2/passwordPolicy",Ks(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RV=6;class DV{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:RV,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new JE(this),this.idTokenSubscription=new JE(this),this.beforeStateQueue=new AV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Nr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Uo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await cC(this,{idToken:e}),r=await Dr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Pr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Z(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Nd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=dV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Pr(this.app))return Promise.reject(Mi(this));const n=e?lt(e):null;return n&&Z(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Z(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Pr(this.app)?Promise.reject(Mi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Pr(this.app)?Promise.reject(Mi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Nr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await PV(this),n=new DV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ju("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await kV(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Nr(e)||this._popupRedirectResolver;Z(n,this,"argument-error"),this.redirectPersistenceManager=await Uo.create(this,[Nr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Z(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=EC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&uV(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ea(t){return lt(t)}class JE{constructor(e){this.auth=e,this.observer=null,this.addObserver=QM(n=>this.observer=n)}get next(){return Z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function OV(t){Vf=t}function xC(t){return Vf.loadJS(t)}function MV(){return Vf.recaptchaEnterpriseScript}function LV(){return Vf.gapiScript}function VV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const FV="recaptcha-enterprise",UV="NO_RECAPTCHA";class jV{constructor(e){this.type=FV,this.auth=Ea(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{vV(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new yV(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;KE(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(UV)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&KE(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=MV();l.length!==0&&(l+=a),xC(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function ZE(t,e,n,r=!1){const i=new jV(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function ex(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await ZE(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await ZE(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BV(t,e){const n=O0(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(xd(s,e??{}))return i;Kn(i,"already-initialized")}return n.initialize({options:e})}function zV(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Nr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function $V(t,e,n){const r=Ea(t);Z(r._canInitEmulator,r,"emulator-config-failed"),Z(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=bC(e),{host:o,port:a}=HV(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),WV()}function bC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function HV(t){const e=bC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:tx(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:tx(o)}}}function tx(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function WV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Rr("not implemented")}_getIdTokenResponse(e){return Rr("not implemented")}_linkToIdToken(e,n){return Rr("not implemented")}_getReauthenticationResolver(e){return Rr("not implemented")}}async function qV(t,e){return Xi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KV(t,e){return Lf(t,"POST","/v1/accounts:signInWithPassword",Ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GV(t,e){return Lf(t,"POST","/v1/accounts:signInWithEmailLink",Ks(t,e))}async function QV(t,e){return Lf(t,"POST","/v1/accounts:signInWithEmailLink",Ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu extends bv{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new wu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new wu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ex(e,n,"signInWithPassword",KV);case"emailLink":return GV(e,{email:this._email,oobCode:this._password});default:Kn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ex(e,r,"signUpPassword",qV);case"emailLink":return QV(e,{idToken:n,email:this._email,oobCode:this._password});default:Kn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jo(t,e){return Lf(t,"POST","/v1/accounts:signInWithIdp",Ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YV="http://localhost";class js extends bv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new js(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Kn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=vv(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new js(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return jo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,jo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,jo(e,n)}buildRequest(){const e={requestUri:YV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Bu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function JV(t){const e=ul(cl(t)).link,n=e?ul(cl(e)).deep_link_id:null,r=ul(cl(t)).deep_link_id;return(r?ul(cl(r)).link:null)||r||n||e||t}class Tv{constructor(e){var n,r,i,s,o,a;const l=ul(cl(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=XV((i=l.mode)!==null&&i!==void 0?i:null);Z(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=JV(e);try{return new Tv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(){this.providerId=xa.PROVIDER_ID}static credential(e,n){return wu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Tv.parseLink(n);return Z(r,"argument-error"),wu._fromEmailAndCode(e,r.code,r.tenantId)}}xa.PROVIDER_ID="password";xa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";xa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu extends TC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi extends Xu{constructor(){super("facebook.com")}static credential(e){return js._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hi.credentialFromTaggedObject(e)}static credentialFromError(e){return hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hi.credential(e.oauthAccessToken)}catch{return null}}}hi.FACEBOOK_SIGN_IN_METHOD="facebook.com";hi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends Xu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return js._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return di.credentialFromTaggedObject(e)}static credentialFromError(e){return di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return di.credential(n,r)}catch{return null}}}di.GOOGLE_SIGN_IN_METHOD="google.com";di.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends Xu{constructor(){super("github.com")}static credential(e){return js._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fi.credentialFromTaggedObject(e)}static credentialFromError(e){return fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fi.credential(e.oauthAccessToken)}catch{return null}}}fi.GITHUB_SIGN_IN_METHOD="github.com";fi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi extends Xu{constructor(){super("twitter.com")}static credential(e,n){return js._fromParams({providerId:pi.PROVIDER_ID,signInMethod:pi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return pi.credentialFromTaggedObject(e)}static credentialFromError(e){return pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return pi.credential(n,r)}catch{return null}}}pi.TWITTER_SIGN_IN_METHOD="twitter.com";pi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Dr._fromIdTokenResponse(e,r,i),o=nx(r);return new sa({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=nx(r);return new sa({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function nx(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od extends Gr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Od.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Od(e,n,r,i)}}function SC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Od._fromErrorAndOperation(t,s,e,r):s})}async function ZV(t,e,n=!1){const r=await _u(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return sa._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e8(t,e,n=!1){const{auth:r}=t;if(Pr(r.app))return Promise.reject(Mi(r));const i="reauthenticate";try{const s=await _u(t,SC(r,i,e,t),n);Z(s.idToken,r,"internal-error");const o=Ev(s.idToken);Z(o,r,"internal-error");const{sub:a}=o;return Z(t.uid===a,r,"user-mismatch"),sa._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Kn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kC(t,e,n=!1){if(Pr(t.app))return Promise.reject(Mi(t));const r="signIn",i=await SC(t,r,e),s=await sa._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function t8(t,e){return kC(Ea(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n8(t){const e=Ea(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function r8(t,e,n){return Pr(t.app)?Promise.reject(Mi(t)):t8(lt(t),xa.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&n8(t),r})}function i8(t,e,n,r){return lt(t).onIdTokenChanged(e,n,r)}function s8(t,e,n){return lt(t).beforeAuthStateChanged(e,n)}function o8(t,e,n,r){return lt(t).onAuthStateChanged(e,n,r)}function a8(t){return lt(t).signOut()}const Md="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Md,"1"),this.storage.removeItem(Md),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l8=1e3,u8=10;class CC extends IC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=wC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);CV()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,u8):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},l8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}CC.type="LOCAL";const c8=CC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC extends IC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}AC.type="SESSION";const PC=AC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h8(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Ff(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await h8(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ff.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d8{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=Sv("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ur(){return window}function f8(t){ur().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RC(){return typeof ur().WorkerGlobalScope<"u"&&typeof ur().importScripts=="function"}async function p8(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function m8(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function g8(){return RC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC="firebaseLocalStorageDb",y8=1,Ld="firebaseLocalStorage",NC="fbase_key";class Ju{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Uf(t,e){return t.transaction([Ld],e?"readwrite":"readonly").objectStore(Ld)}function v8(){const t=indexedDB.deleteDatabase(DC);return new Ju(t).toPromise()}function Kg(){const t=indexedDB.open(DC,y8);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ld,{keyPath:NC})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ld)?e(r):(r.close(),await v8(),e(await Kg()))})})}async function rx(t,e,n){const r=Uf(t,!0).put({[NC]:e,value:n});return new Ju(r).toPromise()}async function _8(t,e){const n=Uf(t,!1).get(e),r=await new Ju(n).toPromise();return r===void 0?null:r.value}function ix(t,e){const n=Uf(t,!0).delete(e);return new Ju(n).toPromise()}const w8=800,E8=3;class OC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Kg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>E8)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return RC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ff._getInstance(g8()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await p8(),!this.activeServiceWorker)return;this.sender=new d8(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||m8()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Kg();return await rx(e,Md,"1"),await ix(e,Md),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>rx(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>_8(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>ix(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Uf(i,!1).getAll();return new Ju(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),w8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}OC.type="LOCAL";const x8=OC;new Yu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b8(t,e){return e?Nr(e):(Z(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv extends bv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return jo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return jo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return jo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function T8(t){return kC(t.auth,new kv(t),t.bypassAuthState)}function S8(t){const{auth:e,user:n}=t;return Z(n,e,"internal-error"),e8(n,new kv(t),t.bypassAuthState)}async function k8(t){const{auth:e,user:n}=t;return Z(n,e,"internal-error"),ZV(n,new kv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return T8;case"linkViaPopup":case"linkViaRedirect":return k8;case"reauthViaPopup":case"reauthViaRedirect":return S8;default:Kn(this.auth,"internal-error")}}resolve(e){zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I8=new Yu(2e3,1e4);class bo extends MC{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,bo.currentPopupAction&&bo.currentPopupAction.cancel(),bo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Z(e,this.auth,"internal-error"),e}async onExecution(){zr(this.filter.length===1,"Popup operations only handle one event");const e=Sv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(lr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(lr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,bo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(lr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,I8.get())};e()}}bo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C8="pendingRedirect",Nh=new Map;class A8 extends MC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Nh.get(this.auth._key());if(!e){try{const r=await P8(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Nh.set(this.auth._key(),e)}return this.bypassAuthState||Nh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function P8(t,e){const n=N8(e),r=D8(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function R8(t,e){Nh.set(t._key(),e)}function D8(t){return Nr(t._redirectPersistence)}function N8(t){return Dh(C8,t.config.apiKey,t.name)}async function O8(t,e,n=!1){if(Pr(t.app))return Promise.reject(Mi(t));const r=Ea(t),i=b8(r,e),o=await new A8(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M8=10*60*1e3;class L8{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!V8(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!LC(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(lr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=M8&&this.cachedEventUids.clear(),this.cachedEventUids.has(sx(e))}saveEventToCache(e){this.cachedEventUids.add(sx(e)),this.lastProcessedEventTime=Date.now()}}function sx(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function LC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function V8(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return LC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F8(t,e={}){return Xi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U8=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,j8=/^https?/;async function B8(t){if(t.config.emulator)return;const{authorizedDomains:e}=await F8(t);for(const n of e)try{if(z8(n))return}catch{}Kn(t,"unauthorized-domain")}function z8(t){const e=Wg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!j8.test(n))return!1;if(U8.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $8=new Yu(3e4,6e4);function ox(){const t=ur().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function H8(t){return new Promise((e,n)=>{var r,i,s;function o(){ox(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ox(),n(lr(t,"network-request-failed"))},timeout:$8.get()})}if(!((i=(r=ur().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=ur().gapi)===null||s===void 0)&&s.load)o();else{const a=VV("iframefcb");return ur()[a]=()=>{gapi.load?o():n(lr(t,"network-request-failed"))},xC(`${LV()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Oh=null,e})}let Oh=null;function W8(t){return Oh=Oh||H8(t),Oh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q8=new Yu(5e3,15e3),K8="__/auth/iframe",G8="emulator/auth/iframe",Q8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Y8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function X8(t){const e=t.config;Z(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?wv(e,G8):`https://${t.config.authDomain}/${K8}`,r={apiKey:e.apiKey,appName:t.name,v:ga},i=Y8.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Bu(r).slice(1)}`}async function J8(t){const e=await W8(t),n=ur().gapi;return Z(n,t,"internal-error"),e.open({where:document.body,url:X8(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Q8,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=lr(t,"network-request-failed"),a=ur().setTimeout(()=>{s(o)},q8.get());function l(){ur().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},e9=500,t9=600,n9="_blank",r9="http://localhost";class ax{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function i9(t,e,n,r=e9,i=t9){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Z8),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Ut().toLowerCase();n&&(a=mC(u)?n9:n),fC(u)&&(e=e||r9,l.scrollbars="yes");const c=Object.entries(l).reduce((f,[m,y])=>`${f}${m}=${y},`,"");if(IV(u)&&a!=="_self")return s9(e||"",a),new ax(null);const d=window.open(e||"",a,c);Z(d,t,"popup-blocked");try{d.focus()}catch{}return new ax(d)}function s9(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o9="__/auth/handler",a9="emulator/auth/handler",l9=encodeURIComponent("fac");async function lx(t,e,n,r,i,s){Z(t.config.authDomain,t,"auth-domain-config-required"),Z(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ga,eventId:i};if(e instanceof TC){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",GM(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries({}))o[c]=d}if(e instanceof Xu){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${l9}=${encodeURIComponent(l)}`:"";return`${u9(t)}?${Bu(a).slice(1)}${u}`}function u9({config:t}){return t.emulator?wv(t,a9):`https://${t.authDomain}/${o9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp="webStorageSupport";class c9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=PC,this._completeRedirectFn=O8,this._overrideRedirectResult=R8}async _openPopup(e,n,r,i){var s;zr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await lx(e,n,r,Wg(),i);return i9(e,o,Sv())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await lx(e,n,r,Wg(),i);return f8(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(zr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await J8(e),r=new L8(e);return n.register("authEvent",i=>(Z(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Jp,{type:Jp},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Jp];o!==void 0&&n(!!o),Kn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=B8(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return wC()||pC()||xv()}}const h9=c9;var ux="@firebase/auth",cx="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function p9(t){Xo(new Ms("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Z(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:EC(t)},u=new NV(r,i,s,l);return zV(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Xo(new Ms("auth-internal",e=>{const n=Ea(e.getProvider("auth").getImmediate());return(r=>new d9(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Di(ux,cx,f9(t)),Di(ux,cx,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m9=5*60,g9=Ik("authIdTokenMaxAge")||m9;let hx=null;const y9=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>g9)return;const i=n==null?void 0:n.token;hx!==i&&(hx=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function v9(t=Rk()){const e=O0(t,"auth");if(e.isInitialized())return e.getImmediate();const n=BV(t,{popupRedirectResolver:h9,persistence:[x8,c8,PC]}),r=Ik("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=y9(s.toString());s8(n,o,()=>o(n.currentUser)),i8(n,a=>o(a))}}const i=Sk("auth");return i&&$V(n,`http://${i}`),n}function _9(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}OV({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=lr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",_9().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});p9("Browser");const VC={apiKey:"AIzaSyCKF7qF1bq47GPlueo8VLTiUN494MZkzn0",authDomain:"topupstore-510c8.firebaseapp.com",projectId:"topupstore-510c8",storageBucket:"topupstore-510c8.appspot.com",messagingSenderId:"1032699230069",appId:"1:1032699230069:web:d9efa38903c479eaf9053c",measurementId:"G-JVL7CR5P7F"};Object.entries(VC).forEach(([t,e])=>{e||console.error(`Missing Firebase config for: ${t}`)});const FC=Pk(VC),ut=HL(FC),Vd=v9(FC);class Zu{constructor(e=0,n="Network Error"){this.status=e,this.text=n}}const w9=()=>{if(!(typeof localStorage>"u"))return{get:t=>Promise.resolve(localStorage.getItem(t)),set:(t,e)=>Promise.resolve(localStorage.setItem(t,e)),remove:t=>Promise.resolve(localStorage.removeItem(t))}},_t={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:w9()},Iv=t=>t?typeof t=="string"?{publicKey:t}:t.toString()==="[object Object]"?t:{}:{},E9=(t,e="https://api.emailjs.com")=>{if(!t)return;const n=Iv(t);_t.publicKey=n.publicKey,_t.blockHeadless=n.blockHeadless,_t.storageProvider=n.storageProvider,_t.blockList=n.blockList,_t.limitRate=n.limitRate,_t.origin=n.origin||e},UC=async(t,e,n={})=>{const r=await fetch(_t.origin+t,{method:"POST",headers:n,body:e}),i=await r.text(),s=new Zu(r.status,i);if(r.ok)return s;throw s},jC=(t,e,n)=>{if(!t||typeof t!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||typeof n!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},x9=t=>{if(t&&t.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},BC=t=>t.webdriver||!t.languages||t.languages.length===0,zC=()=>new Zu(451,"Unavailable For Headless Browser"),b9=(t,e)=>{if(!Array.isArray(t))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},T9=t=>{var e;return!((e=t.list)!=null&&e.length)||!t.watchVariable},S9=(t,e)=>t instanceof FormData?t.get(e):t[e],$C=(t,e)=>{if(T9(t))return!1;b9(t.list,t.watchVariable);const n=S9(e,t.watchVariable);return typeof n!="string"?!1:t.list.includes(n)},HC=()=>new Zu(403,"Forbidden"),k9=(t,e)=>{if(typeof t!="number"||t<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},I9=async(t,e,n)=>{const r=Number(await n.get(t)||0);return e-Date.now()+r},WC=async(t,e,n)=>{if(!e.throttle||!n)return!1;k9(e.throttle,e.id);const r=e.id||t;return await I9(r,e.throttle,n)>0?!0:(await n.set(r,Date.now().toString()),!1)},qC=()=>new Zu(429,"Too Many Requests"),C9=async(t,e,n,r)=>{const i=Iv(r),s=i.publicKey||_t.publicKey,o=i.blockHeadless||_t.blockHeadless,a=i.storageProvider||_t.storageProvider,l={..._t.blockList,...i.blockList},u={..._t.limitRate,...i.limitRate};return o&&BC(navigator)?Promise.reject(zC()):(jC(s,t,e),x9(n),n&&$C(l,n)?Promise.reject(HC()):await WC(location.pathname,u,a)?Promise.reject(qC()):UC("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:s,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"}))},A9=t=>{if(!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},P9=t=>typeof t=="string"?document.querySelector(t):t,R9=async(t,e,n,r)=>{const i=Iv(r),s=i.publicKey||_t.publicKey,o=i.blockHeadless||_t.blockHeadless,a=_t.storageProvider||i.storageProvider,l={..._t.blockList,...i.blockList},u={..._t.limitRate,...i.limitRate};if(o&&BC(navigator))return Promise.reject(zC());const c=P9(n);jC(s,t,e),A9(c);const d=new FormData(c);return $C(l,d)?Promise.reject(HC()):await WC(location.pathname,u,a)?Promise.reject(qC()):(d.append("lib_version","4.4.1"),d.append("service_id",t),d.append("template_id",e),d.append("user_id",s),UC("/api/v1.0/email/send-form",d))},D9={init:E9,send:C9,sendForm:R9,EmailJSResponseStatus:Zu},N9="service_9qj72js",O9="template_lg986nn",M9="lAEd-mzMwpHWEtsJt";function L9(){return"ORD-"+Date.now()+"-"+Math.floor(Math.random()*1e4)}async function V9(t){try{const e=L9(),n=await Of(Qr(ut,"orders"),{...t,id:e});return console.log("Document written with ID: ",n.id),{success:!0,orderId:e,firestoreId:n.id}}catch(e){return console.error("Error adding document: ",e),{success:!1,error:e}}}async function F9(){const t=await nC(Qr(ut,"orders")),e=[];return t.forEach(n=>{e.push({...n.data(),firestoreId:n.id})}),e}function U9(t){const e=Qr(ut,"orders");return Mf(e,r=>{const i=[];r.forEach(s=>{i.push({...s.data(),firestoreId:s.id})}),t(i)})}async function KC(t,e){const n=Gn(ut,"orders",t);try{return await wa(n,{status:e}),{success:!0}}catch(r){return console.error("Error updating status: ",r),{success:!1,error:r}}}async function j9(t){const e=Gn(ut,"orders",t);try{return await Nf(e),{success:!0}}catch(n){return console.error("Error deleting document: ",n),{success:!1,error:n}}}async function B9(t){if(!t.email)return console.error("Order is missing an email address. Cannot send email for order:",t.id),alert(`Could not send email for order ${t.id} because no email address is associated with it.`),{success:!1,error:"Recipient email address is missing"};const e={to_email:t.email,name:t.name,order_id:t.id,game_name:t.game,package_name:t.package,player_id:t.playerId,price:t.price.toFixed(2)};try{return await D9.send(N9,O9,e,M9),console.log("SUCCESS! Email sent for order:",t.id),{success:!0}}catch(n){return console.error("FAILED to send email...",n),alert(`Failed to send completion email for order ${t.id}. Error: ${n.text}`),{success:!1,error:n}}}async function z9(t){const e=await nC(Qr(ut,"orders"));let n=null;return e.forEach(r=>{const i=r.data();i.id===t&&(n={...i,firestoreId:r.id})}),n}const GC=Qr(ut,"faqs");function QC(t){return Mf(GC,n=>{const r=[];n.forEach(i=>{r.push({id:i.id,...i.data()})}),t(r.sort((i,s)=>i.question.localeCompare(s.question)))})}async function $9(t){try{return{success:!0,id:(await Of(GC,t)).id}}catch(e){return console.error("Error adding FAQ: ",e),{success:!1,error:e}}}async function H9(t,e){const n=Gn(ut,"faqs",t);try{return await wa(n,e),{success:!0}}catch(r){return console.error("Error updating FAQ: ",r),{success:!1,error:r}}}async function W9(t){const e=Gn(ut,"faqs",t);try{return await Nf(e),{success:!0}}catch(n){return console.error("Error deleting FAQ: ",n),{success:!1,error:n}}}const Gs=()=>g.createElement("div",{className:"flex items-center justify-center"},g.createElement("svg",{className:"animate-spin h-8 w-8 text-blue-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},g.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8z"}))),q9=({question:t,answer:e,isOpen:n,onClick:r})=>g.createElement("div",{className:"border border-gray-300 dark:border-gray-600 rounded-lg overflow-hidden"},g.createElement("button",{className:"w-full flex justify-between items-center py-5 px-2 text-left text-gray-800 dark:text-gray-100 hover:bg-gray-100/50 dark:hover:bg-gray-800/50",onClick:r},g.createElement("span",{className:"text-xl font-semibold"},t),g.createElement(gf,{className:`w-5 h-5 transition-transform duration-300 ${n?"rotate-180":""}`})),g.createElement("div",{className:`grid overflow-hidden transition-all duration-300 ease-in-out ${n?"grid-rows-[1fr] opacity-100":"grid-rows-[0fr] opacity-0"}`},g.createElement("div",{className:"overflow-hidden"},g.createElement("p",{className:"pb-5 px-2 text-gray-600 dark:text-gray-300 text-base leading-relaxed"},e)))),K9=()=>{const[t,e]=O.useState(null),[n,r]=O.useState([]),[i,s]=O.useState(!0);O.useEffect(()=>{const a=QC(l=>{r(l),s(!1)});return()=>a()},[]);const o=a=>{e(t===a?null:a)};return i?g.createElement("div",{className:"w-full max-w-4xl mx-auto mt-16 p-8"},g.createElement(Gs,null)):n.length===0?null:g.createElement("div",{className:"w-full max-w-3xl mx-auto mt-24 p-6 md:p-8 bg-white/30 dark:bg-gray-900/50 rounded-2xl shadow-2xl backdrop-blur-xl"},g.createElement("h2",{className:"text-4xl font-bold text-center mb-10 text-gray-900 dark:text-white"},"Frequently Asked Questions"),g.createElement("div",{className:"space-y-2"},n.map((a,l)=>g.createElement(q9,{key:a.id,question:a.question,answer:a.answer,isOpen:t===l,onClick:()=>o(l)}))))},G9=async t=>{try{await Of(Qr(ut,"testimonials"),{...t,status:"pending",createdAt:new Date,likes:0,dislikes:0})}catch(e){console.error("Error adding testimonial: ",e)}},Gg=(t,e)=>{const n=nV(Qr(ut,"testimonials"),rV("status","==",t));return Mf(n,r=>{const i=[];r.forEach(s=>{i.push({id:s.id,...s.data()})}),e(i)})},Q9=async t=>{try{const e=Gn(ut,"testimonials",t);await wa(e,{status:"approved"})}catch(e){console.error("Error approving testimonial: ",e)}},dx=async t=>{try{await Nf(Gn(ut,"testimonials",t))}catch(e){console.error("Error deleting testimonial: ",e)}},Y9=async t=>{try{const e=Gn(ut,"testimonials",t);await wa(e,{likes:rC(1)})}catch(e){console.error("Error liking testimonial: ",e)}},X9=async t=>{try{const e=Gn(ut,"testimonials",t);await wa(e,{dislikes:rC(1)})}catch(e){console.error("Error disliking testimonial: ",e)}};var YC={},XC={exports:{}},J9="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Z9=J9,eF=Z9;function JC(){}function ZC(){}ZC.resetWarningCache=JC;var tF=function(){function t(r,i,s,o,a,l){if(l!==eF){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:ZC,resetWarningCache:JC};return n.PropTypes=n,n};XC.exports=tF();var nF=XC.exports,Cv={};Object.defineProperty(Cv,"__esModule",{value:!0});var On=function(){function t(e,n){var r=[],i=!0,s=!1,o=void 0;try{for(var a=e[Symbol.iterator](),l;!(i=(l=a.next()).done)&&(r.push(l.value),!(n&&r.length===n));i=!0);}catch(u){s=!0,o=u}finally{try{!i&&a.return&&a.return()}finally{if(s)throw o}}return r}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();Cv.default=rF;var Mn=O;function rF(t){var e=(0,Mn.useState)(t.count),n=On(e,2),r=n[0],i=n[1],s=(0,Mn.useState)(t.size),o=On(s,2),a=o[0],l=o[1],u=(0,Mn.useState)(t.char),c=On(u,2),d=c[0],f=c[1],m=(0,Mn.useState)(t.color),y=On(m,2),_=y[0],E=y[1],w=(0,Mn.useState)(t.activeColor),b=On(w,2),T=b[0],R=b[1],D=(0,Mn.useState)(t.isHalf),M=On(D,2),S=M[0],x=M[1],I=(0,Mn.useState)(t.edit),C=On(I,2),A=C[0],N=C[1],P=(0,Mn.useState)(t.emptyIcon),ae=On(P,2),oe=ae[0],xe=ae[1],te=(0,Mn.useState)(t.halfIcon),j=On(te,2),W=j[0],K=j[1],de=(0,Mn.useState)(t.filledIcon),se=On(de,2),ce=se[0],Fe=se[1],Ge=(0,Mn.useState)(t.a11y),Re=On(Ge,2),jt=Re[0],Yr=Re[1],G={count:r,size:a,char:d,color:_,activeColor:T,isHalf:S,edit:A,emptyIcon:oe,halfIcon:W,filledIcon:ce,a11y:jt};function ke(le){i(le.count),l(le.size),f(le.char),E(le.color),R(le.activeColor),x(le.isHalf),N(le.edit),xe(le.emptyIcon),K(le.halfIcon),Fe(le.filledIcon),Yr(le.a11y)}return[G,ke]}var Av={};Object.defineProperty(Av,"__esModule",{value:!0});var iF=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};Av.default=uF;var sF=O,oF=aF(sF);function aF(t){return t&&t.__esModule?t:{default:t}}var lF={position:"relative",overflow:"hidden",cursor:"pointer",display:"block",float:"left"};function uF(t){var e=t.index,n=t.active,r=t.config,i=t.onMouseOver,s=t.onMouseLeave,o=t.onClick,a=t.halfStarHidden,l=t.halfStarAt,u=t.isUsingIcons,c=t.uniqueness,d=r.color,f=r.activeColor,m=r.size,y=r.char,_=r.isHalf,E=r.edit,w=r.halfIcon,b=r.emptyIcon,T=r.filledIcon,R="",D=!1;_&&!a&&l===e&&(u?R="react-stars-half":R="react-stars-"+c,D=!0);var M=iF({},lF,{color:n?f:d,cursor:E?"pointer":"default",fontSize:m+"px"});function S(){return u?n?T:!n&&D?w:b:y}return oF.default.createElement("span",{className:R,style:M,key:e,"data-index":e,"data-forhalf":T?e:y,onMouseOver:i,onMouseMove:i,onMouseLeave:s,onClick:o},S())}Object.defineProperty(YC,"__esModule",{value:!0});var ni=function(){function t(e,n){var r=[],i=!0,s=!1,o=void 0;try{for(var a=e[Symbol.iterator](),l;!(i=(l=a.next()).done)&&(r.push(l.value),!(n&&r.length===n));i=!0);}catch(u){s=!0,o=u}finally{try{!i&&a.return&&a.return()}finally{if(s)throw o}}return r}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),xr=O,Ya=jf(xr),cF=nF,un=jf(cF),hF=Cv,dF=jf(hF),fF=Av,pF=jf(fF);function jf(t){return t&&t.__esModule?t:{default:t}}var mF={overflow:"hidden",position:"relative"};function gF(t,e){return`
    .react-stars-`+e+`:before {
      position: absolute;
      overflow: hidden;
      display: block;
      z-index: 1;
      top: 0; left: 0;
      width: 50%;
      content: attr(data-forhalf);
      color: `+t+`;
  }`}function yF(t){return`
          span.react-stars-half > * {
          color: `+t+`;
      }`}function Pv(t){var e=(0,xr.useState)(""),n=ni(e,2),r=n[0],i=n[1],s=(0,xr.useState)(0),o=ni(s,2),a=o[0],l=o[1],u=(0,xr.useState)([]),c=ni(u,2),d=c[0],f=c[1],m=(0,xr.useState)(!1),y=ni(m,2),_=y[0],E=y[1],w=(0,dF.default)(t),b=ni(w,2),T=b[0],R=b[1],D=(0,xr.useState)(0),M=ni(D,2),S=M[0],x=M[1],I=(0,xr.useState)(!1),C=ni(I,2),A=C[0],N=C[1],P=(0,xr.useState)(""),ae=ni(P,2),oe=ae[0],xe=ae[1];function te(Y){return!Y.isHalf&&Y.emptyIcon&&Y.filledIcon||Y.isHalf&&Y.emptyIcon&&Y.halfIcon&&Y.filledIcon}function j(){i((Math.random()+"").replace(".",""))}(0,xr.useEffect)(function(){K(),W(t.value,t.count),f(ce(t.value)),R(t),j(),E(te(t)),x(Math.floor(t.value)),N(t.isHalf&&t.value%1<.5)},[]);function W(Y,ne){Y<0||Y>ne?l(0):l(Y)}function K(){var Y="react-stars";xe(t.classNames+(" "+Y))}function de(Y){return Y%1===0}function se(){return T.isHalf?Math.floor(a):Math.round(a)}function ce(Y){typeof Y>"u"&&(Y=se());for(var ne=[],ye=0;ye<T.count;ye++)ne.push({active:ye<=Y-1});return ne}function Fe(Y){if(T.edit){var ne=Number(Y.currentTarget.getAttribute("data-index"));if(T.isHalf){var ye=Re(Y);N(ye),ye&&(ne+=1),x(ne)}else ne+=1;Ge(ne)}}function Ge(Y){var ne=d.filter(function(ye){return ye.active});Y!==ne.length&&f(ce(Y))}function Re(Y){var ne=Y.target,ye=ne.getBoundingClientRect(),et=Y.clientX-ye.left;return et=Math.round(Math.abs(et)),et>ye.width/2}function jt(){T.edit&&(Yr(a),f(ce()))}function Yr(Y){T.isHalf&&(N(de(Y)),x(Math.floor(Y)))}function G(Y){if(T.edit){var ne=Number(Y.currentTarget.getAttribute("data-index")),ye=void 0;if(T.isHalf){var et=Re(Y);N(et),et&&(ne+=1),ye=et?ne:ne+.5,x(ne)}else ye=ne=ne+1;le(ye)}}function ke(){return Ya.default.createElement("style",{dangerouslySetInnerHTML:{__html:_?yF(T.activeColor):gF(T.activeColor,r)}})}function le(Y){Y!==a&&(f(ce(Y)),l(Y),t.onChange(Y))}function an(Y){if(!(!T.a11y&&!T.edit)){var ne=Y.key,ye=a,et=Number(ne);et?Number.isInteger(et)&&et>0&&et<=T.count&&(ye=et):(ne==="ArrowUp"||ne==="ArrowRight")&&ye<T.count?(Y.preventDefault(),ye+=T.isHalf?.5:1):(ne==="ArrowDown"||ne==="ArrowLeft")&&ye>.5&&(Y.preventDefault(),ye-=T.isHalf?.5:1),Yr(ye),le(ye)}}function yr(){return d.map(function(Y,ne){return Ya.default.createElement(pF.default,{key:ne,index:ne,active:Y.active,config:T,onMouseOver:Fe,onMouseLeave:jt,onClick:G,halfStarHidden:A,halfStarAt:S,isUsingIcons:_,uniqueness:r})})}return Ya.default.createElement("div",{className:"react-stars-wrapper-"+r,style:{display:"flex"}},Ya.default.createElement("div",{tabIndex:T.a11y&&T.edit?0:null,"aria-label":"add rating by typing an integer from 0 to 5 or pressing arrow keys",onKeyDown:an,className:oe,style:mF},T.isHalf&&ke(),yr(),Ya.default.createElement("p",{style:{position:"absolute",left:"-200rem"},role:"status"},a)))}Pv.propTypes={classNames:un.default.string,edit:un.default.bool,half:un.default.bool,value:un.default.number,count:un.default.number,char:un.default.string,size:un.default.number,color:un.default.string,activeColor:un.default.string,emptyIcon:un.default.element,halfIcon:un.default.element,filledIcon:un.default.element,a11y:un.default.bool};Pv.defaultProps={edit:!0,half:!1,value:0,count:5,char:"",size:15,color:"gray",activeColor:"#ffd700",a11y:!0,onChange:function(){}};var eA=YC.default=Pv;const vF=({id:t,quote:e,name:n,title:r,avatar:i,rating:s,likes:o,dislikes:a})=>{const[l,u]=O.useState(!1),c=()=>{l||(Y9(t),u(!0))},d=()=>{l||(X9(t),u(!0))};return g.createElement("div",{className:"bg-white/30 dark:bg-gray-900/50 p-8 rounded-2xl shadow-xl backdrop-blur-lg transform hover:scale-105 transition-transform duration-300 border border-gray-300 dark:border-gray-600 flex flex-col justify-between"},g.createElement("div",null,s>0&&g.createElement(eA,{count:5,value:s,size:24,isHalf:!0,edit:!1,activeColor:"#ffd700"}),g.createElement("p",{className:"text-gray-700 dark:text-gray-300 text-lg my-4 font-light"},'"',e,'"')),g.createElement("div",null,g.createElement("div",{className:"flex items-center mt-4"},g.createElement("img",{className:"w-12 h-12 rounded-full mr-4 border-2 border-blue-400",src:i||`https://i.pravatar.cc/150?u=${n}`,alt:n}),g.createElement("div",null,g.createElement("p",{className:"font-bold text-gray-900 dark:text-white"},n),g.createElement("p",{className:"text-sm text-gray-500 dark:text-gray-400"},r))),g.createElement("div",{className:"flex items-center justify-end mt-4 text-gray-500 dark:text-gray-400"},g.createElement("button",{onClick:c,disabled:l,className:"flex items-center space-x-1 mr-4 disabled:opacity-50"},g.createElement(aM,null),g.createElement("span",null,o||0)),g.createElement("button",{onClick:d,disabled:l,className:"flex items-center space-x-1 disabled:opacity-50"},g.createElement(oM,null),g.createElement("span",null,a||0)))))},_F=()=>{const[t,e]=O.useState([]),[n,r]=O.useState(!0);return O.useEffect(()=>{const i=Gg("approved",s=>{e(s),r(!1)});return()=>i()},[]),n?g.createElement("div",{className:"text-center py-24"},g.createElement(Gs,null)):t.length===0?null:g.createElement("div",{className:"w-full max-w-6xl mx-auto py-24 px-4"},g.createElement("h2",{className:"text-4xl font-bold text-center text-gray-900 dark:text-white mb-16"},"What Our Players Are Saying"),g.createElement("div",{className:"flex flex-wrap justify-center gap-8"},t.map(i=>g.createElement(vF,{key:i.id,...i}))))};function wF(t){return Pe({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M1.425 20.693c-.107-.247-.132-.4-.131-.8 0-.376.015-.478.208-1.416a38 38 0 0 0 .2-1.015c-.1-.056-.481-.376-.7-.587-.49-.472-.799-.938-.942-1.415-.059-.195-.067-.282-.056-.592.013-.341.02-.378.127-.599a2 2 0 0 1 .257-.39c.14-.15.145-.161.188-.465.024-.171.072-.493.105-.715.054-.36.056-.424.018-.592a2.84 2.84 0 0 1 .082-1.529c.358-.99 1.39-1.681 3-2.007 1.226-.249 2.815-.265 4.374-.045 1.537.218 3.344.715 5.011 1.38.214.086.392.152.396.148.014-.014-1.28-.668-1.61-.814A17 17 0 0 0 8.28 8.073C7.472 7.92 7.22 7.9 6.147 7.9c-.931 0-1.068.007-1.46.073a7 7 0 0 0-.836.18c-.1.03-.056-.046.082-.141.516-.356 1.36-.69 2.23-.886.853-.191.851-.177.023-.165-.407.006-.74.002-.74-.009s.025-.041.055-.068a10 10 0 0 0 .342-.376c.493-.56 1.253-1.22 1.923-1.667 1.278-.854 2.553-1.345 4.124-1.588.51-.08 2.061-.08 2.6 0 1.682.245 2.964.707 4.14 1.49.554.37.864.624 1.339 1.101.953.958 1.613 2.02 2.191 3.527.31.808.601 1.76.756 2.474l.072.331.164.115c.09.063.183.152.206.198s.166.448.316.894c.151.445.286.814.3.82s.026.111.026.234c0 .213-.004.225-.086.264-.106.05-1.037.255-1.16.255-.127 0-.23-.11-.322-.343l-.177-.436c-.054-.128-.172-.416-.263-.638-.302-.739-.295-.725-.394-.766-.08-.033-.128-.026-.393.064-.166.057-.35.13-.407.165a.55.55 0 0 0-.221.4c-.001.091.23.762.289.84.067.089 1.591 1.11 1.688 1.131.06.013.253-.014.528-.074l.438-.094c.003 0 .016.215.028.478.021.45.018.486-.043.607-.104.204-.003.16-1.67.723-1.314.444-1.564.497-2.353.497a4.5 4.5 0 0 1-2.388-.644c-.48-.283-1.052-.767-1.224-1.037-.133-.209-.16-.04.34-2.195.1-.427.194-.781.211-.787.017-.005.09.1.163.236s.164.266.202.29.287.14.552.259c.409.182.515.217.695.228a.82.82 0 0 0 .79-.41c.083-.131.097-.2.213-1.07l.158-1.178c.098-.725.09-.957-.046-1.248-.153-.327-.328-.474-.881-.741-.918-.444-.862-.435-1.279-.204-.158.088-.29.161-.293.164a8 8 0 0 0 .313-.006l.318-.01.52.24c.408.19.555.275.678.392.301.29.393.655.31 1.241-.052.37-.085.458-.23.615-.185.202-.334.269-.596.27-.208 0-.243-.01-.732-.24-.509-.24-.516-.242-.79-.249l-.276-.007-.039.156-.166.685c-.162.673-.477 1.976-.735 3.038-.11.454-.258 1.063-.327 1.355-.159.668-.214.86-.307 1.075-.219.503-.689.99-1.2 1.245-.578.287-1.076.342-1.828.205a45 45 0 0 0-4.48-.615c-.606-.053-2.655-.053-3.051 0-.826.111-1.187.19-1.535.337a1.93 1.93 0 0 0-.847.672c-.174.257-.253.71-.191 1.092.029.177-.008.192-.079.03zm.317-3.394c0-.028.06-.365.165-.929.1-.538.212-.748.576-1.086.604-.56 1.758-.924 3.331-1.05.557-.045 2.451-.014 3.072.05 1.287.131 1.77.195 2.88.38.906.151.886.15.7.073a58 58 0 0 0-2.054-.744c-1.222-.412-1.941-.578-3.207-.74-.625-.08-2.496-.081-3.082-.001-1.13.154-1.95.382-2.568.717-.523.282-.895.643-1.049 1.02-.09.22-.075.702.03.956.124.299.332.586.65.9.436.428.556.526.556.454m-.558-4.09c.15-.107.649-.33.963-.43.525-.169.957-.256 1.805-.367.497-.065 2.617-.093 3.284-.043l.716.053c.286.022.316-.01.392-.418l.184-.974c.19-1 .248-1.318.249-1.375 0-.105-.107-.19-.281-.217-.792-.129-2.275-.198-3.255-.153-2.203.1-3.583.628-4.102 1.566a1.6 1.6 0 0 0-.219.662q-.018.188.01.105c.143-.436.52-.88.926-1.094.237-.125.26-.132.26-.088 0 .015-.063.058-.14.096q-.273.131-.513.593c-.153.295-.193.468-.297 1.291a61 61 0 0 1-.096.74c-.021.135-.008.14.114.053m9.586-.184c.066-.052.078-.085.078-.236 0-.159-.01-.184-.102-.266-.12-.108-.188-.114-.298-.028-.161.128-.122.44.069.544.11.06.16.057.253-.014m7.349-1.91c.223-.15.319-.421.251-.712-.118-.515-.662-.73-.966-.384-.283.322-.166.91.22 1.1.178.088.361.087.495-.004m-.321-.32c-.187-.102-.245-.433-.103-.586.108-.117.285-.115.4.006.166.172.172.42.016.551-.105.088-.19.096-.313.029m-6.548-.146c.098-.139.036-.446-.105-.521-.09-.049-.204-.039-.257.022-.14.16-.142.312-.003.476.1.12.29.132.366.023z"},child:[]}]})(t)}var EF=typeof Element<"u",xF=typeof Map=="function",bF=typeof Set=="function",TF=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Mh(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,i;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!Mh(t[r],e[r]))return!1;return!0}var s;if(xF&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;for(s=t.entries();!(r=s.next()).done;)if(!Mh(r.value[1],e.get(r.value[0])))return!1;return!0}if(bF&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(TF&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;if(EF&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&t.$$typeof)&&!Mh(t[i[r]],e[i[r]]))return!1;return!0}return t!==t&&e!==e}var SF=function(e,n){try{return Mh(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const kF=Ou(SF);var IF=function(t,e,n,r,i,s,o,a){if(!t){var l;if(e===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,s,o,a],c=0;l=new Error(e.replace(/%s/g,function(){return u[c++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}},CF=IF;const fx=Ou(CF);var AF=function(e,n,r,i){var s=r?r.call(i,e,n):void 0;if(s!==void 0)return!!s;if(e===n)return!0;if(typeof e!="object"||!e||typeof n!="object"||!n)return!1;var o=Object.keys(e),a=Object.keys(n);if(o.length!==a.length)return!1;for(var l=Object.prototype.hasOwnProperty.bind(n),u=0;u<o.length;u++){var c=o[u];if(!l(c))return!1;var d=e[c],f=n[c];if(s=r?r.call(i,d,f,c):void 0,s===!1||s===void 0&&d!==f)return!1}return!0};const PF=Ou(AF);var tA=(t=>(t.BASE="base",t.BODY="body",t.HEAD="head",t.HTML="html",t.LINK="link",t.META="meta",t.NOSCRIPT="noscript",t.SCRIPT="script",t.STYLE="style",t.TITLE="title",t.FRAGMENT="Symbol(react.fragment)",t))(tA||{}),Zp={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},px=Object.values(tA),Rv={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},RF=Object.entries(Rv).reduce((t,[e,n])=>(t[n]=e,t),{}),jn="data-rh",Bo={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},zo=(t,e)=>{for(let n=t.length-1;n>=0;n-=1){const r=t[n];if(Object.prototype.hasOwnProperty.call(r,e))return r[e]}return null},DF=t=>{let e=zo(t,"title");const n=zo(t,Bo.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),n&&e)return n.replace(/%s/g,()=>e);const r=zo(t,Bo.DEFAULT_TITLE);return e||r||void 0},NF=t=>zo(t,Bo.ON_CHANGE_CLIENT_STATE)||(()=>{}),em=(t,e)=>e.filter(n=>typeof n[t]<"u").map(n=>n[t]).reduce((n,r)=>({...n,...r}),{}),OF=(t,e)=>e.filter(n=>typeof n.base<"u").map(n=>n.base).reverse().reduce((n,r)=>{if(!n.length){const i=Object.keys(r);for(let s=0;s<i.length;s+=1){const a=i[s].toLowerCase();if(t.indexOf(a)!==-1&&r[a])return n.concat(r)}}return n},[]),MF=t=>console&&typeof console.warn=="function"&&console.warn(t),Xa=(t,e,n)=>{const r={};return n.filter(i=>Array.isArray(i[t])?!0:(typeof i[t]<"u"&&MF(`Helmet: ${t} should be of type "Array". Instead found type "${typeof i[t]}"`),!1)).map(i=>i[t]).reverse().reduce((i,s)=>{const o={};s.filter(l=>{let u;const c=Object.keys(l);for(let f=0;f<c.length;f+=1){const m=c[f],y=m.toLowerCase();e.indexOf(y)!==-1&&!(u==="rel"&&l[u].toLowerCase()==="canonical")&&!(y==="rel"&&l[y].toLowerCase()==="stylesheet")&&(u=y),e.indexOf(m)!==-1&&(m==="innerHTML"||m==="cssText"||m==="itemprop")&&(u=m)}if(!u||!l[u])return!1;const d=l[u].toLowerCase();return r[u]||(r[u]={}),o[u]||(o[u]={}),r[u][d]?!1:(o[u][d]=!0,!0)}).reverse().forEach(l=>i.push(l));const a=Object.keys(o);for(let l=0;l<a.length;l+=1){const u=a[l],c={...r[u],...o[u]};r[u]=c}return i},[]).reverse()},LF=(t,e)=>{if(Array.isArray(t)&&t.length){for(let n=0;n<t.length;n+=1)if(t[n][e])return!0}return!1},VF=t=>({baseTag:OF(["href"],t),bodyAttributes:em("bodyAttributes",t),defer:zo(t,Bo.DEFER),encode:zo(t,Bo.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:em("htmlAttributes",t),linkTags:Xa("link",["rel","href"],t),metaTags:Xa("meta",["name","charset","http-equiv","property","itemprop"],t),noscriptTags:Xa("noscript",["innerHTML"],t),onChangeClientState:NF(t),scriptTags:Xa("script",["src","innerHTML"],t),styleTags:Xa("style",["cssText"],t),title:DF(t),titleAttributes:em("titleAttributes",t),prioritizeSeoTags:LF(t,Bo.PRIORITIZE_SEO_TAGS)}),nA=t=>Array.isArray(t)?t.join(""):t,FF=(t,e)=>{const n=Object.keys(t);for(let r=0;r<n.length;r+=1)if(e[n[r]]&&e[n[r]].includes(t[n[r]]))return!0;return!1},tm=(t,e)=>Array.isArray(t)?t.reduce((n,r)=>(FF(r,e)?n.priority.push(r):n.default.push(r),n),{priority:[],default:[]}):{default:t,priority:[]},mx=(t,e)=>({...t,[e]:void 0}),UF=["noscript","script","style"],Qg=(t,e=!0)=>e===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),rA=t=>Object.keys(t).reduce((e,n)=>{const r=typeof t[n]<"u"?`${n}="${t[n]}"`:`${n}`;return e?`${e} ${r}`:r},""),jF=(t,e,n,r)=>{const i=rA(n),s=nA(e);return i?`<${t} ${jn}="true" ${i}>${Qg(s,r)}</${t}>`:`<${t} ${jn}="true">${Qg(s,r)}</${t}>`},BF=(t,e,n=!0)=>e.reduce((r,i)=>{const s=i,o=Object.keys(s).filter(u=>!(u==="innerHTML"||u==="cssText")).reduce((u,c)=>{const d=typeof s[c]>"u"?c:`${c}="${Qg(s[c],n)}"`;return u?`${u} ${d}`:d},""),a=s.innerHTML||s.cssText||"",l=UF.indexOf(t)===-1;return`${r}<${t} ${jn}="true" ${o}${l?"/>":`>${a}</${t}>`}`},""),iA=(t,e={})=>Object.keys(t).reduce((n,r)=>{const i=Rv[r];return n[i||r]=t[r],n},e),zF=(t,e,n)=>{const r={key:e,[jn]:!0},i=iA(n,r);return[g.createElement("title",i,e)]},Lh=(t,e)=>e.map((n,r)=>{const i={key:r,[jn]:!0};return Object.keys(n).forEach(s=>{const a=Rv[s]||s;if(a==="innerHTML"||a==="cssText"){const l=n.innerHTML||n.cssText;i.dangerouslySetInnerHTML={__html:l}}else i[a]=n[s]}),g.createElement(t,i)}),wn=(t,e,n=!0)=>{switch(t){case"title":return{toComponent:()=>zF(t,e.title,e.titleAttributes),toString:()=>jF(t,e.title,e.titleAttributes,n)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>iA(e),toString:()=>rA(e)};default:return{toComponent:()=>Lh(t,e),toString:()=>BF(t,e,n)}}},$F=({metaTags:t,linkTags:e,scriptTags:n,encode:r})=>{const i=tm(t,Zp.meta),s=tm(e,Zp.link),o=tm(n,Zp.script);return{priorityMethods:{toComponent:()=>[...Lh("meta",i.priority),...Lh("link",s.priority),...Lh("script",o.priority)],toString:()=>`${wn("meta",i.priority,r)} ${wn("link",s.priority,r)} ${wn("script",o.priority,r)}`},metaTags:i.default,linkTags:s.default,scriptTags:o.default}},HF=t=>{const{baseTag:e,bodyAttributes:n,encode:r=!0,htmlAttributes:i,noscriptTags:s,styleTags:o,title:a="",titleAttributes:l,prioritizeSeoTags:u}=t;let{linkTags:c,metaTags:d,scriptTags:f}=t,m={toComponent:()=>{},toString:()=>""};return u&&({priorityMethods:m,linkTags:c,metaTags:d,scriptTags:f}=$F(t)),{priority:m,base:wn("base",e,r),bodyAttributes:wn("bodyAttributes",n,r),htmlAttributes:wn("htmlAttributes",i,r),link:wn("link",c,r),meta:wn("meta",d,r),noscript:wn("noscript",s,r),script:wn("script",f,r),style:wn("style",o,r),title:wn("title",{title:a,titleAttributes:l},r)}},Yg=HF,Wc=[],sA=!!(typeof window<"u"&&window.document&&window.document.createElement),Xg=class{constructor(t,e){X(this,"instances",[]);X(this,"canUseDOM",sA);X(this,"context");X(this,"value",{setHelmet:t=>{this.context.helmet=t},helmetInstances:{get:()=>this.canUseDOM?Wc:this.instances,add:t=>{(this.canUseDOM?Wc:this.instances).push(t)},remove:t=>{const e=(this.canUseDOM?Wc:this.instances).indexOf(t);(this.canUseDOM?Wc:this.instances).splice(e,1)}}});this.context=t,this.canUseDOM=e||!1,e||(t.helmet=Yg({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},WF={},oA=g.createContext(WF),xs,aA=(xs=class extends O.Component{constructor(n){super(n);X(this,"helmetData");this.helmetData=new Xg(this.props.context||{},xs.canUseDOM)}render(){return g.createElement(oA.Provider,{value:this.helmetData.value},this.props.children)}},X(xs,"canUseDOM",sA),xs),io=(t,e)=>{const n=document.head||document.querySelector("head"),r=n.querySelectorAll(`${t}[${jn}]`),i=[].slice.call(r),s=[];let o;return e&&e.length&&e.forEach(a=>{const l=document.createElement(t);for(const u in a)if(Object.prototype.hasOwnProperty.call(a,u))if(u==="innerHTML")l.innerHTML=a.innerHTML;else if(u==="cssText")l.styleSheet?l.styleSheet.cssText=a.cssText:l.appendChild(document.createTextNode(a.cssText));else{const c=u,d=typeof a[c]>"u"?"":a[c];l.setAttribute(u,d)}l.setAttribute(jn,"true"),i.some((u,c)=>(o=c,l.isEqualNode(u)))?i.splice(o,1):s.push(l)}),i.forEach(a=>{var l;return(l=a.parentNode)==null?void 0:l.removeChild(a)}),s.forEach(a=>n.appendChild(a)),{oldTags:i,newTags:s}},Jg=(t,e)=>{const n=document.getElementsByTagName(t)[0];if(!n)return;const r=n.getAttribute(jn),i=r?r.split(","):[],s=[...i],o=Object.keys(e);for(const a of o){const l=e[a]||"";n.getAttribute(a)!==l&&n.setAttribute(a,l),i.indexOf(a)===-1&&i.push(a);const u=s.indexOf(a);u!==-1&&s.splice(u,1)}for(let a=s.length-1;a>=0;a-=1)n.removeAttribute(s[a]);i.length===s.length?n.removeAttribute(jn):n.getAttribute(jn)!==o.join(",")&&n.setAttribute(jn,o.join(","))},qF=(t,e)=>{typeof t<"u"&&document.title!==t&&(document.title=nA(t)),Jg("title",e)},gx=(t,e)=>{const{baseTag:n,bodyAttributes:r,htmlAttributes:i,linkTags:s,metaTags:o,noscriptTags:a,onChangeClientState:l,scriptTags:u,styleTags:c,title:d,titleAttributes:f}=t;Jg("body",r),Jg("html",i),qF(d,f);const m={baseTag:io("base",n),linkTags:io("link",s),metaTags:io("meta",o),noscriptTags:io("noscript",a),scriptTags:io("script",u),styleTags:io("style",c)},y={},_={};Object.keys(m).forEach(E=>{const{newTags:w,oldTags:b}=m[E];w.length&&(y[E]=w),b.length&&(_[E]=m[E].oldTags)}),e&&e(),l(t,y,_)},Ja=null,KF=t=>{Ja&&cancelAnimationFrame(Ja),t.defer?Ja=requestAnimationFrame(()=>{gx(t,()=>{Ja=null})}):(gx(t),Ja=null)},GF=KF,yx=class extends O.Component{constructor(){super(...arguments);X(this,"rendered",!1)}shouldComponentUpdate(e){return!PF(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:n}=this.props.context;let r=null;const i=VF(e.get().map(s=>{const o={...s.props};return delete o.context,o}));aA.canUseDOM?GF(i):Yg&&(r=Yg(i)),n(r)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},km,QF=(km=class extends O.Component{shouldComponentUpdate(t){return!kF(mx(this.props,"helmetData"),mx(t,"helmetData"))}mapNestedChildrenToProps(t,e){if(!e)return null;switch(t.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${t.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(t,e,n,r){return{...e,[t.type]:[...e[t.type]||[],{...n,...this.mapNestedChildrenToProps(t,r)}]}}mapObjectTypeChildren(t,e,n,r){switch(t.type){case"title":return{...e,[t.type]:r,titleAttributes:{...n}};case"body":return{...e,bodyAttributes:{...n}};case"html":return{...e,htmlAttributes:{...n}};default:return{...e,[t.type]:{...n}}}}mapArrayTypeChildrenToProps(t,e){let n={...e};return Object.keys(t).forEach(r=>{n={...n,[r]:t[r]}}),n}warnOnInvalidChildren(t,e){return fx(px.some(n=>t.type===n),typeof t.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${px.join(", ")} are allowed. Helmet does not support rendering <${t.type}> elements. Refer to our API for more information.`),fx(!e||typeof e=="string"||Array.isArray(e)&&!e.some(n=>typeof n!="string"),`Helmet expects a string as a child of <${t.type}>. Did you forget to wrap your children in braces? ( <${t.type}>{\`\`}</${t.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(t,e){let n={};return g.Children.forEach(t,r=>{if(!r||!r.props)return;const{children:i,...s}=r.props,o=Object.keys(s).reduce((l,u)=>(l[RF[u]||u]=s[u],l),{});let{type:a}=r;switch(typeof a=="symbol"?a=a.toString():this.warnOnInvalidChildren(r,i),a){case"Symbol(react.fragment)":e=this.mapChildrenToProps(i,e);break;case"link":case"meta":case"noscript":case"script":case"style":n=this.flattenArrayTypeChildren(r,n,o,i);break;default:e=this.mapObjectTypeChildren(r,e,o,i);break}}),this.mapArrayTypeChildrenToProps(n,e)}render(){const{children:t,...e}=this.props;let n={...e},{helmetData:r}=e;if(t&&(n=this.mapChildrenToProps(t,n)),r&&!(r instanceof Xg)){const i=r;r=new Xg(i.context,!0),delete n.helmetData}return r?g.createElement(yx,{...n,context:r.value}):g.createElement(oA.Consumer,null,i=>g.createElement(yx,{...n,context:i}))}},X(km,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),km);const Dv=({title:t,description:e,keywords:n,ogImage:r,ogUrl:i})=>{const s="Genius Store",o=t?`${t} | ${s}`:`${s} - Instant Game Credits`;return g.createElement(QF,null,g.createElement("title",null,o),e&&g.createElement("meta",{name:"description",content:e}),n&&g.createElement("meta",{name:"keywords",content:n}),g.createElement("meta",{property:"og:title",content:o}),g.createElement("meta",{property:"og:site_name",content:s}),i&&g.createElement("meta",{property:"og:url",content:i}),r&&g.createElement("meta",{property:"og:image",content:r}),e&&g.createElement("meta",{property:"og:description",content:e}),g.createElement("meta",{name:"twitter:card",content:"summary_large_image"}),g.createElement("meta",{name:"twitter:title",content:o}),e&&g.createElement("meta",{name:"twitter:description",content:e}),r&&g.createElement("meta",{name:"twitter:image",content:r}))},YF=()=>{const[t,e]=O.useState("PUBG"),[n,r]=O.useState({});return Kr(),O.useEffect(()=>{(async()=>{const o=(await F9()).reduce((a,l)=>{const u=l.game;return u&&(a[u]=(a[u]||0)+1),a},{});r(o)})()},[]),g.createElement("main",{className:"bg-gray-100 dark:bg-gray-900"},g.createElement(Dv,{title:"Home",description:"The fastest and most reliable place to top up your favorite games like PUBG and Free Fire. Choose your package and get back in the action.",keywords:"game topup, home, pubg, free fire"}),g.createElement("section",{className:"relative flex flex-col items-center justify-center min-h-screen"},g.createElement("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500 to-purple-600 dark:from-blue-800 dark:to-purple-900 opacity-20"}),g.createElement("div",{className:"relative z-10 flex flex-col items-center text-center p-8"},g.createElement("h1",{className:"text-3xl md:text-5xl font-extrabold text-gray-900 dark:text-white mb-4 animate-fade-in-down"},"Welcome to Genius Store"),g.createElement("h3",{className:"text-2xl md:text-4xl font-extrabold text-gray-900 dark:text-white mb-4 animate-fade-in-down"},"Top Up Your Game"),g.createElement("p",{className:"text-lg text-gray-700 dark:text-gray-300 mb-12 max-w-2xl animate-fade-in-up"},"Select your game, choose your package, and get back in the action faster than ever."),g.createElement(SM,{value:t,onChange:e,orderCounts:n}))),g.createElement("section",null,g.createElement(K9,null)),g.createElement("section",null,g.createElement(_F,null)))},XF=({game:t})=>{switch(t){case"PUBG":return g.createElement(wF,{className:"text-orange-500 text-4xl flex-shrink-0"});case"Free Fire":return g.createElement(eM,{className:"text-cyan-400 text-4xl flex-shrink-0"});case"PES":return g.createElement(Gw,{className:"text-yellow-400 text-4xl flex-shrink-0"});case"FIFA":return g.createElement(ZO,{className:"text-green-600 text-4xl flex-shrink-0"});default:return g.createElement(Gw,{className:"text-gray-400 text-4xl flex-shrink-0"})}},JF=({name:t,price:e,onTopUp:n,game:r})=>g.createElement("div",{className:"flex flex-col bg-white/60 dark:bg-gray-800/60 p-6 rounded-xl border border-white/10 dark:border-gray-700/50 shadow-lg hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-72 mx-auto"},g.createElement("div",{className:"flex items-center gap-4 mb-5"},g.createElement(XF,{game:r}),g.createElement("h3",{className:"text-2xl font-bold text-gray-800 dark:text-white"},t)),g.createElement("p",{className:"text-2xl font-medium text-gray-600 dark:text-gray-300 mb-6"},"EGP ",e),g.createElement("div",{className:"flex-grow"}),g.createElement("button",{onClick:n,className:"group w-full flex items-center justify-center gap-2 px-6 py-3 bg-green-500 text-white font-bold rounded-lg shadow-md hover:bg-green-600 hover:scale-105 focus:outline-none focus:ring-2 focus:ring-green-400 focus:ring-opacity-75 transition-transform duration-300 text-base"},g.createElement("span",null,"Top Up Now"),g.createElement(sM,{className:"transition-transform group-hover:rotate-12"}))),lA=t=>{const e=Qr(ut,"packages");return Mf(e,n=>{const r=[];n.forEach(i=>{r.push({id:i.id,...i.data()})}),r.sort((i,s)=>i.price-s.price),t(r)})},ZF=async t=>{try{if(t.id){const e=Gn(ut,"packages",t.id),{id:n,...r}=t;await wa(e,r)}else{const{id:e,...n}=t;await Of(Qr(ut,"packages"),n)}}catch(e){console.error("Error saving package:",e)}},e7=async t=>{await Nf(Gn(ut,"packages",t))},t7=()=>{var c;const e=((c=qr().state)==null?void 0:c.game)||"PUBG",[n,r]=O.useState(e),[i,s]=O.useState([]),[o,a]=O.useState(!0),l=Kr();O.useEffect(()=>{const d=lA(f=>{const m=f.filter(y=>y.game===n);s(m),a(!1)});return()=>d()},[n]);const u=d=>{l("/payment",{state:{game:n,package:d}})};return o?g.createElement("div",{className:"flex justify-center items-center min-h-screen"},g.createElement(Gs,null)):g.createElement("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100 dark:bg-gradient-to-b dark:from-[#0e0e2d] dark:to-[#1b1b3f] py-8 px-4"},g.createElement(Dv,{title:`${n} Top-Up | Buy ${n} Credits`,description:`Get ${n} credits instantly with our competitive packages. Choose from a variety of options to recharge your account.`,keywords:`${n} topup, ${n} vouchers, game packages, buy ${n} credits`}),g.createElement("div",{className:"w-full max-w-5xl text-center relative"},g.createElement("h1",{className:"text-5xl md:text-6xl font-extrabold text-white mb-4 animate-fade-in-down"},g.createElement("span",{className:"bg-gradient-to-r from-blue-400 to-green-400 bg-clip-text text-transparent"},"Get Your ",n," UC Now!")),g.createElement("p",{className:"text-lg text-gray-300 dark:text-gray-400 mb-12 max-w-2xl mx-auto animate-fade-in-up"},"Choose one of our competitive packages to recharge your account instantly."),g.createElement("div",{className:"flex flex-wrap justify-center gap-6 mt-8"},i.map(d=>g.createElement(JF,{key:d.id,name:d.name,price:d.price,game:d.game,onTopUp:()=>u(d)}))),g.createElement("div",{className:"flex justify-center w-full"},g.createElement("button",{onClick:()=>l(-1),className:"mt-8 flex items-center gap-2 px-6 py-2 bg-blue-600 text-white font-semibold rounded-full shadow-lg hover:bg-blue-700 transition-all"},g.createElement("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})),"Back"))))};function Qs(t){this._maxSize=t,this.clear()}Qs.prototype.clear=function(){this._size=0,this._values=Object.create(null)};Qs.prototype.get=function(t){return this._values[t]};Qs.prototype.set=function(t,e){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=e};var n7=/[^.^\]^[]+|(?=\[\]|\.\.)/g,uA=/^\d+$/,r7=/^\d/,i7=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,s7=/^\s*(['"]?)(.*?)(\1)\s*$/,Nv=512,vx=new Qs(Nv),_x=new Qs(Nv),wx=new Qs(Nv),ks={Cache:Qs,split:Zg,normalizePath:nm,setter:function(t){var e=nm(t);return _x.get(t)||_x.set(t,function(r,i){for(var s=0,o=e.length,a=r;s<o-1;){var l=e[s];if(l==="__proto__"||l==="constructor"||l==="prototype")return r;a=a[e[s++]]}a[e[s]]=i})},getter:function(t,e){var n=nm(t);return wx.get(t)||wx.set(t,function(i){for(var s=0,o=n.length;s<o;)if(i!=null||!e)i=i[n[s++]];else return;return i})},join:function(t){return t.reduce(function(e,n){return e+(Ov(n)||uA.test(n)?"["+n+"]":(e?".":"")+n)},"")},forEach:function(t,e,n){o7(Array.isArray(t)?t:Zg(t),e,n)}};function nm(t){return vx.get(t)||vx.set(t,Zg(t).map(function(e){return e.replace(s7,"$2")}))}function Zg(t){return t.match(n7)||[""]}function o7(t,e,n){var r=t.length,i,s,o,a;for(s=0;s<r;s++)i=t[s],i&&(u7(i)&&(i='"'+i+'"'),a=Ov(i),o=!a&&/^\d+$/.test(i),e.call(n,i,a,o,s,t))}function Ov(t){return typeof t=="string"&&t&&["'",'"'].indexOf(t.charAt(0))!==-1}function a7(t){return t.match(r7)&&!t.match(uA)}function l7(t){return i7.test(t)}function u7(t){return!Ov(t)&&(a7(t)||l7(t))}const c7=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,Bf=t=>t.match(c7)||[],zf=t=>t[0].toUpperCase()+t.slice(1),Mv=(t,e)=>Bf(t).join(e).toLowerCase(),cA=t=>Bf(t).reduce((e,n)=>`${e}${e?n[0].toUpperCase()+n.slice(1).toLowerCase():n.toLowerCase()}`,""),h7=t=>zf(cA(t)),d7=t=>Mv(t,"_"),f7=t=>Mv(t,"-"),p7=t=>zf(Mv(t," ")),m7=t=>Bf(t).map(zf).join(" ");var rm={words:Bf,upperFirst:zf,camelCase:cA,pascalCase:h7,snakeCase:d7,kebabCase:f7,sentenceCase:p7,titleCase:m7},Lv={exports:{}};Lv.exports=function(t){return hA(g7(t),t)};Lv.exports.array=hA;function hA(t,e){var n=t.length,r=new Array(n),i={},s=n,o=y7(e),a=v7(t);for(e.forEach(function(u){if(!a.has(u[0])||!a.has(u[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});s--;)i[s]||l(t[s],s,new Set);return r;function l(u,c,d){if(d.has(u)){var f;try{f=", node was:"+JSON.stringify(u)}catch{f=""}throw new Error("Cyclic dependency"+f)}if(!a.has(u))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(u));if(!i[c]){i[c]=!0;var m=o.get(u)||new Set;if(m=Array.from(m),c=m.length){d.add(u);do{var y=m[--c];l(y,a.get(y),d)}while(c);d.delete(u)}r[--n]=u}}}function g7(t){for(var e=new Set,n=0,r=t.length;n<r;n++){var i=t[n];e.add(i[0]),e.add(i[1])}return Array.from(e)}function y7(t){for(var e=new Map,n=0,r=t.length;n<r;n++){var i=t[n];e.has(i[0])||e.set(i[0],new Set),e.has(i[1])||e.set(i[1],new Set),e.get(i[0]).add(i[1])}return e}function v7(t){for(var e=new Map,n=0,r=t.length;n<r;n++)e.set(t[n],n);return e}var _7=Lv.exports;const w7=Ou(_7),E7=Object.prototype.toString,x7=Error.prototype.toString,b7=RegExp.prototype.toString,T7=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",S7=/^Symbol\((.*)\)(.*)$/;function k7(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function Ex(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const n=typeof t;if(n==="number")return k7(t);if(n==="string")return e?`"${t}"`:t;if(n==="function")return"[Function "+(t.name||"anonymous")+"]";if(n==="symbol")return T7.call(t).replace(S7,"Symbol($1)");const r=E7.call(t).slice(8,-1);return r==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):r==="Error"||t instanceof Error?"["+x7.call(t)+"]":r==="RegExp"?b7.call(t):null}function Li(t,e){let n=Ex(t,e);return n!==null?n:JSON.stringify(t,function(r,i){let s=Ex(this[r],e);return s!==null?s:i},2)}function dA(t){return t==null?[]:[].concat(t)}let fA,pA,mA,I7=/\$\{\s*(\w+)\s*\}/g;fA=Symbol.toStringTag;class xx{constructor(e,n,r,i){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[fA]="Error",this.name="ValidationError",this.value=n,this.path=r,this.type=i,this.errors=[],this.inner=[],dA(e).forEach(s=>{if(Xt.isError(s)){this.errors.push(...s.errors);const o=s.inner.length?s.inner:[s];this.inner.push(...o)}else this.errors.push(s)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}pA=Symbol.hasInstance;mA=Symbol.toStringTag;class Xt extends Error{static formatError(e,n){const r=n.label||n.path||"this";return n=Object.assign({},n,{path:r,originalPath:n.path}),typeof e=="string"?e.replace(I7,(i,s)=>Li(n[s])):typeof e=="function"?e(n):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,n,r,i,s){const o=new xx(e,n,r,i);if(s)return o;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[mA]="Error",this.name=o.name,this.message=o.message,this.type=o.type,this.value=o.value,this.path=o.path,this.errors=o.errors,this.inner=o.inner,Error.captureStackTrace&&Error.captureStackTrace(this,Xt)}static[pA](e){return xx[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let tr={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:n,originalValue:r})=>{const i=r!=null&&r!==n?` (cast from the value \`${Li(r,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${Li(n,!0)}\``+i:`${t} must match the configured type. The validated value was: \`${Li(n,!0)}\``+i}},Qt={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},C7={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},ey={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},A7={isValue:"${path} field must be ${value}"},Vh={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},P7={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},R7={notType:t=>{const{path:e,value:n,spec:r}=t,i=r.types.length;if(Array.isArray(n)){if(n.length<i)return`${e} tuple value has too few items, expected a length of ${i} but got ${n.length} for value: \`${Li(n,!0)}\``;if(n.length>i)return`${e} tuple value has too many items, expected a length of ${i} but got ${n.length} for value: \`${Li(n,!0)}\``}return Xt.formatError(tr.notType,t)}};Object.assign(Object.create(null),{mixed:tr,string:Qt,number:C7,date:ey,object:Vh,array:P7,boolean:A7,tuple:R7});const Vv=t=>t&&t.__isYupSchema__;class Fd{static fromOptions(e,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:i,otherwise:s}=n,o=typeof r=="function"?r:(...a)=>a.every(l=>l===r);return new Fd(e,(a,l)=>{var u;let c=o(...a)?i:s;return(u=c==null?void 0:c(l))!=null?u:l})}constructor(e,n){this.fn=void 0,this.refs=e,this.refs=e,this.fn=n}resolve(e,n){let r=this.refs.map(s=>s.getValue(n==null?void 0:n.value,n==null?void 0:n.parent,n==null?void 0:n.context)),i=this.fn(r,e,n);if(i===void 0||i===e)return e;if(!Vv(i))throw new TypeError("conditions must return a schema object");return i.resolve(n)}}const qc={context:"$",value:"."};class Ys{constructor(e,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===qc.context,this.isValue=this.key[0]===qc.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?qc.context:this.isValue?qc.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&ks.getter(this.path,!0),this.map=n.map}getValue(e,n,r){let i=this.isContext?r:this.isValue?e:n;return this.getter&&(i=this.getter(i||{})),this.map&&(i=this.map(i)),i}cast(e,n){return this.getValue(e,n==null?void 0:n.parent,n==null?void 0:n.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}Ys.prototype.__isYupRef=!0;const ys=t=>t==null;function so(t){function e({value:n,path:r="",options:i,originalValue:s,schema:o},a,l){const{name:u,test:c,params:d,message:f,skipAbsent:m}=t;let{parent:y,context:_,abortEarly:E=o.spec.abortEarly,disableStackTrace:w=o.spec.disableStackTrace}=i;function b(A){return Ys.isRef(A)?A.getValue(n,y,_):A}function T(A={}){const N=Object.assign({value:n,originalValue:s,label:o.spec.label,path:A.path||r,spec:o.spec,disableStackTrace:A.disableStackTrace||w},d,A.params);for(const ae of Object.keys(N))N[ae]=b(N[ae]);const P=new Xt(Xt.formatError(A.message||f,N),n,N.path,A.type||u,N.disableStackTrace);return P.params=N,P}const R=E?a:l;let D={path:r,parent:y,type:u,from:i.from,createError:T,resolve:b,options:i,originalValue:s,schema:o};const M=A=>{Xt.isError(A)?R(A):A?l(null):R(T())},S=A=>{Xt.isError(A)?R(A):a(A)};if(m&&ys(n))return M(!0);let I;try{var C;if(I=c.call(D,n,D),typeof((C=I)==null?void 0:C.then)=="function"){if(i.sync)throw new Error(`Validation test of type: "${D.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(I).then(M,S)}}catch(A){S(A);return}M(I)}return e.OPTIONS=t,e}function D7(t,e,n,r=n){let i,s,o;return e?(ks.forEach(e,(a,l,u)=>{let c=l?a.slice(1,a.length-1):a;t=t.resolve({context:r,parent:i,value:n});let d=t.type==="tuple",f=u?parseInt(c,10):0;if(t.innerType||d){if(d&&!u)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${o}" must contain an index to the tuple element, e.g. "${o}[0]"`);if(n&&f>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${a}, in the path: ${e}. because there is no value at that index. `);i=n,n=n&&n[f],t=d?t.spec.types[f]:t.innerType}if(!u){if(!t.fields||!t.fields[c])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${o} which is a type: "${t.type}")`);i=n,n=n&&n[c],t=t.fields[c]}s=c,o=l?"["+a+"]":"."+a}),{schema:t,parent:i,parentPath:s}):{parent:i,parentPath:e,schema:t}}class Ud extends Set{describe(){const e=[];for(const n of this.values())e.push(Ys.isRef(n)?n.describe():n);return e}resolveAll(e){let n=[];for(const r of this.values())n.push(e(r));return n}clone(){return new Ud(this.values())}merge(e,n){const r=this.clone();return e.forEach(i=>r.add(i)),n.forEach(i=>r.delete(i)),r}}function To(t,e=new Map){if(Vv(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let n;if(t instanceof Date)n=new Date(t.getTime()),e.set(t,n);else if(t instanceof RegExp)n=new RegExp(t),e.set(t,n);else if(Array.isArray(t)){n=new Array(t.length),e.set(t,n);for(let r=0;r<t.length;r++)n[r]=To(t[r],e)}else if(t instanceof Map){n=new Map,e.set(t,n);for(const[r,i]of t.entries())n.set(r,To(i,e))}else if(t instanceof Set){n=new Set,e.set(t,n);for(const r of t)n.add(To(r,e))}else if(t instanceof Object){n={},e.set(t,n);for(const[r,i]of Object.entries(t))n[r]=To(i,e)}else throw Error(`Unable to clone ${t}`);return n}class mr{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Ud,this._blacklist=new Ud,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(tr.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=To(Object.assign({},this.spec,e)),n}label(e){let n=this.clone();return n.spec.label=e,n}meta(...e){if(e.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},e[0]),n}withMutation(e){let n=this._mutate;this._mutate=!0;let r=e(this);return this._mutate=n,r}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let n=this,r=e.clone();const i=Object.assign({},n.spec,r.spec);return r.spec=i,r.internalTests=Object.assign({},n.internalTests,r.internalTests),r._whitelist=n._whitelist.merge(e._whitelist,e._blacklist),r._blacklist=n._blacklist.merge(e._blacklist,e._whitelist),r.tests=n.tests,r.exclusiveTests=n.exclusiveTests,r.withMutation(s=>{e.tests.forEach(o=>{s.test(o.OPTIONS)})}),r.transforms=[...n.transforms,...r.transforms],r}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let n=this;if(n.conditions.length){let r=n.conditions;n=n.clone(),n.conditions=[],n=r.reduce((i,s)=>s.resolve(i,e),n),n=n.resolve(e)}return n}resolveOptions(e){var n,r,i,s;return Object.assign({},e,{from:e.from||[],strict:(n=e.strict)!=null?n:this.spec.strict,abortEarly:(r=e.abortEarly)!=null?r:this.spec.abortEarly,recursive:(i=e.recursive)!=null?i:this.spec.recursive,disableStackTrace:(s=e.disableStackTrace)!=null?s:this.spec.disableStackTrace})}cast(e,n={}){let r=this.resolve(Object.assign({value:e},n)),i=n.assert==="ignore-optionality",s=r._cast(e,n);if(n.assert!==!1&&!r.isType(s)){if(i&&ys(s))return s;let o=Li(e),a=Li(s);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${o} 
`+(a!==o?`result of cast: ${a}`:""))}return s}_cast(e,n){let r=e===void 0?e:this.transforms.reduce((i,s)=>s.call(this,i,e,this),e);return r===void 0&&(r=this.getDefault(n)),r}_validate(e,n={},r,i){let{path:s,originalValue:o=e,strict:a=this.spec.strict}=n,l=e;a||(l=this._cast(l,Object.assign({assert:!1},n)));let u=[];for(let c of Object.values(this.internalTests))c&&u.push(c);this.runTests({path:s,value:l,originalValue:o,options:n,tests:u},r,c=>{if(c.length)return i(c,l);this.runTests({path:s,value:l,originalValue:o,options:n,tests:this.tests},r,i)})}runTests(e,n,r){let i=!1,{tests:s,value:o,originalValue:a,path:l,options:u}=e,c=_=>{i||(i=!0,n(_,o))},d=_=>{i||(i=!0,r(_,o))},f=s.length,m=[];if(!f)return d([]);let y={value:o,originalValue:a,path:l,options:u,schema:this};for(let _=0;_<s.length;_++){const E=s[_];E(y,c,function(b){b&&(Array.isArray(b)?m.push(...b):m.push(b)),--f<=0&&d(m)})}}asNestedTest({key:e,index:n,parent:r,parentPath:i,originalParent:s,options:o}){const a=e??n;if(a==null)throw TypeError("Must include `key` or `index` for nested validations");const l=typeof a=="number";let u=r[a];const c=Object.assign({},o,{strict:!0,parent:r,value:u,originalValue:s[a],key:void 0,[l?"index":"key"]:a,path:l||a.includes(".")?`${i||""}[${l?a:`"${a}"`}]`:(i?`${i}.`:"")+e});return(d,f,m)=>this.resolve(c)._validate(u,c,f,m)}validate(e,n){var r;let i=this.resolve(Object.assign({},n,{value:e})),s=(r=n==null?void 0:n.disableStackTrace)!=null?r:i.spec.disableStackTrace;return new Promise((o,a)=>i._validate(e,n,(l,u)=>{Xt.isError(l)&&(l.value=u),a(l)},(l,u)=>{l.length?a(new Xt(l,u,void 0,void 0,s)):o(u)}))}validateSync(e,n){var r;let i=this.resolve(Object.assign({},n,{value:e})),s,o=(r=n==null?void 0:n.disableStackTrace)!=null?r:i.spec.disableStackTrace;return i._validate(e,Object.assign({},n,{sync:!0}),(a,l)=>{throw Xt.isError(a)&&(a.value=l),a},(a,l)=>{if(a.length)throw new Xt(a,e,void 0,void 0,o);s=l}),s}isValid(e,n){return this.validate(e,n).then(()=>!0,r=>{if(Xt.isError(r))return!1;throw r})}isValidSync(e,n){try{return this.validateSync(e,n),!0}catch(r){if(Xt.isError(r))return!1;throw r}}_getDefault(e){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,e):To(n)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,n){const r=this.clone({nullable:e});return r.internalTests.nullable=so({message:n,name:"nullable",test(i){return i===null?this.schema.spec.nullable:!0}}),r}optionality(e,n){const r=this.clone({optional:e});return r.internalTests.optionality=so({message:n,name:"optionality",test(i){return i===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(e=tr.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=tr.notNull){return this.nullability(!1,e)}required(e=tr.required){return this.clone().withMutation(n=>n.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let n=this.clone();return n.transforms.push(e),n}test(...e){let n;if(e.length===1?typeof e[0]=="function"?n={test:e[0]}:n=e[0]:e.length===2?n={name:e[0],test:e[1]}:n={name:e[0],message:e[1],test:e[2]},n.message===void 0&&(n.message=tr.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),i=so(n),s=n.exclusive||n.name&&r.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(r.exclusiveTests[n.name]=!!n.exclusive),r.tests=r.tests.filter(o=>!(o.OPTIONS.name===n.name&&(s||o.OPTIONS.test===i.OPTIONS.test))),r.tests.push(i),r}when(e,n){!Array.isArray(e)&&typeof e!="string"&&(n=e,e=".");let r=this.clone(),i=dA(e).map(s=>new Ys(s));return i.forEach(s=>{s.isSibling&&r.deps.push(s.key)}),r.conditions.push(typeof n=="function"?new Fd(i,n):Fd.fromOptions(i,n)),r}typeError(e){let n=this.clone();return n.internalTests.typeError=so({message:e,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(e,n=tr.oneOf){let r=this.clone();return e.forEach(i=>{r._whitelist.add(i),r._blacklist.delete(i)}),r.internalTests.whiteList=so({message:n,name:"oneOf",skipAbsent:!0,test(i){let s=this.schema._whitelist,o=s.resolveAll(this.resolve);return o.includes(i)?!0:this.createError({params:{values:Array.from(s).join(", "),resolved:o}})}}),r}notOneOf(e,n=tr.notOneOf){let r=this.clone();return e.forEach(i=>{r._blacklist.add(i),r._whitelist.delete(i)}),r.internalTests.blacklist=so({message:n,name:"notOneOf",test(i){let s=this.schema._blacklist,o=s.resolveAll(this.resolve);return o.includes(i)?this.createError({params:{values:Array.from(s).join(", "),resolved:o}}):!0}}),r}strip(e=!0){let n=this.clone();return n.spec.strip=e,n}describe(e){const n=(e?this.resolve(e):this).clone(),{label:r,meta:i,optional:s,nullable:o}=n.spec;return{meta:i,label:r,optional:s,nullable:o,default:n.getDefault(e),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.map(l=>({name:l.OPTIONS.name,params:l.OPTIONS.params})).filter((l,u,c)=>c.findIndex(d=>d.name===l.name)===u)}}}mr.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])mr.prototype[`${t}At`]=function(e,n,r={}){const{parent:i,parentPath:s,schema:o}=D7(this,e,n,r.context);return o[t](i&&i[s],Object.assign({},r,{parent:i,path:e}))};for(const t of["equals","is"])mr.prototype[t]=mr.prototype.oneOf;for(const t of["not","nope"])mr.prototype[t]=mr.prototype.notOneOf;const N7=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function O7(t){const e=ty(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let n=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(n=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(n=0-n)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+n,e.second,e.millisecond)}function ty(t){var e,n;const r=N7.exec(t);return r?{year:wr(r[1]),month:wr(r[2],1)-1,day:wr(r[3],1),hour:wr(r[4]),minute:wr(r[5]),second:wr(r[6]),millisecond:r[7]?wr(r[7].substring(0,3)):0,precision:(e=(n=r[7])==null?void 0:n.length)!=null?e:void 0,z:r[8]||void 0,plusMinus:r[9]||void 0,hourOffset:wr(r[10]),minuteOffset:wr(r[11])}:null}function wr(t,e=0){return Number(t)||e}let M7=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,L7=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,V7=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,F7="^\\d{4}-\\d{2}-\\d{2}",U7="\\d{2}:\\d{2}:\\d{2}",j7="(([+-]\\d{2}(:?\\d{2})?)|Z)",B7=new RegExp(`${F7}T${U7}(\\.\\d+)?${j7}$`),z7=t=>ys(t)||t===t.trim(),$7={}.toString();function mi(){return new gA}class gA extends mr{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(!r.spec.coerce||r.isType(e)||Array.isArray(e))return e;const i=e!=null&&e.toString?e.toString():e;return i===$7?e:i})})}required(e){return super.required(e).withMutation(n=>n.test({message:e||tr.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(n=>n.OPTIONS.name!=="required"),e))}length(e,n=Qt.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,n=Qt.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,n=Qt.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}matches(e,n){let r=!1,i,s;return n&&(typeof n=="object"?{excludeEmptyString:r=!1,message:i,name:s}=n:i=n),this.test({name:s||"matches",message:i||Qt.matches,params:{regex:e},skipAbsent:!0,test:o=>o===""&&r||o.search(e)!==-1})}email(e=Qt.email){return this.matches(M7,{name:"email",message:e,excludeEmptyString:!0})}url(e=Qt.url){return this.matches(L7,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=Qt.uuid){return this.matches(V7,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let n="",r,i;return e&&(typeof e=="object"?{message:n="",allowOffset:r=!1,precision:i=void 0}=e:n=e),this.matches(B7,{name:"datetime",message:n||Qt.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:n||Qt.datetime_offset,params:{allowOffset:r},skipAbsent:!0,test:s=>{if(!s||r)return!0;const o=ty(s);return o?!!o.z:!1}}).test({name:"datetime_precision",message:n||Qt.datetime_precision,params:{precision:i},skipAbsent:!0,test:s=>{if(!s||i==null)return!0;const o=ty(s);return o?o.precision===i:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=Qt.trim){return this.transform(n=>n!=null?n.trim():n).test({message:e,name:"trim",test:z7})}lowercase(e=Qt.lowercase){return this.transform(n=>ys(n)?n:n.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>ys(n)||n===n.toLowerCase()})}uppercase(e=Qt.uppercase){return this.transform(n=>ys(n)?n:n.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>ys(n)||n===n.toUpperCase()})}}mi.prototype=gA.prototype;let H7=new Date(""),W7=t=>Object.prototype.toString.call(t)==="[object Date]";class Fv extends mr{constructor(){super({type:"date",check(e){return W7(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,n,r)=>!r.spec.coerce||r.isType(e)||e===null?e:(e=O7(e),isNaN(e)?Fv.INVALID_DATE:new Date(e)))})}prepareParam(e,n){let r;if(Ys.isRef(e))r=e;else{let i=this.cast(e);if(!this._typeCheck(i))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=i}return r}min(e,n=ey.min){let r=this.prepareParam(e,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i>=this.resolve(r)}})}max(e,n=ey.max){let r=this.prepareParam(e,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(i){return i<=this.resolve(r)}})}}Fv.INVALID_DATE=H7;function q7(t,e=[]){let n=[],r=new Set,i=new Set(e.map(([o,a])=>`${o}-${a}`));function s(o,a){let l=ks.split(o)[0];r.add(l),i.has(`${a}-${l}`)||n.push([a,l])}for(const o of Object.keys(t)){let a=t[o];r.add(o),Ys.isRef(a)&&a.isSibling?s(a.path,o):Vv(a)&&"deps"in a&&a.deps.forEach(l=>s(l,o))}return w7.array(Array.from(r),n).reverse()}function bx(t,e){let n=1/0;return t.some((r,i)=>{var s;if((s=e.path)!=null&&s.includes(r))return n=i,!0}),n}function yA(t){return(e,n)=>bx(t,e)-bx(t,n)}const K7=(t,e,n)=>{if(typeof t!="string")return t;let r=t;try{r=JSON.parse(t)}catch{}return n.isType(r)?r:t};function Fh(t){if("fields"in t){const e={};for(const[n,r]of Object.entries(t.fields))e[n]=Fh(r);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=Fh(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(Fh)}):"optional"in t?t.optional():t}const G7=(t,e)=>{const n=[...ks.normalizePath(e)];if(n.length===1)return n[0]in t;let r=n.pop(),i=ks.getter(ks.join(n),!0)(t);return!!(i&&r in i)};let Tx=t=>Object.prototype.toString.call(t)==="[object Object]";function Sx(t,e){let n=Object.keys(t.fields);return Object.keys(e).filter(r=>n.indexOf(r)===-1)}const Q7=yA([]);function Uv(t){return new vA(t)}class vA extends mr{constructor(e){super({type:"object",check(n){return Tx(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=Q7,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,n={}){var r;let i=super._cast(e,n);if(i===void 0)return this.getDefault(n);if(!this._typeCheck(i))return i;let s=this.fields,o=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,a=[].concat(this._nodes,Object.keys(i).filter(d=>!this._nodes.includes(d))),l={},u=Object.assign({},n,{parent:l,__validating:n.__validating||!1}),c=!1;for(const d of a){let f=s[d],m=d in i;if(f){let y,_=i[d];u.path=(n.path?`${n.path}.`:"")+d,f=f.resolve({value:_,context:n.context,parent:l});let E=f instanceof mr?f.spec:void 0,w=E==null?void 0:E.strict;if(E!=null&&E.strip){c=c||d in i;continue}y=!n.__validating||!w?f.cast(i[d],u):i[d],y!==void 0&&(l[d]=y)}else m&&!o&&(l[d]=i[d]);(m!==d in l||l[d]!==i[d])&&(c=!0)}return c?l:i}_validate(e,n={},r,i){let{from:s=[],originalValue:o=e,recursive:a=this.spec.recursive}=n;n.from=[{schema:this,value:o},...s],n.__validating=!0,n.originalValue=o,super._validate(e,n,r,(l,u)=>{if(!a||!Tx(u)){i(l,u);return}o=o||u;let c=[];for(let d of this._nodes){let f=this.fields[d];!f||Ys.isRef(f)||c.push(f.asNestedTest({options:n,key:d,parent:u,parentPath:n.path,originalParent:o}))}this.runTests({tests:c,value:u,originalValue:o,options:n},r,d=>{i(d.sort(this._sortErrors).concat(l),u)})})}clone(e){const n=super.clone(e);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(e){let n=super.concat(e),r=n.fields;for(let[i,s]of Object.entries(this.fields)){const o=r[i];r[i]=o===void 0?s:o}return n.withMutation(i=>i.setFields(r,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let n={};return this._nodes.forEach(r=>{var i;const s=this.fields[r];let o=e;(i=o)!=null&&i.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[r]})),n[r]=s&&"getDefault"in s?s.getDefault(o):void 0}),n}setFields(e,n){let r=this.clone();return r.fields=e,r._nodes=q7(e,n),r._sortErrors=yA(Object.keys(e)),n&&(r._excludedEdges=n),r}shape(e,n=[]){return this.clone().withMutation(r=>{let i=r._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),i=[...r._excludedEdges,...n]),r.setFields(Object.assign(r.fields,e),i)})}partial(){const e={};for(const[n,r]of Object.entries(this.fields))e[n]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(e)}deepPartial(){return Fh(this)}pick(e){const n={};for(const r of e)this.fields[r]&&(n[r]=this.fields[r]);return this.setFields(n,this._excludedEdges.filter(([r,i])=>e.includes(r)&&e.includes(i)))}omit(e){const n=[];for(const r of Object.keys(this.fields))e.includes(r)||n.push(r);return this.pick(n)}from(e,n,r){let i=ks.getter(e,!0);return this.transform(s=>{if(!s)return s;let o=s;return G7(s,e)&&(o=Object.assign({},s),r||delete o[e],o[n]=i(s)),o})}json(){return this.transform(K7)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||Vh.exact,test(n){if(n==null)return!0;const r=Sx(this.schema,n);return r.length===0||this.createError({params:{properties:r.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,n=Vh.noUnknown){typeof e!="boolean"&&(n=e,e=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(i){if(i==null)return!0;const s=Sx(this.schema,i);return!e||s.length===0||this.createError({params:{unknown:s.join(", ")}})}});return r.spec.noUnknown=e,r}unknown(e=!0,n=Vh.noUnknown){return this.noUnknown(!e,n)}transformKeys(e){return this.transform(n=>{if(!n)return n;const r={};for(const i of Object.keys(n))r[e(i)]=n[i];return r})}camelCase(){return this.transformKeys(rm.camelCase)}snakeCase(){return this.transformKeys(rm.snakeCase)}constantCase(){return this.transformKeys(e=>rm.snakeCase(e).toUpperCase())}describe(e){const n=(e?this.resolve(e):this).clone(),r=super.describe(e);r.fields={};for(const[s,o]of Object.entries(n.fields)){var i;let a=e;(i=a)!=null&&i.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[s]})),r.fields[s]=o.describe(a)}return r}}Uv.prototype=vA.prototype;const Y7=[{value:"Instapay",label:"Instapay"},{value:"Vodafone",label:"Vodafone Cash"},{value:"Etisalat",label:"Etisalat Cash"},{value:"Orange",label:"Orange Cash"}],X7=Uv().shape({name:mi().trim().min(2,"Name too short").max(50,"Name too long").required("Name is required"),email:mi().email("Invalid email").required("Email is required"),gameId:mi().trim().max(30,"Game ID too long").when("game",{is:t=>t!=="PES",then:t=>t.required("Game ID is required"),otherwise:t=>t.notRequired()}),phone:mi().trim().matches(/^01[0-9]{9}$/,"Invalid Egyptian phone number").required("Phone is required"),paymentMethod:mi().required("Payment method is required")}),Kc=t=>t.replace(/<[^>]*>?/gm,"").trim(),J7=()=>{const t=qr(),e=Kr(),{game:n,package:r}=t.state||{},[i,s]=O.useState(!1),[o,a]=O.useState({name:"",email:"",gameId:"",phone:"",paymentMethod:"Instapay"}),[l,u]=O.useState({});if(!n||!r)return g.createElement("div",{className:"text-center mt-20 text-red-600"},"Missing game or package info. Please start from the home page.");const c=f=>{const{name:m,value:y}=f.target;a(_=>({..._,[m]:y}))},d=async f=>{f.preventDefault(),s(!0),u({});const m={name:Kc(o.name),email:Kc(o.email),gameId:Kc(o.gameId),phone:Kc(o.phone),paymentMethod:o.paymentMethod,game:n};try{await X7.validate(m,{abortEarly:!1});const y={game:n,package:r.name,price:r.price,name:m.name,email:m.email,playerId:m.gameId,phone:m.phone,paymentMethod:m.paymentMethod,status:"Pending Payment",createdAt:new Date().toISOString()},_=await V9(y);s(!1),_.success?e(`/payment-instructions/${o.paymentMethod.toLowerCase()}`,{state:{order:{...y,firestoreId:_.firestoreId,orderId:_.orderId}}}):alert("Failed to submit order. Please try again.")}catch(y){if(s(!1),y.inner){const _={};y.inner.forEach(E=>{_[E.path]=E.message}),u(_)}else alert("Error submitting order.")}};return g.createElement("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 flex flex-col items-center justify-center p-4"},g.createElement(Dv,{title:`Payment for ${r.name}`,description:`Complete your payment for ${r.name} for the game ${n}.`}),g.createElement("div",{className:"w-full max-w-4xl bg-white dark:bg-gray-800/50 rounded-2xl shadow-2xl backdrop-blur-lg p-8 grid md:grid-cols-2 gap-8"},g.createElement("div",{className:"flex flex-col justify-between"},g.createElement("div",null,g.createElement("h1",{className:"text-3xl font-bold text-gray-800 dark:text-white mb-2"},"Confirm Your Order"),g.createElement("p",{className:"text-gray-600 dark:text-gray-300 mb-6"},"You're one step away from getting back in the game."),g.createElement("div",{className:"bg-gray-100 dark:bg-gray-700/50 p-6 rounded-xl space-y-4"},g.createElement("div",{className:"flex justify-between items-center"},g.createElement("span",{className:"text-gray-600 dark:text-gray-300"},"Game:"),g.createElement("span",{className:"font-bold text-gray-800 dark:text-white"},n)),g.createElement("div",{className:"flex justify-between items-center"},g.createElement("span",{className:"text-gray-600 dark:text-gray-300"},"Package:"),g.createElement("span",{className:"font-bold text-gray-800 dark:text-white"},r.name)),g.createElement("div",{className:"border-t border-gray-200 dark:border-gray-600 my-4"}),g.createElement("div",{className:"flex justify-between items-center text-xl"},g.createElement("span",{className:"text-gray-700 dark:text-gray-200"},"Total Price:"),g.createElement("span",{className:"font-extrabold text-blue-600 dark:text-blue-400"},"EGP ",r.price)))),g.createElement("div",{className:"mt-6 text-xs text-gray-500 dark:text-gray-400 flex items-center gap-2"},g.createElement(iM,null),g.createElement("span",null,"Secure payment processing. Your information is safe with us."))),g.createElement("form",{onSubmit:d},g.createElement("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-6"},"Enter Your Details"),g.createElement("div",{className:"space-y-4"},g.createElement("div",{className:"relative"},g.createElement(uM,{className:"absolute top-3 left-3 text-gray-400"}),g.createElement("input",{type:"text",name:"name",placeholder:"Your Name",value:o.name,onChange:c,className:"w-full p-2 pl-10 border rounded-lg bg-gray-100 dark:bg-gray-700 dark:border-gray-600",required:!0}),l.name&&g.createElement("p",{className:"text-red-500 text-xs mt-1"},l.name)),g.createElement("div",{className:"relative"},g.createElement(JO,{className:"absolute top-3 left-3 text-gray-400"}),g.createElement("input",{type:"email",name:"email",placeholder:"Your Email",value:o.email,onChange:c,className:"w-full p-2 pl-10 border rounded-lg bg-gray-100 dark:bg-gray-700 dark:border-gray-600",required:!0}),l.email&&g.createElement("p",{className:"text-red-500 text-xs mt-1"},l.email)),n!=="PES"&&g.createElement("div",{className:"relative"},g.createElement(tM,{className:"absolute top-3 left-3 text-gray-400"}),g.createElement("input",{type:"text",name:"gameId",placeholder:"Your Game ID",value:o.gameId,onChange:c,className:"w-full p-2 pl-10 border rounded-lg bg-gray-100 dark:bg-gray-700 dark:border-gray-600",required:n!=="PES"}),l.gameId&&g.createElement("p",{className:"text-red-500 text-xs mt-1"},l.gameId)),g.createElement("div",{className:"relative"},g.createElement(rM,{className:"absolute top-3 left-3 text-gray-400"}),g.createElement("input",{type:"tel",name:"phone",placeholder:"Your Phone Number",value:o.phone,onChange:c,className:"w-full p-2 pl-10 border rounded-lg bg-gray-100 dark:bg-gray-700 dark:border-gray-600",required:!0}),l.phone&&g.createElement("p",{className:"text-red-500 text-xs mt-1"},l.phone)),g.createElement("div",{className:"relative"},g.createElement(cM,{className:"absolute top-3 left-3 text-gray-400"}),g.createElement("select",{name:"paymentMethod",value:o.paymentMethod,onChange:c,className:"w-full p-2 pl-10 border rounded-lg bg-gray-100 dark:bg-gray-700 dark:border-gray-600 appearance-none",required:!0},Y7.map(f=>g.createElement("option",{key:f.value,value:f.value},f.label))))),g.createElement("button",{type:"submit",disabled:i,className:"w-full mt-6 py-3 bg-blue-600 text-white font-bold rounded-lg hover:bg-blue-700 transition-colors disabled:bg-blue-400"},i?g.createElement(Gs,null):`Proceed to Pay EGP ${r.price}`),g.createElement("div",{className:"mt-6 p-4 bg-gray-100 dark:bg-gray-700/50 rounded-lg text-center"},g.createElement("p",{className:"text-sm text-gray-600 dark:text-gray-300"},"You will be redirected to the payment page to complete your purchase.")))),g.createElement("button",{onClick:()=>e(-1),className:"mx-auto mt-8 flex items-center gap-2 px-6 py-2 bg-blue-600 text-white font-semibold rounded-full shadow-lg hover:bg-blue-700 transition-all"},g.createElement("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})),"Back"))},Z7={instapay:{title:"Pay with Instapay",instructions:"Scan the QR code below, use the payment link, or send the payment directly to our Instapay account.",details:"Instapay Account: bnasef736@instapay",paymentLink:"https://ipn.eg/S/bnasef736/instapay/3k83Pt",qrCode:"/assets/instapay-qr.png",hint:"Please ensure all payment information is correct before proceeding."},vodafone:{title:"Pay with Vodafone Cash",instructions:"Please transfer the exact order amount to the following Vodafone Cash number:",details:"Wallet Number: 01127432507"},etisalat:{title:"Pay with Etisalat Cash",instructions:"Please transfer the exact order amount to the following Etisalat Cash number:",details:"Wallet Number: 01127432507"},orange:{title:"Pay with Orange Cash",instructions:"Please transfer the exact order amount to the following Orange Cash number:",details:"Wallet Number: 01127432507"}},eU=()=>{const[t,e]=O.useState(900);O.useEffect(()=>{if(t===0)return;const i=setInterval(()=>{e(t-1)},1e3);return()=>clearInterval(i)},[t]);const n=Math.floor(t/60),r=t%60;return g.createElement("div",{className:"text-lg font-semibold text-red-600"},n,":",r<10?`0${r}`:r)},tU=()=>{const t=Kr(),{method:e}=fO(),n=qr(),[r,i]=O.useState(null),[s,o]=O.useState(!0),[a,l]=O.useState(""),[u,c]=O.useState(!1),[d,f]=O.useState("Copy Order ID");if(!n.state||!n.state.order)return g.createElement("div",{className:"text-center mt-20"},g.createElement("h1",{className:"text-2xl font-bold text-red-600 dark:text-red-400"},"Order Information Missing"),g.createElement("p",{className:"text-gray-700 dark:text-gray-300 my-4"},"We couldn't find the details for your order. Please start the process again."),g.createElement("button",{onClick:()=>t("/"),className:"mt-4 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700"},"Go to Home"));const{order:m}=n.state,y=Z7[e.toLowerCase()];if(O.useEffect(()=>{(async()=>{o(!0),l("");const b=await z9(m.orderId);b||l("Order not found. Please check your Order ID or start again."),i(b),o(!1)})()},[m.orderId]),!y)return g.createElement("div",{className:"text-center mt-20"},"Invalid payment method. Please check the URL or go back.",g.createElement("button",{onClick:()=>t(-1),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded"},"Go Back"));if(s)return g.createElement("div",{className:"text-center mt-20 text-blue-600"},"Loading order details...");if(a)return g.createElement("div",{className:"text-center mt-20 text-red-600"},a);const _=async()=>{u||(await KC(r.firestoreId,"Awaiting Confirmation"),r.game==="PES"?c(!0):t("/success",{state:{orderId:r.id}}))},E=()=>{navigator.clipboard.writeText(r.id),f("Copied!"),setTimeout(()=>f("Copy Order ID"),2e3)};return g.createElement("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-50 dark:bg-gray-900 p-4"},g.createElement("div",{className:"w-full max-w-lg mx-auto bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 text-center"},g.createElement("h1",{className:"text-2xl font-bold mb-2 dark:text-white"},y.title),g.createElement("p",{className:"text-gray-600 dark:text-gray-300 mb-4"},"Order ID: ",g.createElement("span",{className:"font-mono bg-gray-100 dark:bg-gray-700 p-1 rounded"},r.id)),g.createElement("div",{className:"my-4 p-4 bg-blue-50 dark:bg-blue-900/50 rounded-lg"},g.createElement("p",{className:"font-semibold text-blue-800 dark:text-blue-200"},"Please complete payment within 15 minutes."),g.createElement(eU,null)),g.createElement("div",{className:"my-6"},g.createElement("p",{className:"text-gray-700 dark:text-gray-200 mb-2"},y.instructions),y.qrCode&&g.createElement("img",{src:y.qrCode,alt:"Payment QR Code",className:"mx-auto w-48 h-48 my-4"}),e==="instapay"?g.createElement("div",{className:"space-y-4"},g.createElement("p",{className:"text-xl font-bold text-gray-800 dark:text-white bg-gray-100 dark:bg-gray-700 p-3 rounded-lg"},y.details),g.createElement("a",{href:y.paymentLink,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center w-full px-6 py-3 bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-700"},g.createElement(nM,{className:"mr-2"}),"Pay with Instapay Link"),y.hint&&g.createElement("p",{className:"text-sm text-yellow-600 dark:text-yellow-400 p-2 bg-yellow-50 dark:bg-yellow-900/50 rounded-lg"},y.hint)):g.createElement("p",{className:"text-xl font-bold text-gray-800 dark:text-white bg-gray-100 dark:bg-gray-700 p-3 rounded-lg"},y.details)),g.createElement("div",{className:"mt-6"},u?g.createElement("div",{className:"text-center p-4 border-t-2 border-dashed mt-6 dark:border-gray-600"},g.createElement("p",{className:"text-gray-800 dark:text-gray-200 mb-4 font-semibold"},"To confirm your payment, please contact our support team on Telegram or WhatsApp."),g.createElement("div",{className:"flex flex-col sm:flex-row gap-4"},g.createElement("a",{href:"https://t.me/Geniuspes1",target:"_blank",rel:"noopener noreferrer",className:"flex-1 inline-flex items-center justify-center px-6 py-3 bg-blue-500 text-white font-semibold rounded-lg hover:bg-blue-600"},g.createElement(_k,{className:"mr-2"}),"Contact on Telegram"),g.createElement("a",{href:"https://wa.me/message/HPK7XPQT5V2LD1",target:"_blank",rel:"noopener noreferrer",className:"flex-1 inline-flex items-center justify-center px-6 py-3 bg-green-500 text-white font-semibold rounded-lg hover:bg-green-600"},g.createElement(wk,{className:"mr-2"}),"Contact on WhatsApp")),g.createElement("div",{className:"mt-6"},g.createElement("div",{className:"flex items-center justify-center gap-2 mt-2"},g.createElement("span",{className:"font-mono bg-gray-200 dark:bg-gray-700 p-2 rounded"},r.id),g.createElement("button",{onClick:E,className:"flex items-center px-4 py-2 bg-gray-200 dark:bg-gray-600 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500"},g.createElement(XO,{className:"mr-2"}),d)),g.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2"},"Please include this ID when contacting us to verify your payment faster.")),g.createElement("button",{onClick:()=>t("/success",{state:{orderId:r.id}}),className:"mt-8 w-full px-6 py-3 bg-gray-600 text-white font-semibold rounded-lg hover:bg-gray-700 transition-colors"},"Finish")):g.createElement(g.Fragment,null,g.createElement("p",{className:"mb-4"},"Status: ",g.createElement("span",{className:`font-bold ${r.status==="Pending Payment"?"text-yellow-500":r.status==="Awaiting Confirmation"?"text-blue-500":"text-green-600"}`},r.status)),r.status==="Pending Payment"&&g.createElement("button",{onClick:_,className:"w-full px-6 py-3 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700 transition-transform transform hover:scale-105"}," I Have Completed The Payment"),r.status==="Awaiting Confirmation"&&g.createElement("p",{className:"mt-2 text-blue-600 font-medium"},"Your payment is already completed and awaiting confirmation."),r.status==="Completed"&&g.createElement("p",{className:"mt-2 text-green-600 font-medium"},"Your order is already completed.")))))};var _A={exports:{}},$f={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nU=O,rU=Symbol.for("react.element"),iU=Symbol.for("react.fragment"),sU=Object.prototype.hasOwnProperty,oU=nU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,aU={key:!0,ref:!0,__self:!0,__source:!0};function wA(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)sU.call(e,r)&&!aU.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:rU,type:t,key:s,ref:o,props:i,_owner:oU.current}}$f.Fragment=iU;$f.jsx=wA;$f.jsxs=wA;_A.exports=$f;var ny=_A.exports;const EA=O.createContext({});function lU(t){const e=O.useRef(null);return e.current===null&&(e.current=t()),e.current}const jv=typeof window<"u",uU=jv?O.useLayoutEffect:O.useEffect,Bv=O.createContext(null);function zv(t,e){t.indexOf(e)===-1&&t.push(e)}function $v(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const $r=(t,e,n)=>n>e?e:n<t?t:n;let Hv=()=>{};const Hr={},xA=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function bA(t){return typeof t=="object"&&t!==null}const TA=t=>/^0[^.\s]+$/u.test(t);function Wv(t){let e;return()=>(e===void 0&&(e=t()),e)}const In=t=>t,cU=(t,e)=>n=>e(t(n)),ec=(...t)=>t.reduce(cU),Eu=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class qv{constructor(){this.subscriptions=[]}add(e){return zv(this.subscriptions,e),()=>$v(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const cr=t=>t*1e3,hr=t=>t/1e3;function SA(t,e){return e?t*(1e3/e):0}const kA=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,hU=1e-7,dU=12;function fU(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=kA(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>hU&&++a<dU);return o}function tc(t,e,n,r){if(t===e&&n===r)return In;const i=s=>fU(s,0,1,t,n);return s=>s===0||s===1?s:kA(i(s),e,r)}const IA=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,CA=t=>e=>1-t(1-e),AA=tc(.33,1.53,.69,.99),Kv=CA(AA),PA=IA(Kv),RA=t=>(t*=2)<1?.5*Kv(t):.5*(2-Math.pow(2,-10*(t-1))),Gv=t=>1-Math.sin(Math.acos(t)),DA=CA(Gv),NA=IA(Gv),pU=tc(.42,0,1,1),mU=tc(0,0,.58,1),OA=tc(.42,0,.58,1),gU=t=>Array.isArray(t)&&typeof t[0]!="number",MA=t=>Array.isArray(t)&&typeof t[0]=="number",yU={linear:In,easeIn:pU,easeInOut:OA,easeOut:mU,circIn:Gv,circInOut:NA,circOut:DA,backIn:Kv,backInOut:PA,backOut:AA,anticipate:RA},vU=t=>typeof t=="string",kx=t=>{if(MA(t)){Hv(t.length===4);const[e,n,r,i]=t;return tc(e,n,r,i)}else if(vU(t))return yU[t];return t},Gc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Ix={value:null};function _U(t,e){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function u(d){o.has(d)&&(c.schedule(d),t()),l++,d(a)}const c={schedule:(d,f=!1,m=!1)=>{const _=m&&i?n:r;return f&&o.add(d),_.has(d)||_.add(d),d},cancel:d=>{r.delete(d),o.delete(d)},process:d=>{if(a=d,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(u),e&&Ix.value&&Ix.value.frameloop[e].push(l),l=0,n.clear(),i=!1,s&&(s=!1,c.process(d))}};return c}const wU=40;function LA(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Gc.reduce((T,R)=>(T[R]=_U(s,e?R:void 0),T),{}),{setup:a,read:l,resolveKeyframes:u,preUpdate:c,update:d,preRender:f,render:m,postRender:y}=o,_=()=>{const T=Hr.useManualTiming?i.timestamp:performance.now();n=!1,Hr.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(T-i.timestamp,wU),1)),i.timestamp=T,i.isProcessing=!0,a.process(i),l.process(i),u.process(i),c.process(i),d.process(i),f.process(i),m.process(i),y.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(_))},E=()=>{n=!0,r=!0,i.isProcessing||t(_)};return{schedule:Gc.reduce((T,R)=>{const D=o[R];return T[R]=(M,S=!1,x=!1)=>(n||E(),D.schedule(M,S,x)),T},{}),cancel:T=>{for(let R=0;R<Gc.length;R++)o[Gc[R]].cancel(T)},state:i,steps:o}}const{schedule:ze,cancel:$i,state:yt,steps:im}=LA(typeof requestAnimationFrame<"u"?requestAnimationFrame:In,!0);let Uh;function EU(){Uh=void 0}const tn={now:()=>(Uh===void 0&&tn.set(yt.isProcessing||Hr.useManualTiming?yt.timestamp:performance.now()),Uh),set:t=>{Uh=t,queueMicrotask(EU)}},VA=t=>e=>typeof e=="string"&&e.startsWith(t),Qv=VA("--"),xU=VA("var(--"),Yv=t=>xU(t)?bU.test(t.split("/*")[0].trim()):!1,bU=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ba={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},xu={...ba,transform:t=>$r(0,1,t)},Qc={...ba,default:1},Ml=t=>Math.round(t*1e5)/1e5,Xv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function TU(t){return t==null}const SU=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Jv=(t,e)=>n=>!!(typeof n=="string"&&SU.test(n)&&n.startsWith(t)||e&&!TU(n)&&Object.prototype.hasOwnProperty.call(n,e)),FA=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(Xv);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},kU=t=>$r(0,255,t),sm={...ba,transform:t=>Math.round(kU(t))},vs={test:Jv("rgb","red"),parse:FA("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+sm.transform(t)+", "+sm.transform(e)+", "+sm.transform(n)+", "+Ml(xu.transform(r))+")"};function IU(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const ry={test:Jv("#"),parse:IU,transform:vs.transform},nc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),si=nc("deg"),dr=nc("%"),J=nc("px"),CU=nc("vh"),AU=nc("vw"),Cx={...dr,parse:t=>dr.parse(t)/100,transform:t=>dr.transform(t*100)},So={test:Jv("hsl","hue"),parse:FA("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+dr.transform(Ml(e))+", "+dr.transform(Ml(n))+", "+Ml(xu.transform(r))+")"},nt={test:t=>vs.test(t)||ry.test(t)||So.test(t),parse:t=>vs.test(t)?vs.parse(t):So.test(t)?So.parse(t):ry.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?vs.transform(t):So.transform(t),getAnimatableNone:t=>{const e=nt.parse(t);return e.alpha=0,nt.transform(e)}},PU=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function RU(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Xv))==null?void 0:e.length)||0)+(((n=t.match(PU))==null?void 0:n.length)||0)>0}const UA="number",jA="color",DU="var",NU="var(",Ax="${}",OU=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function bu(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(OU,l=>(nt.test(l)?(r.color.push(s),i.push(jA),n.push(nt.parse(l))):l.startsWith(NU)?(r.var.push(s),i.push(DU),n.push(l)):(r.number.push(s),i.push(UA),n.push(parseFloat(l))),++s,Ax)).split(Ax);return{values:n,split:a,indexes:r,types:i}}function BA(t){return bu(t).values}function zA(t){const{split:e,types:n}=bu(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===UA?s+=Ml(i[o]):a===jA?s+=nt.transform(i[o]):s+=i[o]}return s}}const MU=t=>typeof t=="number"?0:nt.test(t)?nt.getAnimatableNone(t):t;function LU(t){const e=BA(t);return zA(t)(e.map(MU))}const Hi={test:RU,parse:BA,createTransformer:zA,getAnimatableNone:LU};function om(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function VU({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=om(l,a,t+1/3),s=om(l,a,t),o=om(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function jd(t,e){return n=>n>0?e:t}const je=(t,e,n)=>t+(e-t)*n,am=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},FU=[ry,vs,So],UU=t=>FU.find(e=>e.test(t));function Px(t){const e=UU(t);if(!e)return!1;let n=e.parse(t);return e===So&&(n=VU(n)),n}const Rx=(t,e)=>{const n=Px(t),r=Px(e);if(!n||!r)return jd(t,e);const i={...n};return s=>(i.red=am(n.red,r.red,s),i.green=am(n.green,r.green,s),i.blue=am(n.blue,r.blue,s),i.alpha=je(n.alpha,r.alpha,s),vs.transform(i))},iy=new Set(["none","hidden"]);function jU(t,e){return iy.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function BU(t,e){return n=>je(t,e,n)}function Zv(t){return typeof t=="number"?BU:typeof t=="string"?Yv(t)?jd:nt.test(t)?Rx:HU:Array.isArray(t)?$A:typeof t=="object"?nt.test(t)?Rx:zU:jd}function $A(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>Zv(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function zU(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=Zv(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function $U(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],o=t.indexes[s][r[s]],a=t.values[o]??0;n[i]=a,r[s]++}return n}const HU=(t,e)=>{const n=Hi.createTransformer(e),r=bu(t),i=bu(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?iy.has(t)&&!i.values.length||iy.has(e)&&!r.values.length?jU(t,e):ec($A($U(r,i),i.values),n):jd(t,e)};function HA(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?je(t,e,n):Zv(t)(t,e)}const WU=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>ze.update(e,n),stop:()=>$i(e),now:()=>yt.isProcessing?yt.timestamp:tn.now()}},WA=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Bd=2e4;function e_(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Bd;)e+=n,r=t.next(e);return e>=Bd?1/0:e}function qU(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(e_(r),Bd);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:hr(i)}}const KU=5;function qA(t,e,n){const r=Math.max(e-KU,0);return SA(n-t(r),e-r)}const qe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},lm=.001;function GU({duration:t=qe.duration,bounce:e=qe.bounce,velocity:n=qe.velocity,mass:r=qe.mass}){let i,s,o=1-e;o=$r(qe.minDamping,qe.maxDamping,o),t=$r(qe.minDuration,qe.maxDuration,hr(t)),o<1?(i=u=>{const c=u*o,d=c*t,f=c-n,m=sy(u,o),y=Math.exp(-d);return lm-f/m*y},s=u=>{const d=u*o*t,f=d*n+n,m=Math.pow(o,2)*Math.pow(u,2)*t,y=Math.exp(-d),_=sy(Math.pow(u,2),o);return(-i(u)+lm>0?-1:1)*((f-m)*y)/_}):(i=u=>{const c=Math.exp(-u*t),d=(u-n)*t+1;return-lm+c*d},s=u=>{const c=Math.exp(-u*t),d=(n-u)*(t*t);return c*d});const a=5/t,l=YU(i,s,a);if(t=cr(t),isNaN(l))return{stiffness:qe.stiffness,damping:qe.damping,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const QU=12;function YU(t,e,n){let r=n;for(let i=1;i<QU;i++)r=r-t(r)/e(r);return r}function sy(t,e){return t*Math.sqrt(1-e*e)}const XU=["duration","bounce"],JU=["stiffness","damping","mass"];function Dx(t,e){return e.some(n=>t[n]!==void 0)}function ZU(t){let e={velocity:qe.velocity,stiffness:qe.stiffness,damping:qe.damping,mass:qe.mass,isResolvedFromDuration:!1,...t};if(!Dx(t,JU)&&Dx(t,XU))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*$r(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:qe.mass,stiffness:i,damping:s}}else{const n=GU(t);e={...e,...n,mass:qe.mass},e.isResolvedFromDuration=!0}return e}function zd(t=qe.visualDuration,e=qe.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:u,mass:c,duration:d,velocity:f,isResolvedFromDuration:m}=ZU({...n,velocity:-hr(n.velocity||0)}),y=f||0,_=u/(2*Math.sqrt(l*c)),E=o-s,w=hr(Math.sqrt(l/c)),b=Math.abs(E)<5;r||(r=b?qe.restSpeed.granular:qe.restSpeed.default),i||(i=b?qe.restDelta.granular:qe.restDelta.default);let T;if(_<1){const D=sy(w,_);T=M=>{const S=Math.exp(-_*w*M);return o-S*((y+_*w*E)/D*Math.sin(D*M)+E*Math.cos(D*M))}}else if(_===1)T=D=>o-Math.exp(-w*D)*(E+(y+w*E)*D);else{const D=w*Math.sqrt(_*_-1);T=M=>{const S=Math.exp(-_*w*M),x=Math.min(D*M,300);return o-S*((y+_*w*E)*Math.sinh(x)+D*E*Math.cosh(x))/D}}const R={calculatedDuration:m&&d||null,next:D=>{const M=T(D);if(m)a.done=D>=d;else{let S=D===0?y:0;_<1&&(S=D===0?cr(y):qA(T,D,M));const x=Math.abs(S)<=r,I=Math.abs(o-M)<=i;a.done=x&&I}return a.value=a.done?o:M,a},toString:()=>{const D=Math.min(e_(R),Bd),M=WA(S=>R.next(D*S).value,D,30);return D+"ms "+M},toTransition:()=>{}};return R}zd.applyToOptions=t=>{const e=qU(t,100,zd);return t.ease=e.ease,t.duration=cr(e.duration),t.type="keyframes",t};function oy({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){const d=t[0],f={done:!1,value:d},m=x=>a!==void 0&&x<a||l!==void 0&&x>l,y=x=>a===void 0?l:l===void 0||Math.abs(a-x)<Math.abs(l-x)?a:l;let _=n*e;const E=d+_,w=o===void 0?E:o(E);w!==E&&(_=w-d);const b=x=>-_*Math.exp(-x/r),T=x=>w+b(x),R=x=>{const I=b(x),C=T(x);f.done=Math.abs(I)<=u,f.value=f.done?w:C};let D,M;const S=x=>{m(f.value)&&(D=x,M=zd({keyframes:[f.value,y(f.value)],velocity:qA(T,x,f.value),damping:i,stiffness:s,restDelta:u,restSpeed:c}))};return S(0),{calculatedDuration:null,next:x=>{let I=!1;return!M&&D===void 0&&(I=!0,R(x),S(x)),D!==void 0&&x>=D?M.next(x-D):(!I&&R(x),f)}}}function ej(t,e,n){const r=[],i=n||Hr.mix||HA,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||In:e;a=ec(l,a)}r.push(a)}return r}function tj(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(Hv(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=ej(e,r,i),l=a.length,u=c=>{if(o&&c<t[0])return e[0];let d=0;if(l>1)for(;d<t.length-2&&!(c<t[d+1]);d++);const f=Eu(t[d],t[d+1],c);return a[d](f)};return n?c=>u($r(t[0],t[s-1],c)):u}function nj(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Eu(0,e,r);t.push(je(n,1,i))}}function rj(t){const e=[0];return nj(e,t.length-1),e}function ij(t,e){return t.map(n=>n*e)}function sj(t,e){return t.map(()=>e||OA).splice(0,t.length-1)}function Ll({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=gU(r)?r.map(kx):kx(r),s={done:!1,value:e[0]},o=ij(n&&n.length===e.length?n:rj(e),t),a=tj(o,e,{ease:Array.isArray(i)?i:sj(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const oj=t=>t!==null;function t_(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(oj),a=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const aj={decay:oy,inertia:oy,tween:Ll,keyframes:Ll,spring:zd};function KA(t){typeof t.type=="string"&&(t.type=aj[t.type])}class n_{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const lj=t=>t/100;class r_ extends n_{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==tn.now()&&this.tick(tn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;KA(e);const{type:n=Ll,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=e;let{keyframes:a}=e;const l=n||Ll;l!==Ll&&typeof a[0]!="number"&&(this.mixKeyframes=ec(lj,HA(a[0],a[1])),a=[0,100]);const u=l({...e,keyframes:a});s==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=e_(u));const{calculatedDuration:c}=u;this.calculatedDuration=c,this.resolvedDuration=c+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=u}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:c,repeat:d,repeatType:f,repeatDelay:m,type:y,onUpdate:_,finalKeyframe:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const w=this.currentTime-u*(this.playbackSpeed>=0?1:-1),b=this.playbackSpeed>=0?w<0:w>i;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let T=this.currentTime,R=r;if(d){const x=Math.min(this.currentTime,i)/a;let I=Math.floor(x),C=x%1;!C&&x>=1&&(C=1),C===1&&I--,I=Math.min(I,d+1),!!(I%2)&&(f==="reverse"?(C=1-C,m&&(C-=m/a)):f==="mirror"&&(R=o)),T=$r(0,1,C)*a}const D=b?{done:!1,value:c[0]}:R.next(T);s&&(D.value=s(D.value));let{done:M}=D;!b&&l!==null&&(M=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const S=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return S&&y!==oy&&(D.value=t_(c,this.options,E,this.speed)),_&&_(D.value),S&&this.finish(),D}then(e,n){return this.finished.then(e,n)}get duration(){return hr(this.calculatedDuration)}get time(){return hr(this.currentTime)}set time(e){var n;e=cr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(tn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=hr(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=WU,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(tn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function uj(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const _s=t=>t*180/Math.PI,ay=t=>{const e=_s(Math.atan2(t[1],t[0]));return ly(e)},cj={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:ay,rotateZ:ay,skewX:t=>_s(Math.atan(t[1])),skewY:t=>_s(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},ly=t=>(t=t%360,t<0&&(t+=360),t),Nx=ay,Ox=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Mx=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),hj={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Ox,scaleY:Mx,scale:t=>(Ox(t)+Mx(t))/2,rotateX:t=>ly(_s(Math.atan2(t[6],t[5]))),rotateY:t=>ly(_s(Math.atan2(-t[2],t[0]))),rotateZ:Nx,rotate:Nx,skewX:t=>_s(Math.atan(t[4])),skewY:t=>_s(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function uy(t){return t.includes("scale")?1:0}function cy(t,e){if(!t||t==="none")return uy(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=hj,i=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=cj,i=a}if(!i)return uy(e);const s=r[e],o=i[1].split(",").map(fj);return typeof s=="function"?s(o):o[s]}const dj=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return cy(n,e)};function fj(t){return parseFloat(t.trim())}const Ta=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Sa=new Set(Ta),Lx=t=>t===ba||t===J,pj=new Set(["x","y","z"]),mj=Ta.filter(t=>!pj.has(t));function gj(t){const e=[];return mj.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Is={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>cy(e,"x"),y:(t,{transform:e})=>cy(e,"y")};Is.translateX=Is.x;Is.translateY=Is.y;const Cs=new Set;let hy=!1,dy=!1,fy=!1;function GA(){if(dy){const t=Array.from(Cs).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=gj(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))==null||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}dy=!1,hy=!1,Cs.forEach(t=>t.complete(fy)),Cs.clear()}function QA(){Cs.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(dy=!0)})}function yj(){fy=!0,QA(),GA(),fy=!1}class i_{constructor(e,n,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Cs.add(this),hy||(hy=!0,ze.read(QA),ze.resolveKeyframes(GA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const a=r.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),i&&s===void 0&&i.set(e[0])}uj(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Cs.delete(this)}cancel(){this.state==="scheduled"&&(Cs.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const vj=t=>t.startsWith("--");function _j(t,e,n){vj(e)?t.style.setProperty(e,n):t.style[e]=n}const wj=Wv(()=>window.ScrollTimeline!==void 0),Ej={};function xj(t,e){const n=Wv(t);return()=>Ej[e]??n()}const YA=xj(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ml=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Vx={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ml([0,.65,.55,1]),circOut:ml([.55,0,1,.45]),backIn:ml([.31,.01,.66,-.59]),backOut:ml([.33,1.53,.69,.99])};function XA(t,e){if(t)return typeof t=="function"?YA()?WA(t,e):"ease-out":MA(t)?ml(t):Array.isArray(t)?t.map(n=>XA(n,e)||Vx.easeOut):Vx[t]}function bj(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:l}={},u=void 0){const c={[e]:n};l&&(c.offset=l);const d=XA(a,i);Array.isArray(d)&&(c.easing=d);const f={delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return u&&(f.pseudoElement=u),t.animate(c,f)}function JA(t){return typeof t=="function"&&"applyToOptions"in t}function Tj({type:t,...e}){return JA(t)&&YA()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Sj extends n_{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,Hv(typeof e.type!="string");const u=Tj(e);this.animation=bj(n,r,i,u,s),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const c=t_(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(c):_j(n,r,c),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return hr(Number(e))}get time(){return hr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=cr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&wj()?(this.animation.timeline=e,In):n(this)}}const ZA={anticipate:RA,backInOut:PA,circInOut:NA};function kj(t){return t in ZA}function Ij(t){typeof t.ease=="string"&&kj(t.ease)&&(t.ease=ZA[t.ease])}const Fx=10;class Cj extends Sj{constructor(e){Ij(e),KA(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new r_({...o,autoplay:!1}),l=cr(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-Fx).value,a.sample(l).value,Fx),a.stop()}}const Ux=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Hi.test(t)||t==="0")&&!t.startsWith("url("));function Aj(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Pj(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=Ux(i,e),a=Ux(s,e);return!o||!a?!1:Aj(t)||(n==="spring"||JA(n))&&r}function eP(t){return bA(t)&&"offsetHeight"in t}const Rj=new Set(["opacity","clipPath","filter","transform"]),Dj=Wv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Nj(t){var u;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:o}=t;if(!eP((u=e==null?void 0:e.owner)==null?void 0:u.current))return!1;const{onUpdate:a,transformTemplate:l}=e.owner.getProps();return Dj()&&n&&Rj.has(n)&&(n!=="transform"||!l)&&!a&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const Oj=40;class Mj extends n_{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:l,motionValue:u,element:c,...d}){var y;super(),this.stop=()=>{var _,E;this._animation&&(this._animation.stop(),(_=this.stopTimeline)==null||_.call(this)),(E=this.keyframeResolver)==null||E.cancel()},this.createdAt=tn.now();const f={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,name:l,motionValue:u,element:c,...d},m=(c==null?void 0:c.KeyframeResolver)||i_;this.keyframeResolver=new m(a,(_,E,w)=>this.onKeyframesResolved(_,E,f,!w),l,u,c),(y=this.keyframeResolver)==null||y.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:l,isHandoff:u,onUpdate:c}=r;this.resolvedAt=tn.now(),Pj(e,s,o,a)||((Hr.instantAnimations||!l)&&(c==null||c(t_(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const f={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>Oj?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},m=!u&&Nj(f)?new Cj({...f,element:f.motionValue.owner.current}):new r_(f);m.finished.then(()=>this.notifyFinished()).catch(In),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),yj()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const Lj=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Vj(t){const e=Lj.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function tP(t,e,n=1){const[r,i]=Vj(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return xA(o)?parseFloat(o):o}return Yv(i)?tP(i,e,n+1):i}function s_(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const nP=new Set(["width","height","top","left","right","bottom",...Ta]),Fj={test:t=>t==="auto",parse:t=>t},rP=t=>e=>e.test(t),iP=[ba,J,dr,si,AU,CU,Fj],jx=t=>iP.find(rP(t));function Uj(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||TA(t):!0}const jj=new Set(["brightness","contrast","saturate","opacity"]);function Bj(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Xv)||[];if(!r)return t;const i=n.replace(r,"");let s=jj.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const zj=/\b([a-z-]*)\(.*?\)/gu,py={...Hi,getAnimatableNone:t=>{const e=t.match(zj);return e?e.map(Bj).join(" "):t}},Bx={...ba,transform:Math.round},$j={rotate:si,rotateX:si,rotateY:si,rotateZ:si,scale:Qc,scaleX:Qc,scaleY:Qc,scaleZ:Qc,skew:si,skewX:si,skewY:si,distance:J,translateX:J,translateY:J,translateZ:J,x:J,y:J,z:J,perspective:J,transformPerspective:J,opacity:xu,originX:Cx,originY:Cx,originZ:J},o_={borderWidth:J,borderTopWidth:J,borderRightWidth:J,borderBottomWidth:J,borderLeftWidth:J,borderRadius:J,radius:J,borderTopLeftRadius:J,borderTopRightRadius:J,borderBottomRightRadius:J,borderBottomLeftRadius:J,width:J,maxWidth:J,height:J,maxHeight:J,top:J,right:J,bottom:J,left:J,padding:J,paddingTop:J,paddingRight:J,paddingBottom:J,paddingLeft:J,margin:J,marginTop:J,marginRight:J,marginBottom:J,marginLeft:J,backgroundPositionX:J,backgroundPositionY:J,...$j,zIndex:Bx,fillOpacity:xu,strokeOpacity:xu,numOctaves:Bx},Hj={...o_,color:nt,backgroundColor:nt,outlineColor:nt,fill:nt,stroke:nt,borderColor:nt,borderTopColor:nt,borderRightColor:nt,borderBottomColor:nt,borderLeftColor:nt,filter:py,WebkitFilter:py},sP=t=>Hj[t];function oP(t,e){let n=sP(t);return n!==py&&(n=Hi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Wj=new Set(["auto","none","0"]);function qj(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!Wj.has(s)&&bu(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=oP(n,i)}class Kj extends i_{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),Yv(u))){const c=tP(u,n.current);c!==void 0&&(e[l]=c),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!nP.has(r)||e.length!==2)return;const[i,s]=e,o=jx(i),a=jx(s);if(o!==a)if(Lx(o)&&Lx(a))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else Is[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||Uj(e[i]))&&r.push(i);r.length&&qj(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Is[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=Is[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,u])=>{e.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function Gj(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=(n==null?void 0:n[t])??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const aP=(t,e)=>e&&typeof t=="number"?e.transform(t):t,zx=30,Qj=t=>!isNaN(parseFloat(t));class Yj{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{var o,a;const s=tn.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();i&&((a=this.events.renderRequest)==null||a.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=tn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Qj(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new qv);const r=this.events[e].add(n);return e==="change"?()=>{r(),ze.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=tn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>zx)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,zx);return SA(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function oa(t,e){return new Yj(t,e)}const{schedule:a_}=LA(queueMicrotask,!1),Ln={x:!1,y:!1};function lP(){return Ln.x||Ln.y}function Xj(t){return t==="x"||t==="y"?Ln[t]?null:(Ln[t]=!0,()=>{Ln[t]=!1}):Ln.x||Ln.y?null:(Ln.x=Ln.y=!0,()=>{Ln.x=Ln.y=!1})}function uP(t,e){const n=Gj(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function $x(t){return!(t.pointerType==="touch"||lP())}function Jj(t,e,n={}){const[r,i,s]=uP(t,n),o=a=>{if(!$x(a))return;const{target:l}=a,u=e(l,a);if(typeof u!="function"||!l)return;const c=d=>{$x(d)&&(u(d),l.removeEventListener("pointerleave",c))};l.addEventListener("pointerleave",c,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const cP=(t,e)=>e?t===e?!0:cP(t,e.parentElement):!1,l_=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Zj=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function eB(t){return Zj.has(t.tagName)||t.tabIndex!==-1}const jh=new WeakSet;function Hx(t){return e=>{e.key==="Enter"&&t(e)}}function um(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const tB=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=Hx(()=>{if(jh.has(n))return;um(n,"down");const i=Hx(()=>{um(n,"up")}),s=()=>um(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function Wx(t){return l_(t)&&!lP()}function nB(t,e,n={}){const[r,i,s]=uP(t,n),o=a=>{const l=a.currentTarget;if(!Wx(a))return;jh.add(l);const u=e(l,a),c=(m,y)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",f),jh.has(l)&&jh.delete(l),Wx(m)&&typeof u=="function"&&u(m,{success:y})},d=m=>{c(m,l===window||l===document||n.useGlobalTarget||cP(l,m.target))},f=m=>{c(m,!1)};window.addEventListener("pointerup",d,i),window.addEventListener("pointercancel",f,i)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),eP(a)&&(a.addEventListener("focus",u=>tB(u,i)),!eB(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function hP(t){return bA(t)&&"ownerSVGElement"in t}function rB(t){return hP(t)&&t.tagName==="svg"}const Lt=t=>!!(t&&t.getVelocity),iB=[...iP,nt,Hi],sB=t=>iB.find(rP(t)),dP=O.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function oB(t=!0){const e=O.useContext(Bv);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=O.useId();O.useEffect(()=>{if(t)return i(s)},[t]);const o=O.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const fP=O.createContext({strict:!1}),qx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},aa={};for(const t in qx)aa[t]={isEnabled:e=>qx[t].some(n=>!!e[n])};function aB(t){for(const e in t)aa[e]={...aa[e],...t[e]}}const lB=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function $d(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||lB.has(t)}let pP=t=>!$d(t);function uB(t){typeof t=="function"&&(pP=e=>e.startsWith("on")?!$d(e):t(e))}try{uB(require("@emotion/is-prop-valid").default)}catch{}function cB(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(pP(i)||n===!0&&$d(i)||!e&&!$d(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function hB(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const Hf=O.createContext({});function Wf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Tu(t){return typeof t=="string"||Array.isArray(t)}const u_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],c_=["initial",...u_];function qf(t){return Wf(t.animate)||c_.some(e=>Tu(t[e]))}function mP(t){return!!(qf(t)||t.variants)}function dB(t,e){if(qf(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Tu(n)?n:void 0,animate:Tu(r)?r:void 0}}return t.inherit!==!1?e:{}}function fB(t){const{initial:e,animate:n}=dB(t,O.useContext(Hf));return O.useMemo(()=>({initial:e,animate:n}),[Kx(e),Kx(n)])}function Kx(t){return Array.isArray(t)?t.join(" "):t}const pB=Symbol.for("motionComponentSymbol");function ko(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function mB(t,e,n){return O.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):ko(n)&&(n.current=r))},[e])}const h_=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),gB="framerAppearId",gP="data-"+h_(gB),yP=O.createContext({});function yB(t,e,n,r,i){var _,E;const{visualElement:s}=O.useContext(Hf),o=O.useContext(fP),a=O.useContext(Bv),l=O.useContext(dP).reducedMotion,u=O.useRef(null);r=r||o.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const c=u.current,d=O.useContext(yP);c&&!c.projection&&i&&(c.type==="html"||c.type==="svg")&&vB(u.current,n,i,d);const f=O.useRef(!1);O.useInsertionEffect(()=>{c&&f.current&&c.update(n,a)});const m=n[gP],y=O.useRef(!!m&&!((_=window.MotionHandoffIsComplete)!=null&&_.call(window,m))&&((E=window.MotionHasOptimisedAnimation)==null?void 0:E.call(window,m)));return uU(()=>{c&&(f.current=!0,window.MotionIsMounted=!0,c.updateFeatures(),a_.render(c.render),y.current&&c.animationState&&c.animationState.animateChanges())}),O.useEffect(()=>{c&&(!y.current&&c.animationState&&c.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)==null||w.call(window,m)}),y.current=!1))}),c}function vB(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u,layoutCrossfade:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:vP(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&ko(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:c,layoutScroll:l,layoutRoot:u})}function vP(t){if(t)return t.options.allowProjection!==!1?t.projection:vP(t.parent)}function _B({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&aB(t);function s(a,l){let u;const c={...O.useContext(dP),...a,layoutId:wB(a)},{isStatic:d}=c,f=fB(a),m=r(a,d);if(!d&&jv){EB();const y=xB(c);u=y.MeasureLayout,f.visualElement=yB(i,m,c,e,y.ProjectionNode)}return ny.jsxs(Hf.Provider,{value:f,children:[u&&f.visualElement?ny.jsx(u,{visualElement:f.visualElement,...c}):null,n(i,a,mB(m,f.visualElement,l),m,d,f.visualElement)]})}s.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const o=O.forwardRef(s);return o[pB]=i,o}function wB({layoutId:t}){const e=O.useContext(EA).id;return e&&t!==void 0?e+"-"+t:t}function EB(t,e){O.useContext(fP).strict}function xB(t){const{drag:e,layout:n}=aa;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Su={};function bB(t){for(const e in t)Su[e]=t[e],Qv(e)&&(Su[e].isCSSVariable=!0)}function _P(t,{layout:e,layoutId:n}){return Sa.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Su[t]||t==="opacity")}const TB={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},SB=Ta.length;function kB(t,e,n){let r="",i=!0;for(let s=0;s<SB;s++){const o=Ta[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=aP(a,o_[o]);if(!l){i=!1;const c=TB[o]||o;r+=`${c}(${u}) `}n&&(e[o]=u)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function d_(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const u=e[l];if(Sa.has(l)){o=!0;continue}else if(Qv(l)){i[l]=u;continue}else{const c=aP(u,o_[l]);l.startsWith("origin")?(a=!0,s[l]=c):r[l]=c}}if(e.transform||(o||n?r.transform=kB(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:c=0}=s;r.transformOrigin=`${l} ${u} ${c}`}}const f_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function wP(t,e,n){for(const r in e)!Lt(e[r])&&!_P(r,n)&&(t[r]=e[r])}function IB({transformTemplate:t},e){return O.useMemo(()=>{const n=f_();return d_(n,e,t),Object.assign({},n.vars,n.style)},[e])}function CB(t,e){const n=t.style||{},r={};return wP(r,n,t),Object.assign(r,IB(t,e)),r}function AB(t,e){const n={},r=CB(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const PB={offset:"stroke-dashoffset",array:"stroke-dasharray"},RB={offset:"strokeDashoffset",array:"strokeDasharray"};function DB(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?PB:RB;t[s.offset]=J.transform(-r);const o=J.transform(e),a=J.transform(n);t[s.array]=`${o} ${a}`}function EP(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...a},l,u,c){if(d_(t,a,u),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:d,style:f}=t;d.transform&&(f.transform=d.transform,delete d.transform),(f.transform||d.transformOrigin)&&(f.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),f.transform&&(f.transformBox=(c==null?void 0:c.transformBox)??"fill-box",delete d.transformBox),e!==void 0&&(d.x=e),n!==void 0&&(d.y=n),r!==void 0&&(d.scale=r),i!==void 0&&DB(d,i,s,o,!1)}const xP=()=>({...f_(),attrs:{}}),bP=t=>typeof t=="string"&&t.toLowerCase()==="svg";function NB(t,e,n,r){const i=O.useMemo(()=>{const s=xP();return EP(s,e,bP(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};wP(s,t.style,t),i.style={...s,...i.style}}return i}const OB=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function p_(t){return typeof t!="string"||t.includes("-")?!1:!!(OB.indexOf(t)>-1||/[A-Z]/u.test(t))}function MB(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(p_(n)?NB:AB)(r,s,o,n),u=cB(r,typeof n=="string",t),c=n!==O.Fragment?{...u,...l,ref:i}:{},{children:d}=r,f=O.useMemo(()=>Lt(d)?d.get():d,[d]);return O.createElement(n,{...c,children:f})}}function Gx(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function m_(t,e,n,r){if(typeof e=="function"){const[i,s]=Gx(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=Gx(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function Bh(t){return Lt(t)?t.get():t}function LB({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:VB(n,r,i,t),renderState:e()}}const TP=t=>(e,n)=>{const r=O.useContext(Hf),i=O.useContext(Bv),s=()=>LB(t,e,r,i);return n?s():lU(s)};function VB(t,e,n,r){const i={},s=r(t,{});for(const f in s)i[f]=Bh(s[f]);let{initial:o,animate:a}=t;const l=qf(t),u=mP(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let c=n?n.initial===!1:!1;c=c||o===!1;const d=c?a:o;if(d&&typeof d!="boolean"&&!Wf(d)){const f=Array.isArray(d)?d:[d];for(let m=0;m<f.length;m++){const y=m_(t,f[m]);if(y){const{transitionEnd:_,transition:E,...w}=y;for(const b in w){let T=w[b];if(Array.isArray(T)){const R=c?T.length-1:0;T=T[R]}T!==null&&(i[b]=T)}for(const b in _)i[b]=_[b]}}}return i}function g_(t,e,n){var s;const{style:r}=t,i={};for(const o in r)(Lt(r[o])||e.style&&Lt(e.style[o])||_P(o,t)||((s=n==null?void 0:n.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const FB={useVisualState:TP({scrapeMotionValuesFromProps:g_,createRenderState:f_})};function SP(t,e,n){const r=g_(t,e,n);for(const i in t)if(Lt(t[i])||Lt(e[i])){const s=Ta.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const UB={useVisualState:TP({scrapeMotionValuesFromProps:SP,createRenderState:xP})};function jB(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...p_(r)?UB:FB,preloadedFeatures:t,useRender:MB(i),createVisualElement:e,Component:r};return _B(o)}}function ku(t,e,n){const r=t.getProps();return m_(r,e,n!==void 0?n:r.custom,t)}const my=t=>Array.isArray(t);function BB(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,oa(n))}function zB(t){return my(t)?t[t.length-1]||0:t}function $B(t,e){const n=ku(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=zB(s[o]);BB(t,o,a)}}function HB(t){return!!(Lt(t)&&t.add)}function gy(t,e){const n=t.getValue("willChange");if(HB(n))return n.add(e);if(!n&&Hr.WillChange){const r=new Hr.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function kP(t){return t.props[gP]}const WB=t=>t!==null;function qB(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(WB),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[s]}const KB={type:"spring",stiffness:500,damping:25,restSpeed:10},GB=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),QB={type:"keyframes",duration:.8},YB={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},XB=(t,{keyframes:e})=>e.length>2?QB:Sa.has(t)?t.startsWith("scale")?GB(e[1]):KB:YB;function JB({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}const y_=(t,e,n,r={},i,s)=>o=>{const a=s_(r,t)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-cr(l);const c={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};JB(a)||Object.assign(c,XB(t,c)),c.duration&&(c.duration=cr(c.duration)),c.repeatDelay&&(c.repeatDelay=cr(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let d=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(c.duration=0,c.delay===0&&(d=!0)),(Hr.instantAnimations||Hr.skipAnimations)&&(d=!0,c.duration=0,c.delay=0),c.allowFlatten=!a.type&&!a.ease,d&&!s&&e.get()!==void 0){const f=qB(c.keyframes,a);if(f!==void 0){ze.update(()=>{c.onUpdate(f),c.onComplete()});return}}return a.isSync?new r_(c):new Mj(c)};function ZB({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function IP(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(s=r);const l=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const c in a){const d=t.getValue(c,t.latestValues[c]??null),f=a[c];if(f===void 0||u&&ZB(u,c))continue;const m={delay:n,...s_(s||{},c)},y=d.get();if(y!==void 0&&!d.isAnimating&&!Array.isArray(f)&&f===y&&!m.velocity)continue;let _=!1;if(window.MotionHandoffAnimation){const w=kP(t);if(w){const b=window.MotionHandoffAnimation(w,c,ze);b!==null&&(m.startTime=b,_=!0)}}gy(t,c),d.start(y_(c,d,f,t.shouldReduceMotion&&nP.has(c)?{type:!1}:m,t,_));const E=d.animation;E&&l.push(E)}return o&&Promise.all(l).then(()=>{ze.update(()=>{o&&$B(t,o)})}),l}function yy(t,e,n={}){var l;const r=ku(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(IP(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:f}=i;return ez(t,e,c+u,d,f,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[u,c]=a==="beforeChildren"?[s,o]:[o,s];return u().then(()=>c())}else return Promise.all([s(),o(n.delay)])}function ez(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(t.variantChildren).sort(tz).forEach((u,c)=>{u.notify("AnimationStart",e),o.push(yy(u,e,{...s,delay:n+l(c)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function tz(t,e){return t.sortNodePosition(e)}function nz(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>yy(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=yy(t,e,n);else{const i=typeof e=="function"?ku(t,e,n.custom):e;r=Promise.all(IP(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function CP(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const rz=c_.length;function AP(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?AP(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<rz;n++){const r=c_[n],i=t.props[r];(Tu(i)||i===!1)&&(e[r]=i)}return e}const iz=[...u_].reverse(),sz=u_.length;function oz(t){return e=>Promise.all(e.map(({animation:n,options:r})=>nz(t,n,r)))}function az(t){let e=oz(t),n=Qx(),r=!0;const i=l=>(u,c)=>{var f;const d=ku(t,c,l==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);if(d){const{transition:m,transitionEnd:y,..._}=d;u={...u,..._,...y}}return u};function s(l){e=l(t)}function o(l){const{props:u}=t,c=AP(t.parent)||{},d=[],f=new Set;let m={},y=1/0;for(let E=0;E<sz;E++){const w=iz[E],b=n[w],T=u[w]!==void 0?u[w]:c[w],R=Tu(T),D=w===l?b.isActive:null;D===!1&&(y=E);let M=T===c[w]&&T!==u[w]&&R;if(M&&r&&t.manuallyAnimateOnMount&&(M=!1),b.protectedKeys={...m},!b.isActive&&D===null||!T&&!b.prevProp||Wf(T)||typeof T=="boolean")continue;const S=lz(b.prevProp,T);let x=S||w===l&&b.isActive&&!M&&R||E>y&&R,I=!1;const C=Array.isArray(T)?T:[T];let A=C.reduce(i(w),{});D===!1&&(A={});const{prevResolvedValues:N={}}=b,P={...N,...A},ae=te=>{x=!0,f.has(te)&&(I=!0,f.delete(te)),b.needsAnimating[te]=!0;const j=t.getValue(te);j&&(j.liveStyle=!1)};for(const te in P){const j=A[te],W=N[te];if(m.hasOwnProperty(te))continue;let K=!1;my(j)&&my(W)?K=!CP(j,W):K=j!==W,K?j!=null?ae(te):f.add(te):j!==void 0&&f.has(te)?ae(te):b.protectedKeys[te]=!0}b.prevProp=T,b.prevResolvedValues=A,b.isActive&&(m={...m,...A}),r&&t.blockInitialAnimation&&(x=!1),x&&(!(M&&S)||I)&&d.push(...C.map(te=>({animation:te,options:{type:w}})))}if(f.size){const E={};if(typeof u.initial!="boolean"){const w=ku(t,Array.isArray(u.initial)?u.initial[0]:u.initial);w&&w.transition&&(E.transition=w.transition)}f.forEach(w=>{const b=t.getBaseTarget(w),T=t.getValue(w);T&&(T.liveStyle=!0),E[w]=b??null}),d.push({animation:E})}let _=!!d.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(_=!1),r=!1,_?e(d):Promise.resolve()}function a(l,u){var d;if(n[l].isActive===u)return Promise.resolve();(d=t.variantChildren)==null||d.forEach(f=>{var m;return(m=f.animationState)==null?void 0:m.setActive(l,u)}),n[l].isActive=u;const c=o(l);for(const f in n)n[f].protectedKeys={};return c}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=Qx(),r=!0}}}function lz(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!CP(e,t):!1}function rs(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Qx(){return{animate:rs(!0),whileInView:rs(),whileHover:rs(),whileTap:rs(),whileDrag:rs(),whileFocus:rs(),exit:rs()}}class Ji{constructor(e){this.isMounted=!1,this.node=e}update(){}}class uz extends Ji{constructor(e){super(e),e.animationState||(e.animationState=az(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Wf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let cz=0;class hz extends Ji{constructor(){super(...arguments),this.id=cz++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const dz={animation:{Feature:uz},exit:{Feature:hz}};function Iu(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function rc(t){return{point:{x:t.pageX,y:t.pageY}}}const fz=t=>e=>l_(e)&&t(e,rc(e));function Vl(t,e,n,r){return Iu(t,e,fz(n),r)}function PP({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function pz({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function mz(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const RP=1e-4,gz=1-RP,yz=1+RP,DP=.01,vz=0-DP,_z=0+DP;function Ht(t){return t.max-t.min}function wz(t,e,n){return Math.abs(t-e)<=n}function Yx(t,e,n,r=.5){t.origin=r,t.originPoint=je(e.min,e.max,t.origin),t.scale=Ht(n)/Ht(e),t.translate=je(n.min,n.max,t.origin)-t.originPoint,(t.scale>=gz&&t.scale<=yz||isNaN(t.scale))&&(t.scale=1),(t.translate>=vz&&t.translate<=_z||isNaN(t.translate))&&(t.translate=0)}function Fl(t,e,n,r){Yx(t.x,e.x,n.x,r?r.originX:void 0),Yx(t.y,e.y,n.y,r?r.originY:void 0)}function Xx(t,e,n){t.min=n.min+e.min,t.max=t.min+Ht(e)}function Ez(t,e,n){Xx(t.x,e.x,n.x),Xx(t.y,e.y,n.y)}function Jx(t,e,n){t.min=e.min-n.min,t.max=t.min+Ht(e)}function Ul(t,e,n){Jx(t.x,e.x,n.x),Jx(t.y,e.y,n.y)}const Zx=()=>({translate:0,scale:1,origin:0,originPoint:0}),Io=()=>({x:Zx(),y:Zx()}),e2=()=>({min:0,max:0}),Qe=()=>({x:e2(),y:e2()});function _n(t){return[t("x"),t("y")]}function cm(t){return t===void 0||t===1}function vy({scale:t,scaleX:e,scaleY:n}){return!cm(t)||!cm(e)||!cm(n)}function cs(t){return vy(t)||NP(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function NP(t){return t2(t.x)||t2(t.y)}function t2(t){return t&&t!=="0%"}function Hd(t,e,n){const r=t-n,i=e*r;return n+i}function n2(t,e,n,r,i){return i!==void 0&&(t=Hd(t,i,r)),Hd(t,n,r)+e}function _y(t,e=0,n=1,r,i){t.min=n2(t.min,e,n,r,i),t.max=n2(t.max,e,n,r,i)}function OP(t,{x:e,y:n}){_y(t.x,e.translate,e.scale,e.originPoint),_y(t.y,n.translate,n.scale,n.originPoint)}const r2=.999999999999,i2=1.0000000000001;function xz(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Ao(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,OP(t,o)),r&&cs(s.latestValues)&&Ao(t,s.latestValues))}e.x<i2&&e.x>r2&&(e.x=1),e.y<i2&&e.y>r2&&(e.y=1)}function Co(t,e){t.min=t.min+e,t.max=t.max+e}function s2(t,e,n,r,i=.5){const s=je(t.min,t.max,i);_y(t,e,n,s,r)}function Ao(t,e){s2(t.x,e.x,e.scaleX,e.scale,e.originX),s2(t.y,e.y,e.scaleY,e.scale,e.originY)}function MP(t,e){return PP(mz(t.getBoundingClientRect(),e))}function bz(t,e,n){const r=MP(t,n),{scroll:i}=e;return i&&(Co(r.x,i.offset.x),Co(r.y,i.offset.y)),r}const LP=({current:t})=>t?t.ownerDocument.defaultView:null,o2=(t,e)=>Math.abs(t-e);function Tz(t,e){const n=o2(t.x,e.x),r=o2(t.y,e.y);return Math.sqrt(n**2+r**2)}class VP{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=dm(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,m=Tz(d.offset,{x:0,y:0})>=3;if(!f&&!m)return;const{point:y}=d,{timestamp:_}=yt;this.history.push({...y,timestamp:_});const{onStart:E,onMove:w}=this.handlers;f||(E&&E(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,d)},this.handlePointerMove=(d,f)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=hm(f,this.transformPagePoint),ze.update(this.updatePoint,!0)},this.handlePointerUp=(d,f)=>{this.end();const{onEnd:m,onSessionEnd:y,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=dm(d.type==="pointercancel"?this.lastMoveEventInfo:hm(f,this.transformPagePoint),this.history);this.startEvent&&m&&m(d,E),y&&y(d,E)},!l_(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=rc(e),a=hm(o,this.transformPagePoint),{point:l}=a,{timestamp:u}=yt;this.history=[{...l,timestamp:u}];const{onSessionStart:c}=n;c&&c(e,dm(a,this.history)),this.removeListeners=ec(Vl(this.contextWindow,"pointermove",this.handlePointerMove),Vl(this.contextWindow,"pointerup",this.handlePointerUp),Vl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),$i(this.updatePoint)}}function hm(t,e){return e?{point:e(t.point)}:t}function a2(t,e){return{x:t.x-e.x,y:t.y-e.y}}function dm({point:t},e){return{point:t,delta:a2(t,FP(e)),offset:a2(t,Sz(e)),velocity:kz(e,.1)}}function Sz(t){return t[0]}function FP(t){return t[t.length-1]}function kz(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=FP(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>cr(e)));)n--;if(!r)return{x:0,y:0};const s=hr(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Iz(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?je(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?je(n,t,r.max):Math.min(t,n)),t}function l2(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Cz(t,{top:e,left:n,bottom:r,right:i}){return{x:l2(t.x,n,i),y:l2(t.y,e,r)}}function u2(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Az(t,e){return{x:u2(t.x,e.x),y:u2(t.y,e.y)}}function Pz(t,e){let n=.5;const r=Ht(t),i=Ht(e);return i>r?n=Eu(e.min,e.max-r,t.min):r>i&&(n=Eu(t.min,t.max-i,e.min)),$r(0,1,n)}function Rz(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const wy=.35;function Dz(t=wy){return t===!1?t=0:t===!0&&(t=wy),{x:c2(t,"left","right"),y:c2(t,"top","bottom")}}function c2(t,e,n){return{min:h2(t,e),max:h2(t,n)}}function h2(t,e){return typeof t=="number"?t:t[e]||0}const Nz=new WeakMap;class Oz{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Qe(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=c=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(rc(c).point)},s=(c,d)=>{const{drag:f,dragPropagation:m,onDragStart:y}=this.getProps();if(f&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Xj(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),_n(E=>{let w=this.getAxisMotionValue(E).get()||0;if(dr.test(w)){const{projection:b}=this.visualElement;if(b&&b.layout){const T=b.layout.layoutBox[E];T&&(w=Ht(T)*(parseFloat(w)/100))}}this.originPoint[E]=w}),y&&ze.postRender(()=>y(c,d)),gy(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},o=(c,d)=>{const{dragPropagation:f,dragDirectionLock:m,onDirectionLock:y,onDrag:_}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:E}=d;if(m&&this.currentDirection===null){this.currentDirection=Mz(E),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",d.point,E),this.updateAxis("y",d.point,E),this.visualElement.render(),_&&_(c,d)},a=(c,d)=>this.stop(c,d),l=()=>_n(c=>{var d;return this.getAnimationState(c)==="paused"&&((d=this.getAxisMotionValue(c).animation)==null?void 0:d.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new VP(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:LP(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&ze.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Yc(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=Iz(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&ko(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=Cz(r.layoutBox,e):this.constraints=!1,this.elastic=Dz(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&_n(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Rz(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ko(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=bz(r,i.root,this.visualElement.getTransformPagePoint());let o=Az(i.layout.layoutBox,s);if(n){const a=n(pz(o));this.hasMutatedConstraints=!!a,a&&(o=PP(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=_n(c=>{if(!Yc(c,n,this.currentDirection))return;let d=l&&l[c]||{};o&&(d={min:0,max:0});const f=i?200:1e6,m=i?40:1e7,y={type:"inertia",velocity:r?e[c]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(c,y)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return gy(this.visualElement,e),r.start(y_(e,r,0,n,this.visualElement,!1))}stopAnimation(){_n(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){_n(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){_n(n=>{const{drag:r}=this.getProps();if(!Yc(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-je(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ko(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};_n(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=Pz({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),_n(o=>{if(!Yc(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(je(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;Nz.set(this.visualElement,this);const e=this.visualElement.current,n=Vl(e,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();ko(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),ze.read(r);const o=Iu(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(_n(c=>{const d=this.getAxisMotionValue(c);d&&(this.originPoint[c]+=l[c].translate,d.set(d.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=wy,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Yc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Mz(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Lz extends Ji{constructor(e){super(e),this.removeGroupControls=In,this.removeListeners=In,this.controls=new Oz(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||In}unmount(){this.removeGroupControls(),this.removeListeners()}}const d2=t=>(e,n)=>{t&&ze.postRender(()=>t(e,n))};class Vz extends Ji{constructor(){super(...arguments),this.removePointerDownListener=In}onPointerDown(e){this.session=new VP(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:LP(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:d2(e),onStart:d2(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&ze.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Vl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const zh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function f2(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Za={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(J.test(t))t=parseFloat(t);else return t;const n=f2(t,e.target.x),r=f2(t,e.target.y);return`${n}% ${r}%`}},Fz={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Hi.parse(t);if(i.length>5)return r;const s=Hi.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const u=je(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};class Uz extends O.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;bB(jz),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),zh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||ze.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),a_.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function UP(t){const[e,n]=oB(),r=O.useContext(EA);return ny.jsx(Uz,{...t,layoutGroup:r,switchLayoutGroup:O.useContext(yP),isPresent:e,safeToRemove:n})}const jz={borderRadius:{...Za,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Za,borderTopRightRadius:Za,borderBottomLeftRadius:Za,borderBottomRightRadius:Za,boxShadow:Fz};function Bz(t,e,n){const r=Lt(t)?t:oa(t);return r.start(y_("",r,e,n)),r.animation}const zz=(t,e)=>t.depth-e.depth;class $z{constructor(){this.children=[],this.isDirty=!1}add(e){zv(this.children,e),this.isDirty=!0}remove(e){$v(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(zz),this.isDirty=!1,this.children.forEach(e)}}function Hz(t,e){const n=tn.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&($i(r),t(s-e))};return ze.setup(r,!0),()=>$i(r)}const jP=["TopLeft","TopRight","BottomLeft","BottomRight"],Wz=jP.length,p2=t=>typeof t=="string"?parseFloat(t):t,m2=t=>typeof t=="number"||J.test(t);function qz(t,e,n,r,i,s){i?(t.opacity=je(0,n.opacity??1,Kz(r)),t.opacityExit=je(e.opacity??1,0,Gz(r))):s&&(t.opacity=je(e.opacity??1,n.opacity??1,r));for(let o=0;o<Wz;o++){const a=`border${jP[o]}Radius`;let l=g2(e,a),u=g2(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||m2(l)===m2(u)?(t[a]=Math.max(je(p2(l),p2(u),r),0),(dr.test(u)||dr.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=je(e.rotate||0,n.rotate||0,r))}function g2(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Kz=BP(0,.5,DA),Gz=BP(.5,.95,In);function BP(t,e,n){return r=>r<t?0:r>e?1:n(Eu(t,e,r))}function y2(t,e){t.min=e.min,t.max=e.max}function yn(t,e){y2(t.x,e.x),y2(t.y,e.y)}function v2(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function _2(t,e,n,r,i){return t-=e,t=Hd(t,1/n,r),i!==void 0&&(t=Hd(t,1/i,r)),t}function Qz(t,e=0,n=1,r=.5,i,s=t,o=t){if(dr.test(e)&&(e=parseFloat(e),e=je(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=je(s.min,s.max,r);t===s&&(a-=e),t.min=_2(t.min,e,n,a,i),t.max=_2(t.max,e,n,a,i)}function w2(t,e,[n,r,i],s,o){Qz(t,e[n],e[r],e[i],e.scale,s,o)}const Yz=["x","scaleX","originX"],Xz=["y","scaleY","originY"];function E2(t,e,n,r){w2(t.x,e,Yz,n?n.x:void 0,r?r.x:void 0),w2(t.y,e,Xz,n?n.y:void 0,r?r.y:void 0)}function x2(t){return t.translate===0&&t.scale===1}function zP(t){return x2(t.x)&&x2(t.y)}function b2(t,e){return t.min===e.min&&t.max===e.max}function Jz(t,e){return b2(t.x,e.x)&&b2(t.y,e.y)}function T2(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function $P(t,e){return T2(t.x,e.x)&&T2(t.y,e.y)}function S2(t){return Ht(t.x)/Ht(t.y)}function k2(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Zz{constructor(){this.members=[]}add(e){zv(this.members,e),e.scheduleRender()}remove(e){if($v(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function e$(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:c,rotateX:d,rotateY:f,skewX:m,skewY:y}=n;u&&(r=`perspective(${u}px) ${r}`),c&&(r+=`rotate(${c}deg) `),d&&(r+=`rotateX(${d}deg) `),f&&(r+=`rotateY(${f}deg) `),m&&(r+=`skewX(${m}deg) `),y&&(r+=`skewY(${y}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const fm=["","X","Y","Z"],t$={visibility:"hidden"},n$=1e3;let r$=0;function pm(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function HP(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=kP(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ze,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&HP(r)}function WP({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=r$++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(o$),this.nodes.forEach(h$),this.nodes.forEach(d$),this.nodes.forEach(a$)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new $z)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new qv),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=hP(o)&&!rB(o),this.instance=o;const{layoutId:a,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let c;const d=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,c&&c(),c=Hz(d,250),zh.hasAnimatedSinceResize&&(zh.hasAnimatedSinceResize=!1,this.nodes.forEach(C2))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||l)&&this.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d,hasRelativeLayoutChanged:f,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||u.getDefaultTransition()||y$,{onLayoutAnimationStart:_,onLayoutAnimationComplete:E}=u.getProps(),w=!this.targetLayout||!$P(this.targetLayout,m),b=!d&&f;if(this.options.layoutRoot||this.resumeFrom||b||d&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const T={...s_(y,"layout"),onPlay:_,onComplete:E};(u.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T),this.setAnimationOrigin(c,b)}else d||C2(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),$i(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(f$),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&HP(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const d=this.path[c];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(I2);return}this.isUpdating||this.nodes.forEach(u$),this.isUpdating=!1,this.nodes.forEach(c$),this.nodes.forEach(i$),this.nodes.forEach(s$),this.clearAllSnapshots();const a=tn.now();yt.delta=$r(0,1e3/60,a-yt.timestamp),yt.timestamp=a,yt.isProcessing=!0,im.update.process(yt),im.preRender.process(yt),im.render.process(yt),yt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,a_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(l$),this.sharedNodes.forEach(p$)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ze.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ze.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ht(this.snapshot.measuredBox.x)&&!Ht(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Qe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!zP(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&this.instance&&(a||cs(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),v$(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return Qe();const a=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(_$))){const{scroll:c}=this.root;c&&(Co(a.x,c.offset.x),Co(a.y,c.offset.y))}return a}removeElementScroll(o){var l;const a=Qe();if(yn(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let u=0;u<this.path.length;u++){const c=this.path[u],{scroll:d,options:f}=c;c!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&yn(a,o),Co(a.x,d.offset.x),Co(a.y,d.offset.y))}return a}applyTransform(o,a=!1){const l=Qe();yn(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Ao(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),cs(c.latestValues)&&Ao(l,c.latestValues)}return cs(this.latestValues)&&Ao(l,this.latestValues),l}removeTransform(o){const a=Qe();yn(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!cs(u.latestValues))continue;vy(u.latestValues)&&u.updateSnapshot();const c=Qe(),d=u.measurePageBox();yn(c,d),E2(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return cs(this.latestValues)&&E2(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==yt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var f;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:c,layoutId:d}=this.options;if(!(!this.layout||!(c||d))){if(this.resolvedRelativeTargetAt=yt.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qe(),this.relativeTargetOrigin=Qe(),Ul(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),yn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Qe(),this.targetWithTransforms=Qe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Ez(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):yn(this.target,this.layout.layoutBox),OP(this.target,this.targetDelta)):yn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qe(),this.relativeTargetOrigin=Qe(),Ul(this.relativeTargetOrigin,this.target,m.target),yn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||vy(this.parent.latestValues)||NP(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var y;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(y=this.parent)!=null&&y.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===yt.timestamp&&(l=!1),l)return;const{layout:u,layoutId:c}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||c))return;yn(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,f=this.treeScale.y;xz(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Qe());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(v2(this.prevProjectionDelta.x,this.projectionDelta.x),v2(this.prevProjectionDelta.y,this.projectionDelta.y)),Fl(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==f||!k2(this.projectionDelta.x,this.prevProjectionDelta.x)||!k2(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Io(),this.projectionDelta=Io(),this.projectionDeltaWithTransform=Io()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},d=Io();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=Qe(),m=l?l.source:void 0,y=this.layout?this.layout.source:void 0,_=m!==y,E=this.getStack(),w=!E||E.members.length<=1,b=!!(_&&!w&&this.options.crossfade===!0&&!this.path.some(g$));this.animationProgress=0;let T;this.mixTargetDelta=R=>{const D=R/1e3;A2(d.x,o.x,D),A2(d.y,o.y,D),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ul(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),m$(this.relativeTarget,this.relativeTargetOrigin,f,D),T&&Jz(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=Qe()),yn(T,this.relativeTarget)),_&&(this.animationValues=c,qz(c,u,this.latestValues,D,b,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,u;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(u=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||u.stop(),this.pendingAnimation&&($i(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ze.update(()=>{zh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=oa(0)),this.currentAnimation=Bz(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),o.onUpdate&&o.onUpdate(c)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(n$),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&qP(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Qe();const d=Ht(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const f=Ht(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}yn(a,l),Ao(a,c),Fl(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Zz),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&pm("z",o,u,this.animationValues);for(let c=0;c<fm.length;c++)pm(`rotate${fm[c]}`,o,u,this.animationValues),pm(`skew${fm[c]}`,o,u,this.animationValues);o.render();for(const c in u)o.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return t$;const a={visibility:""},l=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,a.opacity="",a.pointerEvents=Bh(o==null?void 0:o.pointerEvents)||"",a.transform=l?l(this.latestValues,""):"none",a;const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=Bh(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!cs(this.latestValues)&&(m.transform=l?l({},""):"none",this.hasProjected=!1),m}const c=u.animationValues||u.latestValues;this.applyTransformsToTarget(),a.transform=e$(this.projectionDeltaWithTransform,this.treeScale,c),l&&(a.transform=l(c,a.transform));const{x:d,y:f}=this.projectionDelta;a.transformOrigin=`${d.origin*100}% ${f.origin*100}% 0`,u.animationValues?a.opacity=u===this?c.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:c.opacityExit:a.opacity=u===this?c.opacity!==void 0?c.opacity:"":c.opacityExit!==void 0?c.opacityExit:0;for(const m in Su){if(c[m]===void 0)continue;const{correct:y,applyTo:_,isCSSVariable:E}=Su[m],w=a.transform==="none"?c[m]:y(c[m],u);if(_){const b=_.length;for(let T=0;T<b;T++)a[_[T]]=w}else E?this.options.visualElement.renderState.vars[m]=w:a[m]=w}return this.options.layoutId&&(a.pointerEvents=u===this?Bh(o==null?void 0:o.pointerEvents)||"":"none"),a}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(I2),this.root.sharedNodes.clear()}}}function i$(t){t.updateLayout()}function s$(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?_n(d=>{const f=o?e.measuredBox[d]:e.layoutBox[d],m=Ht(f);f.min=r[d].min,f.max=f.min+m}):qP(s,e.layoutBox,r)&&_n(d=>{const f=o?e.measuredBox[d]:e.layoutBox[d],m=Ht(r[d]);f.max=f.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+m)});const a=Io();Fl(a,r,e.layoutBox);const l=Io();o?Fl(l,t.applyTransform(i,!0),e.measuredBox):Fl(l,r,e.layoutBox);const u=!zP(a);let c=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:m}=d;if(f&&m){const y=Qe();Ul(y,e.layoutBox,f.layoutBox);const _=Qe();Ul(_,r,m.layoutBox),$P(y,_)||(c=!0),d.options.layoutRoot&&(t.relativeTarget=_,t.relativeTargetOrigin=y,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:c})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function o$(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function a$(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function l$(t){t.clearSnapshot()}function I2(t){t.clearMeasurements()}function u$(t){t.isLayoutDirty=!1}function c$(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function C2(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function h$(t){t.resolveTargetDelta()}function d$(t){t.calcProjection()}function f$(t){t.resetSkewAndRotation()}function p$(t){t.removeLeadSnapshot()}function A2(t,e,n){t.translate=je(e.translate,0,n),t.scale=je(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function P2(t,e,n,r){t.min=je(e.min,n.min,r),t.max=je(e.max,n.max,r)}function m$(t,e,n,r){P2(t.x,e.x,n.x,r),P2(t.y,e.y,n.y,r)}function g$(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const y$={duration:.45,ease:[.4,0,.1,1]},R2=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),D2=R2("applewebkit/")&&!R2("chrome/")?Math.round:In;function N2(t){t.min=D2(t.min),t.max=D2(t.max)}function v$(t){N2(t.x),N2(t.y)}function qP(t,e,n){return t==="position"||t==="preserve-aspect"&&!wz(S2(e),S2(n),.2)}function _$(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const w$=WP({attachResizeListener:(t,e)=>Iu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),mm={current:void 0},KP=WP({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!mm.current){const t=new w$({});t.mount(window),t.setOptions({layoutScroll:!0}),mm.current=t}return mm.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),E$={pan:{Feature:Vz},drag:{Feature:Lz,ProjectionNode:KP,MeasureLayout:UP}};function O2(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&ze.postRender(()=>s(e,rc(e)))}class x$ extends Ji{mount(){const{current:e}=this.node;e&&(this.unmount=Jj(e,(n,r)=>(O2(this.node,r,"Start"),i=>O2(this.node,i,"End"))))}unmount(){}}class b$ extends Ji{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ec(Iu(this.node.current,"focus",()=>this.onFocus()),Iu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function M2(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&ze.postRender(()=>s(e,rc(e)))}class T$ extends Ji{mount(){const{current:e}=this.node;e&&(this.unmount=nB(e,(n,r)=>(M2(this.node,r,"Start"),(i,{success:s})=>M2(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ey=new WeakMap,gm=new WeakMap,S$=t=>{const e=Ey.get(t.target);e&&e(t)},k$=t=>{t.forEach(S$)};function I$({root:t,...e}){const n=t||document;gm.has(n)||gm.set(n,{});const r=gm.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(k$,{root:t,...e})),r[i]}function C$(t,e,n){const r=I$(e);return Ey.set(t,n),r.observe(t),()=>{Ey.delete(t),r.unobserve(t)}}const A$={some:0,all:1};class P$ extends Ji{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:A$[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:d}=this.node.getProps(),f=u?c:d;f&&f(l)};return C$(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(R$(e,n))&&this.startObserver()}unmount(){}}function R$({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const D$={inView:{Feature:P$},tap:{Feature:T$},focus:{Feature:b$},hover:{Feature:x$}},N$={layout:{ProjectionNode:KP,MeasureLayout:UP}},xy={current:null},GP={current:!1};function O$(){if(GP.current=!0,!!jv)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>xy.current=t.matches;t.addListener(e),e()}else xy.current=!1}const M$=new WeakMap;function L$(t,e,n){for(const r in e){const i=e[r],s=n[r];if(Lt(i))t.addValue(r,i);else if(Lt(s))t.addValue(r,oa(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,oa(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const L2=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class V${scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=i_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=tn.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,ze.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=qf(n),this.isVariantNode=mP(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in d){const m=d[f];l[f]!==void 0&&Lt(m)&&m.set(l[f],!1)}}mount(e){this.current=e,M$.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),GP.current||O$(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:xy.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),$i(this.notifyUpdate),$i(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Sa.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&ze.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in aa){const n=aa[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Qe()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<L2.length;r++){const i=L2[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=L$(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=oa(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(xA(r)||TA(r))?r=parseFloat(r):!sB(r)&&Hi.test(n)&&(r=oP(e,n)),this.setBaseTarget(e,Lt(r)?r.get():r)),Lt(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=m_(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Lt(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new qv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class QP extends V${constructor(){super(...arguments),this.KeyframeResolver=Kj}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Lt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function YP(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}function F$(t){return window.getComputedStyle(t)}class U$ extends QP{constructor(){super(...arguments),this.type="html",this.renderInstance=YP}readValueFromInstance(e,n){var r;if(Sa.has(n))return(r=this.projection)!=null&&r.isProjecting?uy(n):dj(e,n);{const i=F$(e),s=(Qv(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return MP(e,n)}build(e,n,r){d_(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return g_(e,n,r)}}const XP=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function j$(t,e,n,r){YP(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(XP.has(i)?i:h_(i),e.attrs[i])}class B$ extends QP{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Qe}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Sa.has(n)){const r=sP(n);return r&&r.default||0}return n=XP.has(n)?n:h_(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return SP(e,n,r)}build(e,n,r){EP(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){j$(e,n,r,i)}mount(e){this.isSVGTag=bP(e.tagName),super.mount(e)}}const z$=(t,e)=>p_(t)?new B$(e):new U$(e,{allowProjection:t!==O.Fragment}),$$=jB({...dz,...D$,...E$,...N$},z$),ri=hB($$),H$=()=>{const t=qr(),{orderId:e}=t.state||{},[n,r]=O.useState(""),[i,s]=O.useState(""),[o,a]=O.useState(0),[l,u]=O.useState(!1),c=async y=>{y.preventDefault(),n&&i&&(await G9({name:n,quote:i,rating:o,title:"Valued Customer"}),u(!0))},d=y=>{a(y)},f={hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1,transition:{delayChildren:.3,staggerChildren:.2}}},m={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}};return g.createElement("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100 dark:bg-gray-900 text-center p-4"},g.createElement(ri.div,{variants:f,initial:"hidden",animate:"visible",className:"bg-white dark:bg-gray-800 p-8 rounded-2xl shadow-2xl max-w-lg w-full"},g.createElement(ri.div,{variants:m},g.createElement(YO,{className:"text-green-500 text-6xl mx-auto mb-6"})),g.createElement(ri.h1,{variants:m,className:"text-3xl font-bold text-gray-900 dark:text-white mb-2"},"Order Successful!"),g.createElement(ri.p,{variants:m,className:"text-gray-600 dark:text-gray-300 mb-6"},"Thank you for your purchase."),e&&g.createElement(ri.p,{variants:m,className:"text-sm text-gray-500 dark:text-gray-400"},"Your Order ID is: ",g.createElement("span",{className:"font-semibold text-gray-700 dark:text-gray-200 bg-gray-100 dark:bg-gray-700 p-1 rounded"},e)),l?g.createElement(ri.div,{variants:m,className:"mt-8 text-lg text-green-600 dark:text-green-400 font-semibold"},"Thank you for your valuable feedback!"):g.createElement(ri.div,{variants:m,className:"mt-8 border-t pt-6 dark:border-gray-700"},g.createElement("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200 mb-4"},"Share Your Feedback!"),g.createElement("form",{onSubmit:c,className:"flex flex-col gap-4"},g.createElement(eA,{count:5,onChange:d,size:32,isHalf:!0,emptyIcon:g.createElement("i",{className:"far fa-star"}),halfIcon:g.createElement("i",{className:"fa fa-star-half-alt"}),fullIcon:g.createElement("i",{className:"fa fa-star"}),activeColor:"#ffd700"}),g.createElement("input",{type:"text",placeholder:"Your Name",value:n,onChange:y=>r(y.target.value),className:"w-full p-3 border rounded-lg bg-gray-50 dark:bg-gray-700 dark:border-gray-600 focus:ring-2 focus:ring-blue-500 transition",required:!0}),g.createElement("textarea",{placeholder:"Your feedback...",value:i,onChange:y=>s(y.target.value),className:"w-full p-3 border rounded-lg bg-gray-50 dark:bg-gray-700 dark:border-gray-600 h-28 focus:ring-2 focus:ring-blue-500 transition",required:!0}),g.createElement("button",{type:"submit",className:"w-full px-6 py-3 bg-blue-600 text-white font-bold rounded-lg hover:bg-blue-700 transition-colors transform hover:scale-105"},"Submit Feedback"))),g.createElement(ri.div,{variants:m,className:"mt-8"},g.createElement(gk,{to:"/",className:"text-blue-600 dark:text-blue-400 hover:underline"},"Continue Shopping"))))};function W$(t,e){const{searchTerm:n="",status:r="",game:i="",paymentMethod:s=""}=e;if(!n&&!r&&!i&&!s)return t;const o=n.toLowerCase();return t.filter(a=>{const l=!r||a.status===r,u=!i||a.game===i,c=!s||a.paymentMethod===s;return(!o||a.id&&String(a.id).toLowerCase().includes(o)||a.playerId&&String(a.playerId).toLowerCase().includes(o)||a.phone&&String(a.phone).toLowerCase().includes(o)||a.game&&a.game.toLowerCase().includes(o)||a.package&&a.package.toLowerCase().includes(o))&&l&&u&&c})}const q$=({orders:t,onStatusChange:e,onDeleteClick:n,onRowClick:r})=>g.createElement("table",{className:"min-w-full bg-white dark:bg-gray-800 rounded shadow overflow-hidden"},g.createElement("thead",null,g.createElement("tr",{className:"bg-gray-100 dark:bg-gray-700"},g.createElement("th",{className:"px-4 py-3 text-left"},"Order ID"),g.createElement("th",{className:"px-4 py-3 text-left"},"Game"),g.createElement("th",{className:"px-4 py-3 text-left"},"Package"),g.createElement("th",{className:"px-4 py-3 text-left"},"Player ID"),g.createElement("th",{className:"px-4 py-3 text-left"},"Phone"),g.createElement("th",{className:"px-4 py-3 text-left"},"Payment"),g.createElement("th",{className:"px-4 py-3 text-left"},"Status"),g.createElement("th",{className:"px-4 py-3 text-center"},"Actions"))),g.createElement("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600"},t.map(i=>g.createElement("tr",{key:i.firestoreId,onClick:()=>r(i),className:"hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer"},g.createElement("td",{className:"px-4 py-2 font-mono"},i.id),g.createElement("td",{className:"px-4 py-2"},i.game),g.createElement("td",{className:"px-4 py-2"},i.package),g.createElement("td",{className:"px-4 py-2"},i.playerId),g.createElement("td",{className:"px-4 py-2"},i.phone),g.createElement("td",{className:"px-4 py-2"},i.paymentMethod),g.createElement("td",{className:"px-4 py-2"},g.createElement("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${i.status==="Completed"?"bg-green-100 text-green-800":i.status==="Awaiting Confirmation"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`},i.status)),g.createElement("td",{className:"px-4 py-2 text-center",onClick:s=>s.stopPropagation()},i.status==="Completed"?g.createElement("span",{className:"text-sm font-semibold text-green-600 dark:text-green-400"},"Done"):g.createElement(g.Fragment,null,g.createElement("button",{className:"px-2 py-1 bg-green-500 text-white rounded mr-2 text-xs hover:bg-green-600 transition",onClick:s=>{s.stopPropagation(),e(i.firestoreId,"Completed")}},"Complete"),g.createElement("button",{className:"px-2 py-1 bg-yellow-500 text-white rounded text-xs hover:bg-yellow-600 transition",onClick:s=>{s.stopPropagation(),e(i.firestoreId,"Pending Payment")},disabled:i.status==="Pending Payment"},"Pending")),g.createElement("button",{className:"px-2 py-1 bg-red-600 text-white rounded text-xs hover:bg-red-700 transition ml-2",onClick:s=>{s.stopPropagation(),n(i)}},"Delete")))))),K$=({order:t,onClose:e})=>t?g.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",onClick:e},g.createElement("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl p-8 max-w-lg w-full transform transition-all",onClick:n=>n.stopPropagation()},g.createElement("div",{className:"flex justify-between items-center mb-4 border-b pb-3 dark:border-gray-600"},g.createElement("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white"},"Order Details"),g.createElement("button",{onClick:e,className:"text-gray-500 hover:text-gray-800 dark:hover:text-white"},"")),g.createElement("div",{className:"space-y-4"},g.createElement("div",{className:"grid grid-cols-3 gap-4"},g.createElement("strong",{className:"text-gray-600 dark:text-gray-300"},"Order ID:"),g.createElement("span",{className:"col-span-2 font-mono"},t.id)),g.createElement("div",{className:"grid grid-cols-3 gap-4"},g.createElement("strong",{className:"text-gray-600 dark:text-gray-300"},"Customer:"),g.createElement("span",{className:"col-span-2"},t.name," (",t.email,")")),g.createElement("div",{className:"grid grid-cols-3 gap-4"},g.createElement("strong",{className:"text-gray-600 dark:text-gray-300"},"Game:"),g.createElement("span",{className:"col-span-2"},t.game," - ",t.package)),g.createElement("div",{className:"grid grid-cols-3 gap-4"},g.createElement("strong",{className:"text-gray-600 dark:text-gray-300"},"Player ID:"),g.createElement("span",{className:"col-span-2"},t.playerId)),g.createElement("div",{className:"grid grid-cols-3 gap-4"},g.createElement("strong",{className:"text-gray-600 dark:text-gray-300"},"Contact Phone:"),g.createElement("span",{className:"col-span-2"},t.phone)),g.createElement("div",{className:"grid grid-cols-3 gap-4"},g.createElement("strong",{className:"text-gray-600 dark:text-gray-300"},"Price:"),g.createElement("span",{className:"col-span-2"},"EGP ",t.price.toFixed(2))),g.createElement("div",{className:"grid grid-cols-3 gap-4"},g.createElement("strong",{className:"text-gray-600 dark:text-gray-300"},"Payment Method:"),g.createElement("span",{className:"col-span-2"},t.paymentMethod)),g.createElement("div",{className:"grid grid-cols-3 gap-4"},g.createElement("strong",{className:"text-gray-600 dark:text-gray-300"},"Status:"),g.createElement("span",{className:"col-span-2"},t.status)),g.createElement("div",{className:"grid grid-cols-3 gap-4"},g.createElement("strong",{className:"text-gray-600 dark:text-gray-300"},"Date:"),g.createElement("span",{className:"col-span-2"},new Date(t.createdAt).toLocaleString()))),g.createElement("button",{onClick:e,className:"mt-6 w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700"},"Close"))):null,G$=({message:t,onClose:e})=>(O.useEffect(()=>{const n=setTimeout(()=>{e()},5e3);return()=>clearTimeout(n)},[e]),g.createElement("div",{className:"fixed top-5 right-5 bg-green-500 text-white py-2 px-4 rounded-lg shadow-lg animate-bounce"},g.createElement("div",{className:"flex justify-between items-center"},g.createElement("span",null,t),g.createElement("button",{onClick:e,className:"ml-4 text-white font-bold"},"")))),Q$=()=>{const t=Kr(),e="flex items-center px-4 py-2 text-gray-700 dark:text-gray-200 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700",n="flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg",r=async()=>{try{await a8(Vd),t("/login")}catch(i){console.error("Logout failed:",i)}};return g.createElement("div",{className:"w-48 h-screen bg-white dark:bg-gray-800 shadow-md fixed top-0 left-0 flex flex-col"},g.createElement("div",null,g.createElement("div",{className:"p-4"},g.createElement("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white"},"Genius Store"),g.createElement("p",{className:"text-sm text-gray-500 dark:text-gray-400"},"Admin Panel")),g.createElement("nav",{className:"p-4"},g.createElement("ul",null,g.createElement("li",null,g.createElement("a",{href:"/dashboard",className:n},g.createElement("svg",{className:"w-5 h-5 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 10h18M3 14h18m-9-4v8m-7 0h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})),"Dashboard"))))),g.createElement("div",{className:"mt-auto p-4"},g.createElement("button",{onClick:r,className:`${e} w-full`},g.createElement("svg",{className:"w-5 h-5 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})),"Log Out")))};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function ic(t){return t+.5|0}const wi=(t,e,n)=>Math.max(Math.min(t,n),e);function gl(t){return wi(ic(t*2.55),0,255)}function Vi(t){return wi(ic(t*255),0,255)}function Ir(t){return wi(ic(t/2.55)/100,0,1)}function V2(t){return wi(ic(t*100),0,100)}const vn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},by=[..."0123456789ABCDEF"],Y$=t=>by[t&15],X$=t=>by[(t&240)>>4]+by[t&15],Xc=t=>(t&240)>>4===(t&15),J$=t=>Xc(t.r)&&Xc(t.g)&&Xc(t.b)&&Xc(t.a);function Z$(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&vn[t[1]]*17,g:255&vn[t[2]]*17,b:255&vn[t[3]]*17,a:e===5?vn[t[4]]*17:255}:(e===7||e===9)&&(n={r:vn[t[1]]<<4|vn[t[2]],g:vn[t[3]]<<4|vn[t[4]],b:vn[t[5]]<<4|vn[t[6]],a:e===9?vn[t[7]]<<4|vn[t[8]]:255})),n}const eH=(t,e)=>t<255?e(t):"";function tH(t){var e=J$(t)?Y$:X$;return t?"#"+e(t.r)+e(t.g)+e(t.b)+eH(t.a,e):void 0}const nH=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function JP(t,e,n){const r=e*Math.min(n,1-n),i=(s,o=(s+t/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function rH(t,e,n){const r=(i,s=(i+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function iH(t,e,n){const r=JP(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)r[i]*=1-e-n,r[i]+=e;return r}function sH(t,e,n,r,i){return t===i?(e-n)/r+(e<n?6:0):e===i?(n-t)/r+2:(t-e)/r+4}function v_(t){const n=t.r/255,r=t.g/255,i=t.b/255,s=Math.max(n,r,i),o=Math.min(n,r,i),a=(s+o)/2;let l,u,c;return s!==o&&(c=s-o,u=a>.5?c/(2-s-o):c/(s+o),l=sH(n,r,i,c,s),l=l*60+.5),[l|0,u||0,a]}function __(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(Vi)}function w_(t,e,n){return __(JP,t,e,n)}function oH(t,e,n){return __(iH,t,e,n)}function aH(t,e,n){return __(rH,t,e,n)}function ZP(t){return(t%360+360)%360}function lH(t){const e=nH.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?gl(+e[5]):Vi(+e[5]));const i=ZP(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?r=oH(i,s,o):e[1]==="hsv"?r=aH(i,s,o):r=w_(i,s,o),{r:r[0],g:r[1],b:r[2],a:n}}function uH(t,e){var n=v_(t);n[0]=ZP(n[0]+e),n=w_(n),t.r=n[0],t.g=n[1],t.b=n[2]}function cH(t){if(!t)return;const e=v_(t),n=e[0],r=V2(e[1]),i=V2(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${i}%, ${Ir(t.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const F2={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},U2={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function hH(){const t={},e=Object.keys(U2),n=Object.keys(F2);let r,i,s,o,a;for(r=0;r<e.length;r++){for(o=a=e[r],i=0;i<n.length;i++)s=n[i],a=a.replace(s,F2[s]);s=parseInt(U2[o],16),t[a]=[s>>16&255,s>>8&255,s&255]}return t}let Jc;function dH(t){Jc||(Jc=hH(),Jc.transparent=[0,0,0,0]);const e=Jc[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const fH=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function pH(t){const e=fH.exec(t);let n=255,r,i,s;if(e){if(e[7]!==r){const o=+e[7];n=e[8]?gl(o):wi(o*255,0,255)}return r=+e[1],i=+e[3],s=+e[5],r=255&(e[2]?gl(r):wi(r,0,255)),i=255&(e[4]?gl(i):wi(i,0,255)),s=255&(e[6]?gl(s):wi(s,0,255)),{r,g:i,b:s,a:n}}}function mH(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Ir(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const ym=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,oo=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function gH(t,e,n){const r=oo(Ir(t.r)),i=oo(Ir(t.g)),s=oo(Ir(t.b));return{r:Vi(ym(r+n*(oo(Ir(e.r))-r))),g:Vi(ym(i+n*(oo(Ir(e.g))-i))),b:Vi(ym(s+n*(oo(Ir(e.b))-s))),a:t.a+n*(e.a-t.a)}}function Zc(t,e,n){if(t){let r=v_(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=w_(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function eR(t,e){return t&&Object.assign(e||{},t)}function j2(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Vi(t[3]))):(e=eR(t,{r:0,g:0,b:0,a:1}),e.a=Vi(e.a)),e}function yH(t){return t.charAt(0)==="r"?pH(t):lH(t)}class Cu{constructor(e){if(e instanceof Cu)return e;const n=typeof e;let r;n==="object"?r=j2(e):n==="string"&&(r=Z$(e)||dH(e)||yH(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=eR(this._rgb);return e&&(e.a=Ir(e.a)),e}set rgb(e){this._rgb=j2(e)}rgbString(){return this._valid?mH(this._rgb):void 0}hexString(){return this._valid?tH(this._rgb):void 0}hslString(){return this._valid?cH(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,i=e.rgb;let s;const o=n===s?.5:n,a=2*o-1,l=r.a-i.a,u=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-u,r.r=255&u*r.r+s*i.r+.5,r.g=255&u*r.g+s*i.g+.5,r.b=255&u*r.b+s*i.b+.5,r.a=o*r.a+(1-o)*i.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=gH(this._rgb,e._rgb,n)),this}clone(){return new Cu(this.rgb)}alpha(e){return this._rgb.a=Vi(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=ic(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Zc(this._rgb,2,e),this}darken(e){return Zc(this._rgb,2,-e),this}saturate(e){return Zc(this._rgb,1,e),this}desaturate(e){return Zc(this._rgb,1,-e),this}rotate(e){return uH(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Er(){}const vH=(()=>{let t=0;return()=>t++})();function Ae(t){return t==null}function dt(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Ee(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Pn(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Yn(t,e){return Pn(t)?t:e}function me(t,e){return typeof t>"u"?e:t}const _H=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Oe(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function be(t,e,n,r){let i,s,o;if(dt(t))for(s=t.length,i=0;i<s;i++)e.call(n,t[i],i);else if(Ee(t))for(o=Object.keys(t),s=o.length,i=0;i<s;i++)e.call(n,t[o[i]],o[i])}function Wd(t,e){let n,r,i,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(i=t[n],s=e[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function qd(t){if(dt(t))return t.map(qd);if(Ee(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let i=0;for(;i<r;++i)e[n[i]]=qd(t[n[i]]);return e}return t}function tR(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function wH(t,e,n,r){if(!tR(t))return;const i=e[t],s=n[t];Ee(i)&&Ee(s)?Au(i,s,r):e[t]=qd(s)}function Au(t,e,n){const r=dt(e)?e:[e],i=r.length;if(!Ee(t))return t;n=n||{};const s=n.merger||wH;let o;for(let a=0;a<i;++a){if(o=r[a],!Ee(o))continue;const l=Object.keys(o);for(let u=0,c=l.length;u<c;++u)s(l[u],t,o,n)}return t}function jl(t,e){return Au(t,e,{merger:EH})}function EH(t,e,n){if(!tR(t))return;const r=e[t],i=n[t];Ee(r)&&Ee(i)?jl(r,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=qd(i))}const B2={"":t=>t,x:t=>t.x,y:t=>t.y};function xH(t){const e=t.split("."),n=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function bH(t){const e=xH(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function Kd(t,e){return(B2[e]||(B2[e]=bH(e)))(t)}function E_(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Gd=t=>typeof t<"u",Wi=t=>typeof t=="function",z2=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function TH(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const pt=Math.PI,fr=2*pt,SH=fr+pt,Qd=Number.POSITIVE_INFINITY,kH=pt/180,Bn=pt/2,is=pt/4,$2=pt*2/3,nR=Math.log10,la=Math.sign;function Bl(t,e,n){return Math.abs(t-e)<n}function H2(t){const e=Math.round(t);t=Bl(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(nR(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function IH(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((i,s)=>i-s).pop(),e}function CH(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Pu(t){return!CH(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function AH(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function PH(t,e,n){let r,i,s;for(r=0,i=t.length;r<i;r++)s=t[r][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function ws(t){return t*(pt/180)}function RH(t){return t*(180/pt)}function W2(t){if(!Pn(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function DH(t,e){const n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*pt&&(s+=fr),{angle:s,distance:i}}function Ty(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function NH(t,e){return(t-e+SH)%fr-pt}function oi(t){return(t%fr+fr)%fr}function rR(t,e,n,r){const i=oi(t),s=oi(e),o=oi(n),a=oi(s-i),l=oi(o-i),u=oi(i-s),c=oi(i-o);return i===s||i===o||r&&s===o||a>l&&u<c}function Tn(t,e,n){return Math.max(e,Math.min(n,t))}function OH(t){return Tn(t,-32768,32767)}function yl(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function x_(t,e,n){n=n||(o=>t[o]<e);let r=t.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,n(s)?i=s:r=s;return{lo:i,hi:r}}const Es=(t,e,n,r)=>x_(t,n,r?i=>{const s=t[i][e];return s<n||s===n&&t[i+1][e]===n}:i=>t[i][e]<n),MH=(t,e,n)=>x_(t,n,r=>t[r][e]>=n);function LH(t,e,n){let r=0,i=t.length;for(;r<i&&t[r]<e;)r++;for(;i>r&&t[i-1]>n;)i--;return r>0||i<t.length?t.slice(r,i):t}const iR=["push","pop","shift","splice","unshift"];function VH(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),iR.forEach(n=>{const r="_onData"+E_(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const o=i.apply(this,s);return t._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...s)}),o}})})}function q2(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(iR.forEach(s=>{delete t[s]}),delete t._chartjs)}function FH(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const sR=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function oR(t,e){let n=[],r=!1;return function(...i){n=i,r||(r=!0,sR.call(window,()=>{r=!1,t.apply(e,n)}))}}function UH(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const b_=t=>t==="start"?"left":t==="end"?"right":"center",Dt=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,jH=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function BH(t,e,n){const r=e.length;let i=0,s=r;if(t._sorted){const{iScale:o,vScale:a,_parsed:l}=t,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,c=o.axis,{min:d,max:f,minDefined:m,maxDefined:y}=o.getUserBounds();if(m){if(i=Math.min(Es(l,c,d).lo,n?r:Es(e,c,o.getPixelForValue(d)).lo),u){const _=l.slice(0,i+1).reverse().findIndex(E=>!Ae(E[a.axis]));i-=Math.max(0,_)}i=Tn(i,0,r-1)}if(y){let _=Math.max(Es(l,o.axis,f,!0).hi+1,n?0:Es(e,c,o.getPixelForValue(f),!0).hi+1);if(u){const E=l.slice(_-1).findIndex(w=>!Ae(w[a.axis]));_+=Math.max(0,E)}s=Tn(_,i,r)-i}else s=r-i}return{start:i,count:s}}function zH(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=i,!0;const s=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),s}const eh=t=>t===0||t===1,K2=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*fr/n)),G2=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*fr/n)+1,zl={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Bn)+1,easeOutSine:t=>Math.sin(t*Bn),easeInOutSine:t=>-.5*(Math.cos(pt*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>eh(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>eh(t)?t:K2(t,.075,.3),easeOutElastic:t=>eh(t)?t:G2(t,.075,.3),easeInOutElastic(t){return eh(t)?t:t<.5?.5*K2(t*2,.1125,.45):.5+.5*G2(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-zl.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?zl.easeInBounce(t*2)*.5:zl.easeOutBounce(t*2-1)*.5+.5};function T_(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Q2(t){return T_(t)?t:new Cu(t)}function vm(t){return T_(t)?t:new Cu(t).saturate(.5).darken(.1).hexString()}const $H=["x","y","borderWidth","radius","tension"],HH=["color","borderColor","backgroundColor"];function WH(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:HH},numbers:{type:"number",properties:$H}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function qH(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Y2=new Map;function KH(t,e){e=e||{};const n=t+JSON.stringify(e);let r=Y2.get(n);return r||(r=new Intl.NumberFormat(t,e),Y2.set(n,r)),r}function aR(t,e,n){return KH(e,n).format(t)}const GH={values(t){return dt(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let i,s=t;if(n.length>1){const u=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(u<1e-4||u>1e15)&&(i="scientific"),s=QH(t,n)}const o=nR(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),aR(t,r,l)}};function QH(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var lR={formatters:GH};function YH(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:lR.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Bs=Object.create(null),Sy=Object.create(null);function $l(t,e){if(!e)return t;const n=e.split(".");for(let r=0,i=n.length;r<i;++r){const s=n[r];t=t[s]||(t[s]=Object.create(null))}return t}function _m(t,e,n){return typeof e=="string"?Au($l(t,e),n):Au($l(t,""),e)}class XH{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>vm(i.backgroundColor),this.hoverBorderColor=(r,i)=>vm(i.borderColor),this.hoverColor=(r,i)=>vm(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return _m(this,e,n)}get(e){return $l(this,e)}describe(e,n){return _m(Sy,e,n)}override(e,n){return _m(Bs,e,n)}route(e,n,r,i){const s=$l(this,e),o=$l(this,r),a="_"+n;Object.defineProperties(s,{[a]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],u=o[i];return Ee(l)?Object.assign({},u,l):me(l,u)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var Je=new XH({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[WH,qH,YH]);function JH(t){return!t||Ae(t.size)||Ae(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function X2(t,e,n,r,i){let s=e[i];return s||(s=e[i]=t.measureText(i).width,n.push(i)),s>r&&(r=s),r}function ss(t,e,n){const r=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*r)/r+i}function J2(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function ky(t,e,n,r){uR(t,e,n,r,null)}function uR(t,e,n,r,i){let s,o,a,l,u,c,d,f;const m=e.pointStyle,y=e.rotation,_=e.radius;let E=(y||0)*kH;if(m&&typeof m=="object"&&(s=m.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(E),t.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),t.restore();return}if(!(isNaN(_)||_<=0)){switch(t.beginPath(),m){default:i?t.ellipse(n,r,i/2,_,0,0,fr):t.arc(n,r,_,0,fr),t.closePath();break;case"triangle":c=i?i/2:_,t.moveTo(n+Math.sin(E)*c,r-Math.cos(E)*_),E+=$2,t.lineTo(n+Math.sin(E)*c,r-Math.cos(E)*_),E+=$2,t.lineTo(n+Math.sin(E)*c,r-Math.cos(E)*_),t.closePath();break;case"rectRounded":u=_*.516,l=_-u,o=Math.cos(E+is)*l,d=Math.cos(E+is)*(i?i/2-u:l),a=Math.sin(E+is)*l,f=Math.sin(E+is)*(i?i/2-u:l),t.arc(n-d,r-a,u,E-pt,E-Bn),t.arc(n+f,r-o,u,E-Bn,E),t.arc(n+d,r+a,u,E,E+Bn),t.arc(n-f,r+o,u,E+Bn,E+pt),t.closePath();break;case"rect":if(!y){l=Math.SQRT1_2*_,c=i?i/2:l,t.rect(n-c,r-l,2*c,2*l);break}E+=is;case"rectRot":d=Math.cos(E)*(i?i/2:_),o=Math.cos(E)*_,a=Math.sin(E)*_,f=Math.sin(E)*(i?i/2:_),t.moveTo(n-d,r-a),t.lineTo(n+f,r-o),t.lineTo(n+d,r+a),t.lineTo(n-f,r+o),t.closePath();break;case"crossRot":E+=is;case"cross":d=Math.cos(E)*(i?i/2:_),o=Math.cos(E)*_,a=Math.sin(E)*_,f=Math.sin(E)*(i?i/2:_),t.moveTo(n-d,r-a),t.lineTo(n+d,r+a),t.moveTo(n+f,r-o),t.lineTo(n-f,r+o);break;case"star":d=Math.cos(E)*(i?i/2:_),o=Math.cos(E)*_,a=Math.sin(E)*_,f=Math.sin(E)*(i?i/2:_),t.moveTo(n-d,r-a),t.lineTo(n+d,r+a),t.moveTo(n+f,r-o),t.lineTo(n-f,r+o),E+=is,d=Math.cos(E)*(i?i/2:_),o=Math.cos(E)*_,a=Math.sin(E)*_,f=Math.sin(E)*(i?i/2:_),t.moveTo(n-d,r-a),t.lineTo(n+d,r+a),t.moveTo(n+f,r-o),t.lineTo(n-f,r+o);break;case"line":o=i?i/2:Math.cos(E)*_,a=Math.sin(E)*_,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(E)*(i?i/2:_),r+Math.sin(E)*_);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Ru(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function S_(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function k_(t){t.restore()}function ZH(t,e,n,r,i){if(!e)return t.lineTo(n.x,n.y);if(i==="middle"){const s=(e.x+n.x)/2;t.lineTo(s,e.y),t.lineTo(s,n.y)}else i==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function eW(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function tW(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Ae(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function nW(t,e,n,r,i){if(i.strikethrough||i.underline){const s=t.measureText(r),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,u=n+s.actualBoundingBoxDescent,c=i.strikethrough?(l+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(o,c),t.lineTo(a,c),t.stroke()}}function rW(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Du(t,e,n,r,i,s={}){const o=dt(e)?e:[e],a=s.strokeWidth>0&&s.strokeColor!=="";let l,u;for(t.save(),t.font=i.string,tW(t,s),l=0;l<o.length;++l)u=o[l],s.backdrop&&rW(t,s.backdrop),a&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),Ae(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(u,n,r,s.maxWidth)),t.fillText(u,n,r,s.maxWidth),nW(t,n,r,u,s),r+=Number(i.lineHeight);t.restore()}function Iy(t,e){const{x:n,y:r,w:i,h:s,radius:o}=e;t.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*pt,pt,!0),t.lineTo(n,r+s-o.bottomLeft),t.arc(n+o.bottomLeft,r+s-o.bottomLeft,o.bottomLeft,pt,Bn,!0),t.lineTo(n+i-o.bottomRight,r+s),t.arc(n+i-o.bottomRight,r+s-o.bottomRight,o.bottomRight,Bn,0,!0),t.lineTo(n+i,r+o.topRight),t.arc(n+i-o.topRight,r+o.topRight,o.topRight,0,-Bn,!0),t.lineTo(n+o.topLeft,r)}const iW=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,sW=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function oW(t,e){const n=(""+t).match(iW);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const aW=t=>+t||0;function cR(t,e){const n={},r=Ee(e),i=r?Object.keys(e):e,s=Ee(t)?r?o=>me(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of i)n[o]=aW(s(o));return n}function lW(t){return cR(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Hl(t){return cR(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Rn(t){const e=lW(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Vt(t,e){t=t||{},e=e||Je.font;let n=me(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=me(t.style,e.style);r&&!(""+r).match(sW)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:me(t.family,e.family),lineHeight:oW(me(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:me(t.weight,e.weight),string:""};return i.string=JH(i),i}function th(t,e,n,r){let i,s,o;for(i=0,s=t.length;i<s;++i)if(o=t[i],o!==void 0&&o!==void 0)return o}function uW(t,e,n){const{min:r,max:i}=t,s=_H(e,(i-r)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(r,-Math.abs(s)),max:o(i,s)}}function Xs(t,e){return Object.assign(Object.create(t),e)}function I_(t,e=[""],n,r,i=()=>t[0]){const s=n||t;typeof r>"u"&&(r=pR("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:r,_getTarget:i,override:a=>I_([a,...t],e,s,r)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return dR(a,l,()=>yW(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return eb(a).includes(l)},ownKeys(a){return eb(a)},set(a,l,u){const c=a._storage||(a._storage=i());return a[l]=c[l]=u,delete a._keys,!0}})}function ua(t,e,n,r){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:hR(t,r),setContext:s=>ua(t,s,n,r),override:s=>ua(t.override(s),e,n,r)};return new Proxy(i,{deleteProperty(s,o){return delete s[o],delete t[o],!0},get(s,o,a){return dR(s,o,()=>hW(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(s,o,a){return t[o]=a,delete s[o],!0}})}function hR(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:r,isScriptable:Wi(n)?n:()=>n,isIndexable:Wi(r)?r:()=>r}}const cW=(t,e)=>t?t+E_(e):e,C_=(t,e)=>Ee(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function dR(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function hW(t,e,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:o}=t;let a=r[e];return Wi(a)&&o.isScriptable(e)&&(a=dW(e,a,t,n)),dt(a)&&a.length&&(a=fW(e,a,t,o.isIndexable)),C_(e,a)&&(a=ua(a,i,s&&s[e],o)),a}function dW(t,e,n,r){const{_proxy:i,_context:s,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(s,o||r);return a.delete(t),C_(t,l)&&(l=A_(i._scopes,i,t,l)),l}function fW(t,e,n,r){const{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=n;if(typeof s.index<"u"&&r(t))return e[s.index%e.length];if(Ee(e[0])){const l=e,u=i._scopes.filter(c=>c!==l);e=[];for(const c of l){const d=A_(u,i,t,c);e.push(ua(d,s,o&&o[t],a))}}return e}function fR(t,e,n){return Wi(t)?t(e,n):t}const pW=(t,e)=>t===!0?e:typeof t=="string"?Kd(e,t):void 0;function mW(t,e,n,r,i){for(const s of e){const o=pW(n,s);if(o){t.add(o);const a=fR(o._fallback,n,i);if(typeof a<"u"&&a!==n&&a!==r)return a}else if(o===!1&&typeof r<"u"&&n!==r)return null}return!1}function A_(t,e,n,r){const i=e._rootScopes,s=fR(e._fallback,n,r),o=[...t,...i],a=new Set;a.add(r);let l=Z2(a,o,n,s||n,r);return l===null||typeof s<"u"&&s!==n&&(l=Z2(a,o,s,l,r),l===null)?!1:I_(Array.from(a),[""],i,s,()=>gW(e,n,r))}function Z2(t,e,n,r,i){for(;n;)n=mW(t,e,n,r,i);return n}function gW(t,e,n){const r=t._getTarget();e in r||(r[e]={});const i=r[e];return dt(i)&&Ee(n)?n:i||{}}function yW(t,e,n,r){let i;for(const s of e)if(i=pR(cW(s,t),n),typeof i<"u")return C_(t,i)?A_(n,r,t,i):i}function pR(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function eb(t){let e=t._keys;return e||(e=t._keys=vW(t._scopes)),e}function vW(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}const _W=Number.EPSILON||1e-14,ca=(t,e)=>e<t.length&&!t[e].skip&&t[e],mR=t=>t==="x"?"y":"x";function wW(t,e,n,r){const i=t.skip?e:t,s=e,o=n.skip?e:n,a=Ty(s,i),l=Ty(o,s);let u=a/(a+l),c=l/(a+l);u=isNaN(u)?0:u,c=isNaN(c)?0:c;const d=r*u,f=r*c;return{previous:{x:s.x-d*(o.x-i.x),y:s.y-d*(o.y-i.y)},next:{x:s.x+f*(o.x-i.x),y:s.y+f*(o.y-i.y)}}}function EW(t,e,n){const r=t.length;let i,s,o,a,l,u=ca(t,0);for(let c=0;c<r-1;++c)if(l=u,u=ca(t,c+1),!(!l||!u)){if(Bl(e[c],0,_W)){n[c]=n[c+1]=0;continue}i=n[c]/e[c],s=n[c+1]/e[c],a=Math.pow(i,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),n[c]=i*o*e[c],n[c+1]=s*o*e[c])}}function xW(t,e,n="x"){const r=mR(n),i=t.length;let s,o,a,l=ca(t,0);for(let u=0;u<i;++u){if(o=a,a=l,l=ca(t,u+1),!a)continue;const c=a[n],d=a[r];o&&(s=(c-o[n])/3,a[`cp1${n}`]=c-s,a[`cp1${r}`]=d-s*e[u]),l&&(s=(l[n]-c)/3,a[`cp2${n}`]=c+s,a[`cp2${r}`]=d+s*e[u])}}function bW(t,e="x"){const n=mR(e),r=t.length,i=Array(r).fill(0),s=Array(r);let o,a,l,u=ca(t,0);for(o=0;o<r;++o)if(a=l,l=u,u=ca(t,o+1),!!l){if(u){const c=u[e]-l[e];i[o]=c!==0?(u[n]-l[n])/c:0}s[o]=a?u?la(i[o-1])!==la(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}EW(t,i,s),xW(t,s,e)}function nh(t,e,n){return Math.max(Math.min(t,n),e)}function TW(t,e){let n,r,i,s,o,a=Ru(t[0],e);for(n=0,r=t.length;n<r;++n)o=s,s=a,a=n<r-1&&Ru(t[n+1],e),s&&(i=t[n],o&&(i.cp1x=nh(i.cp1x,e.left,e.right),i.cp1y=nh(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=nh(i.cp2x,e.left,e.right),i.cp2y=nh(i.cp2y,e.top,e.bottom)))}function SW(t,e,n,r,i){let s,o,a,l;if(e.spanGaps&&(t=t.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")bW(t,i);else{let u=r?t[t.length-1]:t[0];for(s=0,o=t.length;s<o;++s)a=t[s],l=wW(u,a,t[Math.min(s+1,o-(r?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,u=a}e.capBezierPoints&&TW(t,n)}function P_(){return typeof window<"u"&&typeof document<"u"}function R_(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Yd(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const Kf=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function kW(t,e){return Kf(t).getPropertyValue(e)}const IW=["top","right","bottom","left"];function As(t,e,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=IW[i];r[s]=parseFloat(t[e+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const CW=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function AW(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:i,offsetY:s}=r;let o=!1,a,l;if(CW(i,s,t.target))a=i,l=s;else{const u=e.getBoundingClientRect();a=r.clientX-u.left,l=r.clientY-u.top,o=!0}return{x:a,y:l,box:o}}function hs(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,i=Kf(n),s=i.boxSizing==="border-box",o=As(i,"padding"),a=As(i,"border","width"),{x:l,y:u,box:c}=AW(t,n),d=o.left+(c&&a.left),f=o.top+(c&&a.top);let{width:m,height:y}=e;return s&&(m-=o.width+a.width,y-=o.height+a.height),{x:Math.round((l-d)/m*n.width/r),y:Math.round((u-f)/y*n.height/r)}}function PW(t,e,n){let r,i;if(e===void 0||n===void 0){const s=t&&R_(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{const o=s.getBoundingClientRect(),a=Kf(s),l=As(a,"border","width"),u=As(a,"padding");e=o.width-u.width-l.width,n=o.height-u.height-l.height,r=Yd(a.maxWidth,s,"clientWidth"),i=Yd(a.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:r||Qd,maxHeight:i||Qd}}const rh=t=>Math.round(t*10)/10;function RW(t,e,n,r){const i=Kf(t),s=As(i,"margin"),o=Yd(i.maxWidth,t,"clientWidth")||Qd,a=Yd(i.maxHeight,t,"clientHeight")||Qd,l=PW(t,e,n);let{width:u,height:c}=l;if(i.boxSizing==="content-box"){const f=As(i,"border","width"),m=As(i,"padding");u-=m.width+f.width,c-=m.height+f.height}return u=Math.max(0,u-s.width),c=Math.max(0,r?u/r:c-s.height),u=rh(Math.min(u,o,l.maxWidth)),c=rh(Math.min(c,a,l.maxHeight)),u&&!c&&(c=rh(u/2)),(e!==void 0||n!==void 0)&&r&&l.height&&c>l.height&&(c=l.height,u=rh(Math.floor(c*r))),{width:u,height:c}}function tb(t,e,n){const r=e||1,i=Math.floor(t.height*r),s=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||o.height!==i||o.width!==s?(t.currentDevicePixelRatio=r,o.height=i,o.width=s,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const DW=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};P_()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function nb(t,e){const n=kW(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function ds(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function NW(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function OW(t,e,n,r){const i={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},o=ds(t,i,n),a=ds(i,s,n),l=ds(s,e,n),u=ds(o,a,n),c=ds(a,l,n);return ds(u,c,n)}const MW=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},LW=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function $o(t,e,n){return t?MW(e,n):LW()}function gR(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function yR(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function vR(t){return t==="angle"?{between:rR,compare:NH,normalize:oi}:{between:yl,compare:(e,n)=>e-n,normalize:e=>e}}function rb({start:t,end:e,count:n,loop:r,style:i}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:i}}function VW(t,e,n){const{property:r,start:i,end:s}=n,{between:o,normalize:a}=vR(r),l=e.length;let{start:u,end:c,loop:d}=t,f,m;if(d){for(u+=l,c+=l,f=0,m=l;f<m&&o(a(e[u%l][r]),i,s);++f)u--,c--;u%=l,c%=l}return c<u&&(c+=l),{start:u,end:c,loop:d,style:t.style}}function FW(t,e,n){if(!n)return[t];const{property:r,start:i,end:s}=n,o=e.length,{compare:a,between:l,normalize:u}=vR(r),{start:c,end:d,loop:f,style:m}=VW(t,e,n),y=[];let _=!1,E=null,w,b,T;const R=()=>l(i,T,w)&&a(i,T)!==0,D=()=>a(s,w)===0||l(s,T,w),M=()=>_||R(),S=()=>!_||D();for(let x=c,I=c;x<=d;++x)b=e[x%o],!b.skip&&(w=u(b[r]),w!==T&&(_=l(w,i,s),E===null&&M()&&(E=a(w,i)===0?x:I),E!==null&&S()&&(y.push(rb({start:E,end:x,loop:f,count:o,style:m})),E=null),I=x,T=w));return E!==null&&y.push(rb({start:E,end:d,loop:f,count:o,style:m})),y}function UW(t,e){const n=[],r=t.segments;for(let i=0;i<r.length;i++){const s=FW(r[i],t.points,e);s.length&&n.push(...s)}return n}function jW(t,e,n,r){let i=0,s=e-1;if(n&&!r)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(s+=i);s>i&&t[s%e].skip;)s--;return s%=e,{start:i,end:s}}function BW(t,e,n,r){const i=t.length,s=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const u=t[l%i];u.skip||u.stop?a.skip||(r=!1,s.push({start:e%i,end:(l-1)%i,loop:r}),e=o=u.stop?l:null):(o=l,a.skip&&(e=l)),a=u}return o!==null&&s.push({start:e%i,end:o%i,loop:r}),s}function zW(t,e){const n=t.points,r=t.options.spanGaps,i=n.length;if(!i)return[];const s=!!t._loop,{start:o,end:a}=jW(n,i,s,r);if(r===!0)return ib(t,[{start:o,end:a,loop:s}],n,e);const l=a<o?a+i:a,u=!!t._fullLoop&&o===0&&a===i-1;return ib(t,BW(n,o,l,u),n,e)}function ib(t,e,n,r){return!r||!r.setContext||!n?e:$W(t,e,n,r)}function $W(t,e,n,r){const i=t._chart.getContext(),s=sb(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,u=[];let c=s,d=e[0].start,f=d;function m(y,_,E,w){const b=a?-1:1;if(y!==_){for(y+=l;n[y%l].skip;)y-=b;for(;n[_%l].skip;)_+=b;y%l!==_%l&&(u.push({start:y%l,end:_%l,loop:E,style:w}),c=w,d=_%l)}}for(const y of e){d=a?d:y.start;let _=n[d%l],E;for(f=d+1;f<=y.end;f++){const w=n[f%l];E=sb(r.setContext(Xs(i,{type:"segment",p0:_,p1:w,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:o}))),HW(E,c)&&m(d,f-1,y.loop,c),_=w,c=E}d<f-1&&m(d,f-1,y.loop,c)}return u}function sb(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function HW(t,e){if(!e)return!1;const n=[],r=function(i,s){return T_(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(t,r)!==JSON.stringify(e,r)}function ih(t,e,n){return t.options.clip?t[n]:e[n]}function WW(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:ih(n,e,"left"),right:ih(n,e,"right"),top:ih(r,e,"top"),bottom:ih(r,e,"bottom")}:e}function qW(t,e){const n=e._clip;if(n.disabled)return!1;const r=WW(e,t.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class KW{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,i){const s=n.listeners[i],o=n.duration;s.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(r-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=sR.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(i.draw(),this._notify(i,r,e,"progress")),s.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var br=new KW;const ob="transparent",GW={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=Q2(t||ob),i=r.valid&&Q2(e||ob);return i&&i.valid?i.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class QW{constructor(e,n,r,i){const s=n[r];i=th([e.to,i,s,e.from]);const o=th([e.from,s,i]);this._active=!0,this._fn=e.fn||GW[e.type||typeof o],this._easing=zl[e.easing]||zl.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,o=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=th([e.to,n,i,e.from]),this._from=th([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,i=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||n<r),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=s;return}l=n/r%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(s,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}}class _R{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!Ee(e))return;const n=Object.keys(Je.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!Ee(s))return;const o={};for(const a of n)o[a]=s[a];(dt(s.properties)&&s.properties||[i]).forEach(a=>{(a===i||!r.has(a))&&r.set(a,o)})})}_animateOptions(e,n){const r=n.options,i=XW(e,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&YW(e.options.$animations,r).then(()=>{e.options=r},()=>{}),s}_createAnimations(e,n){const r=this._properties,i=[],s=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const u=o[l];if(u.charAt(0)==="$")continue;if(u==="options"){i.push(...this._animateOptions(e,n));continue}const c=n[u];let d=s[u];const f=r.get(u);if(d)if(f&&d.active()){d.update(f,c,a);continue}else d.cancel();if(!f||!f.duration){e[u]=c;continue}s[u]=d=new QW(f,e,u,c),i.push(d)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return br.add(this._chart,r),!0}}function YW(t,e){const n=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const s=t[r[i]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function XW(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function ab(t,e){const n=t&&t.options||{},r=n.reverse,i=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:r?s:i,end:r?i:s}}function JW(t,e,n){if(n===!1)return!1;const r=ab(t,n),i=ab(e,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function ZW(t){let e,n,r,i;return Ee(t)?(e=t.top,n=t.right,r=t.bottom,i=t.left):e=n=r=i=t,{top:e,right:n,bottom:r,left:i,disabled:t===!1}}function wR(t,e){const n=[],r=t._getSortedDatasetMetas(e);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function lb(t,e,n,r={}){const i=t.keys,s=r.mode==="single";let o,a,l,u;if(e===null)return;let c=!1;for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===n){if(c=!0,r.all)continue;break}u=t.values[l],Pn(u)&&(s||e===0||la(e)===la(u))&&(e+=u)}return!c&&!r.all?0:e}function eq(t,e){const{iScale:n,vScale:r}=e,i=n.axis==="x"?"x":"y",s=r.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,u,c;for(l=0,u=o.length;l<u;++l)c=o[l],a[l]={[i]:c,[s]:t[c]};return a}function wm(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function tq(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function nq(t){const{min:e,max:n,minDefined:r,maxDefined:i}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function rq(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function ub(t,e,n,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const s=t[i.index];if(n&&s>0||!n&&s<0)return i.index}return null}function cb(t,e){const{chart:n,_cachedMeta:r}=t,i=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=r,l=s.axis,u=o.axis,c=tq(s,o,r),d=e.length;let f;for(let m=0;m<d;++m){const y=e[m],{[l]:_,[u]:E}=y,w=y._stacks||(y._stacks={});f=w[u]=rq(i,c,_),f[a]=E,f._top=ub(f,o,!0,r.type),f._bottom=ub(f,o,!1,r.type);const b=f._visualValues||(f._visualValues={});b[a]=E}}function Em(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function iq(t,e){return Xs(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function sq(t,e,n){return Xs(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function el(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const i of e){const s=i._stacks;if(!s||s[r]===void 0||s[r][n]===void 0)return;delete s[r][n],s[r]._visualValues!==void 0&&s[r]._visualValues[n]!==void 0&&delete s[r]._visualValues[n]}}}const xm=t=>t==="reset"||t==="none",hb=(t,e)=>e?t:Object.assign({},t),oq=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:wR(n,!0),values:null};class Wl{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=wm(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&el(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),i=(d,f,m,y)=>d==="x"?f:d==="r"?y:m,s=n.xAxisID=me(r.xAxisID,Em(e,"x")),o=n.yAxisID=me(r.yAxisID,Em(e,"y")),a=n.rAxisID=me(r.rAxisID,Em(e,"r")),l=n.indexAxis,u=n.iAxisID=i(l,s,o,a),c=n.vAxisID=i(l,o,s,a);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(u),n.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&q2(this._data,this),e._stacked&&el(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(Ee(n)){const i=this._cachedMeta;this._data=eq(n,i)}else if(r!==n){if(r){q2(r,this);const i=this._cachedMeta;el(i),i._parsed=[]}n&&Object.isExtensible(n)&&VH(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=n._stacked;n._stacked=wm(n.vScale,n),n.stack!==r.stack&&(i=!0,el(n),n.stack=r.stack),this._resyncElements(e),(i||s!==n._stacked)&&(cb(this,n._parsed),n._stacked=wm(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:o}=r,a=s.axis;let l=e===0&&n===i.length?!0:r._sorted,u=e>0&&r._parsed[e-1],c,d,f;if(this._parsing===!1)r._parsed=i,r._sorted=!0,f=i;else{dt(i[e])?f=this.parseArrayData(r,i,e,n):Ee(i[e])?f=this.parseObjectData(r,i,e,n):f=this.parsePrimitiveData(r,i,e,n);const m=()=>d[a]===null||u&&d[a]<u[a];for(c=0;c<n;++c)r._parsed[c+e]=d=f[c],l&&(m()&&(l=!1),u=d);r._sorted=l}o&&cb(this,f)}parsePrimitiveData(e,n,r,i){const{iScale:s,vScale:o}=e,a=s.axis,l=o.axis,u=s.getLabels(),c=s===o,d=new Array(i);let f,m,y;for(f=0,m=i;f<m;++f)y=f+r,d[f]={[a]:c||s.parse(u[y],y),[l]:o.parse(n[y],y)};return d}parseArrayData(e,n,r,i){const{xScale:s,yScale:o}=e,a=new Array(i);let l,u,c,d;for(l=0,u=i;l<u;++l)c=l+r,d=n[c],a[l]={x:s.parse(d[0],c),y:o.parse(d[1],c)};return a}parseObjectData(e,n,r,i){const{xScale:s,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,u=new Array(i);let c,d,f,m;for(c=0,d=i;c<d;++c)f=c+r,m=n[f],u[c]={x:s.parse(Kd(m,a),f),y:o.parse(Kd(m,l),f)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const i=this.chart,s=this._cachedMeta,o=n[e.axis],a={keys:wR(i,!0),values:n._stacks[e.axis]._visualValues};return lb(a,o,s.index,{mode:r})}updateRangeFromParsed(e,n,r,i){const s=r[n.axis];let o=s===null?NaN:s;const a=i&&r._stacks[n.axis];i&&a&&(i.values=a,o=lb(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&e===r.iScale,o=i.length,a=this._getOtherScale(e),l=oq(n,r,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:d}=nq(a);let f,m;function y(){m=i[f];const _=m[a.axis];return!Pn(m[e.axis])||c>_||d<_}for(f=0;f<o&&!(!y()&&(this.updateRangeFromParsed(u,e,m,l),s));++f);if(s){for(f=o-1;f>=0;--f)if(!y()){this.updateRangeFromParsed(u,e,m,l);break}}return u}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let i,s,o;for(i=0,s=n.length;i<s;++i)o=n[i][e.axis],Pn(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,i=n.vScale,s=this.getParsed(e);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=ZW(me(this.options.clip,JW(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],s=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||i.length-a,u=this.options.drawActiveElementsOnTop;let c;for(r.dataset&&r.dataset.draw(e,s,a,l),c=a;c<a+l;++c){const d=i[c];d.hidden||(d.active&&u?o.push(d):d.draw(e,s))}for(c=0;c<o.length;++c)o[c].draw(e,s)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const i=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=sq(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=i.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=iq(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=r,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const i=n==="active",s=this._cachedDataOpts,o=e+"-"+n,a=s[o],l=this.enableOptionSharing&&Gd(r);if(a)return hb(a,l);const u=this.chart.config,c=u.datasetElementScopeKeys(this._type,e),d=i?[`${e}Hover`,"hover",e,""]:[e,""],f=u.getOptionScopes(this.getDataset(),c),m=Object.keys(Je.elements[e]),y=()=>this.getContext(r,i,n),_=u.resolveNamedOptions(f,m,y,d);return _.$shared&&(_.$shared=l,s[o]=Object.freeze(hb(_,l))),_}_resolveAnimations(e,n,r){const i=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,a=s[o];if(a)return a;let l;if(i.options.animation!==!1){const c=this.chart.config,d=c.datasetAnimationScopeKeys(this._type,n),f=c.getOptionScopes(this.getDataset(),d);l=c.createResolver(f,this.getContext(e,r,n))}const u=new _R(i,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||xm(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),i=this._sharedOptions,s=this.getSharedOptions(r),o=this.includeOptions(n,s)||s!==i;return this.updateSharedOptions(s,n,r),{sharedOptions:s,includeOptions:o}}updateElement(e,n,r,i){xm(i)?Object.assign(e,r):this._resolveAnimations(n,i).update(e,r)}updateSharedOptions(e,n,r){e&&!xm(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,i){e.active=i;const s=this.getStyle(n,i);this._resolveAnimations(n,r,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[a,l,u]of this._syncList)this[a](l,u);this._syncList=[];const i=r.length,s=n.length,o=Math.min(s,i);o&&this.parse(0,o),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,n,r=!0){const i=this._cachedMeta,s=i.data,o=e+n;let a;const l=u=>{for(u.length+=n,a=u.length-1;a>=o;a--)u[a]=u[a-n]};for(l(s),a=e;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,n),r&&this.updateElements(s,e,n,"reset")}updateElements(e,n,r,i){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,n);r._stacked&&el(r,i)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,i]=e;this[n](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}X(Wl,"defaults",{}),X(Wl,"datasetElementType",null),X(Wl,"dataElementType",null);class $h extends Wl{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:i=[],_dataset:s}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=BH(n,i,o);this._drawStart=a,this._drawCount=l,zH(n)&&(a=0,l=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=i;const u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(r,void 0,{animated:!o,options:u},e),this.updateElements(i,a,l,e)}updateElements(e,n,r,i){const s=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:u}=this._cachedMeta,{sharedOptions:c,includeOptions:d}=this._getSharedOptions(n,i),f=o.axis,m=a.axis,{spanGaps:y,segment:_}=this.options,E=Pu(y)?y:Number.POSITIVE_INFINITY,w=this.chart._animationsDisabled||s||i==="none",b=n+r,T=e.length;let R=n>0&&this.getParsed(n-1);for(let D=0;D<T;++D){const M=e[D],S=w?M:{};if(D<n||D>=b){S.skip=!0;continue}const x=this.getParsed(D),I=Ae(x[m]),C=S[f]=o.getPixelForValue(x[f],D),A=S[m]=s||I?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,x,l):x[m],D);S.skip=isNaN(C)||isNaN(A)||I,S.stop=D>0&&Math.abs(x[f]-R[f])>E,_&&(S.parsed=x,S.raw=u.data[D]),d&&(S.options=c||this.resolveDataElementOptions(D,M.active?"active":i)),w||this.updateElement(M,D,S,i),R=x}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,i=e.data||[];if(!i.length)return r;const s=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,s,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}X($h,"id","line"),X($h,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),X($h,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function os(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class D_{constructor(e){X(this,"options");this.options=e||{}}static override(e){Object.assign(D_.prototype,e)}init(){}formats(){return os()}parse(){return os()}format(){return os()}add(){return os()}diff(){return os()}startOf(){return os()}endOf(){return os()}}var aq={_date:D_};function lq(t,e,n,r){const{controller:i,data:s,_sorted:o}=t,a=i._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&s.length){const u=a._reversePixels?MH:Es;if(r){if(i._sharedOptions){const c=s[0],d=typeof c.getRange=="function"&&c.getRange(e);if(d){const f=u(s,e,n-d),m=u(s,e,n+d);return{lo:f.lo,hi:m.hi}}}}else{const c=u(s,e,n);if(l){const{vScale:d}=i._cachedMeta,{_parsed:f}=t,m=f.slice(0,c.lo+1).reverse().findIndex(_=>!Ae(_[d.axis]));c.lo-=Math.max(0,m);const y=f.slice(c.hi).findIndex(_=>!Ae(_[d.axis]));c.hi+=Math.max(0,y)}return c}}return{lo:0,hi:s.length-1}}function Gf(t,e,n,r,i){const s=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=s.length;a<l;++a){const{index:u,data:c}=s[a],{lo:d,hi:f}=lq(s[a],e,o,i);for(let m=d;m<=f;++m){const y=c[m];y.skip||r(y,u,m)}}}function uq(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,i){const s=e?Math.abs(r.x-i.x):0,o=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function bm(t,e,n,r,i){const s=[];return!i&&!t.isPointInArea(e)||Gf(t,n,e,function(a,l,u){!i&&!Ru(a,t.chartArea,0)||a.inRange(e.x,e.y,r)&&s.push({element:a,datasetIndex:l,index:u})},!0),s}function cq(t,e,n,r){let i=[];function s(o,a,l){const{startAngle:u,endAngle:c}=o.getProps(["startAngle","endAngle"],r),{angle:d}=DH(o,{x:e.x,y:e.y});rR(d,u,c)&&i.push({element:o,datasetIndex:a,index:l})}return Gf(t,n,e,s),i}function hq(t,e,n,r,i,s){let o=[];const a=uq(n);let l=Number.POSITIVE_INFINITY;function u(c,d,f){const m=c.inRange(e.x,e.y,i);if(r&&!m)return;const y=c.getCenterPoint(i);if(!(!!s||t.isPointInArea(y))&&!m)return;const E=a(e,y);E<l?(o=[{element:c,datasetIndex:d,index:f}],l=E):E===l&&o.push({element:c,datasetIndex:d,index:f})}return Gf(t,n,e,u),o}function Tm(t,e,n,r,i,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!r?cq(t,e,n,i):hq(t,e,n,r,i,s)}function db(t,e,n,r,i){const s=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return Gf(t,n,e,(l,u,c)=>{l[o]&&l[o](e[n],i)&&(s.push({element:l,datasetIndex:u,index:c}),a=a||l.inRange(e.x,e.y,i))}),r&&!a?[]:s}var dq={modes:{index(t,e,n,r){const i=hs(e,t),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?bm(t,i,s,r,o):Tm(t,i,s,!1,r,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(u=>{const c=a[0].index,d=u.data[c];d&&!d.skip&&l.push({element:d,datasetIndex:u.index,index:c})}),l):[]},dataset(t,e,n,r){const i=hs(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?bm(t,i,s,r,o):Tm(t,i,s,!1,r,o);if(a.length>0){const l=a[0].datasetIndex,u=t.getDatasetMeta(l).data;a=[];for(let c=0;c<u.length;++c)a.push({element:u[c],datasetIndex:l,index:c})}return a},point(t,e,n,r){const i=hs(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return bm(t,i,s,r,o)},nearest(t,e,n,r){const i=hs(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return Tm(t,i,s,n.intersect,r,o)},x(t,e,n,r){const i=hs(e,t);return db(t,i,"x",n.intersect,r)},y(t,e,n,r){const i=hs(e,t);return db(t,i,"y",n.intersect,r)}}};const ER=["left","top","right","bottom"];function tl(t,e){return t.filter(n=>n.pos===e)}function fb(t,e){return t.filter(n=>ER.indexOf(n.pos)===-1&&n.box.axis===e)}function nl(t,e){return t.sort((n,r)=>{const i=e?r:n,s=e?n:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function fq(t){const e=[];let n,r,i,s,o,a;for(n=0,r=(t||[]).length;n<r;++n)i=t[n],{position:s,options:{stack:o,stackWeight:a=1}}=i,e.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:a});return e}function pq(t){const e={};for(const n of t){const{stack:r,pos:i,stackWeight:s}=n;if(!r||!ER.includes(i))continue;const o=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function mq(t,e){const n=pq(t),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let s,o,a;for(s=0,o=t.length;s<o;++s){a=t[s];const{fullSize:l}=a.box,u=n[a.stack],c=u&&a.stackWeight/u.weight;a.horizontal?(a.width=c?c*r:l&&e.availableWidth,a.height=i):(a.width=r,a.height=c?c*i:l&&e.availableHeight)}return n}function gq(t){const e=fq(t),n=nl(e.filter(u=>u.box.fullSize),!0),r=nl(tl(e,"left"),!0),i=nl(tl(e,"right")),s=nl(tl(e,"top"),!0),o=nl(tl(e,"bottom")),a=fb(e,"x"),l=fb(e,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:tl(e,"chartArea"),vertical:r.concat(i).concat(l),horizontal:s.concat(o).concat(a)}}function pb(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function xR(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function yq(t,e,n,r){const{pos:i,box:s}=n,o=t.maxPadding;if(!Ee(i)){n.size&&(t[i]-=n.size);const d=r[n.stack]||{size:0,count:1};d.size=Math.max(d.size,n.horizontal?s.height:s.width),n.size=d.size/d.count,t[i]+=n.size}s.getPadding&&xR(o,s.getPadding());const a=Math.max(0,e.outerWidth-pb(o,t,"left","right")),l=Math.max(0,e.outerHeight-pb(o,t,"top","bottom")),u=a!==t.w,c=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:u,other:c}:{same:c,other:u}}function vq(t){const e=t.maxPadding;function n(r){const i=Math.max(e[r]-t[r],0);return t[r]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function _q(t,e){const n=e.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{s[o]=Math.max(e[o],n[o])}),s}return r(t?["left","right"]:["top","bottom"])}function vl(t,e,n,r){const i=[];let s,o,a,l,u,c;for(s=0,o=t.length,u=0;s<o;++s){a=t[s],l=a.box,l.update(a.width||e.w,a.height||e.h,_q(a.horizontal,e));const{same:d,other:f}=yq(e,n,a,r);u|=d&&i.length,c=c||f,l.fullSize||i.push(a)}return u&&vl(i,e,n,r)||c}function sh(t,e,n,r,i){t.top=n,t.left=e,t.right=e+r,t.bottom=n+i,t.width=r,t.height=i}function mb(t,e,n,r){const i=n.padding;let{x:s,y:o}=e;for(const a of t){const l=a.box,u=r[a.stack]||{placed:0,weight:1},c=a.stackWeight/u.weight||1;if(a.horizontal){const d=e.w*c,f=u.size||l.height;Gd(u.start)&&(o=u.start),l.fullSize?sh(l,i.left,o,n.outerWidth-i.right-i.left,f):sh(l,e.left+u.placed,o,d,f),u.start=o,u.placed+=d,o=l.bottom}else{const d=e.h*c,f=u.size||l.width;Gd(u.start)&&(s=u.start),l.fullSize?sh(l,s,i.top,f,n.outerHeight-i.bottom-i.top):sh(l,s,e.top+u.placed,f,d),u.start=s,u.placed+=d,s=l.right}}e.x=s,e.y=o}var Sn={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const i=Rn(t.options.layout.padding),s=Math.max(e-i.width,0),o=Math.max(n-i.height,0),a=gq(t.boxes),l=a.vertical,u=a.horizontal;be(t.boxes,_=>{typeof _.beforeLayout=="function"&&_.beforeLayout()});const c=l.reduce((_,E)=>E.box.options&&E.box.options.display===!1?_:_+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/c,hBoxMaxHeight:o/2}),f=Object.assign({},i);xR(f,Rn(r));const m=Object.assign({maxPadding:f,w:s,h:o,x:i.left,y:i.top},i),y=mq(l.concat(u),d);vl(a.fullSize,m,d,y),vl(l,m,d,y),vl(u,m,d,y)&&vl(l,m,d,y),vq(m),mb(a.leftAndTop,m,d,y),m.x+=m.w,m.y+=m.h,mb(a.rightAndBottom,m,d,y),t.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},be(a.chartArea,_=>{const E=_.box;Object.assign(E,t.chartArea),E.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class bR{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,i){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(e){return!0}updateConfig(e){}}class wq extends bR{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Hh="$chartjs",Eq={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},gb=t=>t===null||t==="";function xq(t,e){const n=t.style,r=t.getAttribute("height"),i=t.getAttribute("width");if(t[Hh]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",gb(i)){const s=nb(t,"width");s!==void 0&&(t.width=s)}if(gb(r))if(t.style.height==="")t.height=t.width/(e||2);else{const s=nb(t,"height");s!==void 0&&(t.height=s)}return t}const TR=DW?{passive:!0}:!1;function bq(t,e,n){t&&t.addEventListener(e,n,TR)}function Tq(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,TR)}function Sq(t,e){const n=Eq[t.type]||t.type,{x:r,y:i}=hs(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:i!==void 0?i:null}}function Xd(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function kq(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||Xd(a.addedNodes,r),o=o&&!Xd(a.removedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function Iq(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||Xd(a.removedNodes,r),o=o&&!Xd(a.addedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const Nu=new Map;let yb=0;function SR(){const t=window.devicePixelRatio;t!==yb&&(yb=t,Nu.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function Cq(t,e){Nu.size||window.addEventListener("resize",SR),Nu.set(t,e)}function Aq(t){Nu.delete(t),Nu.size||window.removeEventListener("resize",SR)}function Pq(t,e,n){const r=t.canvas,i=r&&R_(r);if(!i)return;const s=oR((a,l)=>{const u=i.clientWidth;n(a,l),u<i.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],u=l.contentRect.width,c=l.contentRect.height;u===0&&c===0||s(u,c)});return o.observe(i),Cq(t,s),o}function Sm(t,e,n){n&&n.disconnect(),e==="resize"&&Aq(t)}function Rq(t,e,n){const r=t.canvas,i=oR(s=>{t.ctx!==null&&n(Sq(s,t))},t);return bq(r,e,i),i}class Dq extends bR{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(xq(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[Hh])return!1;const r=n[Hh].initial;["height","width"].forEach(s=>{const o=r[s];Ae(o)?n.removeAttribute(s):n.setAttribute(s,o)});const i=r.style||{};return Object.keys(i).forEach(s=>{n.style[s]=i[s]}),n.width=n.width,delete n[Hh],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),o={attach:kq,detach:Iq,resize:Pq}[n]||Rq;i[n]=o(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),i=r[n];if(!i)return;({attach:Sm,detach:Sm,resize:Sm}[n]||Tq)(e,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,i){return RW(e,n,r,i)}isAttached(e){const n=e&&R_(e);return!!(n&&n.isConnected)}}function Nq(t){return!P_()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?wq:Dq}var dh;let Js=(dh=class{constructor(){X(this,"x");X(this,"y");X(this,"active",!1);X(this,"options");X(this,"$animations")}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return Pu(this.x)&&Pu(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const i={};return e.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}},X(dh,"defaults",{}),X(dh,"defaultRoutes"),dh);function Oq(t,e){const n=t.options.ticks,r=Mq(t),i=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?Vq(e):[],o=s.length,a=s[0],l=s[o-1],u=[];if(o>i)return Fq(e,u,s,o/i),u;const c=Lq(s,e,i);if(o>0){let d,f;const m=o>1?Math.round((l-a)/(o-1)):null;for(oh(e,u,c,Ae(m)?0:a-m,a),d=0,f=o-1;d<f;d++)oh(e,u,c,s[d],s[d+1]);return oh(e,u,c,l,Ae(m)?e.length:l+m),u}return oh(e,u,c),u}function Mq(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(r,i))}function Lq(t,e,n){const r=Uq(t),i=e.length/n;if(!r)return Math.max(i,1);const s=IH(r);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>i)return l}return Math.max(i,1)}function Vq(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function Fq(t,e,n,r){let i=0,s=n[0],o;for(r=Math.ceil(r),o=0;o<t.length;o++)o===s&&(e.push(t[o]),i++,s=n[i*r])}function oh(t,e,n,r,i){const s=me(r,0),o=Math.min(me(i,t.length),t.length);let a=0,l,u,c;for(n=Math.ceil(n),i&&(l=i-r,n=l/Math.floor(l/n)),c=s;c<0;)a++,c=Math.round(s+a*n);for(u=Math.max(s,0);u<o;u++)u===c&&(e.push(t[u]),a++,c=Math.round(s+a*n))}function Uq(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const jq=t=>t==="left"?"right":t==="right"?"left":t,vb=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,_b=(t,e)=>Math.min(e||t,t);function wb(t,e){const n=[],r=t.length/e,i=t.length;let s=0;for(;s<i;s+=r)n.push(t[Math.floor(s)]);return n}function Bq(t,e,n){const r=t.ticks.length,i=Math.min(e,r-1),s=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(i),u;if(!(n&&(r===1?u=Math.max(l-s,o-l):e===0?u=(t.getPixelForTick(1)-l)/2:u=(l-t.getPixelForTick(i-1))/2,l+=i<e?u:-u,l<s-a||l>o+a)))return l}function zq(t,e){be(t,n=>{const r=n.gc,i=r.length/2;let s;if(i>e){for(s=0;s<i;++s)delete n.data[r[s]];r.splice(0,i)}})}function rl(t){return t.drawTicks?t.tickLength:0}function Eb(t,e){if(!t.display)return 0;const n=Vt(t.font,e),r=Rn(t.padding);return(dt(t.text)?t.text.length:1)*n.lineHeight+r.height}function $q(t,e){return Xs(t,{scale:e,type:"scale"})}function Hq(t,e,n){return Xs(t,{tick:n,index:e,type:"tick"})}function Wq(t,e,n){let r=b_(t);return(n&&e!=="right"||!n&&e==="right")&&(r=jq(r)),r}function qq(t,e,n,r){const{top:i,left:s,bottom:o,right:a,chart:l}=t,{chartArea:u,scales:c}=l;let d=0,f,m,y;const _=o-i,E=a-s;if(t.isHorizontal()){if(m=Dt(r,s,a),Ee(n)){const w=Object.keys(n)[0],b=n[w];y=c[w].getPixelForValue(b)+_-e}else n==="center"?y=(u.bottom+u.top)/2+_-e:y=vb(t,n,e);f=a-s}else{if(Ee(n)){const w=Object.keys(n)[0],b=n[w];m=c[w].getPixelForValue(b)-E+e}else n==="center"?m=(u.left+u.right)/2-E+e:m=vb(t,n,e);y=Dt(r,o,i),d=n==="left"?-Bn:Bn}return{titleX:m,titleY:y,maxWidth:f,rotation:d}}class ka extends Js{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return e=Yn(e,Number.POSITIVE_INFINITY),n=Yn(n,Number.NEGATIVE_INFINITY),r=Yn(r,Number.POSITIVE_INFINITY),i=Yn(i,Number.NEGATIVE_INFINITY),{min:Yn(e,r),max:Yn(n,i),minDefined:Pn(e),maxDefined:Pn(n)}}getMinMax(e){let{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),o;if(i&&s)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let l=0,u=a.length;l<u;++l)o=a[l].controller.getMinMax(this,e),i||(n=Math.min(n,o.min)),s||(r=Math.max(r,o.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:Yn(n,Yn(r,n)),max:Yn(r,Yn(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Oe(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:i,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=uW(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?wb(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=Oq(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Oe(this.options.afterUpdate,[this])}beforeSetDimensions(){Oe(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Oe(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Oe(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Oe(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r],s.label=Oe(n.callback,[s.value,r,e],this)}afterTickToLabelConversion(){Oe(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Oe(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=_b(this.ticks.length,e.ticks.maxTicksLimit),i=n.minRotation||0,s=n.maxRotation;let o=i,a,l,u;if(!this._isVisible()||!n.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const c=this._getLabelSizes(),d=c.widest.width,f=c.highest.height,m=Tn(this.chart.width-d,0,this.maxWidth);a=e.offset?this.maxWidth/r:m/(r-1),d+6>a&&(a=m/(r-(e.offset?.5:1)),l=this.maxHeight-rl(e.grid)-n.padding-Eb(e.title,this.chart.options.font),u=Math.sqrt(d*d+f*f),o=RH(Math.min(Math.asin(Tn((c.highest.height+6)/a,-1,1)),Math.asin(Tn(l/u,-1,1))-Math.asin(Tn(f/u,-1,1)))),o=Math.max(i,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){Oe(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Oe(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=Eb(i,n.options.font);if(a?(e.width=this.maxWidth,e.height=rl(s)+l):(e.height=this.maxHeight,e.width=rl(s)+l),r.display&&this.ticks.length){const{first:u,last:c,widest:d,highest:f}=this._getLabelSizes(),m=r.padding*2,y=ws(this.labelRotation),_=Math.cos(y),E=Math.sin(y);if(a){const w=r.mirror?0:E*d.width+_*f.height;e.height=Math.min(this.maxHeight,e.height+w+m)}else{const w=r.mirror?0:_*d.width+E*f.height;e.width=Math.min(this.maxWidth,e.width+w+m)}this._calculatePadding(u,c,E,_)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,i){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,u=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const c=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,m=0;l?u?(f=i*e.width,m=r*n.height):(f=r*e.height,m=i*n.width):s==="start"?m=n.width:s==="end"?f=e.width:s!=="inner"&&(f=e.width/2,m=n.width/2),this.paddingLeft=Math.max((f-c+o)*this.width/(this.width-c),0),this.paddingRight=Math.max((m-d+o)*this.width/(this.width-d),0)}else{let c=n.height/2,d=e.height/2;s==="start"?(c=0,d=e.height):s==="end"&&(c=n.height,d=0),this.paddingTop=c+o,this.paddingBottom=d+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Oe(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)Ae(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=wb(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:i,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(n/_b(n,r));let u=0,c=0,d,f,m,y,_,E,w,b,T,R,D;for(d=0;d<n;d+=l){if(y=e[d].label,_=this._resolveTickFontOptions(d),i.font=E=_.string,w=s[E]=s[E]||{data:{},gc:[]},b=_.lineHeight,T=R=0,!Ae(y)&&!dt(y))T=X2(i,w.data,w.gc,T,y),R=b;else if(dt(y))for(f=0,m=y.length;f<m;++f)D=y[f],!Ae(D)&&!dt(D)&&(T=X2(i,w.data,w.gc,T,D),R+=b);o.push(T),a.push(R),u=Math.max(T,u),c=Math.max(R,c)}zq(s,n);const M=o.indexOf(u),S=a.indexOf(c),x=I=>({width:o[I]||0,height:a[I]||0});return{first:x(0),last:x(n-1),widest:x(M),highest:x(S),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return OH(this._alignToPixels?ss(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=Hq(this.getContext(),e,r))}return this.$context||(this.$context=$q(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=ws(this.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*r>a*i?a/r:l/i:l*i<a*r?l/r:a/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,i=this.options,{grid:s,position:o,border:a}=i,l=s.offset,u=this.isHorizontal(),d=this.ticks.length+(l?1:0),f=rl(s),m=[],y=a.setContext(this.getContext()),_=y.display?y.width:0,E=_/2,w=function(xe){return ss(r,xe,_)};let b,T,R,D,M,S,x,I,C,A,N,P;if(o==="top")b=w(this.bottom),S=this.bottom-f,I=b-E,A=w(e.top)+E,P=e.bottom;else if(o==="bottom")b=w(this.top),A=e.top,P=w(e.bottom)-E,S=b+E,I=this.top+f;else if(o==="left")b=w(this.right),M=this.right-f,x=b-E,C=w(e.left)+E,N=e.right;else if(o==="right")b=w(this.left),C=e.left,N=w(e.right)-E,M=b+E,x=this.left+f;else if(n==="x"){if(o==="center")b=w((e.top+e.bottom)/2+.5);else if(Ee(o)){const xe=Object.keys(o)[0],te=o[xe];b=w(this.chart.scales[xe].getPixelForValue(te))}A=e.top,P=e.bottom,S=b+E,I=S+f}else if(n==="y"){if(o==="center")b=w((e.left+e.right)/2);else if(Ee(o)){const xe=Object.keys(o)[0],te=o[xe];b=w(this.chart.scales[xe].getPixelForValue(te))}M=b-E,x=M-f,C=e.left,N=e.right}const ae=me(i.ticks.maxTicksLimit,d),oe=Math.max(1,Math.ceil(d/ae));for(T=0;T<d;T+=oe){const xe=this.getContext(T),te=s.setContext(xe),j=a.setContext(xe),W=te.lineWidth,K=te.color,de=j.dash||[],se=j.dashOffset,ce=te.tickWidth,Fe=te.tickColor,Ge=te.tickBorderDash||[],Re=te.tickBorderDashOffset;R=Bq(this,T,l),R!==void 0&&(D=ss(r,R,W),u?M=x=C=N=D:S=I=A=P=D,m.push({tx1:M,ty1:S,tx2:x,ty2:I,x1:C,y1:A,x2:N,y2:P,width:W,color:K,borderDash:de,borderDashOffset:se,tickWidth:ce,tickColor:Fe,tickBorderDash:Ge,tickBorderDashOffset:Re}))}return this._ticksLength=d,this._borderValue=b,m}_computeLabelItems(e){const n=this.axis,r=this.options,{position:i,ticks:s}=r,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:u,padding:c,mirror:d}=s,f=rl(r.grid),m=f+c,y=d?-c:m,_=-ws(this.labelRotation),E=[];let w,b,T,R,D,M,S,x,I,C,A,N,P="middle";if(i==="top")M=this.bottom-y,S=this._getXAxisLabelAlignment();else if(i==="bottom")M=this.top+y,S=this._getXAxisLabelAlignment();else if(i==="left"){const oe=this._getYAxisLabelAlignment(f);S=oe.textAlign,D=oe.x}else if(i==="right"){const oe=this._getYAxisLabelAlignment(f);S=oe.textAlign,D=oe.x}else if(n==="x"){if(i==="center")M=(e.top+e.bottom)/2+m;else if(Ee(i)){const oe=Object.keys(i)[0],xe=i[oe];M=this.chart.scales[oe].getPixelForValue(xe)+m}S=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")D=(e.left+e.right)/2-m;else if(Ee(i)){const oe=Object.keys(i)[0],xe=i[oe];D=this.chart.scales[oe].getPixelForValue(xe)}S=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(l==="start"?P="top":l==="end"&&(P="bottom"));const ae=this._getLabelSizes();for(w=0,b=a.length;w<b;++w){T=a[w],R=T.label;const oe=s.setContext(this.getContext(w));x=this.getPixelForTick(w)+s.labelOffset,I=this._resolveTickFontOptions(w),C=I.lineHeight,A=dt(R)?R.length:1;const xe=A/2,te=oe.color,j=oe.textStrokeColor,W=oe.textStrokeWidth;let K=S;o?(D=x,S==="inner"&&(w===b-1?K=this.options.reverse?"left":"right":w===0?K=this.options.reverse?"right":"left":K="center"),i==="top"?u==="near"||_!==0?N=-A*C+C/2:u==="center"?N=-ae.highest.height/2-xe*C+C:N=-ae.highest.height+C/2:u==="near"||_!==0?N=C/2:u==="center"?N=ae.highest.height/2-xe*C:N=ae.highest.height-A*C,d&&(N*=-1),_!==0&&!oe.showLabelBackdrop&&(D+=C/2*Math.sin(_))):(M=x,N=(1-A)*C/2);let de;if(oe.showLabelBackdrop){const se=Rn(oe.backdropPadding),ce=ae.heights[w],Fe=ae.widths[w];let Ge=N-se.top,Re=0-se.left;switch(P){case"middle":Ge-=ce/2;break;case"bottom":Ge-=ce;break}switch(S){case"center":Re-=Fe/2;break;case"right":Re-=Fe;break;case"inner":w===b-1?Re-=Fe:w>0&&(Re-=Fe/2);break}de={left:Re,top:Ge,width:Fe+se.width,height:ce+se.height,color:oe.backdropColor}}E.push({label:R,font:I,textOffset:N,options:{rotation:_,color:te,strokeColor:j,strokeWidth:W,textAlign:K,textBaseline:P,translation:[D,M],backdrop:de}})}return E}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-ws(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,o=this._getLabelSizes(),a=e+s,l=o.widest.width;let u,c;return n==="left"?i?(c=this.right+s,r==="near"?u="left":r==="center"?(u="center",c+=l/2):(u="right",c+=l)):(c=this.right-a,r==="near"?u="right":r==="center"?(u="center",c-=l/2):(u="left",c=this.left)):n==="right"?i?(c=this.left+s,r==="near"?u="right":r==="center"?(u="center",c-=l/2):(u="left",c-=l)):(c=this.left+a,r==="near"?u="left":r==="center"?(u="center",c+=l/2):(u="right",c=this.right)):u="right",{textAlign:u,x:c}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:i,width:s,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,i,s,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const a=(l,u,c)=>{!c.width||!c.color||(r.save(),r.lineWidth=c.width,r.strokeStyle=c.color,r.setLineDash(c.borderDash||[]),r.lineDashOffset=c.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(u.x,u.y),r.stroke(),r.restore())};if(n.display)for(s=0,o=i.length;s<o;++s){const l=i[s];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),o=r.display?s.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let u,c,d,f;this.isHorizontal()?(u=ss(e,this.left,o)-o/2,c=ss(e,this.right,a)+a/2,d=f=l):(d=ss(e,this.top,o)-o/2,f=ss(e,this.bottom,a)+a/2,u=c=l),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(u,d),n.lineTo(c,f),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&S_(r,i);const s=this.getLabelItems(e);for(const o of s){const a=o.options,l=o.font,u=o.label,c=o.textOffset;Du(r,u,0,c,l,a)}i&&k_(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;const s=Vt(r.font),o=Rn(r.padding),a=r.align;let l=s.lineHeight/2;n==="bottom"||n==="center"||Ee(n)?(l+=o.bottom,dt(r.text)&&(l+=s.lineHeight*(r.text.length-1))):l+=o.top;const{titleX:u,titleY:c,maxWidth:d,rotation:f}=qq(this,l,n,a);Du(e,r.text,0,0,s,{color:r.color,maxWidth:d,rotation:f,textAlign:Wq(a,n,i),textBaseline:"middle",translation:[u,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=me(e.grid&&e.grid.z,-1),i=me(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==ka.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,o;for(s=0,o=n.length;s<o;++s){const a=n[s];a[r]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Vt(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class ah{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;Qq(n)&&(r=this.register(n));const i=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,Kq(e,o,r),this.override&&Je.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,i=this.scope;r in n&&delete n[r],i&&r in Je[i]&&(delete Je[i][r],this.override&&delete Bs[r])}}function Kq(t,e,n){const r=Au(Object.create(null),[n?Je.get(n):{},Je.get(e),t.defaults]);Je.set(e,r),t.defaultRoutes&&Gq(e,t.defaultRoutes),t.descriptors&&Je.describe(e,t.descriptors)}function Gq(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),i=r.pop(),s=[t].concat(r).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");Je.route(s,i,l,a)})}function Qq(t){return"id"in t&&"defaults"in t}class Yq{constructor(){this.controllers=new ah(Wl,"datasets",!0),this.elements=new ah(Js,"elements"),this.plugins=new ah(Object,"plugins"),this.scales=new ah(ka,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):be(i,o=>{const a=r||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,r){const i=E_(e);Oe(r["before"+i],[],r),n[e](r),Oe(r["after"+i],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var er=new Yq;class Xq{constructor(){this._init=[]}notify(e,n,r,i){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(s,e,n,r);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,r,i){i=i||{};for(const s of e){const o=s.plugin,a=o[r],l=[n,i,s.options];if(Oe(a,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){Ae(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,i=me(r.options&&r.options.plugins,{}),s=Jq(r);return i===!1&&!n?[]:eK(e,s,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,i=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(i(n,r),e,"stop"),this._notify(i(r,n),e,"start")}}function Jq(t){const e={},n=[],r=Object.keys(er.plugins.items);for(let s=0;s<r.length;s++)n.push(er.getPlugin(r[s]));const i=t.plugins||[];for(let s=0;s<i.length;s++){const o=i[s];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function Zq(t,e){return!e&&t===!1?null:t===!0?{}:t}function eK(t,{plugins:e,localIds:n},r,i){const s=[],o=t.getContext();for(const a of e){const l=a.id,u=Zq(r[l],i);u!==null&&s.push({plugin:a,options:tK(t.config,{plugin:a,local:n[l]},u,o)})}return s}function tK(t,{plugin:e,local:n},r,i){const s=t.pluginScopeKeys(e),o=t.getOptionScopes(r,s);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Cy(t,e){const n=Je.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function nK(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function rK(t,e){return t===e?"_index_":"_value_"}function xb(t){if(t==="x"||t==="y"||t==="r")return t}function iK(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Ay(t,...e){if(xb(t))return t;for(const n of e){const r=n.axis||iK(n.position)||t.length>1&&xb(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function bb(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function sK(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return bb(t,"x",n[0])||bb(t,"y",n[0])}return{}}function oK(t,e){const n=Bs[t.type]||{scales:{}},r=e.scales||{},i=Cy(t.type,e),s=Object.create(null);return Object.keys(r).forEach(o=>{const a=r[o];if(!Ee(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=Ay(o,a,sK(o,t),Je.scales[a.type]),u=rK(l,i),c=n.scales||{};s[o]=jl(Object.create(null),[{axis:l},a,c[l],c[u]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||Cy(a,e),c=(Bs[a]||{}).scales||{};Object.keys(c).forEach(d=>{const f=nK(d,l),m=o[f+"AxisID"]||f;s[m]=s[m]||Object.create(null),jl(s[m],[{axis:f},r[m],c[d]])})}),Object.keys(s).forEach(o=>{const a=s[o];jl(a,[Je.scales[a.type],Je.scale])}),s}function kR(t){const e=t.options||(t.options={});e.plugins=me(e.plugins,{}),e.scales=oK(t,e)}function IR(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function aK(t){return t=t||{},t.data=IR(t.data),kR(t),t}const Tb=new Map,CR=new Set;function lh(t,e){let n=Tb.get(t);return n||(n=e(),Tb.set(t,n),CR.add(n)),n}const il=(t,e,n)=>{const r=Kd(e,n);r!==void 0&&t.add(r)};class lK{constructor(e){this._config=aK(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=IR(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),kR(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return lh(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return lh(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return lh(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return lh(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let i=r.get(e);return(!i||n)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,n,r){const{options:i,type:s}=this,o=this._cachedScopes(e,r),a=o.get(n);if(a)return a;const l=new Set;n.forEach(c=>{e&&(l.add(e),c.forEach(d=>il(l,e,d))),c.forEach(d=>il(l,i,d)),c.forEach(d=>il(l,Bs[s]||{},d)),c.forEach(d=>il(l,Je,d)),c.forEach(d=>il(l,Sy,d))});const u=Array.from(l);return u.length===0&&u.push(Object.create(null)),CR.has(n)&&o.set(n,u),u}chartOptionScopes(){const{options:e,type:n}=this;return[e,Bs[n]||{},Je.datasets[n]||{},{type:n},Je,Sy]}resolveNamedOptions(e,n,r,i=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=Sb(this._resolverCache,e,i);let l=o;if(cK(o,n)){s.$shared=!1,r=Wi(r)?r():r;const u=this.createResolver(e,r,a);l=ua(o,r,u)}for(const u of n)s[u]=l[u];return s}createResolver(e,n,r=[""],i){const{resolver:s}=Sb(this._resolverCache,e,r);return Ee(n)?ua(s,n,void 0,i):s}}function Sb(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const i=n.join();let s=r.get(i);return s||(s={resolver:I_(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},r.set(i,s)),s}const uK=t=>Ee(t)&&Object.getOwnPropertyNames(t).some(e=>Wi(t[e]));function cK(t,e){const{isScriptable:n,isIndexable:r}=hR(t);for(const i of e){const s=n(i),o=r(i),a=(o||s)&&t[i];if(s&&(Wi(a)||uK(a))||o&&dt(a))return!0}return!1}var hK="4.5.0";const dK=["top","bottom","left","right","chartArea"];function kb(t,e){return t==="top"||t==="bottom"||dK.indexOf(t)===-1&&e==="x"}function Ib(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function Cb(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Oe(n&&n.onComplete,[t],e)}function fK(t){const e=t.chart,n=e.options.animation;Oe(n&&n.onProgress,[t],e)}function AR(t){return P_()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Wh={},Ab=t=>{const e=AR(t);return Object.values(Wh).filter(n=>n.canvas===e).pop()};function pK(t,e,n){const r=Object.keys(t);for(const i of r){const s=+i;if(s>=e){const o=t[i];delete t[i],(n>0||s>e)&&(t[s+n]=o)}}}function mK(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}var ii;let Qf=(ii=class{static register(...e){er.add(...e),Pb()}static unregister(...e){er.remove(...e),Pb()}constructor(e,n){const r=this.config=new lK(n),i=AR(e),s=Ab(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||Nq(i)),this.platform.updateConfig(r);const a=this.platform.acquireContext(i,o.aspectRatio),l=a&&a.canvas,u=l&&l.height,c=l&&l.width;if(this.id=vH(),this.ctx=a,this.canvas=l,this.width=c,this.height=u,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Xq,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=UH(d=>this.update(d),o.resizeDelay||0),this._dataChanges=[],Wh[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}br.listen(this,"complete",Cb),br.listen(this,"progress",fK),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:i,_aspectRatio:s}=this;return Ae(e)?n&&s?s:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return er}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():tb(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return J2(this.canvas,this.ctx),this}stop(){return br.stop(this),this}resize(e,n){br.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,n,s),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,tb(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Oe(r.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};be(n,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,i=Object.keys(r).reduce((o,a)=>(o[a]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const a=n[o],l=Ay(o,a),u=l==="r",c=l==="x";return{options:a,dposition:u?"chartArea":c?"bottom":"left",dtype:u?"radialLinear":c?"category":"linear"}}))),be(s,o=>{const a=o.options,l=a.id,u=Ay(l,a),c=me(a.type,o.dtype);(a.position===void 0||kb(a.position,u)!==kb(o.dposition))&&(a.position=o.dposition),i[l]=!0;let d=null;if(l in r&&r[l].type===c)d=r[l];else{const f=er.getScale(c);d=new f({id:l,type:c,ctx:this.ctx,chart:this}),r[d.id]=d}d.init(a,e)}),be(i,(o,a)=>{o||delete r[a]}),be(r,o=>{Sn.configure(this,o,o.options),Sn.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((i,s)=>i.index-s.index),r>n){for(let i=n;i<r;++i)this._destroyDatasetMeta(i);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(Ib("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,i)=>{n.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=n.length;r<i;r++){const s=n[r];let o=this.getDatasetMeta(r);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=a,o.indexAxis=s.indexAxis||Cy(a,this.options),o.order=s.order||0,o.index=r,o.label=""+s.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const l=er.getController(a),{datasetElementType:u,dataElementType:c}=Je.datasets[a];Object.assign(l,{dataElementType:er.getElement(c),datasetElementType:u&&er.getElement(u)}),o.controller=new l(this,r),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){be(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let u=0,c=this.data.datasets.length;u<c;u++){const{controller:d}=this.getDatasetMeta(u),f=!i&&s.indexOf(d)===-1;d.buildOrUpdateElements(f),o=Math.max(+d.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),i||be(s,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Ib("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){be(this.scales,e=>{Sn.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!z2(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of n){const o=r==="_removeElements"?-s:s;pK(e,i,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=s=>new Set(e.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),i=r(0);for(let s=1;s<n;s++)if(!z2(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Sn.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],be(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,Wi(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(br.has(this)?this.attached&&!br.running(this)&&br.start(this):(this.draw(),Cb({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let i,s;for(i=0,s=n.length;i<s;++i){const o=n[i];(!e||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r={meta:e,index:e.index,cancelable:!0},i=qW(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&S_(n,i),e.controller.draw(),i&&k_(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return Ru(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,i){const s=dq.modes[n];return typeof s=="function"?s(this,e,r,i):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let i=r.filter(s=>s&&s._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=Xs(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const i=r?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,i);Gd(n)?(s.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),o.update(s,{visible:r}),this.update(a=>a.datasetIndex===e?i:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),br.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),J2(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Wh[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(s,o)=>{n.addEventListener(this,s,o),e[s]=o},i=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};be(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(l,u)=>{n.addEventListener(this,l,u),e[l]=u},i=(l,u)=>{e[l]&&(n.removeEventListener(this,l,u),delete e[l])},s=(l,u)=>{this.canvas&&this.resize(l,u)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),r("resize",s),r("detach",o)};o=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){be(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},be(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const i=r?"set":"remove";let s,o,a,l;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const u=o&&this.getDatasetMeta(o.datasetIndex).controller;u&&u[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!Wd(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const i=this.options.hover,s=(l,u)=>l.filter(c=>!u.some(d=>c.datasetIndex===d.datasetIndex&&c.index===d.index)),o=s(n,e),a=r?e:s(e,n);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:i=[],options:s}=this,o=n,a=this._getActiveElements(e,i,r,o),l=TH(e),u=mK(e,this._lastEvent,r,l);r&&(this._lastEvent=null,Oe(s.onHover,[e,a,this],this),l&&Oe(s.onClick,[e,a,this],this));const c=!Wd(a,i);return(c||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=u,c}_getActiveElements(e,n,r,i){if(e.type==="mouseout")return[];if(!r)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}},X(ii,"defaults",Je),X(ii,"instances",Wh),X(ii,"overrides",Bs),X(ii,"registry",er),X(ii,"version",hK),X(ii,"getChart",Ab),ii);function Pb(){return be(Qf.instances,t=>t._plugins.invalidate())}function PR(t,e,n=e){t.lineCap=me(n.borderCapStyle,e.borderCapStyle),t.setLineDash(me(n.borderDash,e.borderDash)),t.lineDashOffset=me(n.borderDashOffset,e.borderDashOffset),t.lineJoin=me(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=me(n.borderWidth,e.borderWidth),t.strokeStyle=me(n.borderColor,e.borderColor)}function gK(t,e,n){t.lineTo(n.x,n.y)}function yK(t){return t.stepped?ZH:t.tension||t.cubicInterpolationMode==="monotone"?eW:gK}function RR(t,e,n={}){const r=t.length,{start:i=0,end:s=r-1}=n,{start:o,end:a}=e,l=Math.max(i,o),u=Math.min(s,a),c=i<o&&s<o||i>a&&s>a;return{count:r,start:l,loop:e.loop,ilen:u<l&&!c?r+u-l:u-l}}function vK(t,e,n,r){const{points:i,options:s}=e,{count:o,start:a,loop:l,ilen:u}=RR(i,n,r),c=yK(s);let{move:d=!0,reverse:f}=r||{},m,y,_;for(m=0;m<=u;++m)y=i[(a+(f?u-m:m))%o],!y.skip&&(d?(t.moveTo(y.x,y.y),d=!1):c(t,_,y,f,s.stepped),_=y);return l&&(y=i[(a+(f?u:0))%o],c(t,_,y,f,s.stepped)),!!l}function _K(t,e,n,r){const i=e.points,{count:s,start:o,ilen:a}=RR(i,n,r),{move:l=!0,reverse:u}=r||{};let c=0,d=0,f,m,y,_,E,w;const b=R=>(o+(u?a-R:R))%s,T=()=>{_!==E&&(t.lineTo(c,E),t.lineTo(c,_),t.lineTo(c,w))};for(l&&(m=i[b(0)],t.moveTo(m.x,m.y)),f=0;f<=a;++f){if(m=i[b(f)],m.skip)continue;const R=m.x,D=m.y,M=R|0;M===y?(D<_?_=D:D>E&&(E=D),c=(d*c+R)/++d):(T(),t.lineTo(R,D),y=M,d=0,_=E=D),w=D}T()}function Py(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?_K:vK}function wK(t){return t.stepped?NW:t.tension||t.cubicInterpolationMode==="monotone"?OW:ds}function EK(t,e,n,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,r)&&i.closePath()),PR(t,e.options),t.stroke(i)}function xK(t,e,n,r){const{segments:i,options:s}=e,o=Py(e);for(const a of i)PR(t,s,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const bK=typeof Path2D=="function";function TK(t,e,n,r){bK&&!e.options.segment?EK(t,e,n,r):xK(t,e,n,r)}class _l extends Js{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;SW(this._points,r,e,i,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=zW(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,i=e[n],s=this.points,o=UW(this,{property:n,start:i,end:i});if(!o.length)return;const a=[],l=wK(r);let u,c;for(u=0,c=o.length;u<c;++u){const{start:d,end:f}=o[u],m=s[d],y=s[f];if(m===y){a.push(m);continue}const _=Math.abs((i-m[n])/(y[n]-m[n])),E=l(m,y,_,r.stepped);E[n]=e[n],a.push(E)}return a.length===1?a[0]:a}pathSegment(e,n,r){return Py(this)(e,this,n,r)}path(e,n,r){const i=this.segments,s=Py(this);let o=this._loop;n=n||0,r=r||this.points.length-n;for(const a of i)o&=s(e,this,a,{start:n,end:n+r-1});return!!o}draw(e,n,r,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),TK(e,this,r,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}X(_l,"id","line"),X(_l,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),X(_l,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),X(_l,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function Rb(t,e,n,r){const i=t.options,{[n]:s}=t.getProps([n],r);return Math.abs(e-s)<i.radius+i.hitRadius}class qh extends Js{constructor(n){super();X(this,"parsed");X(this,"skip");X(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,i){const s=this.options,{x:o,y:a}=this.getProps(["x","y"],i);return Math.pow(n-o,2)+Math.pow(r-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(n,r){return Rb(this,n,"x",r)}inYRange(n,r){return Rb(this,n,"y",r)}getCenterPoint(n){const{x:r,y:i}=this.getProps(["x","y"],n);return{x:r,y:i}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const i=r&&n.borderWidth||0;return(r+i)*2}draw(n,r){const i=this.options;this.skip||i.radius<.1||!Ru(this,r,this.size(i)/2)||(n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.fillStyle=i.backgroundColor,ky(n,i,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}X(qh,"id","point"),X(qh,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),X(qh,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const Db=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},SK=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class Nb extends Js{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Oe(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,i=Vt(r.font),s=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=Db(r,s);let u,c;n.font=i.string,this.isHorizontal()?(u=this.maxWidth,c=this._fitRows(o,s,a,l)+10):(c=this.maxHeight,u=this._fitCols(o,i,a,l)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,i){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.lineWidths=[0],c=i+a;let d=e;s.textAlign="left",s.textBaseline="middle";let f=-1,m=-c;return this.legendItems.forEach((y,_)=>{const E=r+n/2+s.measureText(y.text).width;(_===0||u[u.length-1]+E+2*a>o)&&(d+=c,u[u.length-(_>0?0:1)]=0,m+=c,f++),l[_]={left:0,top:m,row:f,width:E,height:i},u[u.length-1]+=E+a}),d}_fitCols(e,n,r,i){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.columnSizes=[],c=o-e;let d=a,f=0,m=0,y=0,_=0;return this.legendItems.forEach((E,w)=>{const{itemWidth:b,itemHeight:T}=kK(r,n,s,E,i);w>0&&m+T+2*a>c&&(d+=f+a,u.push({width:f,height:m}),y+=f+a,_++,f=m=0),l[w]={left:y,top:m,col:_,width:b,height:T},f=Math.max(f,b),m+=T+a}),d+=f,u.push({width:f,height:m}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:i},rtl:s}}=this,o=$o(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=Dt(r,this.left+i,this.right-this.lineWidths[a]);for(const u of n)a!==u.row&&(a=u.row,l=Dt(r,this.left+i,this.right-this.lineWidths[a])),u.top+=this.top+e+i,u.left=o.leftForLtr(o.x(l),u.width),l+=u.width+i}else{let a=0,l=Dt(r,this.top+e+i,this.bottom-this.columnSizes[a].height);for(const u of n)u.col!==a&&(a=u.col,l=Dt(r,this.top+e+i,this.bottom-this.columnSizes[a].height)),u.top=l,u.left+=this.left+i,u.left=o.leftForLtr(o.x(u.left),u.width),l+=u.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;S_(e,this),this._draw(),k_(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:i}=this,{align:s,labels:o}=e,a=Je.color,l=$o(e.rtl,this.left,this.width),u=Vt(o.font),{padding:c}=o,d=u.size,f=d/2;let m;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=u.string;const{boxWidth:y,boxHeight:_,itemHeight:E}=Db(o,d),w=function(M,S,x){if(isNaN(y)||y<=0||isNaN(_)||_<0)return;i.save();const I=me(x.lineWidth,1);if(i.fillStyle=me(x.fillStyle,a),i.lineCap=me(x.lineCap,"butt"),i.lineDashOffset=me(x.lineDashOffset,0),i.lineJoin=me(x.lineJoin,"miter"),i.lineWidth=I,i.strokeStyle=me(x.strokeStyle,a),i.setLineDash(me(x.lineDash,[])),o.usePointStyle){const C={radius:_*Math.SQRT2/2,pointStyle:x.pointStyle,rotation:x.rotation,borderWidth:I},A=l.xPlus(M,y/2),N=S+f;uR(i,C,A,N,o.pointStyleWidth&&y)}else{const C=S+Math.max((d-_)/2,0),A=l.leftForLtr(M,y),N=Hl(x.borderRadius);i.beginPath(),Object.values(N).some(P=>P!==0)?Iy(i,{x:A,y:C,w:y,h:_,radius:N}):i.rect(A,C,y,_),i.fill(),I!==0&&i.stroke()}i.restore()},b=function(M,S,x){Du(i,x.text,M,S+E/2,u,{strikethrough:x.hidden,textAlign:l.textAlign(x.textAlign)})},T=this.isHorizontal(),R=this._computeTitleHeight();T?m={x:Dt(s,this.left+c,this.right-r[0]),y:this.top+c+R,line:0}:m={x:this.left+c,y:Dt(s,this.top+R+c,this.bottom-n[0].height),line:0},gR(this.ctx,e.textDirection);const D=E+c;this.legendItems.forEach((M,S)=>{i.strokeStyle=M.fontColor,i.fillStyle=M.fontColor;const x=i.measureText(M.text).width,I=l.textAlign(M.textAlign||(M.textAlign=o.textAlign)),C=y+f+x;let A=m.x,N=m.y;l.setWidth(this.width),T?S>0&&A+C+c>this.right&&(N=m.y+=D,m.line++,A=m.x=Dt(s,this.left+c,this.right-r[m.line])):S>0&&N+D>this.bottom&&(A=m.x=A+n[m.line].width+c,m.line++,N=m.y=Dt(s,this.top+R+c,this.bottom-n[m.line].height));const P=l.x(A);if(w(P,N,M),A=jH(I,A+y+f,T?A+C:this.right,e.rtl),b(l.x(A),N,M),T)m.x+=C+c;else if(typeof M.text!="string"){const ae=u.lineHeight;m.y+=DR(M,ae)+c}else m.y+=D}),yR(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=Vt(n.font),i=Rn(n.padding);if(!n.display)return;const s=$o(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=r.size/2,u=i.top+l;let c,d=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),c=this.top+u,d=Dt(e.align,d,this.right-f);else{const y=this.columnSizes.reduce((_,E)=>Math.max(_,E.height),0);c=u+Dt(e.align,this.top,this.bottom-y-e.labels.padding-this._computeTitleHeight())}const m=Dt(a,d,d+f);o.textAlign=s.textAlign(b_(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=r.string,Du(o,n.text,m,c,r)}_computeTitleHeight(){const e=this.options.title,n=Vt(e.font),r=Rn(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,i,s;if(yl(e,this.left,this.right)&&yl(n,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],yl(e,i.left,i.left+i.width)&&yl(n,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!AK(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,s=SK(i,r);i&&!s&&Oe(n.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!s&&Oe(n.onHover,[e,r,this],this)}else r&&Oe(n.onClick,[e,r,this],this)}}function kK(t,e,n,r,i){const s=IK(r,t,e,n),o=CK(i,r,e.lineHeight);return{itemWidth:s,itemHeight:o}}function IK(t,e,n,r){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((s,o)=>s.length>o.length?s:o)),e+n.size/2+r.measureText(i).width}function CK(t,e,n){let r=t;return typeof e.text!="string"&&(r=DR(e,n)),r}function DR(t,e){const n=t.text?t.text.length:0;return e*n}function AK(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var PK={id:"legend",_element:Nb,start(t,e,n){const r=t.legend=new Nb({ctx:t.ctx,options:n,chart:t});Sn.configure(t,r,n),Sn.addBox(t,r)},stop(t){Sn.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;Sn.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const u=l.controller.getStyle(n?0:void 0),c=Rn(u.borderWidth);return{text:e[l.index].label,fillStyle:u.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:u.borderColor,pointStyle:r||u.pointStyle,rotation:u.rotation,textAlign:i||u.textAlign,borderRadius:o&&(a||u.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class NR extends Js{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const i=dt(r.text)?r.text.length:1;this._padding=Rn(r.padding);const s=i*Vt(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:i,right:s,options:o}=this,a=o.align;let l=0,u,c,d;return this.isHorizontal()?(c=Dt(a,r,s),d=n+e,u=s-r):(o.position==="left"?(c=r+e,d=Dt(a,i,n),l=pt*-.5):(c=s-e,d=Dt(a,n,i),l=pt*.5),u=i-n),{titleX:c,titleY:d,maxWidth:u,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=Vt(n.font),s=r.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:u}=this._drawArgs(s);Du(e,n.text,0,0,r,{color:n.color,maxWidth:l,rotation:u,textAlign:b_(n.align),textBaseline:"middle",translation:[o,a]})}}function RK(t,e){const n=new NR({ctx:t.ctx,options:e,chart:t});Sn.configure(t,n,e),Sn.addBox(t,n),t.titleBlock=n}var DK={id:"title",_element:NR,start(t,e,n){RK(t,n)},stop(t){const e=t.titleBlock;Sn.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;Sn.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const wl={average(t){if(!t.length)return!1;let e,n,r=new Set,i=0,s=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();r.add(l.x),i+=l.y,++s}}return s===0||r.size===0?!1:{x:[...r].reduce((a,l)=>a+l)/r.size,y:i/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,i=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=t.length;s<o;++s){const l=t[s].element;if(l&&l.hasValue()){const u=l.getCenterPoint(),c=Ty(e,u);c<i&&(i=c,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,r=l.y}return{x:n,y:r}}};function Jn(t,e){return e&&(dt(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Tr(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function NK(t,e){const{element:n,datasetIndex:r,index:i}=e,s=t.getDatasetMeta(r).controller,{label:o,value:a}=s.getLabelAndValue(i);return{chart:t,label:o,parsed:s.getParsed(i),raw:t.data.datasets[r].data[i],formattedValue:a,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function Ob(t,e){const n=t.chart.ctx,{body:r,footer:i,title:s}=t,{boxWidth:o,boxHeight:a}=e,l=Vt(e.bodyFont),u=Vt(e.titleFont),c=Vt(e.footerFont),d=s.length,f=i.length,m=r.length,y=Rn(e.padding);let _=y.height,E=0,w=r.reduce((R,D)=>R+D.before.length+D.lines.length+D.after.length,0);if(w+=t.beforeBody.length+t.afterBody.length,d&&(_+=d*u.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),w){const R=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;_+=m*R+(w-m)*l.lineHeight+(w-1)*e.bodySpacing}f&&(_+=e.footerMarginTop+f*c.lineHeight+(f-1)*e.footerSpacing);let b=0;const T=function(R){E=Math.max(E,n.measureText(R).width+b)};return n.save(),n.font=u.string,be(t.title,T),n.font=l.string,be(t.beforeBody.concat(t.afterBody),T),b=e.displayColors?o+2+e.boxPadding:0,be(r,R=>{be(R.before,T),be(R.lines,T),be(R.after,T)}),b=0,n.font=c.string,be(t.footer,T),n.restore(),E+=y.width,{width:E,height:_}}function OK(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function MK(t,e,n,r){const{x:i,width:s}=r,o=n.caretSize+n.caretPadding;if(t==="left"&&i+s+o>e.width||t==="right"&&i-s-o<0)return!0}function LK(t,e,n,r){const{x:i,width:s}=n,{width:o,chartArea:{left:a,right:l}}=t;let u="center";return r==="center"?u=i<=(a+l)/2?"left":"right":i<=s/2?u="left":i>=o-s/2&&(u="right"),MK(u,t,e,n)&&(u="center"),u}function Mb(t,e,n){const r=n.yAlign||e.yAlign||OK(t,n);return{xAlign:n.xAlign||e.xAlign||LK(t,e,n,r),yAlign:r}}function VK(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function FK(t,e,n){let{y:r,height:i}=t;return e==="top"?r+=n:e==="bottom"?r-=i+n:r-=i/2,r}function Lb(t,e,n,r){const{caretSize:i,caretPadding:s,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,u=i+s,{topLeft:c,topRight:d,bottomLeft:f,bottomRight:m}=Hl(o);let y=VK(e,a);const _=FK(e,l,u);return l==="center"?a==="left"?y+=u:a==="right"&&(y-=u):a==="left"?y-=Math.max(c,f)+i:a==="right"&&(y+=Math.max(d,m)+i),{x:Tn(y,0,r.width-e.width),y:Tn(_,0,r.height-e.height)}}function uh(t,e,n){const r=Rn(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function Vb(t){return Jn([],Tr(t))}function UK(t,e,n){return Xs(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function Fb(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const OR={beforeTitle:Er,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:Er,beforeBody:Er,beforeLabel:Er,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Ae(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Er,afterBody:Er,beforeFooter:Er,footer:Er,afterFooter:Er};function Gt(t,e,n,r){const i=t[e].call(n,r);return typeof i>"u"?OR[e].call(n,r):i}class Ry extends Js{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&n.options.animation&&r.animations,s=new _R(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=UK(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,i=Gt(r,"beforeTitle",this,e),s=Gt(r,"title",this,e),o=Gt(r,"afterTitle",this,e);let a=[];return a=Jn(a,Tr(i)),a=Jn(a,Tr(s)),a=Jn(a,Tr(o)),a}getBeforeBody(e,n){return Vb(Gt(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,i=[];return be(e,s=>{const o={before:[],lines:[],after:[]},a=Fb(r,s);Jn(o.before,Tr(Gt(a,"beforeLabel",this,s))),Jn(o.lines,Gt(a,"label",this,s)),Jn(o.after,Tr(Gt(a,"afterLabel",this,s))),i.push(o)}),i}getAfterBody(e,n){return Vb(Gt(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,i=Gt(r,"beforeFooter",this,e),s=Gt(r,"footer",this,e),o=Gt(r,"afterFooter",this,e);let a=[];return a=Jn(a,Tr(i)),a=Jn(a,Tr(s)),a=Jn(a,Tr(o)),a}_createItems(e){const n=this._active,r=this.chart.data,i=[],s=[],o=[];let a=[],l,u;for(l=0,u=n.length;l<u;++l)a.push(NK(this.chart,n[l]));return e.filter&&(a=a.filter((c,d,f)=>e.filter(c,d,f,r))),e.itemSort&&(a=a.sort((c,d)=>e.itemSort(c,d,r))),be(a,c=>{const d=Fb(e.callbacks,c);i.push(Gt(d,"labelColor",this,c)),s.push(Gt(d,"labelPointStyle",this,c)),o.push(Gt(d,"labelTextColor",this,c))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const r=this.options.setContext(this.getContext()),i=this._active;let s,o=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const a=wl[r.position].call(this,i,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const l=this._size=Ob(this,r),u=Object.assign({},a,l),c=Mb(this.chart,r,u),d=Lb(r,u,c,this.chart);this.xAlign=c.xAlign,this.yAlign=c.yAlign,s={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,i){const s=this.getCaretPosition(e,r,i);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,r){const{xAlign:i,yAlign:s}=this,{caretSize:o,cornerRadius:a}=r,{topLeft:l,topRight:u,bottomLeft:c,bottomRight:d}=Hl(a),{x:f,y:m}=e,{width:y,height:_}=n;let E,w,b,T,R,D;return s==="center"?(R=m+_/2,i==="left"?(E=f,w=E-o,T=R+o,D=R-o):(E=f+y,w=E+o,T=R-o,D=R+o),b=E):(i==="left"?w=f+Math.max(l,c)+o:i==="right"?w=f+y-Math.max(u,d)-o:w=this.caretX,s==="top"?(T=m,R=T-o,E=w-o,b=w+o):(T=m+_,R=T+o,E=w+o,b=w-o),D=T),{x1:E,x2:w,x3:b,y1:T,y2:R,y3:D}}drawTitle(e,n,r){const i=this.title,s=i.length;let o,a,l;if(s){const u=$o(r.rtl,this.x,this.width);for(e.x=uh(this,r.titleAlign,r),n.textAlign=u.textAlign(r.titleAlign),n.textBaseline="middle",o=Vt(r.titleFont),a=r.titleSpacing,n.fillStyle=r.titleColor,n.font=o.string,l=0;l<s;++l)n.fillText(i[l],u.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===s&&(e.y+=r.titleMarginBottom-a)}}_drawColorBox(e,n,r,i,s){const o=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:l,boxWidth:u}=s,c=Vt(s.bodyFont),d=uh(this,"left",s),f=i.x(d),m=l<c.lineHeight?(c.lineHeight-l)/2:0,y=n.y+m;if(s.usePointStyle){const _={radius:Math.min(u,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},E=i.leftForLtr(f,u)+u/2,w=y+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,ky(e,_,E,w),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,ky(e,_,E,w)}else{e.lineWidth=Ee(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const _=i.leftForLtr(f,u),E=i.leftForLtr(i.xPlus(f,1),u-2),w=Hl(o.borderRadius);Object.values(w).some(b=>b!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,Iy(e,{x:_,y,w:u,h:l,radius:w}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Iy(e,{x:E,y:y+1,w:u-2,h:l-2,radius:w}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(_,y,u,l),e.strokeRect(_,y,u,l),e.fillStyle=o.backgroundColor,e.fillRect(E,y+1,u-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:i}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:u,boxPadding:c}=r,d=Vt(r.bodyFont);let f=d.lineHeight,m=0;const y=$o(r.rtl,this.x,this.width),_=function(x){n.fillText(x,y.x(e.x+m),e.y+f/2),e.y+=f+s},E=y.textAlign(o);let w,b,T,R,D,M,S;for(n.textAlign=o,n.textBaseline="middle",n.font=d.string,e.x=uh(this,E,r),n.fillStyle=r.bodyColor,be(this.beforeBody,_),m=a&&E!=="right"?o==="center"?u/2+c:u+2+c:0,R=0,M=i.length;R<M;++R){for(w=i[R],b=this.labelTextColors[R],n.fillStyle=b,be(w.before,_),T=w.lines,a&&T.length&&(this._drawColorBox(n,e,R,y,r),f=Math.max(d.lineHeight,l)),D=0,S=T.length;D<S;++D)_(T[D]),f=d.lineHeight;be(w.after,_)}m=0,f=d.lineHeight,be(this.afterBody,_),e.y-=s}drawFooter(e,n,r){const i=this.footer,s=i.length;let o,a;if(s){const l=$o(r.rtl,this.x,this.width);for(e.x=uh(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",o=Vt(r.footerFont),n.fillStyle=r.footerColor,n.font=o.string,a=0;a<s;++a)n.fillText(i[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+r.footerSpacing}}drawBackground(e,n,r,i){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=e,{width:u,height:c}=r,{topLeft:d,topRight:f,bottomLeft:m,bottomRight:y}=Hl(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(a+d,l),o==="top"&&this.drawCaret(e,n,r,i),n.lineTo(a+u-f,l),n.quadraticCurveTo(a+u,l,a+u,l+f),o==="center"&&s==="right"&&this.drawCaret(e,n,r,i),n.lineTo(a+u,l+c-y),n.quadraticCurveTo(a+u,l+c,a+u-y,l+c),o==="bottom"&&this.drawCaret(e,n,r,i),n.lineTo(a+m,l+c),n.quadraticCurveTo(a,l+c,a,l+c-m),o==="center"&&s==="left"&&this.drawCaret(e,n,r,i),n.lineTo(a,l+d),n.quadraticCurveTo(a,l,a+d,l),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const o=wl[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=Ob(this,e),l=Object.assign({},o,this._size),u=Mb(n,e,l),c=Lb(e,l,u,n);(i._to!==c.x||s._to!==c.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,c))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=Rn(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=r,this.drawBackground(s,e,i,n),gR(e,n.textDirection),s.y+=o.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),yR(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,i=e.map(({datasetIndex:a,index:l})=>{const u=this.chart.getDatasetMeta(a);if(!u)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:u.data[l],index:l}}),s=!Wd(r,i),o=this._positionChanged(i,n);(s||o)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],o=this._getActiveElements(e,s,n,r),a=this._positionChanged(o,e),l=n||!Wd(o,s)||a;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,r,i){const s=this.options;if(e.type==="mouseout")return[];if(!i)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,s.mode,s,r);return s.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:r,caretY:i,options:s}=this,o=wl[s.position].call(this,e,n);return o!==!1&&(r!==o.x||i!==o.y)}}X(Ry,"positioners",wl);var jK={id:"tooltip",_element:Ry,positioners:wl,afterInit(t,e,n){n&&(t.tooltip=new Ry({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:OR},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const BK=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function zK(t,e,n,r){const i=t.indexOf(e);if(i===-1)return BK(t,e,n,r);const s=t.lastIndexOf(e);return i!==s?n:i}const $K=(t,e)=>t===null?null:Tn(Math.round(t),0,e);function Ub(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Dy extends ka{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:i,label:s}of n)r[i]===s&&r.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(Ae(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:zK(r,e,me(n,e),this._addedLabels),$K(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,i=[];let s=this.getLabels();s=e===0&&n===s.length-1?s:s.slice(e,n+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=e;o<=n;o++)i.push({value:o});return i}getLabelForValue(e){return Ub.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}X(Dy,"id","category"),X(Dy,"defaults",{ticks:{callback:Ub}});function HK(t,e){const n=[],{bounds:i,step:s,min:o,max:a,precision:l,count:u,maxTicks:c,maxDigits:d,includeBounds:f}=t,m=s||1,y=c-1,{min:_,max:E}=e,w=!Ae(o),b=!Ae(a),T=!Ae(u),R=(E-_)/(d+1);let D=H2((E-_)/y/m)*m,M,S,x,I;if(D<1e-14&&!w&&!b)return[{value:_},{value:E}];I=Math.ceil(E/D)-Math.floor(_/D),I>y&&(D=H2(I*D/y/m)*m),Ae(l)||(M=Math.pow(10,l),D=Math.ceil(D*M)/M),i==="ticks"?(S=Math.floor(_/D)*D,x=Math.ceil(E/D)*D):(S=_,x=E),w&&b&&s&&AH((a-o)/s,D/1e3)?(I=Math.round(Math.min((a-o)/D,c)),D=(a-o)/I,S=o,x=a):T?(S=w?o:S,x=b?a:x,I=u-1,D=(x-S)/I):(I=(x-S)/D,Bl(I,Math.round(I),D/1e3)?I=Math.round(I):I=Math.ceil(I));const C=Math.max(W2(D),W2(S));M=Math.pow(10,Ae(l)?C:l),S=Math.round(S*M)/M,x=Math.round(x*M)/M;let A=0;for(w&&(f&&S!==o?(n.push({value:o}),S<o&&A++,Bl(Math.round((S+A*D)*M)/M,o,jb(o,R,t))&&A++):S<o&&A++);A<I;++A){const N=Math.round((S+A*D)*M)/M;if(b&&N>a)break;n.push({value:N})}return b&&f&&x!==a?n.length&&Bl(n[n.length-1].value,a,jb(a,R,t))?n[n.length-1].value=a:n.push({value:a}):(!b||x===a)&&n.push({value:x}),n}function jb(t,e,{horizontal:n,minRotation:r}){const i=ws(r),s=(n?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+t).length;return Math.min(e/s,o)}class WK extends ka{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Ae(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const o=l=>i=n?i:l,a=l=>s=r?s:l;if(e){const l=la(i),u=la(s);l<0&&u<0?a(0):l>0&&u>0&&o(0)}if(i===s){let l=s===0?1:Math.abs(s*.05);a(s+l),e||o(i-l)}this.min=i,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=HK(i,s);return e.bounds==="ticks"&&PH(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const i=(r-n)/Math.max(e.length-1,1)/2;n-=i,r+=i}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return aR(e,this.chart.options.locale,this.options.ticks.format)}}class Ny extends WK{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Pn(e)?e:0,this.max=Pn(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=ws(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}X(Ny,"id","linear"),X(Ny,"defaults",{ticks:{callback:lR.formatters.numeric}});const Yf={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Zt=Object.keys(Yf);function Bb(t,e){return t-e}function zb(t,e){if(Ae(e))return null;const n=t._adapter,{parser:r,round:i,isoWeekday:s}=t._parseOpts;let o=e;return typeof r=="function"&&(o=r(o)),Pn(o)||(o=typeof r=="string"?n.parse(o,r):n.parse(o)),o===null?null:(i&&(o=i==="week"&&(Pu(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,i)),+o)}function $b(t,e,n,r){const i=Zt.length;for(let s=Zt.indexOf(t);s<i-1;++s){const o=Yf[Zt[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=r)return Zt[s]}return Zt[i-1]}function qK(t,e,n,r,i){for(let s=Zt.length-1;s>=Zt.indexOf(n);s--){const o=Zt[s];if(Yf[o].common&&t._adapter.diff(i,r,o)>=e-1)return o}return Zt[n?Zt.indexOf(n):0]}function KK(t){for(let e=Zt.indexOf(t)+1,n=Zt.length;e<n;++e)if(Yf[Zt[e]].common)return Zt[e]}function Hb(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:i}=x_(n,e),s=n[r]>=e?n[r]:n[i];t[s]=!0}}function GK(t,e,n,r){const i=t._adapter,s=+i.startOf(e[0].value,r),o=e[e.length-1].value;let a,l;for(a=s;a<=o;a=+i.add(a,1,r))l=n[a],l>=0&&(e[l].major=!0);return e}function Wb(t,e,n){const r=[],i={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],i[a]=o,r.push({value:a,major:!1});return s===0||!n?r:GK(t,r,i,n)}class Jd extends ka{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),i=this._adapter=new aq._date(e.adapters.date);i.init(n),jl(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:zb(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:i,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(u){!o&&!isNaN(u.min)&&(i=Math.min(i,u.min)),!a&&!isNaN(u.max)&&(s=Math.max(s,u.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=Pn(i)&&!isNaN(i)?i:+n.startOf(Date.now(),r),s=Pn(s)&&!isNaN(s)?s:+n.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,o=this.max,a=LH(i,s,o);return this._unit=n.unit||(r.autoSkip?$b(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):qK(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:KK(this._unit),this.initOffsets(i),e.reverse&&a.reverse(),Wb(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,i,s;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?n=1-i:n=(this.getDecimalForValue(e[1])-i)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?r=s:r=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=Tn(n,0,o),r=Tn(r,0,o),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,i=this.options,s=i.time,o=s.unit||$b(s.minUnit,n,r,this._getLabelCapacity(n)),a=me(i.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,u=Pu(l)||l===!0,c={};let d=n,f,m;if(u&&(d=+e.startOf(d,"isoWeek",l)),d=+e.startOf(d,u?"day":o),e.diff(r,n,o)>1e5*a)throw new Error(n+" and "+r+" are too far apart with stepSize of "+a+" "+o);const y=i.ticks.source==="data"&&this.getDataTimestamps();for(f=d,m=0;f<r;f=+e.add(f,a,o),m++)Hb(c,f,y);return(f===r||i.bounds==="ticks"||m===1)&&Hb(c,f,y),Object.keys(c).sort(Bb).map(_=>+_)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const i=this.options.time.displayFormats,s=this._unit,o=n||i[s];return this._adapter.format(e,o)}_tickFormatFunction(e,n,r,i){const s=this.options,o=s.ticks.callback;if(o)return Oe(o,[e,n,r],this);const a=s.time.displayFormats,l=this._unit,u=this._majorUnit,c=l&&a[l],d=u&&a[u],f=r[n],m=u&&d&&f&&f.major;return this._adapter.format(e,i||(m?d:c))}generateTickLabels(e){let n,r,i;for(n=0,r=e.length;n<r;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,i=ws(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:r*s+a*o,h:r*o+a*s}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,s=this._tickFormatFunction(e,0,Wb(this,[e],this._majorUnit),i),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,r=i.length;n<r;++n)e=e.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const i=this.getLabels();for(n=0,r=i.length;n<r;++n)e.push(zb(this,i[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return FH(e.sort(Bb))}}X(Jd,"id","time"),X(Jd,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function ch(t,e,n){let r=0,i=t.length-1,s,o,a,l;n?(e>=t[r].pos&&e<=t[i].pos&&({lo:r,hi:i}=Es(t,"pos",e)),{pos:s,time:a}=t[r],{pos:o,time:l}=t[i]):(e>=t[r].time&&e<=t[i].time&&({lo:r,hi:i}=Es(t,"time",e)),{time:s,pos:a}=t[r],{time:o,pos:l}=t[i]);const u=o-s;return u?a+(l-a)*(e-s)/u:a}class qb extends Jd{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=ch(n,this.min),this._tableRange=ch(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,i=[],s=[];let o,a,l,u,c;for(o=0,a=e.length;o<a;++o)u=e[o],u>=n&&u<=r&&i.push(u);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(o=0,a=i.length;o<a;++o)c=i[o+1],l=i[o-1],u=i[o],Math.round((c+l)/2)!==u&&s.push({time:u,pos:o/(a-1)});return s}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(ch(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return ch(this._table,r*this._tableRange+this._minPos,!0)}}X(qb,"id","timeseries"),X(qb,"defaults",Jd.defaults);const MR="label";function Kb(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function QK(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function LR(t,e){t.labels=e}function VR(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:MR;const r=[];t.datasets=e.map(i=>{const s=t.datasets.find(o=>o[n]===i[n]);return!s||!i.data||r.includes(s)?{...i}:(r.push(s),Object.assign(s,i),s)})}function YK(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:MR;const n={labels:[],datasets:[]};return LR(n,t.labels),VR(n,t.datasets,e),n}function XK(t,e){const{height:n=150,width:r=300,redraw:i=!1,datasetIdKey:s,type:o,data:a,options:l,plugins:u=[],fallbackContent:c,updateMode:d,...f}=t,m=O.useRef(null),y=O.useRef(null),_=()=>{m.current&&(y.current=new Qf(m.current,{type:o,data:YK(a,s),options:l&&{...l},plugins:u}),Kb(e,y.current))},E=()=>{Kb(e,null),y.current&&(y.current.destroy(),y.current=null)};return O.useEffect(()=>{!i&&y.current&&l&&QK(y.current,l)},[i,l]),O.useEffect(()=>{!i&&y.current&&LR(y.current.config.data,a.labels)},[i,a.labels]),O.useEffect(()=>{!i&&y.current&&a.datasets&&VR(y.current.config.data,a.datasets,s)},[i,a.datasets]),O.useEffect(()=>{y.current&&(i?(E(),setTimeout(_)):y.current.update(d))},[i,l,a.labels,a.datasets,d]),O.useEffect(()=>{y.current&&(E(),setTimeout(_))},[o]),O.useEffect(()=>(_(),()=>E()),[]),g.createElement("canvas",{ref:m,role:"img",height:n,width:r,...f},c)}const JK=O.forwardRef(XK);function ZK(t,e){return Qf.register(e),O.forwardRef((n,r)=>g.createElement(JK,{...n,ref:r,type:t}))}const eG=ZK("line",$h);Qf.register(Dy,Ny,qh,_l,DK,jK,PK);const tG=({data:t,title:e})=>{const n={labels:t.labels,datasets:[{label:"Revenue (EGP)",data:t.values,fill:!0,backgroundColor:"rgba(75,192,192,0.2)",borderColor:"rgba(75,192,192,1)",tension:.3}]},r={responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:e}}};return g.createElement(eG,{data:n,options:r})},nG=({isOpen:t,onClose:e,onConfirm:n,title:r,message:i})=>t?g.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50",onClick:e},g.createElement("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 max-w-sm w-full transform transition-all",onClick:s=>s.stopPropagation()},g.createElement("div",{className:"text-center"},g.createElement("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 dark:bg-red-900/50"},g.createElement("svg",{className:"h-6 w-6 text-red-600 dark:text-red-300",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"}))),g.createElement("h3",{className:"text-lg leading-6 font-medium text-gray-900 dark:text-white mt-4"},r),g.createElement("div",{className:"mt-2 px-7 py-3"},g.createElement("p",{className:"text-sm text-gray-500 dark:text-gray-300"},i))),g.createElement("div",{className:"mt-5 sm:mt-6 sm:grid sm:grid-cols-2 sm:gap-3 sm:grid-flow-row-dense"},g.createElement("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:col-start-2 sm:text-sm",onClick:()=>{n(),e()}},"Delete"),g.createElement("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 dark:border-gray-500 shadow-sm px-4 py-2 bg-white dark:bg-gray-700 text-base font-medium text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none sm:mt-0 sm:col-start-1 sm:text-sm",onClick:e},"Cancel")))):null,rG=Uv().shape({question:mi().trim().min(5,"Question too short").max(200,"Question too long").required("Question is required"),answer:mi().trim().min(5,"Answer too short").max(1e3,"Answer too long").required("Answer is required")}),Gb=t=>t.replace(/<[^>]*>?/gm,"").trim(),iG=({faqs:t,onSave:e,onDelete:n})=>{const[r,i]=O.useState(!1),[s,o]=O.useState(!1),[a,l]=O.useState({id:null,question:"",answer:""}),[u,c]=O.useState({}),d=async _=>{_.preventDefault(),c({});const E={...a,question:Gb(a.question),answer:Gb(a.answer)};try{await rG.validate(E,{abortEarly:!1}),e(E),y()}catch(w){if(w.inner){const b={};w.inner.forEach(T=>{b[T.path]=T.message}),c(b)}}},f=_=>{o(!0),l(_),r||i(!0)},m=_=>{n(_)},y=()=>{o(!1),l({id:null,question:"",answer:""})};return g.createElement("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md mb-8"},g.createElement("button",{className:"w-full flex justify-between items-center text-xl font-semibold text-gray-700 dark:text-gray-200",onClick:()=>i(!r)},g.createElement("span",null,"Manage FAQs"),g.createElement(gf,{className:`transition-transform duration-300 ${r?"rotate-180":""}`})),g.createElement("div",{className:`overflow-hidden transition-all duration-500 ease-in-out ${r?"max-h-[2000px] mt-6":"max-h-0"}`},g.createElement("form",{onSubmit:d,className:"mb-8 p-4 border rounded-lg dark:border-gray-700"},g.createElement("h3",{className:"text-lg font-semibold mb-4"},s?"Edit FAQ":"Add New FAQ"),g.createElement("div",{className:"flex flex-col gap-4"},g.createElement("input",{type:"text",placeholder:"Question",value:a.question,onChange:_=>l({...a,question:_.target.value}),className:"p-2 border rounded bg-white dark:bg-gray-700 dark:border-gray-600",required:!0}),g.createElement("textarea",{placeholder:"Answer",value:a.answer,onChange:_=>l({...a,answer:_.target.value}),className:"p-2 border rounded bg-white dark:bg-gray-700 dark:border-gray-600 h-24",required:!0}),g.createElement("div",{className:"flex gap-4"},g.createElement("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700"},s?"Update FAQ":"Add FAQ"),s&&g.createElement("button",{type:"button",onClick:y,className:"px-4 py-2 bg-gray-300 dark:bg-gray-600 rounded"},"Cancel")))),g.createElement("div",{className:"space-y-4"},t&&t.length>0?t.map(_=>g.createElement("div",{key:_.id,className:"p-4 border rounded-lg dark:border-gray-700 flex justify-between items-start"},g.createElement("div",null,g.createElement("h4",{className:"font-bold"},_.question),g.createElement("p",{className:"text-sm text-gray-600 dark:text-gray-400"},_.answer)),g.createElement("div",{className:"flex gap-2 flex-shrink-0 ml-4"},g.createElement("button",{onClick:()=>f(_),className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded"},g.createElement(Ek,null)),g.createElement("button",{onClick:()=>m(_.id),className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded text-red-500"},g.createElement(wd,null))))):g.createElement("p",{className:"text-center text-gray-500 dark:text-gray-400"},"No FAQs yet. Add one above!"))))},sG=["PUBG","Free Fire","PES","FIFA"],oG=t=>{switch(t){case"PUBG":return"UC";case"Free Fire":return"Diamonds";case"PES":return"Coins";case"FIFA":return"Points";default:return""}},aG=({packages:t,onSave:e,onDelete:n})=>{const[r,i]=O.useState(!1),[s,o]=O.useState(!1),[a,l]=O.useState({game:"PUBG",amount:"",price:""}),u=f=>{f.preventDefault();const m=oG(a.game),y=`${a.amount} ${m}`,_={id:a.id,game:a.game,name:y,price:Number(a.price)};e(_),d()},c=f=>{o(!0);const m=f.name.split(" ")[0];l({...f,amount:m}),r||i(!0)},d=()=>{o(!1),l({game:"PUBG",amount:"",price:""})};return g.createElement("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md mb-8"},g.createElement("button",{className:"w-full flex justify-between items-center text-xl font-semibold text-gray-700 dark:text-gray-200",onClick:()=>i(!r)},g.createElement("span",null,"Manage Packages"),g.createElement(gf,{className:`transition-transform duration-300 ${r?"rotate-180":""}`})),g.createElement("div",{className:`overflow-hidden transition-all duration-500 ease-in-out ${r?"max-h-[2000px] mt-6":"max-h-0"}`},g.createElement("form",{onSubmit:u,className:"mb-8 p-4 border rounded-lg dark:border-gray-700"},g.createElement("h3",{className:"text-lg font-semibold mb-4"},s?"Edit Package":"Add New Package"),g.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4"},g.createElement("select",{value:a.game,onChange:f=>l({...a,game:f.target.value}),className:"p-2 border rounded bg-white dark:bg-gray-700 dark:border-gray-600",required:!0},sG.map(f=>g.createElement("option",{key:f,value:f},f))),g.createElement("input",{type:"number",placeholder:"Amount (e.g., 60)",value:a.amount,onChange:f=>l({...a,amount:f.target.value}),className:"p-2 border rounded bg-white dark:bg-gray-700 dark:border-gray-600",required:!0}),g.createElement("input",{type:"number",placeholder:"Price",value:a.price,onChange:f=>l({...a,price:f.target.value}),className:"p-2 border rounded bg-white dark:bg-gray-700 dark:border-gray-600",required:!0})),g.createElement("div",{className:"flex gap-4 mt-4"},g.createElement("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700"},s?"Update Package":"Add Package"),s&&g.createElement("button",{type:"button",onClick:d,className:"px-4 py-2 bg-gray-300 dark:bg-gray-600 rounded"},"Cancel"))),g.createElement("div",{className:"space-y-4"},t&&t.length>0?t.map(f=>g.createElement("div",{key:f.id,className:"p-4 border rounded-lg dark:border-gray-700 flex justify-between items-center"},g.createElement("div",null,g.createElement("span",{className:"font-bold bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 text-xs font-medium me-2 px-2.5 py-0.5 rounded"},f.game),g.createElement("span",{className:"font-semibold"},f.name)," -",g.createElement("span",{className:"text-gray-600 dark:text-gray-400"}," EGP ",f.price)),g.createElement("div",{className:"flex gap-2"},g.createElement("button",{onClick:()=>c(f),className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded"},g.createElement(Ek,null)),g.createElement("button",{onClick:()=>n(f.id),className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded text-red-500"},g.createElement(wd,null))))):g.createElement("p",{className:"text-center text-gray-500 dark:text-gray-400"},"No packages yet. Add one above."))))},hh=({title:t,value:e,icon:n,color:r})=>g.createElement("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md flex items-center"},g.createElement("div",{className:`p-3 rounded-full mr-4 ${r}`},n),g.createElement("div",null,g.createElement("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400"},t),g.createElement("p",{className:"text-2xl font-bold text-gray-900 dark:text-white"},e))),Qb=()=>g.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})),lG=()=>g.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-yellow-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})),uG=()=>g.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})),cG=()=>g.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})),hG=({title:t,items:e})=>g.createElement("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md"},g.createElement("h3",{className:"text-lg font-semibold text-gray-700 dark:text-gray-200 mb-4"},t),g.createElement("ul",{className:"space-y-2"},e.map((n,r)=>g.createElement("li",{key:r,className:"flex justify-between text-sm"},g.createElement("span",{className:"text-gray-600 dark:text-gray-300"},n.name),g.createElement("span",{className:"font-bold text-gray-800 dark:text-white"},n.count," sales"))))),dG=()=>{const[t,e]=O.useState([]),[n,r]=O.useState([]),[i,s]=O.useState(!0),[o,a]=O.useState({searchTerm:"",status:"",game:"",paymentMethod:""}),[l,u]=O.useState(""),[c,d]=O.useState(null),[f,m]=O.useState(""),[y,_]=O.useState(!1),[E,w]=O.useState(null),[b,T]=O.useState([]),[R,D]=O.useState([]),[M,S]=O.useState([]),[x,I]=O.useState(null),[C,A]=O.useState("dashboard"),[N,P]=O.useState(!1),ae=O.useRef(!0);O.useEffect(()=>{let G=!0;const ke=U9(ne=>{if(!G)return;const ye=ne.sort((et,Ia)=>new Date(Ia.createdAt)-new Date(et.createdAt));!ae.current&&ye.length>t.length&&m("A new order has arrived!"),e(ye),i&&s(!1)}),le=QC(ne=>{G&&(r(ne),i&&s(!1))}),an=lA(ne=>{G&&(T(ne),i&&s(!1))}),yr=Gg("pending",ne=>{G&&(D(ne),i&&s(!1))}),Y=Gg("approved",ne=>{G&&S(ne)});return ae.current=!1,()=>{G=!1,ke(),le(),an(),yr(),Y()}},[]);const oe=(G,ke,le)=>{w({id:G,deleteFunction:ke,name:le}),_(!0)},xe=async()=>{E&&(await E.deleteFunction(E.id),m(`'${E.name}' has been deleted.`),w(null),_(!1))},te=G=>{const{name:ke,value:le}=G.target;a(an=>({...an,[ke]:le}))},j=O.useMemo(()=>{if(!l)return t;const G=new Date,ke=new Date;return l==="day"?ke.setHours(0,0,0,0):l==="week"?ke.setDate(G.getDate()-7):l==="month"&&ke.setMonth(G.getMonth()-1),t.filter(le=>new Date(le.createdAt)>=ke)},[t,l]),{stats:W,topPackages:K,chartData:de}=O.useMemo(()=>{const G=j,ke=G.length,le=G.filter(ve=>ve.status==="Pending Payment"||ve.status==="Awaiting Confirmation").length,an=G.filter(ve=>ve.status==="Completed").length,yr=G.filter(ve=>ve.status==="Completed").reduce((ve,St)=>ve+(St.price||0),0),Y=G.filter(ve=>ve.status==="Completed").reduce((ve,St)=>(ve[St.package]=(ve[St.package]||0)+1,ve),{}),ne=Object.entries(Y).map(([ve,St])=>({name:ve,count:St})).sort((ve,St)=>St.count-ve.count).slice(0,3),ye=G.filter(ve=>ve.status==="Completed").reduce((ve,St)=>{const oc=new Date(St.createdAt).toLocaleDateString();return ve[oc]=(ve[oc]||0)+St.price,ve},{}),et=Object.keys(ye).sort((ve,St)=>new Date(ve)-new Date(St)),Ia=et.map(ve=>ye[ve]),sc=`Revenue for ${l?"This "+l:"All Time"}`;return{stats:{totalOrders:ke,pending:le,completed:an,revenue:yr},topPackages:ne,chartData:{labels:et,values:Ia,title:sc}}},[j]),se=async(G,ke)=>{if(await KC(G,ke),ke==="Completed"){const le=t.find(an=>an.firestoreId===G);le&&(await B9(le),m(`Completion email sent for order ${le.id}`))}},ce=G=>{oe(G.firestoreId,j9,`Order ${G.id}`)},Fe=O.useMemo(()=>W$(j,o),[j,o]),Ge=async G=>{if(G.id){const{id:ke,...le}=G;await H9(ke,le)}else{const{id:ke,...le}=G;await $9(le)}},Re=async G=>{oe(G,W9,"FAQ")},jt=async G=>{await ZF(G)},Yr=async G=>{oe(G,e7,"Package")};return i?g.createElement("div",{className:"flex justify-center items-center min-h-screen bg-gray-100 dark:bg-gray-900"},g.createElement(Gs,null)):g.createElement("div",{className:"flex bg-gray-100 dark:bg-gray-900 min-h-screen"},g.createElement(Q$,null),g.createElement("main",{className:"flex-1 ml-48 p-4 sm:p-6 lg:p-8"},g.createElement("h1",{className:"text-3xl font-bold mb-6 text-gray-800 dark:text-gray-100"},"Dashboard"),g.createElement("div",{className:"mb-8"},g.createElement("h2",{className:"text-xl font-semibold text-gray-700 dark:text-gray-200 mb-4"},"Reports"),g.createElement("div",{className:"flex flex-wrap gap-4"},g.createElement("button",{onClick:()=>u("day"),className:`px-4 py-2 rounded-lg shadow-sm ${l==="day"?"bg-blue-600 text-white":"bg-white dark:bg-gray-800"}`},"Today"),g.createElement("button",{onClick:()=>u("week"),className:`px-4 py-2 rounded-lg shadow-sm ${l==="week"?"bg-blue-600 text-white":"bg-white dark:bg-gray-800"}`},"This Week"),g.createElement("button",{onClick:()=>u("month"),className:`px-4 py-2 rounded-lg shadow-sm ${l==="month"?"bg-blue-600 text-white":"bg-white dark:bg-gray-800"}`},"This Month"),g.createElement("button",{onClick:()=>u(""),className:`px-4 py-2 rounded-lg shadow-sm ${l?"bg-white dark:bg-gray-800":"bg-blue-600 text-white"}`},"All Time"))),g.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},g.createElement(hh,{title:"Total Orders",value:W.totalOrders,icon:g.createElement(uG,null),color:"bg-blue-100 dark:bg-blue-900/50"}),g.createElement(hh,{title:"Pending / Awaiting",value:W.pending,icon:g.createElement(lG,null),color:"bg-yellow-100 dark:bg-yellow-900/50"}),g.createElement(hh,{title:"Completed Orders",value:W.completed,icon:g.createElement(Qb,null),color:"bg-green-100 dark:bg-green-900/50"}),g.createElement(hh,{title:"Total Revenue",value:`EGP ${W.revenue.toFixed(2)}`,icon:g.createElement(cG,null),color:"bg-purple-100 dark:bg-purple-900/50"})),g.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8"},g.createElement("div",{className:"lg:col-span-2 bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md"},g.createElement(tG,{data:de,title:de.title})),g.createElement(hG,{title:"Top 3 Selling Packages",items:K})),g.createElement("div",{className:"space-y-8"},g.createElement("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md"},g.createElement("button",{className:"w-full flex justify-between items-center text-xl font-semibold text-gray-700 dark:text-gray-200",onClick:()=>P(!N)},g.createElement("span",null,"Testimonial Management"),g.createElement(gf,{className:`transition-transform duration-300 ${N?"rotate-180":""}`})),g.createElement("div",{className:`overflow-hidden transition-all duration-500 ease-in-out ${N?"max-h-[2000px] mt-6":"max-h-0"}`},g.createElement("div",null,g.createElement("h3",{className:"text-xl font-semibold mb-4 text-gray-800 dark:text-white"},"Pending Testimonials"),R.length>0?g.createElement("ul",{className:"space-y-2"},R.map(G=>g.createElement("li",{key:G.id,className:"flex justify-between items-center p-4 border rounded-lg dark:border-gray-700"},g.createElement("span",null,G.name,': "',G.quote,'"'),g.createElement("div",null,g.createElement("button",{onClick:()=>Q9(G.id),className:"p-2 text-green-500 hover:text-green-700"},g.createElement(Qb,null)),g.createElement("button",{onClick:()=>oe(G.id,dx,G.name),className:"p-2 text-red-500 hover:text-red-700"},g.createElement(wd,null)))))):g.createElement("p",{className:"text-gray-500 dark:text-gray-400"},"No pending testimonials.")),g.createElement("div",{className:"mt-6"},g.createElement("h3",{className:"text-xl font-semibold mb-4 text-gray-800 dark:text-white"},"Approved Testimonials"),M.length>0?g.createElement("ul",{className:"space-y-4"},M.map(G=>g.createElement("li",{key:G.id,className:"flex justify-between items-center p-4 border rounded-lg dark:border-gray-700"},g.createElement("div",null,g.createElement("p",{className:"font-semibold text-gray-900 dark:text-white"},G.name),g.createElement("p",{className:"text-sm text-gray-600 dark:text-gray-300"},'"',G.quote,'"'),g.createElement("p",{className:"text-xs text-gray-400 dark:text-gray-500"},"Likes: ",G.likes,", Dislikes: ",G.dislikes)),g.createElement("button",{onClick:()=>oe(G.id,dx,G.name),className:"p-2 text-red-500 hover:text-red-700"},g.createElement(wd,null))))):g.createElement("p",{className:"text-gray-500 dark:text-gray-400"},"No approved testimonials.")))),g.createElement(iG,{faqs:n,onSave:Ge,onDelete:Re}),g.createElement(aG,{packages:b,onSave:jt,onDelete:Yr})),g.createElement("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md mt-8"},g.createElement("div",{className:"flex flex-col sm:flex-row gap-4 mb-6 items-center"},g.createElement("h2",{className:"text-xl font-semibold text-gray-700 dark:text-gray-200 flex-grow"},"All Orders"),g.createElement("div",{className:"flex gap-4"},g.createElement("input",{type:"text",placeholder:"Search orders...",className:"p-2 border rounded shadow-sm w-full sm:w-64 bg-white dark:bg-gray-700 dark:border-gray-600",value:o.searchTerm,onChange:te,name:"searchTerm"}),g.createElement("select",{className:"p-2 border rounded shadow-sm w-full sm:w-auto bg-white dark:bg-gray-700 dark:border-gray-600",value:o.status,onChange:te,name:"status"},g.createElement("option",{value:""},"All Statuses"),g.createElement("option",{value:"Pending Payment"},"Pending Payment"),g.createElement("option",{value:"Awaiting Confirmation"},"Awaiting Confirmation"),g.createElement("option",{value:"Completed"},"Completed")))),g.createElement("div",{className:"overflow-x-auto"},g.createElement(q$,{orders:Fe,onStatusChange:se,onDeleteClick:ce,onRowClick:d}))),c&&g.createElement(K$,{order:c,onClose:()=>d(null)}),f&&g.createElement(G$,{message:f,onClose:()=>m("")}),g.createElement(nG,{isOpen:y,onClose:()=>_(!1),onConfirm:xe,title:"Confirm Deletion",message:"Are you sure you want to delete this item? This action cannot be undone."})))};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function fG(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(t,[])).next())})}function pG(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Po=function(){return Po=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Po.apply(this,arguments)},FR=function(t){return{loading:t==null,value:t}},mG=function(){return function(t,e){switch(e.type){case"error":return Po(Po({},t),{error:e.error,loading:!1,value:void 0});case"reset":return FR(e.defaultValue);case"value":return Po(Po({},t),{error:void 0,loading:!1,value:e.value});default:return t}}},gG=function(t){var e=t?t():void 0,n=O.useReducer(mG(),FR(e)),r=n[0],i=n[1],s=O.useCallback(function(){var l=t?t():void 0;i({type:"reset",defaultValue:l})},[t]),o=O.useCallback(function(l){i({type:"error",error:l})},[]),a=O.useCallback(function(l){i({type:"value",value:l})},[]);return O.useMemo(function(){return{error:r.error,loading:r.loading,reset:s,setError:o,setValue:a,value:r.value}},[r.error,r.loading,s,o,a,r.value])},UR=function(t,e){var n=gG(function(){return t.currentUser}),r=n.error,i=n.loading,s=n.setError,o=n.setValue,a=n.value;return O.useEffect(function(){var l=o8(t,function(u){return fG(void 0,void 0,void 0,function(){var c;return pG(this,function(d){switch(d.label){case 0:return[3,4];case 1:return d.trys.push([1,3,,4]),[4,e.onUserChanged(u)];case 2:return d.sent(),[3,4];case 3:return c=d.sent(),s(c),[3,4];case 4:return o(u),[2]}})})},s);return function(){l()}},[t]),[a,i,r]};const yG=()=>{const t=Kr(),[e,n]=O.useState(""),[r,i]=O.useState(""),[s,o]=O.useState(""),[a,l]=O.useState(!1),[u,c]=UR(Vd);if(u)return g.createElement(Sh,{to:"/dashboard"});const d=async f=>{f.preventDefault(),l(!0),o("");try{await r8(Vd,e,r),t("/dashboard")}catch(m){o("Failed to sign in. Please check your email and password."),console.error("Authentication error:",m)}finally{l(!1)}};return c?g.createElement("div",{className:"flex justify-center items-center min-h-screen bg-gray-100 dark:bg-gray-900"},g.createElement(Gs,null)):g.createElement("div",{className:"flex items-center justify-center min-h-screen bg-gray-100 dark:bg-gray-900"},g.createElement("div",{className:"w-full max-w-md p-8 space-y-6 bg-white rounded-lg shadow-md dark:bg-gray-800"},g.createElement("h1",{className:"text-2xl font-bold text-center text-gray-800 dark:text-gray-100"},"Admin Login"),g.createElement("form",{onSubmit:d,className:"space-y-6"},g.createElement("div",null,g.createElement("label",{htmlFor:"email",className:"block mb-2 text-sm font-medium text-gray-700 dark:text-gray-300"},"Email"),g.createElement("input",{id:"email",type:"email",value:e,onChange:f=>n(f.target.value),required:!0,className:"w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 focus:outline-none focus:ring focus:ring-blue-500"})),g.createElement("div",null,g.createElement("label",{htmlFor:"password",className:"block mb-2 text-sm font-medium text-gray-700 dark:text-gray-300"},"Password"),g.createElement("input",{id:"password",type:"password",value:r,onChange:f=>i(f.target.value),required:!0,className:"w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 focus:outline-none focus:ring focus:ring-blue-500"})),s&&g.createElement("p",{className:"text-sm text-center text-red-500"},s),g.createElement("button",{type:"submit",disabled:a,className:"w-full px-4 py-2 font-bold text-white bg-blue-500 rounded-md hover:bg-blue-600 disabled:bg-gray-400"},a?"Signing In...":"Sign In"))))},vG=()=>g.createElement("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100 dark:bg-gray-900"},g.createElement("div",{className:"p-8 bg-white rounded-lg shadow-md dark:bg-gray-800"},g.createElement("h1",{className:"mb-4 text-2xl font-bold text-center text-red-500"},"Unauthorized Access"),g.createElement("p",{className:"mb-4 text-center text-gray-700 dark:text-gray-300"},"You do not have permission to view this page."),g.createElement(gk,{to:"/",className:"block w-full px-4 py-2 font-bold text-center text-white bg-blue-500 rounded hover:bg-blue-700"},"Go to Homepage"))),_G="abdo.nasef.web@gmail.com",wG=({children:t})=>{const[e,n,r]=UR(Vd);return n?g.createElement("div",{className:"flex justify-center items-center min-h-screen bg-gray-100 dark:bg-gray-900"},g.createElement(Gs,null)):r?(console.error("Authentication error:",r),g.createElement(Sh,{to:"/login"})):e?e.email!==_G?g.createElement(Sh,{to:"/unauthorized"}):t:g.createElement(Sh,{to:"/login"})},EG=()=>g.createElement(PO,null,g.createElement(Xn,{element:g.createElement(yM,null)},g.createElement(Xn,{path:"/",element:g.createElement(YF,null)}),g.createElement(Xn,{path:"/select-package",element:g.createElement(t7,null)}),g.createElement(Xn,{path:"/payment",element:g.createElement(J7,null)}),g.createElement(Xn,{path:"/payment-instructions/:method",element:g.createElement(tU,null)}),g.createElement(Xn,{path:"/success",element:g.createElement(H$,null)})),g.createElement(Xn,{path:"/login",element:g.createElement(yG,null)}),g.createElement(Xn,{path:"/unauthorized",element:g.createElement(vG,null)}),g.createElement(Xn,{path:"/dashboard",element:g.createElement(wG,null,g.createElement(dG,null))}));function xG(){return g.createElement(VO,null,g.createElement(EG,null))}Im.createRoot(document.getElementById("root")).render(g.createElement(g.StrictMode,null,g.createElement(aA,null,g.createElement(xG,null))));
