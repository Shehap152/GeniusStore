var C4=Object.defineProperty;var A4=(t,e,n)=>e in t?C4(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Z=(t,e,n)=>A4(t,typeof e!="symbol"?e+"":e,n);function P4(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Vu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var J2={exports:{}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fu=Symbol.for("react.element"),R4=Symbol.for("react.portal"),D4=Symbol.for("react.fragment"),N4=Symbol.for("react.strict_mode"),O4=Symbol.for("react.profiler"),M4=Symbol.for("react.provider"),L4=Symbol.for("react.context"),V4=Symbol.for("react.forward_ref"),F4=Symbol.for("react.suspense"),U4=Symbol.for("react.memo"),j4=Symbol.for("react.lazy"),Rw=Symbol.iterator;function z4(t){return t===null||typeof t!="object"?null:(t=Rw&&t[Rw]||t["@@iterator"],typeof t=="function"?t:null)}var eT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tT=Object.assign,nT={};function ya(t,e,n){this.props=t,this.context=e,this.refs=nT,this.updater=n||eT}ya.prototype.isReactComponent={};ya.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ya.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function rT(){}rT.prototype=ya.prototype;function Vy(t,e,n){this.props=t,this.context=e,this.refs=nT,this.updater=n||eT}var Fy=Vy.prototype=new rT;Fy.constructor=Vy;tT(Fy,ya.prototype);Fy.isPureReactComponent=!0;var Dw=Array.isArray,iT=Object.prototype.hasOwnProperty,Uy={current:null},sT={key:!0,ref:!0,__self:!0,__source:!0};function oT(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)iT.call(e,r)&&!sT.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Fu,type:t,key:s,ref:o,props:i,_owner:Uy.current}}function B4(t,e){return{$$typeof:Fu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function jy(t){return typeof t=="object"&&t!==null&&t.$$typeof===Fu}function $4(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Nw=/\/+/g;function yp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?$4(""+t.key):e.toString(36)}function mh(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Fu:case R4:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+yp(o,0):r,Dw(i)?(n="",t!=null&&(n=t.replace(Nw,"$&/")+"/"),mh(i,e,n,"",function(u){return u})):i!=null&&(jy(i)&&(i=B4(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Nw,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Dw(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+yp(s,a);o+=mh(s,e,n,l,i)}else if(l=z4(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+yp(s,a++),o+=mh(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Sc(t,e,n){if(t==null)return t;var r=[],i=0;return mh(t,r,"","",function(s){return e.call(n,s,i++)}),r}function H4(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var qt={current:null},gh={transition:null},W4={ReactCurrentDispatcher:qt,ReactCurrentBatchConfig:gh,ReactCurrentOwner:Uy};function aT(){throw Error("act(...) is not supported in production builds of React.")}le.Children={map:Sc,forEach:function(t,e,n){Sc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Sc(t,function(){e++}),e},toArray:function(t){return Sc(t,function(e){return e})||[]},only:function(t){if(!jy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};le.Component=ya;le.Fragment=D4;le.Profiler=O4;le.PureComponent=Vy;le.StrictMode=N4;le.Suspense=F4;le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W4;le.act=aT;le.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=tT({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Uy.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)iT.call(e,l)&&!sT.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Fu,type:t.type,key:i,ref:s,props:r,_owner:o}};le.createContext=function(t){return t={$$typeof:L4,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:M4,_context:t},t.Consumer=t};le.createElement=oT;le.createFactory=function(t){var e=oT.bind(null,t);return e.type=t,e};le.createRef=function(){return{current:null}};le.forwardRef=function(t){return{$$typeof:V4,render:t}};le.isValidElement=jy;le.lazy=function(t){return{$$typeof:j4,_payload:{_status:-1,_result:t},_init:H4}};le.memo=function(t,e){return{$$typeof:U4,type:t,compare:e===void 0?null:e}};le.startTransition=function(t){var e=gh.transition;gh.transition={};try{t()}finally{gh.transition=e}};le.unstable_act=aT;le.useCallback=function(t,e){return qt.current.useCallback(t,e)};le.useContext=function(t){return qt.current.useContext(t)};le.useDebugValue=function(){};le.useDeferredValue=function(t){return qt.current.useDeferredValue(t)};le.useEffect=function(t,e){return qt.current.useEffect(t,e)};le.useId=function(){return qt.current.useId()};le.useImperativeHandle=function(t,e,n){return qt.current.useImperativeHandle(t,e,n)};le.useInsertionEffect=function(t,e){return qt.current.useInsertionEffect(t,e)};le.useLayoutEffect=function(t,e){return qt.current.useLayoutEffect(t,e)};le.useMemo=function(t,e){return qt.current.useMemo(t,e)};le.useReducer=function(t,e,n){return qt.current.useReducer(t,e,n)};le.useRef=function(t){return qt.current.useRef(t)};le.useState=function(t){return qt.current.useState(t)};le.useSyncExternalStore=function(t,e,n){return qt.current.useSyncExternalStore(t,e,n)};le.useTransition=function(){return qt.current.useTransition()};le.version="18.3.1";J2.exports=le;var O=J2.exports;const g=Vu(O),q4=P4({__proto__:null,default:g},[O]);var Am={},lT={exports:{}},pn={},uT={exports:{}},cT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,K){var G=z.length;z.push(K);e:for(;0<G;){var se=G-1>>>1,ie=z[se];if(0<i(ie,K))z[se]=K,z[G]=ie,G=se;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var K=z[0],G=z.pop();if(G!==K){z[0]=G;e:for(var se=0,ie=z.length,oe=ie>>>1;se<oe;){var Ue=2*(se+1)-1,Qe=z[Ue],Re=Ue+1,jt=z[Re];if(0>i(Qe,G))Re<ie&&0>i(jt,Qe)?(z[se]=jt,z[Re]=G,se=Re):(z[se]=Qe,z[Ue]=G,se=Ue);else if(Re<ie&&0>i(jt,G))z[se]=jt,z[Re]=G,se=Re;else break e}}return K}function i(z,K){var G=z.sortIndex-K.sortIndex;return G!==0?G:z.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,f=3,m=!1,y=!1,_=!1,E=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(z){for(var K=n(u);K!==null;){if(K.callback===null)r(u);else if(K.startTime<=z)r(u),K.sortIndex=K.expirationTime,e(l,K);else break;K=n(u)}}function R(z){if(_=!1,T(z),!y)if(n(l)!==null)y=!0,ve(D);else{var K=n(u);K!==null&&X(R,K.startTime-z)}}function D(z,K){y=!1,_&&(_=!1,w(x),x=-1),m=!0;var G=f;try{for(T(K),d=n(l);d!==null&&(!(d.expirationTime>K)||z&&!A());){var se=d.callback;if(typeof se=="function"){d.callback=null,f=d.priorityLevel;var ie=se(d.expirationTime<=K);K=t.unstable_now(),typeof ie=="function"?d.callback=ie:d===n(l)&&r(l),T(K)}else r(l);d=n(l)}if(d!==null)var oe=!0;else{var Ue=n(u);Ue!==null&&X(R,Ue.startTime-K),oe=!1}return oe}finally{d=null,f=G,m=!1}}var M=!1,S=null,x=-1,I=5,C=-1;function A(){return!(t.unstable_now()-C<I)}function N(){if(S!==null){var z=t.unstable_now();C=z;var K=!0;try{K=S(!0,z)}finally{K?P():(M=!1,S=null)}}else M=!1}var P;if(typeof b=="function")P=function(){b(N)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,he=ue.port2;ue.port1.onmessage=N,P=function(){he.postMessage(null)}}else P=function(){E(N,0)};function ve(z){S=z,M||(M=!0,P())}function X(z,K){x=E(function(){z(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,ve(D))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(z){switch(f){case 1:case 2:case 3:var K=3;break;default:K=f}var G=f;f=K;try{return z()}finally{f=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,K){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var G=f;f=z;try{return K()}finally{f=G}},t.unstable_scheduleCallback=function(z,K,G){var se=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?se+G:se):G=se,z){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=G+ie,z={id:c++,callback:K,priorityLevel:z,startTime:G,expirationTime:ie,sortIndex:-1},G>se?(z.sortIndex=G,e(u,z),n(l)===null&&z===n(u)&&(_?(w(x),x=-1):_=!0,X(R,G-se))):(z.sortIndex=ie,e(l,z),y||m||(y=!0,ve(D))),z},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(z){var K=f;return function(){var G=f;f=K;try{return z.apply(this,arguments)}finally{f=G}}}})(cT);uT.exports=cT;var K4=uT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G4=O,fn=K4;function j(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var hT=new Set,Yl={};function Ws(t,e){Qo(t,e),Qo(t+"Capture",e)}function Qo(t,e){for(Yl[t]=e,t=0;t<e.length;t++)hT.add(e[t])}var Fr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pm=Object.prototype.hasOwnProperty,Q4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ow={},Mw={};function Y4(t){return Pm.call(Mw,t)?!0:Pm.call(Ow,t)?!1:Q4.test(t)?Mw[t]=!0:(Ow[t]=!0,!1)}function X4(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Z4(t,e,n,r){if(e===null||typeof e>"u"||X4(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Kt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Tt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Tt[t]=new Kt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Tt[e]=new Kt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Tt[t]=new Kt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Tt[t]=new Kt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Tt[t]=new Kt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Tt[t]=new Kt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Tt[t]=new Kt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Tt[t]=new Kt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Tt[t]=new Kt(t,5,!1,t.toLowerCase(),null,!1,!1)});var zy=/[\-:]([a-z])/g;function By(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(zy,By);Tt[e]=new Kt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(zy,By);Tt[e]=new Kt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(zy,By);Tt[e]=new Kt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Tt[t]=new Kt(t,1,!1,t.toLowerCase(),null,!1,!1)});Tt.xlinkHref=new Kt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Tt[t]=new Kt(t,1,!1,t.toLowerCase(),null,!0,!0)});function $y(t,e,n,r){var i=Tt.hasOwnProperty(e)?Tt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Z4(e,n,i,r)&&(n=null),r||i===null?Y4(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Gr=G4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,kc=Symbol.for("react.element"),go=Symbol.for("react.portal"),yo=Symbol.for("react.fragment"),Hy=Symbol.for("react.strict_mode"),Rm=Symbol.for("react.profiler"),dT=Symbol.for("react.provider"),fT=Symbol.for("react.context"),Wy=Symbol.for("react.forward_ref"),Dm=Symbol.for("react.suspense"),Nm=Symbol.for("react.suspense_list"),qy=Symbol.for("react.memo"),ui=Symbol.for("react.lazy"),pT=Symbol.for("react.offscreen"),Lw=Symbol.iterator;function Wa(t){return t===null||typeof t!="object"?null:(t=Lw&&t[Lw]||t["@@iterator"],typeof t=="function"?t:null)}var He=Object.assign,vp;function ul(t){if(vp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);vp=e&&e[1]||""}return`
`+vp+t}var _p=!1;function wp(t,e){if(!t||_p)return"";_p=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{_p=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ul(t):""}function J4(t){switch(t.tag){case 5:return ul(t.type);case 16:return ul("Lazy");case 13:return ul("Suspense");case 19:return ul("SuspenseList");case 0:case 2:case 15:return t=wp(t.type,!1),t;case 11:return t=wp(t.type.render,!1),t;case 1:return t=wp(t.type,!0),t;default:return""}}function Om(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case yo:return"Fragment";case go:return"Portal";case Rm:return"Profiler";case Hy:return"StrictMode";case Dm:return"Suspense";case Nm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case fT:return(t.displayName||"Context")+".Consumer";case dT:return(t._context.displayName||"Context")+".Provider";case Wy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case qy:return e=t.displayName||null,e!==null?e:Om(t.type)||"Memo";case ui:e=t._payload,t=t._init;try{return Om(t(e))}catch{}}return null}function eD(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Om(e);case 8:return e===Hy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Li(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function mT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function tD(t){var e=mT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ic(t){t._valueTracker||(t._valueTracker=tD(t))}function gT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=mT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Qh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Mm(t,e){var n=e.checked;return He({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Vw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Li(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function yT(t,e){e=e.checked,e!=null&&$y(t,"checked",e,!1)}function Lm(t,e){yT(t,e);var n=Li(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Vm(t,e.type,n):e.hasOwnProperty("defaultValue")&&Vm(t,e.type,Li(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Fw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Vm(t,e,n){(e!=="number"||Qh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var cl=Array.isArray;function Lo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Li(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Fm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(j(91));return He({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Uw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(j(92));if(cl(n)){if(1<n.length)throw Error(j(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Li(n)}}function vT(t,e){var n=Li(e.value),r=Li(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function jw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function _T(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Um(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?_T(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Cc,wT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Cc=Cc||document.createElement("div"),Cc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Cc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Xl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Sl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nD=["Webkit","ms","Moz","O"];Object.keys(Sl).forEach(function(t){nD.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Sl[e]=Sl[t]})});function ET(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Sl.hasOwnProperty(t)&&Sl[t]?(""+e).trim():e+"px"}function xT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=ET(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var rD=He({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jm(t,e){if(e){if(rD[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(j(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(j(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(j(61))}if(e.style!=null&&typeof e.style!="object")throw Error(j(62))}}function zm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bm=null;function Ky(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var $m=null,Vo=null,Fo=null;function zw(t){if(t=zu(t)){if(typeof $m!="function")throw Error(j(280));var e=t.stateNode;e&&(e=of(e),$m(t.stateNode,t.type,e))}}function bT(t){Vo?Fo?Fo.push(t):Fo=[t]:Vo=t}function TT(){if(Vo){var t=Vo,e=Fo;if(Fo=Vo=null,zw(t),e)for(t=0;t<e.length;t++)zw(e[t])}}function ST(t,e){return t(e)}function kT(){}var Ep=!1;function IT(t,e,n){if(Ep)return t(e,n);Ep=!0;try{return ST(t,e,n)}finally{Ep=!1,(Vo!==null||Fo!==null)&&(kT(),TT())}}function Zl(t,e){var n=t.stateNode;if(n===null)return null;var r=of(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(j(231,e,typeof n));return n}var Hm=!1;if(Fr)try{var qa={};Object.defineProperty(qa,"passive",{get:function(){Hm=!0}}),window.addEventListener("test",qa,qa),window.removeEventListener("test",qa,qa)}catch{Hm=!1}function iD(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var kl=!1,Yh=null,Xh=!1,Wm=null,sD={onError:function(t){kl=!0,Yh=t}};function oD(t,e,n,r,i,s,o,a,l){kl=!1,Yh=null,iD.apply(sD,arguments)}function aD(t,e,n,r,i,s,o,a,l){if(oD.apply(this,arguments),kl){if(kl){var u=Yh;kl=!1,Yh=null}else throw Error(j(198));Xh||(Xh=!0,Wm=u)}}function qs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function CT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Bw(t){if(qs(t)!==t)throw Error(j(188))}function lD(t){var e=t.alternate;if(!e){if(e=qs(t),e===null)throw Error(j(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Bw(i),t;if(s===r)return Bw(i),e;s=s.sibling}throw Error(j(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(j(189))}}if(n.alternate!==r)throw Error(j(190))}if(n.tag!==3)throw Error(j(188));return n.stateNode.current===n?t:e}function AT(t){return t=lD(t),t!==null?PT(t):null}function PT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=PT(t);if(e!==null)return e;t=t.sibling}return null}var RT=fn.unstable_scheduleCallback,$w=fn.unstable_cancelCallback,uD=fn.unstable_shouldYield,cD=fn.unstable_requestPaint,Ze=fn.unstable_now,hD=fn.unstable_getCurrentPriorityLevel,Gy=fn.unstable_ImmediatePriority,DT=fn.unstable_UserBlockingPriority,Zh=fn.unstable_NormalPriority,dD=fn.unstable_LowPriority,NT=fn.unstable_IdlePriority,tf=null,rr=null;function fD(t){if(rr&&typeof rr.onCommitFiberRoot=="function")try{rr.onCommitFiberRoot(tf,t,void 0,(t.current.flags&128)===128)}catch{}}var zn=Math.clz32?Math.clz32:gD,pD=Math.log,mD=Math.LN2;function gD(t){return t>>>=0,t===0?32:31-(pD(t)/mD|0)|0}var Ac=64,Pc=4194304;function hl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Jh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=hl(a):(s&=o,s!==0&&(r=hl(s)))}else o=n&~i,o!==0?r=hl(o):s!==0&&(r=hl(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-zn(e),i=1<<n,r|=t[n],e&=~i;return r}function yD(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vD(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-zn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=yD(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function qm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function OT(){var t=Ac;return Ac<<=1,!(Ac&4194240)&&(Ac=64),t}function xp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Uu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-zn(e),t[e]=n}function _D(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-zn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Qy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-zn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var be=0;function MT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var LT,Yy,VT,FT,UT,Km=!1,Rc=[],_i=null,wi=null,Ei=null,Jl=new Map,eu=new Map,hi=[],wD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hw(t,e){switch(t){case"focusin":case"focusout":_i=null;break;case"dragenter":case"dragleave":wi=null;break;case"mouseover":case"mouseout":Ei=null;break;case"pointerover":case"pointerout":Jl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":eu.delete(e.pointerId)}}function Ka(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=zu(e),e!==null&&Yy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function ED(t,e,n,r,i){switch(e){case"focusin":return _i=Ka(_i,t,e,n,r,i),!0;case"dragenter":return wi=Ka(wi,t,e,n,r,i),!0;case"mouseover":return Ei=Ka(Ei,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Jl.set(s,Ka(Jl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,eu.set(s,Ka(eu.get(s)||null,t,e,n,r,i)),!0}return!1}function jT(t){var e=ys(t.target);if(e!==null){var n=qs(e);if(n!==null){if(e=n.tag,e===13){if(e=CT(n),e!==null){t.blockedOn=e,UT(t.priority,function(){VT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function yh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Gm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Bm=r,n.target.dispatchEvent(r),Bm=null}else return e=zu(n),e!==null&&Yy(e),t.blockedOn=n,!1;e.shift()}return!0}function Ww(t,e,n){yh(t)&&n.delete(e)}function xD(){Km=!1,_i!==null&&yh(_i)&&(_i=null),wi!==null&&yh(wi)&&(wi=null),Ei!==null&&yh(Ei)&&(Ei=null),Jl.forEach(Ww),eu.forEach(Ww)}function Ga(t,e){t.blockedOn===e&&(t.blockedOn=null,Km||(Km=!0,fn.unstable_scheduleCallback(fn.unstable_NormalPriority,xD)))}function tu(t){function e(i){return Ga(i,t)}if(0<Rc.length){Ga(Rc[0],t);for(var n=1;n<Rc.length;n++){var r=Rc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(_i!==null&&Ga(_i,t),wi!==null&&Ga(wi,t),Ei!==null&&Ga(Ei,t),Jl.forEach(e),eu.forEach(e),n=0;n<hi.length;n++)r=hi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<hi.length&&(n=hi[0],n.blockedOn===null);)jT(n),n.blockedOn===null&&hi.shift()}var Uo=Gr.ReactCurrentBatchConfig,ed=!0;function bD(t,e,n,r){var i=be,s=Uo.transition;Uo.transition=null;try{be=1,Xy(t,e,n,r)}finally{be=i,Uo.transition=s}}function TD(t,e,n,r){var i=be,s=Uo.transition;Uo.transition=null;try{be=4,Xy(t,e,n,r)}finally{be=i,Uo.transition=s}}function Xy(t,e,n,r){if(ed){var i=Gm(t,e,n,r);if(i===null)Dp(t,e,r,td,n),Hw(t,r);else if(ED(i,t,e,n,r))r.stopPropagation();else if(Hw(t,r),e&4&&-1<wD.indexOf(t)){for(;i!==null;){var s=zu(i);if(s!==null&&LT(s),s=Gm(t,e,n,r),s===null&&Dp(t,e,r,td,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Dp(t,e,r,null,n)}}var td=null;function Gm(t,e,n,r){if(td=null,t=Ky(r),t=ys(t),t!==null)if(e=qs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=CT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return td=t,null}function zT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hD()){case Gy:return 1;case DT:return 4;case Zh:case dD:return 16;case NT:return 536870912;default:return 16}default:return 16}}var pi=null,Zy=null,vh=null;function BT(){if(vh)return vh;var t,e=Zy,n=e.length,r,i="value"in pi?pi.value:pi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return vh=i.slice(t,1<r?1-r:void 0)}function _h(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Dc(){return!0}function qw(){return!1}function mn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Dc:qw,this.isPropagationStopped=qw,this}return He(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Dc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Dc)},persist:function(){},isPersistent:Dc}),e}var va={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jy=mn(va),ju=He({},va,{view:0,detail:0}),SD=mn(ju),bp,Tp,Qa,nf=He({},ju,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:e0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qa&&(Qa&&t.type==="mousemove"?(bp=t.screenX-Qa.screenX,Tp=t.screenY-Qa.screenY):Tp=bp=0,Qa=t),bp)},movementY:function(t){return"movementY"in t?t.movementY:Tp}}),Kw=mn(nf),kD=He({},nf,{dataTransfer:0}),ID=mn(kD),CD=He({},ju,{relatedTarget:0}),Sp=mn(CD),AD=He({},va,{animationName:0,elapsedTime:0,pseudoElement:0}),PD=mn(AD),RD=He({},va,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),DD=mn(RD),ND=He({},va,{data:0}),Gw=mn(ND),OD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},MD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function VD(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=LD[t])?!!e[t]:!1}function e0(){return VD}var FD=He({},ju,{key:function(t){if(t.key){var e=OD[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=_h(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?MD[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:e0,charCode:function(t){return t.type==="keypress"?_h(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?_h(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),UD=mn(FD),jD=He({},nf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qw=mn(jD),zD=He({},ju,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:e0}),BD=mn(zD),$D=He({},va,{propertyName:0,elapsedTime:0,pseudoElement:0}),HD=mn($D),WD=He({},nf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),qD=mn(WD),KD=[9,13,27,32],t0=Fr&&"CompositionEvent"in window,Il=null;Fr&&"documentMode"in document&&(Il=document.documentMode);var GD=Fr&&"TextEvent"in window&&!Il,$T=Fr&&(!t0||Il&&8<Il&&11>=Il),Yw=" ",Xw=!1;function HT(t,e){switch(t){case"keyup":return KD.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function WT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var vo=!1;function QD(t,e){switch(t){case"compositionend":return WT(e);case"keypress":return e.which!==32?null:(Xw=!0,Yw);case"textInput":return t=e.data,t===Yw&&Xw?null:t;default:return null}}function YD(t,e){if(vo)return t==="compositionend"||!t0&&HT(t,e)?(t=BT(),vh=Zy=pi=null,vo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return $T&&e.locale!=="ko"?null:e.data;default:return null}}var XD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!XD[t.type]:e==="textarea"}function qT(t,e,n,r){bT(r),e=nd(e,"onChange"),0<e.length&&(n=new Jy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Cl=null,nu=null;function ZD(t){rS(t,0)}function rf(t){var e=Eo(t);if(gT(e))return t}function JD(t,e){if(t==="change")return e}var KT=!1;if(Fr){var kp;if(Fr){var Ip="oninput"in document;if(!Ip){var Jw=document.createElement("div");Jw.setAttribute("oninput","return;"),Ip=typeof Jw.oninput=="function"}kp=Ip}else kp=!1;KT=kp&&(!document.documentMode||9<document.documentMode)}function e1(){Cl&&(Cl.detachEvent("onpropertychange",GT),nu=Cl=null)}function GT(t){if(t.propertyName==="value"&&rf(nu)){var e=[];qT(e,nu,t,Ky(t)),IT(ZD,e)}}function eN(t,e,n){t==="focusin"?(e1(),Cl=e,nu=n,Cl.attachEvent("onpropertychange",GT)):t==="focusout"&&e1()}function tN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return rf(nu)}function nN(t,e){if(t==="click")return rf(e)}function rN(t,e){if(t==="input"||t==="change")return rf(e)}function iN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Hn=typeof Object.is=="function"?Object.is:iN;function ru(t,e){if(Hn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Pm.call(e,i)||!Hn(t[i],e[i]))return!1}return!0}function t1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function n1(t,e){var n=t1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=t1(n)}}function QT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?QT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function YT(){for(var t=window,e=Qh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Qh(t.document)}return e}function n0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function sN(t){var e=YT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&QT(n.ownerDocument.documentElement,n)){if(r!==null&&n0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=n1(n,s);var o=n1(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var oN=Fr&&"documentMode"in document&&11>=document.documentMode,_o=null,Qm=null,Al=null,Ym=!1;function r1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ym||_o==null||_o!==Qh(r)||(r=_o,"selectionStart"in r&&n0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Al&&ru(Al,r)||(Al=r,r=nd(Qm,"onSelect"),0<r.length&&(e=new Jy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=_o)))}function Nc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var wo={animationend:Nc("Animation","AnimationEnd"),animationiteration:Nc("Animation","AnimationIteration"),animationstart:Nc("Animation","AnimationStart"),transitionend:Nc("Transition","TransitionEnd")},Cp={},XT={};Fr&&(XT=document.createElement("div").style,"AnimationEvent"in window||(delete wo.animationend.animation,delete wo.animationiteration.animation,delete wo.animationstart.animation),"TransitionEvent"in window||delete wo.transitionend.transition);function sf(t){if(Cp[t])return Cp[t];if(!wo[t])return t;var e=wo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in XT)return Cp[t]=e[n];return t}var ZT=sf("animationend"),JT=sf("animationiteration"),eS=sf("animationstart"),tS=sf("transitionend"),nS=new Map,i1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wi(t,e){nS.set(t,e),Ws(e,[t])}for(var Ap=0;Ap<i1.length;Ap++){var Pp=i1[Ap],aN=Pp.toLowerCase(),lN=Pp[0].toUpperCase()+Pp.slice(1);Wi(aN,"on"+lN)}Wi(ZT,"onAnimationEnd");Wi(JT,"onAnimationIteration");Wi(eS,"onAnimationStart");Wi("dblclick","onDoubleClick");Wi("focusin","onFocus");Wi("focusout","onBlur");Wi(tS,"onTransitionEnd");Qo("onMouseEnter",["mouseout","mouseover"]);Qo("onMouseLeave",["mouseout","mouseover"]);Qo("onPointerEnter",["pointerout","pointerover"]);Qo("onPointerLeave",["pointerout","pointerover"]);Ws("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ws("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ws("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ws("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ws("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ws("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uN=new Set("cancel close invalid load scroll toggle".split(" ").concat(dl));function s1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,aD(r,e,void 0,t),t.currentTarget=null}function rS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;s1(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;s1(i,a,u),s=l}}}if(Xh)throw t=Wm,Xh=!1,Wm=null,t}function Ne(t,e){var n=e[tg];n===void 0&&(n=e[tg]=new Set);var r=t+"__bubble";n.has(r)||(iS(e,t,2,!1),n.add(r))}function Rp(t,e,n){var r=0;e&&(r|=4),iS(n,t,r,e)}var Oc="_reactListening"+Math.random().toString(36).slice(2);function iu(t){if(!t[Oc]){t[Oc]=!0,hT.forEach(function(n){n!=="selectionchange"&&(uN.has(n)||Rp(n,!1,t),Rp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Oc]||(e[Oc]=!0,Rp("selectionchange",!1,e))}}function iS(t,e,n,r){switch(zT(e)){case 1:var i=bD;break;case 4:i=TD;break;default:i=Xy}n=i.bind(null,e,n,t),i=void 0,!Hm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Dp(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ys(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}IT(function(){var u=s,c=Ky(n),d=[];e:{var f=nS.get(t);if(f!==void 0){var m=Jy,y=t;switch(t){case"keypress":if(_h(n)===0)break e;case"keydown":case"keyup":m=UD;break;case"focusin":y="focus",m=Sp;break;case"focusout":y="blur",m=Sp;break;case"beforeblur":case"afterblur":m=Sp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Kw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=ID;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=BD;break;case ZT:case JT:case eS:m=PD;break;case tS:m=HD;break;case"scroll":m=SD;break;case"wheel":m=qD;break;case"copy":case"cut":case"paste":m=DD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Qw}var _=(e&4)!==0,E=!_&&t==="scroll",w=_?f!==null?f+"Capture":null:f;_=[];for(var b=u,T;b!==null;){T=b;var R=T.stateNode;if(T.tag===5&&R!==null&&(T=R,w!==null&&(R=Zl(b,w),R!=null&&_.push(su(b,R,T)))),E)break;b=b.return}0<_.length&&(f=new m(f,y,null,n,c),d.push({event:f,listeners:_}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==Bm&&(y=n.relatedTarget||n.fromElement)&&(ys(y)||y[Ur]))break e;if((m||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=u,y=y?ys(y):null,y!==null&&(E=qs(y),y!==E||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(_=Kw,R="onMouseLeave",w="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(_=Qw,R="onPointerLeave",w="onPointerEnter",b="pointer"),E=m==null?f:Eo(m),T=y==null?f:Eo(y),f=new _(R,b+"leave",m,n,c),f.target=E,f.relatedTarget=T,R=null,ys(c)===u&&(_=new _(w,b+"enter",y,n,c),_.target=T,_.relatedTarget=E,R=_),E=R,m&&y)t:{for(_=m,w=y,b=0,T=_;T;T=lo(T))b++;for(T=0,R=w;R;R=lo(R))T++;for(;0<b-T;)_=lo(_),b--;for(;0<T-b;)w=lo(w),T--;for(;b--;){if(_===w||w!==null&&_===w.alternate)break t;_=lo(_),w=lo(w)}_=null}else _=null;m!==null&&o1(d,f,m,_,!1),y!==null&&E!==null&&o1(d,E,y,_,!0)}}e:{if(f=u?Eo(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var D=JD;else if(Zw(f))if(KT)D=rN;else{D=tN;var M=eN}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(D=nN);if(D&&(D=D(t,u))){qT(d,D,n,c);break e}M&&M(t,f,u),t==="focusout"&&(M=f._wrapperState)&&M.controlled&&f.type==="number"&&Vm(f,"number",f.value)}switch(M=u?Eo(u):window,t){case"focusin":(Zw(M)||M.contentEditable==="true")&&(_o=M,Qm=u,Al=null);break;case"focusout":Al=Qm=_o=null;break;case"mousedown":Ym=!0;break;case"contextmenu":case"mouseup":case"dragend":Ym=!1,r1(d,n,c);break;case"selectionchange":if(oN)break;case"keydown":case"keyup":r1(d,n,c)}var S;if(t0)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else vo?HT(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&($T&&n.locale!=="ko"&&(vo||x!=="onCompositionStart"?x==="onCompositionEnd"&&vo&&(S=BT()):(pi=c,Zy="value"in pi?pi.value:pi.textContent,vo=!0)),M=nd(u,x),0<M.length&&(x=new Gw(x,t,null,n,c),d.push({event:x,listeners:M}),S?x.data=S:(S=WT(n),S!==null&&(x.data=S)))),(S=GD?QD(t,n):YD(t,n))&&(u=nd(u,"onBeforeInput"),0<u.length&&(c=new Gw("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=S))}rS(d,e)})}function su(t,e,n){return{instance:t,listener:e,currentTarget:n}}function nd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Zl(t,n),s!=null&&r.unshift(su(t,s,i)),s=Zl(t,e),s!=null&&r.push(su(t,s,i))),t=t.return}return r}function lo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function o1(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Zl(n,s),l!=null&&o.unshift(su(n,l,a))):i||(l=Zl(n,s),l!=null&&o.push(su(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var cN=/\r\n?/g,hN=/\u0000|\uFFFD/g;function a1(t){return(typeof t=="string"?t:""+t).replace(cN,`
`).replace(hN,"")}function Mc(t,e,n){if(e=a1(e),a1(t)!==e&&n)throw Error(j(425))}function rd(){}var Xm=null,Zm=null;function Jm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var eg=typeof setTimeout=="function"?setTimeout:void 0,dN=typeof clearTimeout=="function"?clearTimeout:void 0,l1=typeof Promise=="function"?Promise:void 0,fN=typeof queueMicrotask=="function"?queueMicrotask:typeof l1<"u"?function(t){return l1.resolve(null).then(t).catch(pN)}:eg;function pN(t){setTimeout(function(){throw t})}function Np(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),tu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);tu(e)}function xi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function u1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var _a=Math.random().toString(36).slice(2),nr="__reactFiber$"+_a,ou="__reactProps$"+_a,Ur="__reactContainer$"+_a,tg="__reactEvents$"+_a,mN="__reactListeners$"+_a,gN="__reactHandles$"+_a;function ys(t){var e=t[nr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ur]||n[nr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=u1(t);t!==null;){if(n=t[nr])return n;t=u1(t)}return e}t=n,n=t.parentNode}return null}function zu(t){return t=t[nr]||t[Ur],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Eo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(j(33))}function of(t){return t[ou]||null}var ng=[],xo=-1;function qi(t){return{current:t}}function Le(t){0>xo||(t.current=ng[xo],ng[xo]=null,xo--)}function Ae(t,e){xo++,ng[xo]=t.current,t.current=e}var Vi={},Ft=qi(Vi),nn=qi(!1),Os=Vi;function Yo(t,e){var n=t.type.contextTypes;if(!n)return Vi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function rn(t){return t=t.childContextTypes,t!=null}function id(){Le(nn),Le(Ft)}function c1(t,e,n){if(Ft.current!==Vi)throw Error(j(168));Ae(Ft,e),Ae(nn,n)}function sS(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(j(108,eD(t)||"Unknown",i));return He({},n,r)}function sd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Vi,Os=Ft.current,Ae(Ft,t),Ae(nn,nn.current),!0}function h1(t,e,n){var r=t.stateNode;if(!r)throw Error(j(169));n?(t=sS(t,e,Os),r.__reactInternalMemoizedMergedChildContext=t,Le(nn),Le(Ft),Ae(Ft,t)):Le(nn),Ae(nn,n)}var Sr=null,af=!1,Op=!1;function oS(t){Sr===null?Sr=[t]:Sr.push(t)}function yN(t){af=!0,oS(t)}function Ki(){if(!Op&&Sr!==null){Op=!0;var t=0,e=be;try{var n=Sr;for(be=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Sr=null,af=!1}catch(i){throw Sr!==null&&(Sr=Sr.slice(t+1)),RT(Gy,Ki),i}finally{be=e,Op=!1}}return null}var bo=[],To=0,od=null,ad=0,wn=[],En=0,Ms=null,Rr=1,Dr="";function hs(t,e){bo[To++]=ad,bo[To++]=od,od=t,ad=e}function aS(t,e,n){wn[En++]=Rr,wn[En++]=Dr,wn[En++]=Ms,Ms=t;var r=Rr;t=Dr;var i=32-zn(r)-1;r&=~(1<<i),n+=1;var s=32-zn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Rr=1<<32-zn(e)+i|n<<i|r,Dr=s+t}else Rr=1<<s|n<<i|r,Dr=t}function r0(t){t.return!==null&&(hs(t,1),aS(t,1,0))}function i0(t){for(;t===od;)od=bo[--To],bo[To]=null,ad=bo[--To],bo[To]=null;for(;t===Ms;)Ms=wn[--En],wn[En]=null,Dr=wn[--En],wn[En]=null,Rr=wn[--En],wn[En]=null}var dn=null,cn=null,Fe=!1,Fn=null;function lS(t,e){var n=xn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function d1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,dn=t,cn=xi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,dn=t,cn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ms!==null?{id:Rr,overflow:Dr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=xn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,dn=t,cn=null,!0):!1;default:return!1}}function rg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ig(t){if(Fe){var e=cn;if(e){var n=e;if(!d1(t,e)){if(rg(t))throw Error(j(418));e=xi(n.nextSibling);var r=dn;e&&d1(t,e)?lS(r,n):(t.flags=t.flags&-4097|2,Fe=!1,dn=t)}}else{if(rg(t))throw Error(j(418));t.flags=t.flags&-4097|2,Fe=!1,dn=t}}}function f1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;dn=t}function Lc(t){if(t!==dn)return!1;if(!Fe)return f1(t),Fe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Jm(t.type,t.memoizedProps)),e&&(e=cn)){if(rg(t))throw uS(),Error(j(418));for(;e;)lS(t,e),e=xi(e.nextSibling)}if(f1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(j(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){cn=xi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}cn=null}}else cn=dn?xi(t.stateNode.nextSibling):null;return!0}function uS(){for(var t=cn;t;)t=xi(t.nextSibling)}function Xo(){cn=dn=null,Fe=!1}function s0(t){Fn===null?Fn=[t]:Fn.push(t)}var vN=Gr.ReactCurrentBatchConfig;function Ya(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(j(309));var r=n.stateNode}if(!r)throw Error(j(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(j(284));if(!n._owner)throw Error(j(290,t))}return t}function Vc(t,e){throw t=Object.prototype.toString.call(e),Error(j(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function p1(t){var e=t._init;return e(t._payload)}function cS(t){function e(w,b){if(t){var T=w.deletions;T===null?(w.deletions=[b],w.flags|=16):T.push(b)}}function n(w,b){if(!t)return null;for(;b!==null;)e(w,b),b=b.sibling;return null}function r(w,b){for(w=new Map;b!==null;)b.key!==null?w.set(b.key,b):w.set(b.index,b),b=b.sibling;return w}function i(w,b){return w=ki(w,b),w.index=0,w.sibling=null,w}function s(w,b,T){return w.index=T,t?(T=w.alternate,T!==null?(T=T.index,T<b?(w.flags|=2,b):T):(w.flags|=2,b)):(w.flags|=1048576,b)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,b,T,R){return b===null||b.tag!==6?(b=zp(T,w.mode,R),b.return=w,b):(b=i(b,T),b.return=w,b)}function l(w,b,T,R){var D=T.type;return D===yo?c(w,b,T.props.children,R,T.key):b!==null&&(b.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===ui&&p1(D)===b.type)?(R=i(b,T.props),R.ref=Ya(w,b,T),R.return=w,R):(R=kh(T.type,T.key,T.props,null,w.mode,R),R.ref=Ya(w,b,T),R.return=w,R)}function u(w,b,T,R){return b===null||b.tag!==4||b.stateNode.containerInfo!==T.containerInfo||b.stateNode.implementation!==T.implementation?(b=Bp(T,w.mode,R),b.return=w,b):(b=i(b,T.children||[]),b.return=w,b)}function c(w,b,T,R,D){return b===null||b.tag!==7?(b=Cs(T,w.mode,R,D),b.return=w,b):(b=i(b,T),b.return=w,b)}function d(w,b,T){if(typeof b=="string"&&b!==""||typeof b=="number")return b=zp(""+b,w.mode,T),b.return=w,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case kc:return T=kh(b.type,b.key,b.props,null,w.mode,T),T.ref=Ya(w,null,b),T.return=w,T;case go:return b=Bp(b,w.mode,T),b.return=w,b;case ui:var R=b._init;return d(w,R(b._payload),T)}if(cl(b)||Wa(b))return b=Cs(b,w.mode,T,null),b.return=w,b;Vc(w,b)}return null}function f(w,b,T,R){var D=b!==null?b.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return D!==null?null:a(w,b,""+T,R);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case kc:return T.key===D?l(w,b,T,R):null;case go:return T.key===D?u(w,b,T,R):null;case ui:return D=T._init,f(w,b,D(T._payload),R)}if(cl(T)||Wa(T))return D!==null?null:c(w,b,T,R,null);Vc(w,T)}return null}function m(w,b,T,R,D){if(typeof R=="string"&&R!==""||typeof R=="number")return w=w.get(T)||null,a(b,w,""+R,D);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case kc:return w=w.get(R.key===null?T:R.key)||null,l(b,w,R,D);case go:return w=w.get(R.key===null?T:R.key)||null,u(b,w,R,D);case ui:var M=R._init;return m(w,b,T,M(R._payload),D)}if(cl(R)||Wa(R))return w=w.get(T)||null,c(b,w,R,D,null);Vc(b,R)}return null}function y(w,b,T,R){for(var D=null,M=null,S=b,x=b=0,I=null;S!==null&&x<T.length;x++){S.index>x?(I=S,S=null):I=S.sibling;var C=f(w,S,T[x],R);if(C===null){S===null&&(S=I);break}t&&S&&C.alternate===null&&e(w,S),b=s(C,b,x),M===null?D=C:M.sibling=C,M=C,S=I}if(x===T.length)return n(w,S),Fe&&hs(w,x),D;if(S===null){for(;x<T.length;x++)S=d(w,T[x],R),S!==null&&(b=s(S,b,x),M===null?D=S:M.sibling=S,M=S);return Fe&&hs(w,x),D}for(S=r(w,S);x<T.length;x++)I=m(S,w,x,T[x],R),I!==null&&(t&&I.alternate!==null&&S.delete(I.key===null?x:I.key),b=s(I,b,x),M===null?D=I:M.sibling=I,M=I);return t&&S.forEach(function(A){return e(w,A)}),Fe&&hs(w,x),D}function _(w,b,T,R){var D=Wa(T);if(typeof D!="function")throw Error(j(150));if(T=D.call(T),T==null)throw Error(j(151));for(var M=D=null,S=b,x=b=0,I=null,C=T.next();S!==null&&!C.done;x++,C=T.next()){S.index>x?(I=S,S=null):I=S.sibling;var A=f(w,S,C.value,R);if(A===null){S===null&&(S=I);break}t&&S&&A.alternate===null&&e(w,S),b=s(A,b,x),M===null?D=A:M.sibling=A,M=A,S=I}if(C.done)return n(w,S),Fe&&hs(w,x),D;if(S===null){for(;!C.done;x++,C=T.next())C=d(w,C.value,R),C!==null&&(b=s(C,b,x),M===null?D=C:M.sibling=C,M=C);return Fe&&hs(w,x),D}for(S=r(w,S);!C.done;x++,C=T.next())C=m(S,w,x,C.value,R),C!==null&&(t&&C.alternate!==null&&S.delete(C.key===null?x:C.key),b=s(C,b,x),M===null?D=C:M.sibling=C,M=C);return t&&S.forEach(function(N){return e(w,N)}),Fe&&hs(w,x),D}function E(w,b,T,R){if(typeof T=="object"&&T!==null&&T.type===yo&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case kc:e:{for(var D=T.key,M=b;M!==null;){if(M.key===D){if(D=T.type,D===yo){if(M.tag===7){n(w,M.sibling),b=i(M,T.props.children),b.return=w,w=b;break e}}else if(M.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===ui&&p1(D)===M.type){n(w,M.sibling),b=i(M,T.props),b.ref=Ya(w,M,T),b.return=w,w=b;break e}n(w,M);break}else e(w,M);M=M.sibling}T.type===yo?(b=Cs(T.props.children,w.mode,R,T.key),b.return=w,w=b):(R=kh(T.type,T.key,T.props,null,w.mode,R),R.ref=Ya(w,b,T),R.return=w,w=R)}return o(w);case go:e:{for(M=T.key;b!==null;){if(b.key===M)if(b.tag===4&&b.stateNode.containerInfo===T.containerInfo&&b.stateNode.implementation===T.implementation){n(w,b.sibling),b=i(b,T.children||[]),b.return=w,w=b;break e}else{n(w,b);break}else e(w,b);b=b.sibling}b=Bp(T,w.mode,R),b.return=w,w=b}return o(w);case ui:return M=T._init,E(w,b,M(T._payload),R)}if(cl(T))return y(w,b,T,R);if(Wa(T))return _(w,b,T,R);Vc(w,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,b!==null&&b.tag===6?(n(w,b.sibling),b=i(b,T),b.return=w,w=b):(n(w,b),b=zp(T,w.mode,R),b.return=w,w=b),o(w)):n(w,b)}return E}var Zo=cS(!0),hS=cS(!1),ld=qi(null),ud=null,So=null,o0=null;function a0(){o0=So=ud=null}function l0(t){var e=ld.current;Le(ld),t._currentValue=e}function sg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function jo(t,e){ud=t,o0=So=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(en=!0),t.firstContext=null)}function In(t){var e=t._currentValue;if(o0!==t)if(t={context:t,memoizedValue:e,next:null},So===null){if(ud===null)throw Error(j(308));So=t,ud.dependencies={lanes:0,firstContext:t}}else So=So.next=t;return e}var vs=null;function u0(t){vs===null?vs=[t]:vs.push(t)}function dS(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,u0(e)):(n.next=i.next,i.next=n),e.interleaved=n,jr(t,r)}function jr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ci=!1;function c0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Vr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function bi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,me&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,jr(t,n)}return i=r.interleaved,i===null?(e.next=e,u0(r)):(e.next=i.next,i.next=e),r.interleaved=e,jr(t,n)}function wh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Qy(t,n)}}function m1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function cd(t,e,n,r){var i=t.updateQueue;ci=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var f=a.lane,m=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,_=a;switch(f=e,m=n,_.tag){case 1:if(y=_.payload,typeof y=="function"){d=y.call(m,d,f);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=_.payload,f=typeof y=="function"?y.call(m,d,f):y,f==null)break e;d=He({},d,f);break e;case 2:ci=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=m,l=d):c=c.next=m,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Vs|=o,t.lanes=o,t.memoizedState=d}}function g1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(j(191,i));i.call(r)}}}var Bu={},ir=qi(Bu),au=qi(Bu),lu=qi(Bu);function _s(t){if(t===Bu)throw Error(j(174));return t}function h0(t,e){switch(Ae(lu,e),Ae(au,t),Ae(ir,Bu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Um(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Um(e,t)}Le(ir),Ae(ir,e)}function Jo(){Le(ir),Le(au),Le(lu)}function pS(t){_s(lu.current);var e=_s(ir.current),n=Um(e,t.type);e!==n&&(Ae(au,t),Ae(ir,n))}function d0(t){au.current===t&&(Le(ir),Le(au))}var je=qi(0);function hd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Mp=[];function f0(){for(var t=0;t<Mp.length;t++)Mp[t]._workInProgressVersionPrimary=null;Mp.length=0}var Eh=Gr.ReactCurrentDispatcher,Lp=Gr.ReactCurrentBatchConfig,Ls=0,Be=null,ot=null,ht=null,dd=!1,Pl=!1,uu=0,_N=0;function At(){throw Error(j(321))}function p0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Hn(t[n],e[n]))return!1;return!0}function m0(t,e,n,r,i,s){if(Ls=s,Be=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Eh.current=t===null||t.memoizedState===null?bN:TN,t=n(r,i),Pl){s=0;do{if(Pl=!1,uu=0,25<=s)throw Error(j(301));s+=1,ht=ot=null,e.updateQueue=null,Eh.current=SN,t=n(r,i)}while(Pl)}if(Eh.current=fd,e=ot!==null&&ot.next!==null,Ls=0,ht=ot=Be=null,dd=!1,e)throw Error(j(300));return t}function g0(){var t=uu!==0;return uu=0,t}function Jn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ht===null?Be.memoizedState=ht=t:ht=ht.next=t,ht}function Cn(){if(ot===null){var t=Be.alternate;t=t!==null?t.memoizedState:null}else t=ot.next;var e=ht===null?Be.memoizedState:ht.next;if(e!==null)ht=e,ot=t;else{if(t===null)throw Error(j(310));ot=t,t={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},ht===null?Be.memoizedState=ht=t:ht=ht.next=t}return ht}function cu(t,e){return typeof e=="function"?e(t):e}function Vp(t){var e=Cn(),n=e.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=t;var r=ot,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Ls&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Be.lanes|=c,Vs|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Hn(r,e.memoizedState)||(en=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Be.lanes|=s,Vs|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Fp(t){var e=Cn(),n=e.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Hn(s,e.memoizedState)||(en=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function mS(){}function gS(t,e){var n=Be,r=Cn(),i=e(),s=!Hn(r.memoizedState,i);if(s&&(r.memoizedState=i,en=!0),r=r.queue,y0(_S.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ht!==null&&ht.memoizedState.tag&1){if(n.flags|=2048,hu(9,vS.bind(null,n,r,i,e),void 0,null),ft===null)throw Error(j(349));Ls&30||yS(n,e,i)}return i}function yS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Be.updateQueue,e===null?(e={lastEffect:null,stores:null},Be.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function vS(t,e,n,r){e.value=n,e.getSnapshot=r,wS(e)&&ES(t)}function _S(t,e,n){return n(function(){wS(e)&&ES(t)})}function wS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Hn(t,n)}catch{return!0}}function ES(t){var e=jr(t,1);e!==null&&Bn(e,t,1,-1)}function y1(t){var e=Jn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cu,lastRenderedState:t},e.queue=t,t=t.dispatch=xN.bind(null,Be,t),[e.memoizedState,t]}function hu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Be.updateQueue,e===null?(e={lastEffect:null,stores:null},Be.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function xS(){return Cn().memoizedState}function xh(t,e,n,r){var i=Jn();Be.flags|=t,i.memoizedState=hu(1|e,n,void 0,r===void 0?null:r)}function lf(t,e,n,r){var i=Cn();r=r===void 0?null:r;var s=void 0;if(ot!==null){var o=ot.memoizedState;if(s=o.destroy,r!==null&&p0(r,o.deps)){i.memoizedState=hu(e,n,s,r);return}}Be.flags|=t,i.memoizedState=hu(1|e,n,s,r)}function v1(t,e){return xh(8390656,8,t,e)}function y0(t,e){return lf(2048,8,t,e)}function bS(t,e){return lf(4,2,t,e)}function TS(t,e){return lf(4,4,t,e)}function SS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function kS(t,e,n){return n=n!=null?n.concat([t]):null,lf(4,4,SS.bind(null,e,t),n)}function v0(){}function IS(t,e){var n=Cn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&p0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function CS(t,e){var n=Cn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&p0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function AS(t,e,n){return Ls&21?(Hn(n,e)||(n=OT(),Be.lanes|=n,Vs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,en=!0),t.memoizedState=n)}function wN(t,e){var n=be;be=n!==0&&4>n?n:4,t(!0);var r=Lp.transition;Lp.transition={};try{t(!1),e()}finally{be=n,Lp.transition=r}}function PS(){return Cn().memoizedState}function EN(t,e,n){var r=Si(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},RS(t))DS(e,n);else if(n=dS(t,e,n,r),n!==null){var i=Wt();Bn(n,t,r,i),NS(n,e,r)}}function xN(t,e,n){var r=Si(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(RS(t))DS(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Hn(a,o)){var l=e.interleaved;l===null?(i.next=i,u0(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=dS(t,e,i,r),n!==null&&(i=Wt(),Bn(n,t,r,i),NS(n,e,r))}}function RS(t){var e=t.alternate;return t===Be||e!==null&&e===Be}function DS(t,e){Pl=dd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function NS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Qy(t,n)}}var fd={readContext:In,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useInsertionEffect:At,useLayoutEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useMutableSource:At,useSyncExternalStore:At,useId:At,unstable_isNewReconciler:!1},bN={readContext:In,useCallback:function(t,e){return Jn().memoizedState=[t,e===void 0?null:e],t},useContext:In,useEffect:v1,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,xh(4194308,4,SS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return xh(4194308,4,t,e)},useInsertionEffect:function(t,e){return xh(4,2,t,e)},useMemo:function(t,e){var n=Jn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Jn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=EN.bind(null,Be,t),[r.memoizedState,t]},useRef:function(t){var e=Jn();return t={current:t},e.memoizedState=t},useState:y1,useDebugValue:v0,useDeferredValue:function(t){return Jn().memoizedState=t},useTransition:function(){var t=y1(!1),e=t[0];return t=wN.bind(null,t[1]),Jn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Be,i=Jn();if(Fe){if(n===void 0)throw Error(j(407));n=n()}else{if(n=e(),ft===null)throw Error(j(349));Ls&30||yS(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,v1(_S.bind(null,r,s,t),[t]),r.flags|=2048,hu(9,vS.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Jn(),e=ft.identifierPrefix;if(Fe){var n=Dr,r=Rr;n=(r&~(1<<32-zn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=uu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=_N++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},TN={readContext:In,useCallback:IS,useContext:In,useEffect:y0,useImperativeHandle:kS,useInsertionEffect:bS,useLayoutEffect:TS,useMemo:CS,useReducer:Vp,useRef:xS,useState:function(){return Vp(cu)},useDebugValue:v0,useDeferredValue:function(t){var e=Cn();return AS(e,ot.memoizedState,t)},useTransition:function(){var t=Vp(cu)[0],e=Cn().memoizedState;return[t,e]},useMutableSource:mS,useSyncExternalStore:gS,useId:PS,unstable_isNewReconciler:!1},SN={readContext:In,useCallback:IS,useContext:In,useEffect:y0,useImperativeHandle:kS,useInsertionEffect:bS,useLayoutEffect:TS,useMemo:CS,useReducer:Fp,useRef:xS,useState:function(){return Fp(cu)},useDebugValue:v0,useDeferredValue:function(t){var e=Cn();return ot===null?e.memoizedState=t:AS(e,ot.memoizedState,t)},useTransition:function(){var t=Fp(cu)[0],e=Cn().memoizedState;return[t,e]},useMutableSource:mS,useSyncExternalStore:gS,useId:PS,unstable_isNewReconciler:!1};function Ln(t,e){if(t&&t.defaultProps){e=He({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function og(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:He({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var uf={isMounted:function(t){return(t=t._reactInternals)?qs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Wt(),i=Si(t),s=Vr(r,i);s.payload=e,n!=null&&(s.callback=n),e=bi(t,s,i),e!==null&&(Bn(e,t,i,r),wh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Wt(),i=Si(t),s=Vr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=bi(t,s,i),e!==null&&(Bn(e,t,i,r),wh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Wt(),r=Si(t),i=Vr(n,r);i.tag=2,e!=null&&(i.callback=e),e=bi(t,i,r),e!==null&&(Bn(e,t,r,n),wh(e,t,r))}};function _1(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!ru(n,r)||!ru(i,s):!0}function OS(t,e,n){var r=!1,i=Vi,s=e.contextType;return typeof s=="object"&&s!==null?s=In(s):(i=rn(e)?Os:Ft.current,r=e.contextTypes,s=(r=r!=null)?Yo(t,i):Vi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=uf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function w1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&uf.enqueueReplaceState(e,e.state,null)}function ag(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},c0(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=In(s):(s=rn(e)?Os:Ft.current,i.context=Yo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(og(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&uf.enqueueReplaceState(i,i.state,null),cd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ea(t,e){try{var n="",r=e;do n+=J4(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Up(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function lg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var kN=typeof WeakMap=="function"?WeakMap:Map;function MS(t,e,n){n=Vr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){md||(md=!0,vg=r),lg(t,e)},n}function LS(t,e,n){n=Vr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){lg(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){lg(t,e),typeof r!="function"&&(Ti===null?Ti=new Set([this]):Ti.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function E1(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new kN;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=jN.bind(null,t,e,n),e.then(t,t))}function x1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function b1(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Vr(-1,1),e.tag=2,bi(n,e,1))),n.lanes|=1),t)}var IN=Gr.ReactCurrentOwner,en=!1;function $t(t,e,n,r){e.child=t===null?hS(e,null,n,r):Zo(e,t.child,n,r)}function T1(t,e,n,r,i){n=n.render;var s=e.ref;return jo(e,i),r=m0(t,e,n,r,s,i),n=g0(),t!==null&&!en?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,zr(t,e,i)):(Fe&&n&&r0(e),e.flags|=1,$t(t,e,r,i),e.child)}function S1(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!k0(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,VS(t,e,s,r,i)):(t=kh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ru,n(o,r)&&t.ref===e.ref)return zr(t,e,i)}return e.flags|=1,t=ki(s,r),t.ref=e.ref,t.return=e,e.child=t}function VS(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(ru(s,r)&&t.ref===e.ref)if(en=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(en=!0);else return e.lanes=t.lanes,zr(t,e,i)}return ug(t,e,n,r,i)}function FS(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ae(Io,un),un|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ae(Io,un),un|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ae(Io,un),un|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ae(Io,un),un|=r;return $t(t,e,i,n),e.child}function US(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ug(t,e,n,r,i){var s=rn(n)?Os:Ft.current;return s=Yo(e,s),jo(e,i),n=m0(t,e,n,r,s,i),r=g0(),t!==null&&!en?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,zr(t,e,i)):(Fe&&r&&r0(e),e.flags|=1,$t(t,e,n,i),e.child)}function k1(t,e,n,r,i){if(rn(n)){var s=!0;sd(e)}else s=!1;if(jo(e,i),e.stateNode===null)bh(t,e),OS(e,n,r),ag(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=In(u):(u=rn(n)?Os:Ft.current,u=Yo(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&w1(e,o,r,u),ci=!1;var f=e.memoizedState;o.state=f,cd(e,r,o,i),l=e.memoizedState,a!==r||f!==l||nn.current||ci?(typeof c=="function"&&(og(e,n,c,r),l=e.memoizedState),(a=ci||_1(e,n,a,r,f,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,fS(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Ln(e.type,a),o.props=u,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=In(l):(l=rn(n)?Os:Ft.current,l=Yo(e,l));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&w1(e,o,r,l),ci=!1,f=e.memoizedState,o.state=f,cd(e,r,o,i);var y=e.memoizedState;a!==d||f!==y||nn.current||ci?(typeof m=="function"&&(og(e,n,m,r),y=e.memoizedState),(u=ci||_1(e,n,u,r,f,y,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return cg(t,e,n,r,s,i)}function cg(t,e,n,r,i,s){US(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&h1(e,n,!1),zr(t,e,s);r=e.stateNode,IN.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Zo(e,t.child,null,s),e.child=Zo(e,null,a,s)):$t(t,e,a,s),e.memoizedState=r.state,i&&h1(e,n,!0),e.child}function jS(t){var e=t.stateNode;e.pendingContext?c1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&c1(t,e.context,!1),h0(t,e.containerInfo)}function I1(t,e,n,r,i){return Xo(),s0(i),e.flags|=256,$t(t,e,n,r),e.child}var hg={dehydrated:null,treeContext:null,retryLane:0};function dg(t){return{baseLanes:t,cachePool:null,transitions:null}}function zS(t,e,n){var r=e.pendingProps,i=je.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ae(je,i&1),t===null)return ig(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=df(o,r,0,null),t=Cs(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=dg(n),e.memoizedState=hg,t):_0(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return CN(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ki(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ki(a,s):(s=Cs(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?dg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=hg,r}return s=t.child,t=s.sibling,r=ki(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function _0(t,e){return e=df({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Fc(t,e,n,r){return r!==null&&s0(r),Zo(e,t.child,null,n),t=_0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function CN(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Up(Error(j(422))),Fc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=df({mode:"visible",children:r.children},i,0,null),s=Cs(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Zo(e,t.child,null,o),e.child.memoizedState=dg(o),e.memoizedState=hg,s);if(!(e.mode&1))return Fc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(j(419)),r=Up(s,r,void 0),Fc(t,e,o,r)}if(a=(o&t.childLanes)!==0,en||a){if(r=ft,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,jr(t,i),Bn(r,t,i,-1))}return S0(),r=Up(Error(j(421))),Fc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=zN.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,cn=xi(i.nextSibling),dn=e,Fe=!0,Fn=null,t!==null&&(wn[En++]=Rr,wn[En++]=Dr,wn[En++]=Ms,Rr=t.id,Dr=t.overflow,Ms=e),e=_0(e,r.children),e.flags|=4096,e)}function C1(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),sg(t.return,e,n)}function jp(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function BS(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if($t(t,e,r.children,n),r=je.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&C1(t,n,e);else if(t.tag===19)C1(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ae(je,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&hd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),jp(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&hd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}jp(e,!0,n,null,s);break;case"together":jp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function bh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function zr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Vs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(j(153));if(e.child!==null){for(t=e.child,n=ki(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ki(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function AN(t,e,n){switch(e.tag){case 3:jS(e),Xo();break;case 5:pS(e);break;case 1:rn(e.type)&&sd(e);break;case 4:h0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ae(ld,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ae(je,je.current&1),e.flags|=128,null):n&e.child.childLanes?zS(t,e,n):(Ae(je,je.current&1),t=zr(t,e,n),t!==null?t.sibling:null);Ae(je,je.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return BS(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ae(je,je.current),r)break;return null;case 22:case 23:return e.lanes=0,FS(t,e,n)}return zr(t,e,n)}var $S,fg,HS,WS;$S=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};fg=function(){};HS=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,_s(ir.current);var s=null;switch(n){case"input":i=Mm(t,i),r=Mm(t,r),s=[];break;case"select":i=He({},i,{value:void 0}),r=He({},r,{value:void 0}),s=[];break;case"textarea":i=Fm(t,i),r=Fm(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=rd)}jm(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Yl.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Yl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ne("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};WS=function(t,e,n,r){n!==r&&(e.flags|=4)};function Xa(t,e){if(!Fe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Pt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function PN(t,e,n){var r=e.pendingProps;switch(i0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(e),null;case 1:return rn(e.type)&&id(),Pt(e),null;case 3:return r=e.stateNode,Jo(),Le(nn),Le(Ft),f0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Lc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Fn!==null&&(Eg(Fn),Fn=null))),fg(t,e),Pt(e),null;case 5:d0(e);var i=_s(lu.current);if(n=e.type,t!==null&&e.stateNode!=null)HS(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(j(166));return Pt(e),null}if(t=_s(ir.current),Lc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[nr]=e,r[ou]=s,t=(e.mode&1)!==0,n){case"dialog":Ne("cancel",r),Ne("close",r);break;case"iframe":case"object":case"embed":Ne("load",r);break;case"video":case"audio":for(i=0;i<dl.length;i++)Ne(dl[i],r);break;case"source":Ne("error",r);break;case"img":case"image":case"link":Ne("error",r),Ne("load",r);break;case"details":Ne("toggle",r);break;case"input":Vw(r,s),Ne("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ne("invalid",r);break;case"textarea":Uw(r,s),Ne("invalid",r)}jm(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Mc(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Mc(r.textContent,a,t),i=["children",""+a]):Yl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ne("scroll",r)}switch(n){case"input":Ic(r),Fw(r,s,!0);break;case"textarea":Ic(r),jw(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=rd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=_T(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[nr]=e,t[ou]=r,$S(t,e,!1,!1),e.stateNode=t;e:{switch(o=zm(n,r),n){case"dialog":Ne("cancel",t),Ne("close",t),i=r;break;case"iframe":case"object":case"embed":Ne("load",t),i=r;break;case"video":case"audio":for(i=0;i<dl.length;i++)Ne(dl[i],t);i=r;break;case"source":Ne("error",t),i=r;break;case"img":case"image":case"link":Ne("error",t),Ne("load",t),i=r;break;case"details":Ne("toggle",t),i=r;break;case"input":Vw(t,r),i=Mm(t,r),Ne("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=He({},r,{value:void 0}),Ne("invalid",t);break;case"textarea":Uw(t,r),i=Fm(t,r),Ne("invalid",t);break;default:i=r}jm(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?xT(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&wT(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Xl(t,l):typeof l=="number"&&Xl(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Yl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ne("scroll",t):l!=null&&$y(t,s,l,o))}switch(n){case"input":Ic(t),Fw(t,r,!1);break;case"textarea":Ic(t),jw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Li(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Lo(t,!!r.multiple,s,!1):r.defaultValue!=null&&Lo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=rd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Pt(e),null;case 6:if(t&&e.stateNode!=null)WS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(j(166));if(n=_s(lu.current),_s(ir.current),Lc(e)){if(r=e.stateNode,n=e.memoizedProps,r[nr]=e,(s=r.nodeValue!==n)&&(t=dn,t!==null))switch(t.tag){case 3:Mc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Mc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[nr]=e,e.stateNode=r}return Pt(e),null;case 13:if(Le(je),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Fe&&cn!==null&&e.mode&1&&!(e.flags&128))uS(),Xo(),e.flags|=98560,s=!1;else if(s=Lc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(j(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(j(317));s[nr]=e}else Xo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Pt(e),s=!1}else Fn!==null&&(Eg(Fn),Fn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||je.current&1?at===0&&(at=3):S0())),e.updateQueue!==null&&(e.flags|=4),Pt(e),null);case 4:return Jo(),fg(t,e),t===null&&iu(e.stateNode.containerInfo),Pt(e),null;case 10:return l0(e.type._context),Pt(e),null;case 17:return rn(e.type)&&id(),Pt(e),null;case 19:if(Le(je),s=e.memoizedState,s===null)return Pt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Xa(s,!1);else{if(at!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=hd(t),o!==null){for(e.flags|=128,Xa(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ae(je,je.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ze()>ta&&(e.flags|=128,r=!0,Xa(s,!1),e.lanes=4194304)}else{if(!r)if(t=hd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Xa(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Fe)return Pt(e),null}else 2*Ze()-s.renderingStartTime>ta&&n!==1073741824&&(e.flags|=128,r=!0,Xa(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ze(),e.sibling=null,n=je.current,Ae(je,r?n&1|2:n&1),e):(Pt(e),null);case 22:case 23:return T0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?un&1073741824&&(Pt(e),e.subtreeFlags&6&&(e.flags|=8192)):Pt(e),null;case 24:return null;case 25:return null}throw Error(j(156,e.tag))}function RN(t,e){switch(i0(e),e.tag){case 1:return rn(e.type)&&id(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Jo(),Le(nn),Le(Ft),f0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return d0(e),null;case 13:if(Le(je),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(j(340));Xo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Le(je),null;case 4:return Jo(),null;case 10:return l0(e.type._context),null;case 22:case 23:return T0(),null;case 24:return null;default:return null}}var Uc=!1,Ot=!1,DN=typeof WeakSet=="function"?WeakSet:Set,H=null;function ko(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ge(t,e,r)}else n.current=null}function pg(t,e,n){try{n()}catch(r){Ge(t,e,r)}}var A1=!1;function NN(t,e){if(Xm=ed,t=YT(),n0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,f=null;t:for(;;){for(var m;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)f=d,d=m;for(;;){if(d===t)break t;if(f===n&&++u===i&&(a=o),f===s&&++c===r&&(l=o),(m=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Zm={focusedElem:t,selectionRange:n},ed=!1,H=e;H!==null;)if(e=H,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,H=t;else for(;H!==null;){e=H;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var _=y.memoizedProps,E=y.memoizedState,w=e.stateNode,b=w.getSnapshotBeforeUpdate(e.elementType===e.type?_:Ln(e.type,_),E);w.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(R){Ge(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,H=t;break}H=e.return}return y=A1,A1=!1,y}function Rl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&pg(e,n,s)}i=i.next}while(i!==r)}}function cf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function mg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function qS(t){var e=t.alternate;e!==null&&(t.alternate=null,qS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[nr],delete e[ou],delete e[tg],delete e[mN],delete e[gN])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function KS(t){return t.tag===5||t.tag===3||t.tag===4}function P1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||KS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function gg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=rd));else if(r!==4&&(t=t.child,t!==null))for(gg(t,e,n),t=t.sibling;t!==null;)gg(t,e,n),t=t.sibling}function yg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(yg(t,e,n),t=t.sibling;t!==null;)yg(t,e,n),t=t.sibling}var yt=null,Vn=!1;function ni(t,e,n){for(n=n.child;n!==null;)GS(t,e,n),n=n.sibling}function GS(t,e,n){if(rr&&typeof rr.onCommitFiberUnmount=="function")try{rr.onCommitFiberUnmount(tf,n)}catch{}switch(n.tag){case 5:Ot||ko(n,e);case 6:var r=yt,i=Vn;yt=null,ni(t,e,n),yt=r,Vn=i,yt!==null&&(Vn?(t=yt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):yt.removeChild(n.stateNode));break;case 18:yt!==null&&(Vn?(t=yt,n=n.stateNode,t.nodeType===8?Np(t.parentNode,n):t.nodeType===1&&Np(t,n),tu(t)):Np(yt,n.stateNode));break;case 4:r=yt,i=Vn,yt=n.stateNode.containerInfo,Vn=!0,ni(t,e,n),yt=r,Vn=i;break;case 0:case 11:case 14:case 15:if(!Ot&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&pg(n,e,o),i=i.next}while(i!==r)}ni(t,e,n);break;case 1:if(!Ot&&(ko(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ge(n,e,a)}ni(t,e,n);break;case 21:ni(t,e,n);break;case 22:n.mode&1?(Ot=(r=Ot)||n.memoizedState!==null,ni(t,e,n),Ot=r):ni(t,e,n);break;default:ni(t,e,n)}}function R1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new DN),e.forEach(function(r){var i=BN.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Dn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:yt=a.stateNode,Vn=!1;break e;case 3:yt=a.stateNode.containerInfo,Vn=!0;break e;case 4:yt=a.stateNode.containerInfo,Vn=!0;break e}a=a.return}if(yt===null)throw Error(j(160));GS(s,o,i),yt=null,Vn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ge(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)QS(e,t),e=e.sibling}function QS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Dn(e,t),Qn(t),r&4){try{Rl(3,t,t.return),cf(3,t)}catch(_){Ge(t,t.return,_)}try{Rl(5,t,t.return)}catch(_){Ge(t,t.return,_)}}break;case 1:Dn(e,t),Qn(t),r&512&&n!==null&&ko(n,n.return);break;case 5:if(Dn(e,t),Qn(t),r&512&&n!==null&&ko(n,n.return),t.flags&32){var i=t.stateNode;try{Xl(i,"")}catch(_){Ge(t,t.return,_)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&yT(i,s),zm(a,o);var u=zm(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?xT(i,d):c==="dangerouslySetInnerHTML"?wT(i,d):c==="children"?Xl(i,d):$y(i,c,d,u)}switch(a){case"input":Lm(i,s);break;case"textarea":vT(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Lo(i,!!s.multiple,m,!1):f!==!!s.multiple&&(s.defaultValue!=null?Lo(i,!!s.multiple,s.defaultValue,!0):Lo(i,!!s.multiple,s.multiple?[]:"",!1))}i[ou]=s}catch(_){Ge(t,t.return,_)}}break;case 6:if(Dn(e,t),Qn(t),r&4){if(t.stateNode===null)throw Error(j(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(_){Ge(t,t.return,_)}}break;case 3:if(Dn(e,t),Qn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{tu(e.containerInfo)}catch(_){Ge(t,t.return,_)}break;case 4:Dn(e,t),Qn(t);break;case 13:Dn(e,t),Qn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(x0=Ze())),r&4&&R1(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Ot=(u=Ot)||c,Dn(e,t),Ot=u):Dn(e,t),Qn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(H=t,c=t.child;c!==null;){for(d=H=c;H!==null;){switch(f=H,m=f.child,f.tag){case 0:case 11:case 14:case 15:Rl(4,f,f.return);break;case 1:ko(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(_){Ge(r,n,_)}}break;case 5:ko(f,f.return);break;case 22:if(f.memoizedState!==null){N1(d);continue}}m!==null?(m.return=f,H=m):N1(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=ET("display",o))}catch(_){Ge(t,t.return,_)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(_){Ge(t,t.return,_)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Dn(e,t),Qn(t),r&4&&R1(t);break;case 21:break;default:Dn(e,t),Qn(t)}}function Qn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(KS(n)){var r=n;break e}n=n.return}throw Error(j(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Xl(i,""),r.flags&=-33);var s=P1(t);yg(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=P1(t);gg(t,a,o);break;default:throw Error(j(161))}}catch(l){Ge(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function ON(t,e,n){H=t,YS(t)}function YS(t,e,n){for(var r=(t.mode&1)!==0;H!==null;){var i=H,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Uc;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ot;a=Uc;var u=Ot;if(Uc=o,(Ot=l)&&!u)for(H=i;H!==null;)o=H,l=o.child,o.tag===22&&o.memoizedState!==null?O1(i):l!==null?(l.return=o,H=l):O1(i);for(;s!==null;)H=s,YS(s),s=s.sibling;H=i,Uc=a,Ot=u}D1(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,H=s):D1(t)}}function D1(t){for(;H!==null;){var e=H;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ot||cf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ot)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Ln(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&g1(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}g1(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&tu(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}Ot||e.flags&512&&mg(e)}catch(f){Ge(e,e.return,f)}}if(e===t){H=null;break}if(n=e.sibling,n!==null){n.return=e.return,H=n;break}H=e.return}}function N1(t){for(;H!==null;){var e=H;if(e===t){H=null;break}var n=e.sibling;if(n!==null){n.return=e.return,H=n;break}H=e.return}}function O1(t){for(;H!==null;){var e=H;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{cf(4,e)}catch(l){Ge(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ge(e,i,l)}}var s=e.return;try{mg(e)}catch(l){Ge(e,s,l)}break;case 5:var o=e.return;try{mg(e)}catch(l){Ge(e,o,l)}}}catch(l){Ge(e,e.return,l)}if(e===t){H=null;break}var a=e.sibling;if(a!==null){a.return=e.return,H=a;break}H=e.return}}var MN=Math.ceil,pd=Gr.ReactCurrentDispatcher,w0=Gr.ReactCurrentOwner,Sn=Gr.ReactCurrentBatchConfig,me=0,ft=null,rt=null,xt=0,un=0,Io=qi(0),at=0,du=null,Vs=0,hf=0,E0=0,Dl=null,Yt=null,x0=0,ta=1/0,Tr=null,md=!1,vg=null,Ti=null,jc=!1,mi=null,gd=0,Nl=0,_g=null,Th=-1,Sh=0;function Wt(){return me&6?Ze():Th!==-1?Th:Th=Ze()}function Si(t){return t.mode&1?me&2&&xt!==0?xt&-xt:vN.transition!==null?(Sh===0&&(Sh=OT()),Sh):(t=be,t!==0||(t=window.event,t=t===void 0?16:zT(t.type)),t):1}function Bn(t,e,n,r){if(50<Nl)throw Nl=0,_g=null,Error(j(185));Uu(t,n,r),(!(me&2)||t!==ft)&&(t===ft&&(!(me&2)&&(hf|=n),at===4&&di(t,xt)),sn(t,r),n===1&&me===0&&!(e.mode&1)&&(ta=Ze()+500,af&&Ki()))}function sn(t,e){var n=t.callbackNode;vD(t,e);var r=Jh(t,t===ft?xt:0);if(r===0)n!==null&&$w(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&$w(n),e===1)t.tag===0?yN(M1.bind(null,t)):oS(M1.bind(null,t)),fN(function(){!(me&6)&&Ki()}),n=null;else{switch(MT(r)){case 1:n=Gy;break;case 4:n=DT;break;case 16:n=Zh;break;case 536870912:n=NT;break;default:n=Zh}n=ik(n,XS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function XS(t,e){if(Th=-1,Sh=0,me&6)throw Error(j(327));var n=t.callbackNode;if(zo()&&t.callbackNode!==n)return null;var r=Jh(t,t===ft?xt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=yd(t,r);else{e=r;var i=me;me|=2;var s=JS();(ft!==t||xt!==e)&&(Tr=null,ta=Ze()+500,Is(t,e));do try{FN();break}catch(a){ZS(t,a)}while(!0);a0(),pd.current=s,me=i,rt!==null?e=0:(ft=null,xt=0,e=at)}if(e!==0){if(e===2&&(i=qm(t),i!==0&&(r=i,e=wg(t,i))),e===1)throw n=du,Is(t,0),di(t,r),sn(t,Ze()),n;if(e===6)di(t,r);else{if(i=t.current.alternate,!(r&30)&&!LN(i)&&(e=yd(t,r),e===2&&(s=qm(t),s!==0&&(r=s,e=wg(t,s))),e===1))throw n=du,Is(t,0),di(t,r),sn(t,Ze()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(j(345));case 2:ds(t,Yt,Tr);break;case 3:if(di(t,r),(r&130023424)===r&&(e=x0+500-Ze(),10<e)){if(Jh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Wt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=eg(ds.bind(null,t,Yt,Tr),e);break}ds(t,Yt,Tr);break;case 4:if(di(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-zn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ze()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*MN(r/1960))-r,10<r){t.timeoutHandle=eg(ds.bind(null,t,Yt,Tr),r);break}ds(t,Yt,Tr);break;case 5:ds(t,Yt,Tr);break;default:throw Error(j(329))}}}return sn(t,Ze()),t.callbackNode===n?XS.bind(null,t):null}function wg(t,e){var n=Dl;return t.current.memoizedState.isDehydrated&&(Is(t,e).flags|=256),t=yd(t,e),t!==2&&(e=Yt,Yt=n,e!==null&&Eg(e)),t}function Eg(t){Yt===null?Yt=t:Yt.push.apply(Yt,t)}function LN(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Hn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function di(t,e){for(e&=~E0,e&=~hf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-zn(e),r=1<<n;t[n]=-1,e&=~r}}function M1(t){if(me&6)throw Error(j(327));zo();var e=Jh(t,0);if(!(e&1))return sn(t,Ze()),null;var n=yd(t,e);if(t.tag!==0&&n===2){var r=qm(t);r!==0&&(e=r,n=wg(t,r))}if(n===1)throw n=du,Is(t,0),di(t,e),sn(t,Ze()),n;if(n===6)throw Error(j(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ds(t,Yt,Tr),sn(t,Ze()),null}function b0(t,e){var n=me;me|=1;try{return t(e)}finally{me=n,me===0&&(ta=Ze()+500,af&&Ki())}}function Fs(t){mi!==null&&mi.tag===0&&!(me&6)&&zo();var e=me;me|=1;var n=Sn.transition,r=be;try{if(Sn.transition=null,be=1,t)return t()}finally{be=r,Sn.transition=n,me=e,!(me&6)&&Ki()}}function T0(){un=Io.current,Le(Io)}function Is(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,dN(n)),rt!==null)for(n=rt.return;n!==null;){var r=n;switch(i0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&id();break;case 3:Jo(),Le(nn),Le(Ft),f0();break;case 5:d0(r);break;case 4:Jo();break;case 13:Le(je);break;case 19:Le(je);break;case 10:l0(r.type._context);break;case 22:case 23:T0()}n=n.return}if(ft=t,rt=t=ki(t.current,null),xt=un=e,at=0,du=null,E0=hf=Vs=0,Yt=Dl=null,vs!==null){for(e=0;e<vs.length;e++)if(n=vs[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}vs=null}return t}function ZS(t,e){do{var n=rt;try{if(a0(),Eh.current=fd,dd){for(var r=Be.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}dd=!1}if(Ls=0,ht=ot=Be=null,Pl=!1,uu=0,w0.current=null,n===null||n.return===null){at=1,du=e,rt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=xt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=x1(o);if(m!==null){m.flags&=-257,b1(m,o,a,s,e),m.mode&1&&E1(s,u,e),e=m,l=u;var y=e.updateQueue;if(y===null){var _=new Set;_.add(l),e.updateQueue=_}else y.add(l);break e}else{if(!(e&1)){E1(s,u,e),S0();break e}l=Error(j(426))}}else if(Fe&&a.mode&1){var E=x1(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),b1(E,o,a,s,e),s0(ea(l,a));break e}}s=l=ea(l,a),at!==4&&(at=2),Dl===null?Dl=[s]:Dl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=MS(s,l,e);m1(s,w);break e;case 1:a=l;var b=s.type,T=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Ti===null||!Ti.has(T)))){s.flags|=65536,e&=-e,s.lanes|=e;var R=LS(s,a,e);m1(s,R);break e}}s=s.return}while(s!==null)}tk(n)}catch(D){e=D,rt===n&&n!==null&&(rt=n=n.return);continue}break}while(!0)}function JS(){var t=pd.current;return pd.current=fd,t===null?fd:t}function S0(){(at===0||at===3||at===2)&&(at=4),ft===null||!(Vs&268435455)&&!(hf&268435455)||di(ft,xt)}function yd(t,e){var n=me;me|=2;var r=JS();(ft!==t||xt!==e)&&(Tr=null,Is(t,e));do try{VN();break}catch(i){ZS(t,i)}while(!0);if(a0(),me=n,pd.current=r,rt!==null)throw Error(j(261));return ft=null,xt=0,at}function VN(){for(;rt!==null;)ek(rt)}function FN(){for(;rt!==null&&!uD();)ek(rt)}function ek(t){var e=rk(t.alternate,t,un);t.memoizedProps=t.pendingProps,e===null?tk(t):rt=e,w0.current=null}function tk(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=RN(n,e),n!==null){n.flags&=32767,rt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{at=6,rt=null;return}}else if(n=PN(n,e,un),n!==null){rt=n;return}if(e=e.sibling,e!==null){rt=e;return}rt=e=t}while(e!==null);at===0&&(at=5)}function ds(t,e,n){var r=be,i=Sn.transition;try{Sn.transition=null,be=1,UN(t,e,n,r)}finally{Sn.transition=i,be=r}return null}function UN(t,e,n,r){do zo();while(mi!==null);if(me&6)throw Error(j(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(j(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(_D(t,s),t===ft&&(rt=ft=null,xt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||jc||(jc=!0,ik(Zh,function(){return zo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Sn.transition,Sn.transition=null;var o=be;be=1;var a=me;me|=4,w0.current=null,NN(t,n),QS(n,t),sN(Zm),ed=!!Xm,Zm=Xm=null,t.current=n,ON(n),cD(),me=a,be=o,Sn.transition=s}else t.current=n;if(jc&&(jc=!1,mi=t,gd=i),s=t.pendingLanes,s===0&&(Ti=null),fD(n.stateNode),sn(t,Ze()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(md)throw md=!1,t=vg,vg=null,t;return gd&1&&t.tag!==0&&zo(),s=t.pendingLanes,s&1?t===_g?Nl++:(Nl=0,_g=t):Nl=0,Ki(),null}function zo(){if(mi!==null){var t=MT(gd),e=Sn.transition,n=be;try{if(Sn.transition=null,be=16>t?16:t,mi===null)var r=!1;else{if(t=mi,mi=null,gd=0,me&6)throw Error(j(331));var i=me;for(me|=4,H=t.current;H!==null;){var s=H,o=s.child;if(H.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(H=u;H!==null;){var c=H;switch(c.tag){case 0:case 11:case 15:Rl(8,c,s)}var d=c.child;if(d!==null)d.return=c,H=d;else for(;H!==null;){c=H;var f=c.sibling,m=c.return;if(qS(c),c===u){H=null;break}if(f!==null){f.return=m,H=f;break}H=m}}}var y=s.alternate;if(y!==null){var _=y.child;if(_!==null){y.child=null;do{var E=_.sibling;_.sibling=null,_=E}while(_!==null)}}H=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,H=o;else e:for(;H!==null;){if(s=H,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Rl(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,H=w;break e}H=s.return}}var b=t.current;for(H=b;H!==null;){o=H;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,H=T;else e:for(o=b;H!==null;){if(a=H,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:cf(9,a)}}catch(D){Ge(a,a.return,D)}if(a===o){H=null;break e}var R=a.sibling;if(R!==null){R.return=a.return,H=R;break e}H=a.return}}if(me=i,Ki(),rr&&typeof rr.onPostCommitFiberRoot=="function")try{rr.onPostCommitFiberRoot(tf,t)}catch{}r=!0}return r}finally{be=n,Sn.transition=e}}return!1}function L1(t,e,n){e=ea(n,e),e=MS(t,e,1),t=bi(t,e,1),e=Wt(),t!==null&&(Uu(t,1,e),sn(t,e))}function Ge(t,e,n){if(t.tag===3)L1(t,t,n);else for(;e!==null;){if(e.tag===3){L1(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ti===null||!Ti.has(r))){t=ea(n,t),t=LS(e,t,1),e=bi(e,t,1),t=Wt(),e!==null&&(Uu(e,1,t),sn(e,t));break}}e=e.return}}function jN(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Wt(),t.pingedLanes|=t.suspendedLanes&n,ft===t&&(xt&n)===n&&(at===4||at===3&&(xt&130023424)===xt&&500>Ze()-x0?Is(t,0):E0|=n),sn(t,e)}function nk(t,e){e===0&&(t.mode&1?(e=Pc,Pc<<=1,!(Pc&130023424)&&(Pc=4194304)):e=1);var n=Wt();t=jr(t,e),t!==null&&(Uu(t,e,n),sn(t,n))}function zN(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),nk(t,n)}function BN(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(j(314))}r!==null&&r.delete(e),nk(t,n)}var rk;rk=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||nn.current)en=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return en=!1,AN(t,e,n);en=!!(t.flags&131072)}else en=!1,Fe&&e.flags&1048576&&aS(e,ad,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;bh(t,e),t=e.pendingProps;var i=Yo(e,Ft.current);jo(e,n),i=m0(null,e,r,t,i,n);var s=g0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,rn(r)?(s=!0,sd(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,c0(e),i.updater=uf,e.stateNode=i,i._reactInternals=e,ag(e,r,t,n),e=cg(null,e,r,!0,s,n)):(e.tag=0,Fe&&s&&r0(e),$t(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(bh(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=HN(r),t=Ln(r,t),i){case 0:e=ug(null,e,r,t,n);break e;case 1:e=k1(null,e,r,t,n);break e;case 11:e=T1(null,e,r,t,n);break e;case 14:e=S1(null,e,r,Ln(r.type,t),n);break e}throw Error(j(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ln(r,i),ug(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ln(r,i),k1(t,e,r,i,n);case 3:e:{if(jS(e),t===null)throw Error(j(387));r=e.pendingProps,s=e.memoizedState,i=s.element,fS(t,e),cd(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ea(Error(j(423)),e),e=I1(t,e,r,n,i);break e}else if(r!==i){i=ea(Error(j(424)),e),e=I1(t,e,r,n,i);break e}else for(cn=xi(e.stateNode.containerInfo.firstChild),dn=e,Fe=!0,Fn=null,n=hS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Xo(),r===i){e=zr(t,e,n);break e}$t(t,e,r,n)}e=e.child}return e;case 5:return pS(e),t===null&&ig(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Jm(r,i)?o=null:s!==null&&Jm(r,s)&&(e.flags|=32),US(t,e),$t(t,e,o,n),e.child;case 6:return t===null&&ig(e),null;case 13:return zS(t,e,n);case 4:return h0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Zo(e,null,r,n):$t(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ln(r,i),T1(t,e,r,i,n);case 7:return $t(t,e,e.pendingProps,n),e.child;case 8:return $t(t,e,e.pendingProps.children,n),e.child;case 12:return $t(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ae(ld,r._currentValue),r._currentValue=o,s!==null)if(Hn(s.value,o)){if(s.children===i.children&&!nn.current){e=zr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Vr(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),sg(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(j(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),sg(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}$t(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,jo(e,n),i=In(i),r=r(i),e.flags|=1,$t(t,e,r,n),e.child;case 14:return r=e.type,i=Ln(r,e.pendingProps),i=Ln(r.type,i),S1(t,e,r,i,n);case 15:return VS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ln(r,i),bh(t,e),e.tag=1,rn(r)?(t=!0,sd(e)):t=!1,jo(e,n),OS(e,r,i),ag(e,r,i,n),cg(null,e,r,!0,t,n);case 19:return BS(t,e,n);case 22:return FS(t,e,n)}throw Error(j(156,e.tag))};function ik(t,e){return RT(t,e)}function $N(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(t,e,n,r){return new $N(t,e,n,r)}function k0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function HN(t){if(typeof t=="function")return k0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Wy)return 11;if(t===qy)return 14}return 2}function ki(t,e){var n=t.alternate;return n===null?(n=xn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function kh(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")k0(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case yo:return Cs(n.children,i,s,e);case Hy:o=8,i|=8;break;case Rm:return t=xn(12,n,e,i|2),t.elementType=Rm,t.lanes=s,t;case Dm:return t=xn(13,n,e,i),t.elementType=Dm,t.lanes=s,t;case Nm:return t=xn(19,n,e,i),t.elementType=Nm,t.lanes=s,t;case pT:return df(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case dT:o=10;break e;case fT:o=9;break e;case Wy:o=11;break e;case qy:o=14;break e;case ui:o=16,r=null;break e}throw Error(j(130,t==null?t:typeof t,""))}return e=xn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Cs(t,e,n,r){return t=xn(7,t,r,e),t.lanes=n,t}function df(t,e,n,r){return t=xn(22,t,r,e),t.elementType=pT,t.lanes=n,t.stateNode={isHidden:!1},t}function zp(t,e,n){return t=xn(6,t,null,e),t.lanes=n,t}function Bp(t,e,n){return e=xn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function WN(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xp(0),this.expirationTimes=xp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function I0(t,e,n,r,i,s,o,a,l){return t=new WN(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=xn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},c0(s),t}function qN(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:go,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function sk(t){if(!t)return Vi;t=t._reactInternals;e:{if(qs(t)!==t||t.tag!==1)throw Error(j(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(rn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(j(171))}if(t.tag===1){var n=t.type;if(rn(n))return sS(t,n,e)}return e}function ok(t,e,n,r,i,s,o,a,l){return t=I0(n,r,!0,t,i,s,o,a,l),t.context=sk(null),n=t.current,r=Wt(),i=Si(n),s=Vr(r,i),s.callback=e??null,bi(n,s,i),t.current.lanes=i,Uu(t,i,r),sn(t,r),t}function ff(t,e,n,r){var i=e.current,s=Wt(),o=Si(i);return n=sk(n),e.context===null?e.context=n:e.pendingContext=n,e=Vr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=bi(i,e,o),t!==null&&(Bn(t,i,o,s),wh(t,i,o)),o}function vd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function V1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function C0(t,e){V1(t,e),(t=t.alternate)&&V1(t,e)}function KN(){return null}var ak=typeof reportError=="function"?reportError:function(t){console.error(t)};function A0(t){this._internalRoot=t}pf.prototype.render=A0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(j(409));ff(t,e,null,null)};pf.prototype.unmount=A0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Fs(function(){ff(null,t,null,null)}),e[Ur]=null}};function pf(t){this._internalRoot=t}pf.prototype.unstable_scheduleHydration=function(t){if(t){var e=FT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<hi.length&&e!==0&&e<hi[n].priority;n++);hi.splice(n,0,t),n===0&&jT(t)}};function P0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function mf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function F1(){}function GN(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=vd(o);s.call(u)}}var o=ok(e,r,t,0,null,!1,!1,"",F1);return t._reactRootContainer=o,t[Ur]=o.current,iu(t.nodeType===8?t.parentNode:t),Fs(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=vd(l);a.call(u)}}var l=I0(t,0,!1,null,null,!1,!1,"",F1);return t._reactRootContainer=l,t[Ur]=l.current,iu(t.nodeType===8?t.parentNode:t),Fs(function(){ff(e,l,n,r)}),l}function gf(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=vd(o);a.call(l)}}ff(e,o,t,i)}else o=GN(n,e,t,i,r);return vd(o)}LT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=hl(e.pendingLanes);n!==0&&(Qy(e,n|1),sn(e,Ze()),!(me&6)&&(ta=Ze()+500,Ki()))}break;case 13:Fs(function(){var r=jr(t,1);if(r!==null){var i=Wt();Bn(r,t,1,i)}}),C0(t,1)}};Yy=function(t){if(t.tag===13){var e=jr(t,134217728);if(e!==null){var n=Wt();Bn(e,t,134217728,n)}C0(t,134217728)}};VT=function(t){if(t.tag===13){var e=Si(t),n=jr(t,e);if(n!==null){var r=Wt();Bn(n,t,e,r)}C0(t,e)}};FT=function(){return be};UT=function(t,e){var n=be;try{return be=t,e()}finally{be=n}};$m=function(t,e,n){switch(e){case"input":if(Lm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=of(r);if(!i)throw Error(j(90));gT(r),Lm(r,i)}}}break;case"textarea":vT(t,n);break;case"select":e=n.value,e!=null&&Lo(t,!!n.multiple,e,!1)}};ST=b0;kT=Fs;var QN={usingClientEntryPoint:!1,Events:[zu,Eo,of,bT,TT,b0]},Za={findFiberByHostInstance:ys,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},YN={bundleType:Za.bundleType,version:Za.version,rendererPackageName:Za.rendererPackageName,rendererConfig:Za.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=AT(t),t===null?null:t.stateNode},findFiberByHostInstance:Za.findFiberByHostInstance||KN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zc.isDisabled&&zc.supportsFiber)try{tf=zc.inject(YN),rr=zc}catch{}}pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QN;pn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!P0(e))throw Error(j(200));return qN(t,e,null,n)};pn.createRoot=function(t,e){if(!P0(t))throw Error(j(299));var n=!1,r="",i=ak;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=I0(t,1,!1,null,null,n,!1,r,i),t[Ur]=e.current,iu(t.nodeType===8?t.parentNode:t),new A0(e)};pn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(j(188)):(t=Object.keys(t).join(","),Error(j(268,t)));return t=AT(e),t=t===null?null:t.stateNode,t};pn.flushSync=function(t){return Fs(t)};pn.hydrate=function(t,e,n){if(!mf(e))throw Error(j(200));return gf(null,t,e,!0,n)};pn.hydrateRoot=function(t,e,n){if(!P0(t))throw Error(j(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=ak;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=ok(e,null,t,1,n??null,i,!1,s,o),t[Ur]=e.current,iu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new pf(e)};pn.render=function(t,e,n){if(!mf(e))throw Error(j(200));return gf(null,t,e,!1,n)};pn.unmountComponentAtNode=function(t){if(!mf(t))throw Error(j(40));return t._reactRootContainer?(Fs(function(){gf(null,null,t,!1,function(){t._reactRootContainer=null,t[Ur]=null})}),!0):!1};pn.unstable_batchedUpdates=b0;pn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!mf(n))throw Error(j(200));if(t==null||t._reactInternals===void 0)throw Error(j(38));return gf(t,e,n,!1,r)};pn.version="18.3.1-next-f1338f8080-20240426";function lk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lk)}catch(t){console.error(t)}}lk(),lT.exports=pn;var XN=lT.exports,U1=XN;Am.createRoot=U1.createRoot,Am.hydrateRoot=U1.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fu(){return fu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fu.apply(this,arguments)}var gi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(gi||(gi={}));const j1="popstate";function ZN(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return xg("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:_d(i)}return eO(e,n,null,t)}function et(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function uk(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function JN(){return Math.random().toString(36).substr(2,8)}function z1(t,e){return{usr:t.state,key:t.key,idx:e}}function xg(t,e,n,r){return n===void 0&&(n=null),fu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?wa(e):e,{state:n,key:e&&e.key||r||JN()})}function _d(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function wa(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function eO(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=gi.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(fu({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=gi.Pop;let E=c(),w=E==null?null:E-u;u=E,l&&l({action:a,location:_.location,delta:w})}function f(E,w){a=gi.Push;let b=xg(_.location,E,w);u=c()+1;let T=z1(b,u),R=_.createHref(b);try{o.pushState(T,"",R)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(R)}s&&l&&l({action:a,location:_.location,delta:1})}function m(E,w){a=gi.Replace;let b=xg(_.location,E,w);u=c();let T=z1(b,u),R=_.createHref(b);o.replaceState(T,"",R),s&&l&&l({action:a,location:_.location,delta:0})}function y(E){let w=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof E=="string"?E:_d(E);return b=b.replace(/ $/,"%20"),et(w,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,w)}let _={get action(){return a},get location(){return t(i,o)},listen(E){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(j1,d),l=E,()=>{i.removeEventListener(j1,d),l=null}},createHref(E){return e(i,E)},createURL:y,encodeLocation(E){let w=y(E);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:f,replace:m,go(E){return o.go(E)}};return _}var B1;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(B1||(B1={}));function tO(t,e,n){return n===void 0&&(n="/"),nO(t,e,n)}function nO(t,e,n,r){let i=typeof e=="string"?wa(e):e,s=R0(i.pathname||"/",n);if(s==null)return null;let o=ck(t);rO(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=mO(s);a=dO(o[l],u)}return a}function ck(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(et(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Ii([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(et(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),ck(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:cO(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of hk(s.path))i(s,o,l)}),e}function hk(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=hk(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function rO(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:hO(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const iO=/^:[\w-]+$/,sO=3,oO=2,aO=1,lO=10,uO=-2,$1=t=>t==="*";function cO(t,e){let n=t.split("/"),r=n.length;return n.some($1)&&(r+=uO),e&&(r+=oO),n.filter(i=>!$1(i)).reduce((i,s)=>i+(iO.test(s)?sO:s===""?aO:lO),r)}function hO(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function dO(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=s==="/"?e:e.slice(s.length)||"/",d=fO({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),f=l.route;if(!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:Ii([s,d.pathname]),pathnameBase:_O(Ii([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=Ii([s,d.pathnameBase]))}return o}function fO(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=pO(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:f,isOptional:m}=c;if(f==="*"){let _=a[d]||"";o=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const y=a[d];return m&&!y?u[f]=void 0:u[f]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function pO(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),uk(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function mO(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return uk(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function R0(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function gO(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?wa(t):t;return{pathname:n?n.startsWith("/")?n:yO(n,e):e,search:wO(r),hash:EO(i)}}function yO(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function $p(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function vO(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function D0(t,e){let n=vO(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function N0(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=wa(t):(i=fu({},t),et(!i.pathname||!i.pathname.includes("?"),$p("?","pathname","search",i)),et(!i.pathname||!i.pathname.includes("#"),$p("#","pathname","hash",i)),et(!i.search||!i.search.includes("#"),$p("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=gO(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Ii=t=>t.join("/").replace(/\/\/+/g,"/"),_O=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),wO=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,EO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function xO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const dk=["post","put","patch","delete"];new Set(dk);const bO=["get",...dk];new Set(bO);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pu(){return pu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pu.apply(this,arguments)}const O0=O.createContext(null),TO=O.createContext(null),Gi=O.createContext(null),yf=O.createContext(null),gr=O.createContext({outlet:null,matches:[],isDataRoute:!1}),fk=O.createContext(null);function SO(t,e){let{relative:n}=e===void 0?{}:e;Ea()||et(!1);let{basename:r,navigator:i}=O.useContext(Gi),{hash:s,pathname:o,search:a}=mk(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Ii([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Ea(){return O.useContext(yf)!=null}function Qr(){return Ea()||et(!1),O.useContext(yf).location}function pk(t){O.useContext(Gi).static||O.useLayoutEffect(t)}function Qi(){let{isDataRoute:t}=O.useContext(gr);return t?zO():kO()}function kO(){Ea()||et(!1);let t=O.useContext(O0),{basename:e,future:n,navigator:r}=O.useContext(Gi),{matches:i}=O.useContext(gr),{pathname:s}=Qr(),o=JSON.stringify(D0(i,n.v7_relativeSplatPath)),a=O.useRef(!1);return pk(()=>{a.current=!0}),O.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let d=N0(u,JSON.parse(o),s,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Ii([e,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[e,r,o,s,t])}const IO=O.createContext(null);function CO(t){let e=O.useContext(gr).outlet;return e&&O.createElement(IO.Provider,{value:t},e)}function AO(){let{matches:t}=O.useContext(gr),e=t[t.length-1];return e?e.params:{}}function mk(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=O.useContext(Gi),{matches:i}=O.useContext(gr),{pathname:s}=Qr(),o=JSON.stringify(D0(i,r.v7_relativeSplatPath));return O.useMemo(()=>N0(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function PO(t,e){return RO(t,e)}function RO(t,e,n,r){Ea()||et(!1);let{navigator:i}=O.useContext(Gi),{matches:s}=O.useContext(gr),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Qr(),c;if(e){var d;let E=typeof e=="string"?wa(e):e;l==="/"||(d=E.pathname)!=null&&d.startsWith(l)||et(!1),c=E}else c=u;let f=c.pathname||"/",m=f;if(l!=="/"){let E=l.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(E.length).join("/")}let y=tO(t,{pathname:m}),_=LO(y&&y.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:Ii([l,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?l:Ii([l,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),s,n,r);return e&&_?O.createElement(yf.Provider,{value:{location:pu({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:gi.Pop}},_):_}function DO(){let t=jO(),e=xO(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),n?O.createElement("pre",{style:i},n):null,null)}const NO=O.createElement(DO,null);class OO extends O.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?O.createElement(gr.Provider,{value:this.props.routeContext},O.createElement(fk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function MO(t){let{routeContext:e,match:n,children:r}=t,i=O.useContext(O0);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),O.createElement(gr.Provider,{value:e},r)}function LO(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);c>=0||et(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let d=o[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:f,errors:m}=n,y=d.route.loader&&f[d.route.id]===void 0&&(!m||m[d.route.id]===void 0);if(d.route.lazy||y){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,d,f)=>{let m,y=!1,_=null,E=null;n&&(m=a&&d.route.id?a[d.route.id]:void 0,_=d.route.errorElement||NO,l&&(u<0&&f===0?(BO("route-fallback"),y=!0,E=null):u===f&&(y=!0,E=d.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,f+1)),b=()=>{let T;return m?T=_:y?T=E:d.route.Component?T=O.createElement(d.route.Component,null):d.route.element?T=d.route.element:T=c,O.createElement(MO,{match:d,routeContext:{outlet:c,matches:w,isDataRoute:n!=null},children:T})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?O.createElement(OO,{location:n.location,revalidation:n.revalidation,component:_,error:m,children:b(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):b()},null)}var gk=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(gk||{}),yk=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(yk||{});function VO(t){let e=O.useContext(O0);return e||et(!1),e}function FO(t){let e=O.useContext(TO);return e||et(!1),e}function UO(t){let e=O.useContext(gr);return e||et(!1),e}function vk(t){let e=UO(),n=e.matches[e.matches.length-1];return n.route.id||et(!1),n.route.id}function jO(){var t;let e=O.useContext(fk),n=FO(),r=vk();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function zO(){let{router:t}=VO(gk.UseNavigateStable),e=vk(yk.UseNavigateStable),n=O.useRef(!1);return pk(()=>{n.current=!0}),O.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,pu({fromRouteId:e},s)))},[t,e])}const H1={};function BO(t,e,n){H1[t]||(H1[t]=!0)}function $O(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Ih(t){let{to:e,replace:n,state:r,relative:i}=t;Ea()||et(!1);let{future:s,static:o}=O.useContext(Gi),{matches:a}=O.useContext(gr),{pathname:l}=Qr(),u=Qi(),c=N0(e,D0(a,s.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(c);return O.useEffect(()=>u(JSON.parse(d),{replace:n,state:r,relative:i}),[u,d,i,n,r]),null}function HO(t){return CO(t.context)}function Xn(t){et(!1)}function WO(t){let{basename:e="/",children:n=null,location:r,navigationType:i=gi.Pop,navigator:s,static:o=!1,future:a}=t;Ea()&&et(!1);let l=e.replace(/^\/*/,"/"),u=O.useMemo(()=>({basename:l,navigator:s,static:o,future:pu({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=wa(r));let{pathname:c="/",search:d="",hash:f="",state:m=null,key:y="default"}=r,_=O.useMemo(()=>{let E=R0(c,l);return E==null?null:{location:{pathname:E,search:d,hash:f,state:m,key:y},navigationType:i}},[l,c,d,f,m,y,i]);return _==null?null:O.createElement(Gi.Provider,{value:u},O.createElement(yf.Provider,{children:n,value:_}))}function qO(t){let{children:e,location:n}=t;return PO(bg(e),n)}new Promise(()=>{});function bg(t,e){e===void 0&&(e=[]);let n=[];return O.Children.forEach(t,(r,i)=>{if(!O.isValidElement(r))return;let s=[...e,i];if(r.type===O.Fragment){n.push.apply(n,bg(r.props.children,s));return}r.type!==Xn&&et(!1),!r.props.index||!r.props.children||et(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=bg(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tg(){return Tg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tg.apply(this,arguments)}function KO(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function GO(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function QO(t,e){return t.button===0&&(!e||e==="_self")&&!GO(t)}const YO=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],XO="6";try{window.__reactRouterVersion=XO}catch{}const ZO="startTransition",W1=q4[ZO];function JO(t){let{basename:e,children:n,future:r,window:i}=t,s=O.useRef();s.current==null&&(s.current=ZN({window:i,v5Compat:!0}));let o=s.current,[a,l]=O.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=O.useCallback(d=>{u&&W1?W1(()=>l(d)):l(d)},[l,u]);return O.useLayoutEffect(()=>o.listen(c),[o,c]),O.useEffect(()=>$O(r),[r]),O.createElement(WO,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const eM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",tM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_k=O.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,viewTransition:d}=e,f=KO(e,YO),{basename:m}=O.useContext(Gi),y,_=!1;if(typeof u=="string"&&tM.test(u)&&(y=u,eM))try{let T=new URL(window.location.href),R=u.startsWith("//")?new URL(T.protocol+u):new URL(u),D=R0(R.pathname,m);R.origin===T.origin&&D!=null?u=D+R.search+R.hash:_=!0}catch{}let E=SO(u,{relative:i}),w=nM(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,viewTransition:d});function b(T){r&&r(T),T.defaultPrevented||w(T)}return O.createElement("a",Tg({},f,{href:y||E,onClick:_||s?r:b,ref:n,target:l}))});var q1;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(q1||(q1={}));var K1;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(K1||(K1={}));function nM(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=Qi(),u=Qr(),c=mk(t,{relative:o});return O.useCallback(d=>{if(QO(d,n)){d.preventDefault();let f=r!==void 0?r:_d(u)===_d(c);l(t,{replace:f,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[u,l,c,r,i,n,t,s,o,a])}var wk={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},G1=g.createContext&&g.createContext(wk),rM=["attr","size","title"];function iM(t,e){if(t==null)return{};var n=sM(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sM(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function wd(){return wd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wd.apply(this,arguments)}function Q1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ed(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q1(Object(n),!0).forEach(function(r){oM(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oM(t,e,n){return e=aM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aM(t){var e=lM(t,"string");return typeof e=="symbol"?e:e+""}function lM(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ek(t){return t&&t.map((e,n)=>g.createElement(e.tag,Ed({key:n},e.attr),Ek(e.child)))}function Ve(t){return e=>g.createElement(uM,wd({attr:Ed({},t.attr)},e),Ek(t.child))}function uM(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=iM(t,rM),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),g.createElement("svg",wd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Ed(Ed({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&g.createElement("title",null,s),t.children)};return G1!==void 0?g.createElement(G1.Consumer,null,n=>e(n)):e(wk)}function cM(t){return Ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(t)}function xk(t){return Ve({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M446.7 98.6l-67.6 318.8c-5.1 22.5-18.4 28.1-37.3 17.5l-103-75.9-49.7 47.8c-5.5 5.5-10.1 10.1-20.7 10.1l7.4-104.9 190.9-172.5c8.3-7.4-1.8-11.5-12.9-4.1L117.8 284 16.2 252.2c-22.1-6.9-22.5-22.1 4.6-32.7L418.2 66.4c18.4-6.9 34.5 4.1 28.5 32.2z"},child:[]}]})(t)}function bk(t){return Ve({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(t)}function hM(t){return Ve({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"},child:[]}]})(t)}function dM(t){return Ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function vf(t){return Ve({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(t)}function Y1(t){return Ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 405.3V448c0 35.3 86 64 192 64s192-28.7 192-64v-42.7C342.7 434.4 267.2 448 192 448S41.3 434.4 0 405.3zM320 128c106 0 192-28.7 192-64S426 0 320 0 128 28.7 128 64s86 64 192 64zM0 300.4V352c0 35.3 86 64 192 64s192-28.7 192-64v-51.6c-41.3 34-116.9 51.6-192 51.6S41.3 334.4 0 300.4zm416 11c57.3-11.1 96-31.7 96-55.4v-42.7c-23.2 16.4-57.3 27.6-96 34.5v63.6zM192 160C86 160 0 195.8 0 240s86 80 192 80 192-35.8 192-80-86-80-192-80zm219.3 56.3c60-10.8 100.7-32 100.7-56.3v-42.7c-35.5 25.1-96.5 38.6-160.7 41.8 29.5 14.3 51.2 33.5 60 57.2z"},child:[]}]})(t)}function fM(t){return Ve({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"},child:[]}]})(t)}function Tk(t){return Ve({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(t)}function pM(t){return Ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(t)}function mM(t){return Ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zm-48 0l-.003-.282-26.064 22.741-62.679-58.5 16.454-84.355 34.303 3.072c-24.889-34.216-60.004-60.089-100.709-73.141l13.651 31.939L256 139l-74.953-41.525 13.651-31.939c-40.631 13.028-75.78 38.87-100.709 73.141l34.565-3.073 16.192 84.355-62.678 58.5-26.064-22.741-.003.282c0 43.015 13.497 83.952 38.472 117.991l7.704-33.897 85.138 10.447 36.301 77.826-29.902 17.786c40.202 13.122 84.29 13.148 124.572 0l-29.902-17.786 36.301-77.826 85.138-10.447 7.704 33.897C442.503 339.952 456 299.015 456 256zm-248.102 69.571l-29.894-91.312L256 177.732l77.996 56.527-29.622 91.312h-96.476z"},child:[]}]})(t)}function gM(t){return Ve({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M485.5 0L576 160H474.9L405.7 0h79.8zm-128 0l69.2 160H149.3L218.5 0h139zm-267 0h79.8l-69.2 160H0L90.5 0zM0 192h100.7l123 251.7c1.5 3.1-2.7 5.9-5 3.3L0 192zm148.2 0h279.6l-137 318.2c-1 2.4-4.5 2.4-5.5 0L148.2 192zm204.1 251.7l123-251.7H576L357.3 446.9c-2.3 2.7-6.5-.1-5-3.2z"},child:[]}]})(t)}function yM(t){return Ve({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528 32H48C21.5 32 0 53.5 0 80v16h576V80c0-26.5-21.5-48-48-48zM0 432c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V128H0v304zm352-232c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zm0 64c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zm0 64c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zM176 192c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zM67.1 396.2C75.5 370.5 99.6 352 128 352h8.2c12.3 5.1 25.7 8 39.8 8s27.6-2.9 39.8-8h8.2c28.4 0 52.5 18.5 60.9 44.2 3.2 9.9-5.2 19.8-15.6 19.8H82.7c-10.4 0-18.8-10-15.6-19.8z"},child:[]}]})(t)}function vM(t){return Ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"},child:[]}]})(t)}function _M(t){return Ve({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M272 0H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h224c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zM160 480c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm112-108c0 6.6-5.4 12-12 12H60c-6.6 0-12-5.4-12-12V60c0-6.6 5.4-12 12-12h200c6.6 0 12 5.4 12 12v312z"},child:[]}]})(t)}function wM(t){return Ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"},child:[]}]})(t)}function EM(t){return Ve({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"},child:[]}]})(t)}function xM(t){return Ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 56v240c0 13.255 10.745 24 24 24h80c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24H24C10.745 32 0 42.745 0 56zm40 200c0-13.255 10.745-24 24-24s24 10.745 24 24-10.745 24-24 24-24-10.745-24-24zm272 256c-20.183 0-29.485-39.293-33.931-57.795-5.206-21.666-10.589-44.07-25.393-58.902-32.469-32.524-49.503-73.967-89.117-113.111a11.98 11.98 0 0 1-3.558-8.521V59.901c0-6.541 5.243-11.878 11.783-11.998 15.831-.29 36.694-9.079 52.651-16.178C256.189 17.598 295.709.017 343.995 0h2.844c42.777 0 93.363.413 113.774 29.737 8.392 12.057 10.446 27.034 6.148 44.632 16.312 17.053 25.063 48.863 16.382 74.757 17.544 23.432 19.143 56.132 9.308 79.469l.11.11c11.893 11.949 19.523 31.259 19.439 49.197-.156 30.352-26.157 58.098-59.553 58.098H350.723C358.03 364.34 384 388.132 384 430.548 384 504 336 512 312 512z"},child:[]}]})(t)}function bM(t){return Ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M104 224H24c-13.255 0-24 10.745-24 24v240c0 13.255 10.745 24 24 24h80c13.255 0 24-10.745 24-24V248c0-13.255-10.745-24-24-24zM64 472c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24zM384 81.452c0 42.416-25.97 66.208-33.277 94.548h101.723c33.397 0 59.397 27.746 59.553 58.098.084 17.938-7.546 37.249-19.439 49.197l-.11.11c9.836 23.337 8.237 56.037-9.308 79.469 8.681 25.895-.069 57.704-16.382 74.757 4.298 17.598 2.244 32.575-6.148 44.632C440.202 511.587 389.616 512 346.839 512l-2.845-.001c-48.287-.017-87.806-17.598-119.56-31.725-15.957-7.099-36.821-15.887-52.651-16.178-6.54-.12-11.783-5.457-11.783-11.998v-213.77c0-3.2 1.282-6.271 3.558-8.521 39.614-39.144 56.648-80.587 89.117-113.111 14.804-14.832 20.188-37.236 25.393-58.902C282.515 39.293 291.817 0 312 0c24 0 72 8 72 81.452z"},child:[]}]})(t)}function TM(t){return Ve({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function xd(t){return Ve({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}function SM(t){return Ve({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}const kM=[{name:"Facebook",icon:g.createElement(cM,null),url:"https://www.facebook.com/share/16R2bBKjxd/"},{name:"YouTube",icon:g.createElement(hM,null),url:"https://youtube.com/@user-geniuspes?si=48nRLH-8-NueOhy6"},{name:"Telegram",icon:g.createElement(xk,null),url:"http://t.me/Geniuspes1"}],IM=()=>g.createElement("footer",{className:"bg-white dark:bg-gray-900/50 w-full mt-auto"},g.createElement("div",{className:"max-w-6xl mx-auto py-8 px-4 flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0"},g.createElement("p",{className:"text-gray-500 dark:text-gray-400"},"© ",new Date().getFullYear()," Genius Store. All Rights Reserved."),g.createElement("div",{className:"flex space-x-6"},kM.map(t=>g.createElement("a",{key:t.name,href:t.url,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-blue-500 dark:hover:text-blue-400 transition-colors text-2xl"},t.icon))))),CM=()=>{const[t,e]=O.useState(()=>{const n=localStorage.getItem("theme");return n?n==="dark":window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches});return O.useEffect(()=>{t?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},[t]),g.createElement("button",{className:"fixed top-4 right-4 z-50 px-3 py-1 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded shadow",onClick:()=>e(n=>!n),"aria-label":"Toggle dark mode"},t?"🌙 Dark":"☀️ Light")};function AM(t){return Ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm54.6 36.4c27.1 8.6 52 23.6 72.7 44.3 20.7 20.7 35.7 45.6 44.3 72.7l-88.8 6c-8.2-14-19.9-25.7-33.9-34l5.7-89zm-181.9 44.3c20.7-20.7 45.5-35.7 72.7-44.3l5.7 89c-13.9 8.3-25.6 20-33.9 33.9l-88.9-5.9c8.7-27.1 23.7-52 44.4-72.7zm72.7 298.9c-27.1-8.6-52-23.6-72.7-44.3-20.7-20.7-35.7-45.6-44.3-72.7l89-5.7c8.2 13.9 19.9 25.5 33.8 33.8l-5.8 88.9zM256 324c-37.5 0-68-30.5-68-68s30.5-68 68-68 68 30.5 68 68-30.5 68-68 68zm127.3 59.3c-20.7 20.7-45.6 35.7-72.7 44.3l-5.9-88.9c14.1-8.3 25.8-20.1 34.1-34.2l88.8 6c-8.6 27.2-23.6 52.1-44.3 72.8z"},child:[]}]})(t)}function PM(t){return Ve({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 2C6.486 2 2 6.486 2 12v4.143C2 17.167 2.897 18 4 18h1a1 1 0 0 0 1-1v-5.143a1 1 0 0 0-1-1h-.908C4.648 6.987 7.978 4 12 4s7.352 2.987 7.908 6.857H19a1 1 0 0 0-1 1V18c0 1.103-.897 2-2 2h-2v-1h-4v3h6c2.206 0 4-1.794 4-4 1.103 0 2-.833 2-1.857V12c0-5.514-4.486-10-10-10z"},child:[]}]})(t)}const RM=()=>{const[t,e]=O.useState(!1),n="https://wa.me/message/HPK7XPQT5V2LD1",r=()=>{window.$crisp?window.$crisp.push(["do","chat:open"]):console.error("Crisp script not loaded.")};return g.createElement("div",{className:"fixed bottom-8 right-8 z-50 flex flex-col items-end gap-4"},g.createElement("div",{className:`flex flex-col items-end gap-4 mb-2 transition-all duration-300 ease-in-out ${t?"opacity-100 translate-y-0":"opacity-0 translate-y-4 pointer-events-none"}`},g.createElement("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"group flex items-center justify-center w-14 h-14 rounded-2xl bg-white/60 backdrop-blur-lg border border-green-400 shadow-xl hover:scale-110 hover:bg-green-50 transition-all relative",title:"WhatsApp"},g.createElement(bk,{size:28,className:"text-green-500 group-hover:text-green-600 transition-colors"}),g.createElement("span",{className:"absolute right-full mr-3 px-3 py-1 rounded-lg bg-gray-900/90 text-white text-xs opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"},"WhatsApp")),g.createElement("button",{onClick:r,className:"group flex items-center justify-center w-14 h-14 rounded-2xl bg-white/60 backdrop-blur-lg border border-blue-400 shadow-xl hover:scale-110 hover:bg-blue-50 transition-all relative",title:"Live Chat"},g.createElement(PM,{size:28,className:"text-blue-500 group-hover:text-blue-600 transition-colors"}),g.createElement("span",{className:"absolute right-full mr-3 px-3 py-1 rounded-lg bg-gray-900/90 text-white text-xs opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"},"Live Chat"))),g.createElement("button",{className:`flex items-center justify-center w-16 h-16 rounded-3xl shadow-2xl border-2 border-white/40 bg-white/40 backdrop-blur-2xl text-blue-700 hover:text-white hover:bg-gradient-to-tr hover:from-blue-500 hover:to-purple-600 transition-all duration-300 relative ${t?"rotate-180":""}`,onClick:()=>e(!t),style:{boxShadow:"0 8px 32px 0 rgba(31, 38, 135, 0.37)"},"aria-label":"Contact options"},g.createElement("span",{className:"absolute inset-0 rounded-3xl bg-gradient-to-tr from-blue-400/30 to-purple-400/20 blur-lg opacity-60 pointer-events-none"}),t?g.createElement(TM,{size:32,className:"relative z-10"}):g.createElement(AM,{size:36,className:"relative z-10 animate-pulse"})))},DM=()=>g.createElement("div",{className:"flex flex-col min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors"},g.createElement(CM,null),g.createElement("main",{className:"flex-grow pb-20"},g.createElement(HO,null)),g.createElement(RM,null),g.createElement(IM,null)),NM="/assets/pubg-DRAqToEh.png",OM="/assets/free_fire-v4FKHjLf.png",MM="/assets/pes-BtsoUCnt.png",LM="/assets/FIFA-DJ6Z4foF.png",VM="data:image/png;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiB2aWV3Qm94PSIwIDAgMjAwIDIwMCI+DQogIDxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiBmaWxsPSIjRTVFN0VCIi8+DQogIDx0ZXh0IHg9IjUwJSIgeT0iNTAlIiBkb21pbmFudC1iYXNlbGluZT0ibWlkZGxlIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMjAiIGZpbGw9IiM5Q0EzQUYiPkltYWdlPC90ZXh0Pg0KPC9zdmc+IA==",FM={PUBG:NM,"Free Fire":OM,PES:MM,FIFA:LM},UM=({game:t,selected:e,onSelect:n,orderCount:r})=>{const i=e===t.name,s=FM[t.name]||VM;return g.createElement("div",{className:`relative rounded-lg shadow-lg overflow-hidden cursor-pointer transform transition-transform duration-300 ${i?"scale-105 ring-4 ring-blue-500":"hover:scale-105 hover:-rotate-1"}`,onClick:()=>n(t.name)},g.createElement("img",{src:s,alt:`${t.name} Logo`,className:"w-full h-48 object-cover bg-gray-700"}),g.createElement("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/60 to-transparent"}),g.createElement("div",{className:"absolute bottom-4 left-4"},g.createElement("h3",{className:"text-xl font-bold text-white"},t.name),r>0&&g.createElement("p",{className:"text-sm font-semibold text-gray-200 mt-1"},"💰 ",r.toLocaleString()," orders")))},jM=({value:t,onChange:e,orderCounts:n})=>{const r=[{name:"PUBG"},{name:"Free Fire"},{name:"PES"},{name:"FIFA"}],[i,s]=O.useState(t||"PUBG"),o=Qi(),a=l=>{s(l),e&&e(l),o("/select-package",{state:{game:l}})};return g.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-8 w-full max-w-4xl"},r.map(l=>g.createElement(UM,{key:l.name,game:l,selected:i,onSelect:a,orderCount:n[l.name]||0})))};var X1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},zM=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},kk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,m=u&63;l||(m=64,o||(f=64)),r.push(n[c],n[d],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Sk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):zM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new BM;const f=s<<2|a>>4;if(r.push(f),u!==64){const m=a<<4&240|u>>2;if(r.push(m),d!==64){const y=u<<6&192|d;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class BM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $M=function(t){const e=Sk(t);return kk.encodeByteArray(e,!0)},bd=function(t){return $M(t).replace(/\./g,"")},Ik=function(t){try{return kk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WM=()=>HM().__FIREBASE_DEFAULTS__,qM=()=>{if(typeof process>"u"||typeof X1>"u")return;const t=X1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},KM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Ik(t[1]);return e&&JSON.parse(e)},_f=()=>{try{return WM()||qM()||KM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Ck=t=>{var e,n;return(n=(e=_f())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},GM=t=>{const e=Ck(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Ak=()=>{var t;return(t=_f())===null||t===void 0?void 0:t.config},Pk=t=>{var e;return(e=_f())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YM(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[bd(JSON.stringify(n)),bd(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function XM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ut())}function ZM(){var t;const e=(t=_f())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function JM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function e5(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function t5(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function n5(){const t=Ut();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function r5(){return!ZM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function i5(){try{return typeof indexedDB=="object"}catch{return!1}}function s5(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o5="FirebaseError";class Yr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=o5,Object.setPrototypeOf(this,Yr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$u.prototype.create)}}class $u{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?a5(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Yr(i,a,r)}}function a5(t,e){return t.replace(l5,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const l5=/\{\$([^}]+)}/g;function u5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Td(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Z1(s)&&Z1(o)){if(!Td(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Z1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function fl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function pl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function c5(t,e){const n=new h5(t,e);return n.subscribe.bind(n)}class h5{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");d5(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Hp),i.error===void 0&&(i.error=Hp),i.complete===void 0&&(i.complete=Hp);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function d5(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Hp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ut(t){return t&&t._delegate?t._delegate:t}class Us{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f5{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new QM;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(m5(e))try{this.getOrInitializeService({instanceIdentifier:fs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=fs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fs){return this.instances.has(e)}getOptions(e=fs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:p5(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=fs){return this.component?this.component.multipleInstances?e:fs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function p5(t){return t===fs?void 0:t}function m5(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g5{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new f5(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var de;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(de||(de={}));const y5={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},v5=de.INFO,_5={[de.DEBUG]:"log",[de.VERBOSE]:"log",[de.INFO]:"info",[de.WARN]:"warn",[de.ERROR]:"error"},w5=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=_5[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class M0{constructor(e){this.name=e,this._logLevel=v5,this._logHandler=w5,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in de))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?y5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,de.DEBUG,...e),this._logHandler(this,de.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,de.VERBOSE,...e),this._logHandler(this,de.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,de.INFO,...e),this._logHandler(this,de.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,de.WARN,...e),this._logHandler(this,de.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,de.ERROR,...e),this._logHandler(this,de.ERROR,...e)}}const E5=(t,e)=>e.some(n=>t instanceof n);let J1,eE;function x5(){return J1||(J1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function b5(){return eE||(eE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Rk=new WeakMap,Sg=new WeakMap,Dk=new WeakMap,Wp=new WeakMap,L0=new WeakMap;function T5(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ci(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Rk.set(n,t)}).catch(()=>{}),L0.set(e,t),e}function S5(t){if(Sg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Sg.set(t,e)}let kg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Sg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Dk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ci(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function k5(t){kg=t(kg)}function I5(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(qp(this),e,...n);return Dk.set(r,e.sort?e.sort():[e]),Ci(r)}:b5().includes(t)?function(...e){return t.apply(qp(this),e),Ci(Rk.get(this))}:function(...e){return Ci(t.apply(qp(this),e))}}function C5(t){return typeof t=="function"?I5(t):(t instanceof IDBTransaction&&S5(t),E5(t,x5())?new Proxy(t,kg):t)}function Ci(t){if(t instanceof IDBRequest)return T5(t);if(Wp.has(t))return Wp.get(t);const e=C5(t);return e!==t&&(Wp.set(t,e),L0.set(e,t)),e}const qp=t=>L0.get(t);function A5(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ci(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ci(o.result),l.oldVersion,l.newVersion,Ci(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const P5=["get","getKey","getAll","getAllKeys","count"],R5=["put","add","delete","clear"],Kp=new Map;function tE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Kp.get(e))return Kp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=R5.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||P5.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Kp.set(e,s),s}k5(t=>({...t,get:(e,n,r)=>tE(e,n)||t.get(e,n,r),has:(e,n)=>!!tE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(N5(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function N5(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ig="@firebase/app",nE="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br=new M0("@firebase/app"),O5="@firebase/app-compat",M5="@firebase/analytics-compat",L5="@firebase/analytics",V5="@firebase/app-check-compat",F5="@firebase/app-check",U5="@firebase/auth",j5="@firebase/auth-compat",z5="@firebase/database",B5="@firebase/data-connect",$5="@firebase/database-compat",H5="@firebase/functions",W5="@firebase/functions-compat",q5="@firebase/installations",K5="@firebase/installations-compat",G5="@firebase/messaging",Q5="@firebase/messaging-compat",Y5="@firebase/performance",X5="@firebase/performance-compat",Z5="@firebase/remote-config",J5="@firebase/remote-config-compat",e3="@firebase/storage",t3="@firebase/storage-compat",n3="@firebase/firestore",r3="@firebase/vertexai-preview",i3="@firebase/firestore-compat",s3="firebase",o3="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cg="[DEFAULT]",a3={[Ig]:"fire-core",[O5]:"fire-core-compat",[L5]:"fire-analytics",[M5]:"fire-analytics-compat",[F5]:"fire-app-check",[V5]:"fire-app-check-compat",[U5]:"fire-auth",[j5]:"fire-auth-compat",[z5]:"fire-rtdb",[B5]:"fire-data-connect",[$5]:"fire-rtdb-compat",[H5]:"fire-fn",[W5]:"fire-fn-compat",[q5]:"fire-iid",[K5]:"fire-iid-compat",[G5]:"fire-fcm",[Q5]:"fire-fcm-compat",[Y5]:"fire-perf",[X5]:"fire-perf-compat",[Z5]:"fire-rc",[J5]:"fire-rc-compat",[e3]:"fire-gcs",[t3]:"fire-gcs-compat",[n3]:"fire-fst",[i3]:"fire-fst-compat",[r3]:"fire-vertex","fire-js":"fire-js",[s3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sd=new Map,l3=new Map,Ag=new Map;function rE(t,e){try{t.container.addComponent(e)}catch(n){Br.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function na(t){const e=t.name;if(Ag.has(e))return Br.debug(`There were multiple attempts to register component ${e}.`),!1;Ag.set(e,t);for(const n of Sd.values())rE(n,t);for(const n of l3.values())rE(n,t);return!0}function V0(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Nr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ai=new $u("app","Firebase",u3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Us("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ai.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa=o3;function Nk(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Cg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ai.create("bad-app-name",{appName:String(i)});if(n||(n=Ak()),!n)throw Ai.create("no-options");const s=Sd.get(i);if(s){if(Td(n,s.options)&&Td(r,s.config))return s;throw Ai.create("duplicate-app",{appName:i})}const o=new g5(i);for(const l of Ag.values())o.addComponent(l);const a=new c3(n,r,o);return Sd.set(i,a),a}function Ok(t=Cg){const e=Sd.get(t);if(!e&&t===Cg&&Ak())return Nk();if(!e)throw Ai.create("no-app",{appName:t});return e}function Pi(t,e,n){var r;let i=(r=a3[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Br.warn(a.join(" "));return}na(new Us(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h3="firebase-heartbeat-database",d3=1,mu="firebase-heartbeat-store";let Gp=null;function Mk(){return Gp||(Gp=A5(h3,d3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(mu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ai.create("idb-open",{originalErrorMessage:t.message})})),Gp}async function f3(t){try{const n=(await Mk()).transaction(mu),r=await n.objectStore(mu).get(Lk(t));return await n.done,r}catch(e){if(e instanceof Yr)Br.warn(e.message);else{const n=Ai.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Br.warn(n.message)}}}async function iE(t,e){try{const r=(await Mk()).transaction(mu,"readwrite");await r.objectStore(mu).put(e,Lk(t)),await r.done}catch(n){if(n instanceof Yr)Br.warn(n.message);else{const r=Ai.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Br.warn(r.message)}}}function Lk(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p3=1024,m3=30*24*60*60*1e3;class g3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new v3(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=sE();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=m3}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Br.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=sE(),{heartbeatsToSend:r,unsentEntries:i}=y3(this._heartbeatsCache.heartbeats),s=bd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Br.warn(n),""}}}function sE(){return new Date().toISOString().substring(0,10)}function y3(t,e=p3){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),oE(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),oE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class v3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return i5()?s5().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await f3(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return iE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return iE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function oE(t){return bd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _3(t){na(new Us("platform-logger",e=>new D5(e),"PRIVATE")),na(new Us("heartbeat",e=>new g3(e),"PRIVATE")),Pi(Ig,nE,t),Pi(Ig,nE,"esm2017"),Pi("fire-js","")}_3("");var w3="firebase",E3="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pi(w3,E3,"app");var aE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var As,Vk;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,x){function I(){}I.prototype=x.prototype,S.D=x.prototype,S.prototype=new I,S.prototype.constructor=S,S.C=function(C,A,N){for(var P=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)P[ue-2]=arguments[ue];return x.prototype[A].apply(C,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,x,I){I||(I=0);var C=Array(16);if(typeof x=="string")for(var A=0;16>A;++A)C[A]=x.charCodeAt(I++)|x.charCodeAt(I++)<<8|x.charCodeAt(I++)<<16|x.charCodeAt(I++)<<24;else for(A=0;16>A;++A)C[A]=x[I++]|x[I++]<<8|x[I++]<<16|x[I++]<<24;x=S.g[0],I=S.g[1],A=S.g[2];var N=S.g[3],P=x+(N^I&(A^N))+C[0]+3614090360&4294967295;x=I+(P<<7&4294967295|P>>>25),P=N+(A^x&(I^A))+C[1]+3905402710&4294967295,N=x+(P<<12&4294967295|P>>>20),P=A+(I^N&(x^I))+C[2]+606105819&4294967295,A=N+(P<<17&4294967295|P>>>15),P=I+(x^A&(N^x))+C[3]+3250441966&4294967295,I=A+(P<<22&4294967295|P>>>10),P=x+(N^I&(A^N))+C[4]+4118548399&4294967295,x=I+(P<<7&4294967295|P>>>25),P=N+(A^x&(I^A))+C[5]+1200080426&4294967295,N=x+(P<<12&4294967295|P>>>20),P=A+(I^N&(x^I))+C[6]+2821735955&4294967295,A=N+(P<<17&4294967295|P>>>15),P=I+(x^A&(N^x))+C[7]+4249261313&4294967295,I=A+(P<<22&4294967295|P>>>10),P=x+(N^I&(A^N))+C[8]+1770035416&4294967295,x=I+(P<<7&4294967295|P>>>25),P=N+(A^x&(I^A))+C[9]+2336552879&4294967295,N=x+(P<<12&4294967295|P>>>20),P=A+(I^N&(x^I))+C[10]+4294925233&4294967295,A=N+(P<<17&4294967295|P>>>15),P=I+(x^A&(N^x))+C[11]+2304563134&4294967295,I=A+(P<<22&4294967295|P>>>10),P=x+(N^I&(A^N))+C[12]+1804603682&4294967295,x=I+(P<<7&4294967295|P>>>25),P=N+(A^x&(I^A))+C[13]+4254626195&4294967295,N=x+(P<<12&4294967295|P>>>20),P=A+(I^N&(x^I))+C[14]+2792965006&4294967295,A=N+(P<<17&4294967295|P>>>15),P=I+(x^A&(N^x))+C[15]+1236535329&4294967295,I=A+(P<<22&4294967295|P>>>10),P=x+(A^N&(I^A))+C[1]+4129170786&4294967295,x=I+(P<<5&4294967295|P>>>27),P=N+(I^A&(x^I))+C[6]+3225465664&4294967295,N=x+(P<<9&4294967295|P>>>23),P=A+(x^I&(N^x))+C[11]+643717713&4294967295,A=N+(P<<14&4294967295|P>>>18),P=I+(N^x&(A^N))+C[0]+3921069994&4294967295,I=A+(P<<20&4294967295|P>>>12),P=x+(A^N&(I^A))+C[5]+3593408605&4294967295,x=I+(P<<5&4294967295|P>>>27),P=N+(I^A&(x^I))+C[10]+38016083&4294967295,N=x+(P<<9&4294967295|P>>>23),P=A+(x^I&(N^x))+C[15]+3634488961&4294967295,A=N+(P<<14&4294967295|P>>>18),P=I+(N^x&(A^N))+C[4]+3889429448&4294967295,I=A+(P<<20&4294967295|P>>>12),P=x+(A^N&(I^A))+C[9]+568446438&4294967295,x=I+(P<<5&4294967295|P>>>27),P=N+(I^A&(x^I))+C[14]+3275163606&4294967295,N=x+(P<<9&4294967295|P>>>23),P=A+(x^I&(N^x))+C[3]+4107603335&4294967295,A=N+(P<<14&4294967295|P>>>18),P=I+(N^x&(A^N))+C[8]+1163531501&4294967295,I=A+(P<<20&4294967295|P>>>12),P=x+(A^N&(I^A))+C[13]+2850285829&4294967295,x=I+(P<<5&4294967295|P>>>27),P=N+(I^A&(x^I))+C[2]+4243563512&4294967295,N=x+(P<<9&4294967295|P>>>23),P=A+(x^I&(N^x))+C[7]+1735328473&4294967295,A=N+(P<<14&4294967295|P>>>18),P=I+(N^x&(A^N))+C[12]+2368359562&4294967295,I=A+(P<<20&4294967295|P>>>12),P=x+(I^A^N)+C[5]+4294588738&4294967295,x=I+(P<<4&4294967295|P>>>28),P=N+(x^I^A)+C[8]+2272392833&4294967295,N=x+(P<<11&4294967295|P>>>21),P=A+(N^x^I)+C[11]+1839030562&4294967295,A=N+(P<<16&4294967295|P>>>16),P=I+(A^N^x)+C[14]+4259657740&4294967295,I=A+(P<<23&4294967295|P>>>9),P=x+(I^A^N)+C[1]+2763975236&4294967295,x=I+(P<<4&4294967295|P>>>28),P=N+(x^I^A)+C[4]+1272893353&4294967295,N=x+(P<<11&4294967295|P>>>21),P=A+(N^x^I)+C[7]+4139469664&4294967295,A=N+(P<<16&4294967295|P>>>16),P=I+(A^N^x)+C[10]+3200236656&4294967295,I=A+(P<<23&4294967295|P>>>9),P=x+(I^A^N)+C[13]+681279174&4294967295,x=I+(P<<4&4294967295|P>>>28),P=N+(x^I^A)+C[0]+3936430074&4294967295,N=x+(P<<11&4294967295|P>>>21),P=A+(N^x^I)+C[3]+3572445317&4294967295,A=N+(P<<16&4294967295|P>>>16),P=I+(A^N^x)+C[6]+76029189&4294967295,I=A+(P<<23&4294967295|P>>>9),P=x+(I^A^N)+C[9]+3654602809&4294967295,x=I+(P<<4&4294967295|P>>>28),P=N+(x^I^A)+C[12]+3873151461&4294967295,N=x+(P<<11&4294967295|P>>>21),P=A+(N^x^I)+C[15]+530742520&4294967295,A=N+(P<<16&4294967295|P>>>16),P=I+(A^N^x)+C[2]+3299628645&4294967295,I=A+(P<<23&4294967295|P>>>9),P=x+(A^(I|~N))+C[0]+4096336452&4294967295,x=I+(P<<6&4294967295|P>>>26),P=N+(I^(x|~A))+C[7]+1126891415&4294967295,N=x+(P<<10&4294967295|P>>>22),P=A+(x^(N|~I))+C[14]+2878612391&4294967295,A=N+(P<<15&4294967295|P>>>17),P=I+(N^(A|~x))+C[5]+4237533241&4294967295,I=A+(P<<21&4294967295|P>>>11),P=x+(A^(I|~N))+C[12]+1700485571&4294967295,x=I+(P<<6&4294967295|P>>>26),P=N+(I^(x|~A))+C[3]+2399980690&4294967295,N=x+(P<<10&4294967295|P>>>22),P=A+(x^(N|~I))+C[10]+4293915773&4294967295,A=N+(P<<15&4294967295|P>>>17),P=I+(N^(A|~x))+C[1]+2240044497&4294967295,I=A+(P<<21&4294967295|P>>>11),P=x+(A^(I|~N))+C[8]+1873313359&4294967295,x=I+(P<<6&4294967295|P>>>26),P=N+(I^(x|~A))+C[15]+4264355552&4294967295,N=x+(P<<10&4294967295|P>>>22),P=A+(x^(N|~I))+C[6]+2734768916&4294967295,A=N+(P<<15&4294967295|P>>>17),P=I+(N^(A|~x))+C[13]+1309151649&4294967295,I=A+(P<<21&4294967295|P>>>11),P=x+(A^(I|~N))+C[4]+4149444226&4294967295,x=I+(P<<6&4294967295|P>>>26),P=N+(I^(x|~A))+C[11]+3174756917&4294967295,N=x+(P<<10&4294967295|P>>>22),P=A+(x^(N|~I))+C[2]+718787259&4294967295,A=N+(P<<15&4294967295|P>>>17),P=I+(N^(A|~x))+C[9]+3951481745&4294967295,S.g[0]=S.g[0]+x&4294967295,S.g[1]=S.g[1]+(A+(P<<21&4294967295|P>>>11))&4294967295,S.g[2]=S.g[2]+A&4294967295,S.g[3]=S.g[3]+N&4294967295}r.prototype.u=function(S,x){x===void 0&&(x=S.length);for(var I=x-this.blockSize,C=this.B,A=this.h,N=0;N<x;){if(A==0)for(;N<=I;)i(this,S,N),N+=this.blockSize;if(typeof S=="string"){for(;N<x;)if(C[A++]=S.charCodeAt(N++),A==this.blockSize){i(this,C),A=0;break}}else for(;N<x;)if(C[A++]=S[N++],A==this.blockSize){i(this,C),A=0;break}}this.h=A,this.o+=x},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var x=1;x<S.length-8;++x)S[x]=0;var I=8*this.o;for(x=S.length-8;x<S.length;++x)S[x]=I&255,I/=256;for(this.u(S),S=Array(16),x=I=0;4>x;++x)for(var C=0;32>C;C+=8)S[I++]=this.g[x]>>>C&255;return S};function s(S,x){var I=a;return Object.prototype.hasOwnProperty.call(I,S)?I[S]:I[S]=x(S)}function o(S,x){this.h=x;for(var I=[],C=!0,A=S.length-1;0<=A;A--){var N=S[A]|0;C&&N==x||(I[A]=N,C=!1)}this.g=I}var a={};function l(S){return-128<=S&&128>S?s(S,function(x){return new o([x|0],0>x?-1:0)}):new o([S|0],0>S?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return d;if(0>S)return E(u(-S));for(var x=[],I=1,C=0;S>=I;C++)x[C]=S/I|0,I*=4294967296;return new o(x,0)}function c(S,x){if(S.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(S.charAt(0)=="-")return E(c(S.substring(1),x));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=u(Math.pow(x,8)),C=d,A=0;A<S.length;A+=8){var N=Math.min(8,S.length-A),P=parseInt(S.substring(A,A+N),x);8>N?(N=u(Math.pow(x,N)),C=C.j(N).add(u(P))):(C=C.j(I),C=C.add(u(P)))}return C}var d=l(0),f=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(_(this))return-E(this).m();for(var S=0,x=1,I=0;I<this.g.length;I++){var C=this.i(I);S+=(0<=C?C:4294967296+C)*x,x*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(y(this))return"0";if(_(this))return"-"+E(this).toString(S);for(var x=u(Math.pow(S,6)),I=this,C="";;){var A=R(I,x).g;I=w(I,A.j(x));var N=((0<I.g.length?I.g[0]:I.h)>>>0).toString(S);if(I=A,y(I))return N+C;for(;6>N.length;)N="0"+N;C=N+C}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function y(S){if(S.h!=0)return!1;for(var x=0;x<S.g.length;x++)if(S.g[x]!=0)return!1;return!0}function _(S){return S.h==-1}t.l=function(S){return S=w(this,S),_(S)?-1:y(S)?0:1};function E(S){for(var x=S.g.length,I=[],C=0;C<x;C++)I[C]=~S.g[C];return new o(I,~S.h).add(f)}t.abs=function(){return _(this)?E(this):this},t.add=function(S){for(var x=Math.max(this.g.length,S.g.length),I=[],C=0,A=0;A<=x;A++){var N=C+(this.i(A)&65535)+(S.i(A)&65535),P=(N>>>16)+(this.i(A)>>>16)+(S.i(A)>>>16);C=P>>>16,N&=65535,P&=65535,I[A]=P<<16|N}return new o(I,I[I.length-1]&-2147483648?-1:0)};function w(S,x){return S.add(E(x))}t.j=function(S){if(y(this)||y(S))return d;if(_(this))return _(S)?E(this).j(E(S)):E(E(this).j(S));if(_(S))return E(this.j(E(S)));if(0>this.l(m)&&0>S.l(m))return u(this.m()*S.m());for(var x=this.g.length+S.g.length,I=[],C=0;C<2*x;C++)I[C]=0;for(C=0;C<this.g.length;C++)for(var A=0;A<S.g.length;A++){var N=this.i(C)>>>16,P=this.i(C)&65535,ue=S.i(A)>>>16,he=S.i(A)&65535;I[2*C+2*A]+=P*he,b(I,2*C+2*A),I[2*C+2*A+1]+=N*he,b(I,2*C+2*A+1),I[2*C+2*A+1]+=P*ue,b(I,2*C+2*A+1),I[2*C+2*A+2]+=N*ue,b(I,2*C+2*A+2)}for(C=0;C<x;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=x;C<2*x;C++)I[C]=0;return new o(I,0)};function b(S,x){for(;(S[x]&65535)!=S[x];)S[x+1]+=S[x]>>>16,S[x]&=65535,x++}function T(S,x){this.g=S,this.h=x}function R(S,x){if(y(x))throw Error("division by zero");if(y(S))return new T(d,d);if(_(S))return x=R(E(S),x),new T(E(x.g),E(x.h));if(_(x))return x=R(S,E(x)),new T(E(x.g),x.h);if(30<S.g.length){if(_(S)||_(x))throw Error("slowDivide_ only works with positive integers.");for(var I=f,C=x;0>=C.l(S);)I=D(I),C=D(C);var A=M(I,1),N=M(C,1);for(C=M(C,2),I=M(I,2);!y(C);){var P=N.add(C);0>=P.l(S)&&(A=A.add(I),N=P),C=M(C,1),I=M(I,1)}return x=w(S,A.j(x)),new T(A,x)}for(A=d;0<=S.l(x);){for(I=Math.max(1,Math.floor(S.m()/x.m())),C=Math.ceil(Math.log(I)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),N=u(I),P=N.j(x);_(P)||0<P.l(S);)I-=C,N=u(I),P=N.j(x);y(N)&&(N=f),A=A.add(N),S=w(S,P)}return new T(A,S)}t.A=function(S){return R(this,S).h},t.and=function(S){for(var x=Math.max(this.g.length,S.g.length),I=[],C=0;C<x;C++)I[C]=this.i(C)&S.i(C);return new o(I,this.h&S.h)},t.or=function(S){for(var x=Math.max(this.g.length,S.g.length),I=[],C=0;C<x;C++)I[C]=this.i(C)|S.i(C);return new o(I,this.h|S.h)},t.xor=function(S){for(var x=Math.max(this.g.length,S.g.length),I=[],C=0;C<x;C++)I[C]=this.i(C)^S.i(C);return new o(I,this.h^S.h)};function D(S){for(var x=S.g.length+1,I=[],C=0;C<x;C++)I[C]=S.i(C)<<1|S.i(C-1)>>>31;return new o(I,S.h)}function M(S,x){var I=x>>5;x%=32;for(var C=S.g.length-I,A=[],N=0;N<C;N++)A[N]=0<x?S.i(N+I)>>>x|S.i(N+I+1)<<32-x:S.i(N+I);return new o(A,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Vk=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=c,As=o}).apply(typeof aE<"u"?aE:typeof self<"u"?self:typeof window<"u"?window:{});var Bc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fk,ml,Uk,Ch,Pg,jk,zk,Bk;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,p,v){return h==Array.prototype||h==Object.prototype||(h[p]=v.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bc=="object"&&Bc];for(var p=0;p<h.length;++p){var v=h[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function i(h,p){if(p)e:{var v=r;h=h.split(".");for(var k=0;k<h.length-1;k++){var L=h[k];if(!(L in v))break e;v=v[L]}h=h[h.length-1],k=v[h],p=p(k),p!=k&&p!=null&&e(v,h,{configurable:!0,writable:!0,value:p})}}function s(h,p){h instanceof String&&(h+="");var v=0,k=!1,L={next:function(){if(!k&&v<h.length){var V=v++;return{value:p(V,h[V]),done:!1}}return k=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}i("Array.prototype.values",function(h){return h||function(){return s(this,function(p,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(h){var p=typeof h;return p=p!="object"?p:h?Array.isArray(h)?"array":p:"null",p=="array"||p=="object"&&typeof h.length=="number"}function u(h){var p=typeof h;return p=="object"&&h!=null||p=="function"}function c(h,p,v){return h.call.apply(h.bind,arguments)}function d(h,p,v){if(!h)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,k),h.apply(p,L)}}return function(){return h.apply(p,arguments)}}function f(h,p,v){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:d,f.apply(null,arguments)}function m(h,p){var v=Array.prototype.slice.call(arguments,1);return function(){var k=v.slice();return k.push.apply(k,arguments),h.apply(this,k)}}function y(h,p){function v(){}v.prototype=p.prototype,h.aa=p.prototype,h.prototype=new v,h.prototype.constructor=h,h.Qb=function(k,L,V){for(var B=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)B[Ie-2]=arguments[Ie];return p.prototype[L].apply(k,B)}}function _(h){const p=h.length;if(0<p){const v=Array(p);for(let k=0;k<p;k++)v[k]=h[k];return v}return[]}function E(h,p){for(let v=1;v<arguments.length;v++){const k=arguments[v];if(l(k)){const L=h.length||0,V=k.length||0;h.length=L+V;for(let B=0;B<V;B++)h[L+B]=k[B]}else h.push(k)}}class w{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function b(h){return/^[\s\xa0]*$/.test(h)}function T(){var h=a.navigator;return h&&(h=h.userAgent)?h:""}function R(h){return R[" "](h),h}R[" "]=function(){};var D=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function M(h,p,v){for(const k in h)p.call(v,h[k],k,h)}function S(h,p){for(const v in h)p.call(void 0,h[v],v,h)}function x(h){const p={};for(const v in h)p[v]=h[v];return p}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(h,p){let v,k;for(let L=1;L<arguments.length;L++){k=arguments[L];for(v in k)h[v]=k[v];for(let V=0;V<I.length;V++)v=I[V],Object.prototype.hasOwnProperty.call(k,v)&&(h[v]=k[v])}}function A(h){var p=1;h=h.split(":");const v=[];for(;0<p&&h.length;)v.push(h.shift()),p--;return h.length&&v.push(h.join(":")),v}function N(h){a.setTimeout(()=>{throw h},0)}function P(){var h=K;let p=null;return h.g&&(p=h.g,h.g=h.g.next,h.g||(h.h=null),p.next=null),p}class ue{constructor(){this.h=this.g=null}add(p,v){const k=he.get();k.set(p,v),this.h?this.h.next=k:this.g=k,this.h=k}}var he=new w(()=>new ve,h=>h.reset());class ve{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let X,z=!1,K=new ue,G=()=>{const h=a.Promise.resolve(void 0);X=()=>{h.then(se)}};var se=()=>{for(var h;h=P();){try{h.h.call(h.g)}catch(v){N(v)}var p=he;p.j(h),100>p.h&&(p.h++,h.next=p.g,p.g=h)}z=!1};function ie(){this.s=this.s,this.C=this.C}ie.prototype.s=!1,ie.prototype.ma=function(){this.s||(this.s=!0,this.N())},ie.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(h,p){this.type=h,this.g=this.target=p,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var Ue=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var h=!1,p=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const v=()=>{};a.addEventListener("test",v,p),a.removeEventListener("test",v,p)}catch{}return h}();function Qe(h,p){if(oe.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var v=this.type=h.type,k=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=p,p=h.relatedTarget){if(D){e:{try{R(p.nodeName);var L=!0;break e}catch{}L=!1}L||(p=null)}}else v=="mouseover"?p=h.fromElement:v=="mouseout"&&(p=h.toElement);this.relatedTarget=p,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Re[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Qe.aa.h.call(this)}}y(Qe,oe);var Re={2:"touch",3:"pen",4:"mouse"};Qe.prototype.h=function(){Qe.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var jt="closure_listenable_"+(1e6*Math.random()|0),Zr=0;function Ji(h,p,v,k,L){this.listener=h,this.proxy=null,this.src=p,this.type=v,this.capture=!!k,this.ha=L,this.key=++Zr,this.da=this.fa=!1}function Gn(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function $(h){this.src=h,this.g={},this.h=0}$.prototype.add=function(h,p,v,k,L){var V=h.toString();h=this.g[V],h||(h=this.g[V]=[],this.h++);var B=ke(h,p,k,L);return-1<B?(p=h[B],v||(p.fa=!1)):(p=new Ji(p,this.src,V,!!k,L),p.fa=v,h.push(p)),p};function Ce(h,p){var v=p.type;if(v in h.g){var k=h.g[v],L=Array.prototype.indexOf.call(k,p,void 0),V;(V=0<=L)&&Array.prototype.splice.call(k,L,1),V&&(Gn(p),h.g[v].length==0&&(delete h.g[v],h.h--))}}function ke(h,p,v,k){for(var L=0;L<h.length;++L){var V=h[L];if(!V.da&&V.listener==p&&V.capture==!!v&&V.ha==k)return L}return-1}var Q="closure_lm_"+(1e6*Math.random()|0),ae={};function we(h,p,v,k,L){if(Array.isArray(p)){for(var V=0;V<p.length;V++)we(h,p[V],v,k,L);return null}return v=M_(v),h&&h[jt]?h.K(p,v,u(k)?!!k.capture:!1,L):Se(h,p,v,!1,k,L)}function Se(h,p,v,k,L,V){if(!p)throw Error("Invalid event type");var B=u(L)?!!L.capture:!!L,Ie=mt(h);if(Ie||(h[Q]=Ie=new $(h)),v=Ie.add(p,v,k,B,V),v.proxy)return v;if(k=es(),v.proxy=k,k.src=h,k.listener=v,h.addEventListener)Ue||(L=B),L===void 0&&(L=!1),h.addEventListener(p.toString(),k,L);else if(h.attachEvent)h.attachEvent(lc(p.toString()),k);else if(h.addListener&&h.removeListener)h.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return v}function es(){function h(v){return p.call(h.src,h.listener,v)}const p=Ee;return h}function ts(h,p,v,k,L){if(Array.isArray(p))for(var V=0;V<p.length;V++)ts(h,p[V],v,k,L);else k=u(k)?!!k.capture:!!k,v=M_(v),h&&h[jt]?(h=h.i,p=String(p).toString(),p in h.g&&(V=h.g[p],v=ke(V,v,k,L),-1<v&&(Gn(V[v]),Array.prototype.splice.call(V,v,1),V.length==0&&(delete h.g[p],h.h--)))):h&&(h=mt(h))&&(p=h.g[p.toString()],h=-1,p&&(h=ke(p,v,k,L)),(v=-1<h?p[h]:null)&&ns(v))}function ns(h){if(typeof h!="number"&&h&&!h.da){var p=h.src;if(p&&p[jt])Ce(p.i,h);else{var v=h.type,k=h.proxy;p.removeEventListener?p.removeEventListener(v,k,h.capture):p.detachEvent?p.detachEvent(lc(v),k):p.addListener&&p.removeListener&&p.removeListener(k),(v=mt(p))?(Ce(v,h),v.h==0&&(v.src=null,p[Q]=null)):Gn(h)}}}function lc(h){return h in ae?ae[h]:ae[h]="on"+h}function Ee(h,p){if(h.da)h=!0;else{p=new Qe(p,this);var v=h.listener,k=h.ha||h.src;h.fa&&ns(h),h=v.call(k,p)}return h}function mt(h){return h=h[Q],h instanceof $?h:null}var ro="__closure_events_fn_"+(1e9*Math.random()>>>0);function M_(h){return typeof h=="function"?h:(h[ro]||(h[ro]=function(p){return h.handleEvent(p)}),h[ro])}function kt(){ie.call(this),this.i=new $(this),this.M=this,this.F=null}y(kt,ie),kt.prototype[jt]=!0,kt.prototype.removeEventListener=function(h,p,v,k){ts(this,h,p,v,k)};function zt(h,p){var v,k=h.F;if(k)for(v=[];k;k=k.F)v.push(k);if(h=h.M,k=p.type||p,typeof p=="string")p=new oe(p,h);else if(p instanceof oe)p.target=p.target||h;else{var L=p;p=new oe(k,h),C(p,L)}if(L=!0,v)for(var V=v.length-1;0<=V;V--){var B=p.g=v[V];L=uc(B,k,!0,p)&&L}if(B=p.g=h,L=uc(B,k,!0,p)&&L,L=uc(B,k,!1,p)&&L,v)for(V=0;V<v.length;V++)B=p.g=v[V],L=uc(B,k,!1,p)&&L}kt.prototype.N=function(){if(kt.aa.N.call(this),this.i){var h=this.i,p;for(p in h.g){for(var v=h.g[p],k=0;k<v.length;k++)Gn(v[k]);delete h.g[p],h.h--}}this.F=null},kt.prototype.K=function(h,p,v,k){return this.i.add(String(h),p,!1,v,k)},kt.prototype.L=function(h,p,v,k){return this.i.add(String(h),p,!0,v,k)};function uc(h,p,v,k){if(p=h.i.g[String(p)],!p)return!0;p=p.concat();for(var L=!0,V=0;V<p.length;++V){var B=p[V];if(B&&!B.da&&B.capture==v){var Ie=B.listener,gt=B.ha||B.src;B.fa&&Ce(h.i,B),L=Ie.call(gt,k)!==!1&&L}}return L&&!k.defaultPrevented}function L_(h,p,v){if(typeof h=="function")v&&(h=f(h,v));else if(h&&typeof h.handleEvent=="function")h=f(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(h,p||0)}function V_(h){h.g=L_(()=>{h.g=null,h.i&&(h.i=!1,V_(h))},h.l);const p=h.h;h.h=null,h.m.apply(null,p)}class n4 extends ie{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:V_(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Da(h){ie.call(this),this.h=h,this.g={}}y(Da,ie);var F_=[];function U_(h){M(h.g,function(p,v){this.g.hasOwnProperty(v)&&ns(p)},h),h.g={}}Da.prototype.N=function(){Da.aa.N.call(this),U_(this)},Da.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var tp=a.JSON.stringify,r4=a.JSON.parse,i4=class{stringify(h){return a.JSON.stringify(h,void 0)}parse(h){return a.JSON.parse(h,void 0)}};function np(){}np.prototype.h=null;function j_(h){return h.h||(h.h=h.i())}function z_(){}var Na={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function rp(){oe.call(this,"d")}y(rp,oe);function ip(){oe.call(this,"c")}y(ip,oe);var rs={},B_=null;function cc(){return B_=B_||new kt}rs.La="serverreachability";function $_(h){oe.call(this,rs.La,h)}y($_,oe);function Oa(h){const p=cc();zt(p,new $_(p))}rs.STAT_EVENT="statevent";function H_(h,p){oe.call(this,rs.STAT_EVENT,h),this.stat=p}y(H_,oe);function Bt(h){const p=cc();zt(p,new H_(p,h))}rs.Ma="timingevent";function W_(h,p){oe.call(this,rs.Ma,h),this.size=p}y(W_,oe);function Ma(h,p){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){h()},p)}function La(){this.g=!0}La.prototype.xa=function(){this.g=!1};function s4(h,p,v,k,L,V){h.info(function(){if(h.g)if(V)for(var B="",Ie=V.split("&"),gt=0;gt<Ie.length;gt++){var ge=Ie[gt].split("=");if(1<ge.length){var It=ge[0];ge=ge[1];var Ct=It.split("_");B=2<=Ct.length&&Ct[1]=="type"?B+(It+"="+ge+"&"):B+(It+"=redacted&")}}else B=null;else B=V;return"XMLHTTP REQ ("+k+") [attempt "+L+"]: "+p+`
`+v+`
`+B})}function o4(h,p,v,k,L,V,B){h.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+L+"]: "+p+`
`+v+`
`+V+" "+B})}function io(h,p,v,k){h.info(function(){return"XMLHTTP TEXT ("+p+"): "+l4(h,v)+(k?" "+k:"")})}function a4(h,p){h.info(function(){return"TIMEOUT: "+p})}La.prototype.info=function(){};function l4(h,p){if(!h.g)return p;if(!p)return null;try{var v=JSON.parse(p);if(v){for(h=0;h<v.length;h++)if(Array.isArray(v[h])){var k=v[h];if(!(2>k.length)){var L=k[1];if(Array.isArray(L)&&!(1>L.length)){var V=L[0];if(V!="noop"&&V!="stop"&&V!="close")for(var B=1;B<L.length;B++)L[B]=""}}}}return tp(v)}catch{return p}}var hc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},q_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},sp;function dc(){}y(dc,np),dc.prototype.g=function(){return new XMLHttpRequest},dc.prototype.i=function(){return{}},sp=new dc;function Jr(h,p,v,k){this.j=h,this.i=p,this.l=v,this.R=k||1,this.U=new Da(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new K_}function K_(){this.i=null,this.g="",this.h=!1}var G_={},op={};function ap(h,p,v){h.L=1,h.v=gc(yr(p)),h.m=v,h.P=!0,Q_(h,null)}function Q_(h,p){h.F=Date.now(),fc(h),h.A=yr(h.v);var v=h.A,k=h.R;Array.isArray(k)||(k=[String(k)]),uw(v.i,"t",k),h.C=0,v=h.j.J,h.h=new K_,h.g=Iw(h.j,v?p:null,!h.m),0<h.O&&(h.M=new n4(f(h.Y,h,h.g),h.O)),p=h.U,v=h.g,k=h.ca;var L="readystatechange";Array.isArray(L)||(L&&(F_[0]=L.toString()),L=F_);for(var V=0;V<L.length;V++){var B=we(v,L[V],k||p.handleEvent,!1,p.h||p);if(!B)break;p.g[B.key]=B}p=h.H?x(h.H):{},h.m?(h.u||(h.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,p)):(h.u="GET",h.g.ea(h.A,h.u,null,p)),Oa(),s4(h.i,h.u,h.A,h.l,h.R,h.m)}Jr.prototype.ca=function(h){h=h.target;const p=this.M;p&&vr(h)==3?p.j():this.Y(h)},Jr.prototype.Y=function(h){try{if(h==this.g)e:{const Ct=vr(this.g);var p=this.g.Ba();const ao=this.g.Z();if(!(3>Ct)&&(Ct!=3||this.g&&(this.h.h||this.g.oa()||gw(this.g)))){this.J||Ct!=4||p==7||(p==8||0>=ao?Oa(3):Oa(2)),lp(this);var v=this.g.Z();this.X=v;t:if(Y_(this)){var k=gw(this.g);h="";var L=k.length,V=vr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){is(this),Va(this);var B="";break t}this.h.i=new a.TextDecoder}for(p=0;p<L;p++)this.h.h=!0,h+=this.h.i.decode(k[p],{stream:!(V&&p==L-1)});k.length=0,this.h.g+=h,this.C=0,B=this.h.g}else B=this.g.oa();if(this.o=v==200,o4(this.i,this.u,this.A,this.l,this.R,Ct,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Ie,gt=this.g;if((Ie=gt.g?gt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(Ie)){var ge=Ie;break t}}ge=null}if(v=ge)io(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,up(this,v);else{this.o=!1,this.s=3,Bt(12),is(this),Va(this);break e}}if(this.P){v=!0;let Rn;for(;!this.J&&this.C<B.length;)if(Rn=u4(this,B),Rn==op){Ct==4&&(this.s=4,Bt(14),v=!1),io(this.i,this.l,null,"[Incomplete Response]");break}else if(Rn==G_){this.s=4,Bt(15),io(this.i,this.l,B,"[Invalid Chunk]"),v=!1;break}else io(this.i,this.l,Rn,null),up(this,Rn);if(Y_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||B.length!=0||this.h.h||(this.s=1,Bt(16),v=!1),this.o=this.o&&v,!v)io(this.i,this.l,B,"[Invalid Chunked Response]"),is(this),Va(this);else if(0<B.length&&!this.W){this.W=!0;var It=this.j;It.g==this&&It.ba&&!It.M&&(It.j.info("Great, no buffering proxy detected. Bytes received: "+B.length),mp(It),It.M=!0,Bt(11))}}else io(this.i,this.l,B,null),up(this,B);Ct==4&&is(this),this.o&&!this.J&&(Ct==4?bw(this.j,this):(this.o=!1,fc(this)))}else k4(this.g),v==400&&0<B.indexOf("Unknown SID")?(this.s=3,Bt(12)):(this.s=0,Bt(13)),is(this),Va(this)}}}catch{}finally{}};function Y_(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function u4(h,p){var v=h.C,k=p.indexOf(`
`,v);return k==-1?op:(v=Number(p.substring(v,k)),isNaN(v)?G_:(k+=1,k+v>p.length?op:(p=p.slice(k,k+v),h.C=k+v,p)))}Jr.prototype.cancel=function(){this.J=!0,is(this)};function fc(h){h.S=Date.now()+h.I,X_(h,h.I)}function X_(h,p){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Ma(f(h.ba,h),p)}function lp(h){h.B&&(a.clearTimeout(h.B),h.B=null)}Jr.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(a4(this.i,this.A),this.L!=2&&(Oa(),Bt(17)),is(this),this.s=2,Va(this)):X_(this,this.S-h)};function Va(h){h.j.G==0||h.J||bw(h.j,h)}function is(h){lp(h);var p=h.M;p&&typeof p.ma=="function"&&p.ma(),h.M=null,U_(h.U),h.g&&(p=h.g,h.g=null,p.abort(),p.ma())}function up(h,p){try{var v=h.j;if(v.G!=0&&(v.g==h||cp(v.h,h))){if(!h.K&&cp(v.h,h)&&v.G==3){try{var k=v.Da.g.parse(p)}catch{k=null}if(Array.isArray(k)&&k.length==3){var L=k;if(L[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<h.F)xc(v),wc(v);else break e;pp(v),Bt(18)}}else v.za=L[1],0<v.za-v.T&&37500>L[2]&&v.F&&v.v==0&&!v.C&&(v.C=Ma(f(v.Za,v),6e3));if(1>=ew(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else os(v,11)}else if((h.K||v.g==h)&&xc(v),!b(p))for(L=v.Da.g.parse(p),p=0;p<L.length;p++){let ge=L[p];if(v.T=ge[0],ge=ge[1],v.G==2)if(ge[0]=="c"){v.K=ge[1],v.ia=ge[2];const It=ge[3];It!=null&&(v.la=It,v.j.info("VER="+v.la));const Ct=ge[4];Ct!=null&&(v.Aa=Ct,v.j.info("SVER="+v.Aa));const ao=ge[5];ao!=null&&typeof ao=="number"&&0<ao&&(k=1.5*ao,v.L=k,v.j.info("backChannelRequestTimeoutMs_="+k)),k=v;const Rn=h.g;if(Rn){const Tc=Rn.g?Rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Tc){var V=k.h;V.g||Tc.indexOf("spdy")==-1&&Tc.indexOf("quic")==-1&&Tc.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(hp(V,V.h),V.h=null))}if(k.D){const gp=Rn.g?Rn.g.getResponseHeader("X-HTTP-Session-Id"):null;gp&&(k.ya=gp,De(k.I,k.D,gp))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-h.F,v.j.info("Handshake RTT: "+v.R+"ms")),k=v;var B=h;if(k.qa=kw(k,k.J?k.ia:null,k.W),B.K){tw(k.h,B);var Ie=B,gt=k.L;gt&&(Ie.I=gt),Ie.B&&(lp(Ie),fc(Ie)),k.g=B}else Ew(k);0<v.i.length&&Ec(v)}else ge[0]!="stop"&&ge[0]!="close"||os(v,7);else v.G==3&&(ge[0]=="stop"||ge[0]=="close"?ge[0]=="stop"?os(v,7):fp(v):ge[0]!="noop"&&v.l&&v.l.ta(ge),v.v=0)}}Oa(4)}catch{}}var c4=class{constructor(h,p){this.g=h,this.map=p}};function Z_(h){this.l=h||10,a.PerformanceNavigationTiming?(h=a.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function J_(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function ew(h){return h.h?1:h.g?h.g.size:0}function cp(h,p){return h.h?h.h==p:h.g?h.g.has(p):!1}function hp(h,p){h.g?h.g.add(p):h.h=p}function tw(h,p){h.h&&h.h==p?h.h=null:h.g&&h.g.has(p)&&h.g.delete(p)}Z_.prototype.cancel=function(){if(this.i=nw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function nw(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let p=h.i;for(const v of h.g.values())p=p.concat(v.D);return p}return _(h.i)}function h4(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(l(h)){for(var p=[],v=h.length,k=0;k<v;k++)p.push(h[k]);return p}p=[],v=0;for(k in h)p[v++]=h[k];return p}function d4(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(l(h)||typeof h=="string"){var p=[];h=h.length;for(var v=0;v<h;v++)p.push(v);return p}p=[],v=0;for(const k in h)p[v++]=k;return p}}}function rw(h,p){if(h.forEach&&typeof h.forEach=="function")h.forEach(p,void 0);else if(l(h)||typeof h=="string")Array.prototype.forEach.call(h,p,void 0);else for(var v=d4(h),k=h4(h),L=k.length,V=0;V<L;V++)p.call(void 0,k[V],v&&v[V],h)}var iw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function f4(h,p){if(h){h=h.split("&");for(var v=0;v<h.length;v++){var k=h[v].indexOf("="),L=null;if(0<=k){var V=h[v].substring(0,k);L=h[v].substring(k+1)}else V=h[v];p(V,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function ss(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof ss){this.h=h.h,pc(this,h.j),this.o=h.o,this.g=h.g,mc(this,h.s),this.l=h.l;var p=h.i,v=new ja;v.i=p.i,p.g&&(v.g=new Map(p.g),v.h=p.h),sw(this,v),this.m=h.m}else h&&(p=String(h).match(iw))?(this.h=!1,pc(this,p[1]||"",!0),this.o=Fa(p[2]||""),this.g=Fa(p[3]||"",!0),mc(this,p[4]),this.l=Fa(p[5]||"",!0),sw(this,p[6]||"",!0),this.m=Fa(p[7]||"")):(this.h=!1,this.i=new ja(null,this.h))}ss.prototype.toString=function(){var h=[],p=this.j;p&&h.push(Ua(p,ow,!0),":");var v=this.g;return(v||p=="file")&&(h.push("//"),(p=this.o)&&h.push(Ua(p,ow,!0),"@"),h.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&h.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&h.push("/"),h.push(Ua(v,v.charAt(0)=="/"?g4:m4,!0))),(v=this.i.toString())&&h.push("?",v),(v=this.m)&&h.push("#",Ua(v,v4)),h.join("")};function yr(h){return new ss(h)}function pc(h,p,v){h.j=v?Fa(p,!0):p,h.j&&(h.j=h.j.replace(/:$/,""))}function mc(h,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);h.s=p}else h.s=null}function sw(h,p,v){p instanceof ja?(h.i=p,_4(h.i,h.h)):(v||(p=Ua(p,y4)),h.i=new ja(p,h.h))}function De(h,p,v){h.i.set(p,v)}function gc(h){return De(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Fa(h,p){return h?p?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ua(h,p,v){return typeof h=="string"?(h=encodeURI(h).replace(p,p4),v&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function p4(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var ow=/[#\/\?@]/g,m4=/[#\?:]/g,g4=/[#\?]/g,y4=/[#\?@]/g,v4=/#/g;function ja(h,p){this.h=this.g=null,this.i=h||null,this.j=!!p}function ei(h){h.g||(h.g=new Map,h.h=0,h.i&&f4(h.i,function(p,v){h.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}t=ja.prototype,t.add=function(h,p){ei(this),this.i=null,h=so(this,h);var v=this.g.get(h);return v||this.g.set(h,v=[]),v.push(p),this.h+=1,this};function aw(h,p){ei(h),p=so(h,p),h.g.has(p)&&(h.i=null,h.h-=h.g.get(p).length,h.g.delete(p))}function lw(h,p){return ei(h),p=so(h,p),h.g.has(p)}t.forEach=function(h,p){ei(this),this.g.forEach(function(v,k){v.forEach(function(L){h.call(p,L,k,this)},this)},this)},t.na=function(){ei(this);const h=Array.from(this.g.values()),p=Array.from(this.g.keys()),v=[];for(let k=0;k<p.length;k++){const L=h[k];for(let V=0;V<L.length;V++)v.push(p[k])}return v},t.V=function(h){ei(this);let p=[];if(typeof h=="string")lw(this,h)&&(p=p.concat(this.g.get(so(this,h))));else{h=Array.from(this.g.values());for(let v=0;v<h.length;v++)p=p.concat(h[v])}return p},t.set=function(h,p){return ei(this),this.i=null,h=so(this,h),lw(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[p]),this.h+=1,this},t.get=function(h,p){return h?(h=this.V(h),0<h.length?String(h[0]):p):p};function uw(h,p,v){aw(h,p),0<v.length&&(h.i=null,h.g.set(so(h,p),_(v)),h.h+=v.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],p=Array.from(this.g.keys());for(var v=0;v<p.length;v++){var k=p[v];const V=encodeURIComponent(String(k)),B=this.V(k);for(k=0;k<B.length;k++){var L=V;B[k]!==""&&(L+="="+encodeURIComponent(String(B[k]))),h.push(L)}}return this.i=h.join("&")};function so(h,p){return p=String(p),h.j&&(p=p.toLowerCase()),p}function _4(h,p){p&&!h.j&&(ei(h),h.i=null,h.g.forEach(function(v,k){var L=k.toLowerCase();k!=L&&(aw(this,k),uw(this,L,v))},h)),h.j=p}function w4(h,p){const v=new La;if(a.Image){const k=new Image;k.onload=m(ti,v,"TestLoadImage: loaded",!0,p,k),k.onerror=m(ti,v,"TestLoadImage: error",!1,p,k),k.onabort=m(ti,v,"TestLoadImage: abort",!1,p,k),k.ontimeout=m(ti,v,"TestLoadImage: timeout",!1,p,k),a.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=h}else p(!1)}function E4(h,p){const v=new La,k=new AbortController,L=setTimeout(()=>{k.abort(),ti(v,"TestPingServer: timeout",!1,p)},1e4);fetch(h,{signal:k.signal}).then(V=>{clearTimeout(L),V.ok?ti(v,"TestPingServer: ok",!0,p):ti(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(L),ti(v,"TestPingServer: error",!1,p)})}function ti(h,p,v,k,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),k(v)}catch{}}function x4(){this.g=new i4}function b4(h,p,v){const k=v||"";try{rw(h,function(L,V){let B=L;u(L)&&(B=tp(L)),p.push(k+V+"="+encodeURIComponent(B))})}catch(L){throw p.push(k+"type="+encodeURIComponent("_badmap")),L}}function yc(h){this.l=h.Ub||null,this.j=h.eb||!1}y(yc,np),yc.prototype.g=function(){return new vc(this.l,this.j)},yc.prototype.i=function(h){return function(){return h}}({});function vc(h,p){kt.call(this),this.D=h,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(vc,kt),t=vc.prototype,t.open=function(h,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=p,this.readyState=1,Ba(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(p.body=h),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,za(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Ba(this)),this.g&&(this.readyState=3,Ba(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;cw(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function cw(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var p=h.value?h.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!h.done}))&&(this.response=this.responseText+=p)}h.done?za(this):Ba(this),this.readyState==3&&cw(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,za(this))},t.Qa=function(h){this.g&&(this.response=h,za(this))},t.ga=function(){this.g&&za(this)};function za(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Ba(h)}t.setRequestHeader=function(h,p){this.u.append(h,p)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,h.push(v[0]+": "+v[1]),v=p.next();return h.join(`\r
`)};function Ba(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(vc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function hw(h){let p="";return M(h,function(v,k){p+=k,p+=":",p+=v,p+=`\r
`}),p}function dp(h,p,v){e:{for(k in v){var k=!1;break e}k=!0}k||(v=hw(v),typeof h=="string"?v!=null&&encodeURIComponent(String(v)):De(h,p,v))}function qe(h){kt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(qe,kt);var T4=/^https?$/i,S4=["POST","PUT"];t=qe.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,p,v,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);p=p?p.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():sp.g(),this.v=this.o?j_(this.o):j_(sp),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(p,String(h),!0),this.B=!1}catch(V){dw(this,V);return}if(h=v||"",v=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var L in k)v.set(L,k[L]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const V of k.keys())v.set(V,k.get(V));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(v.keys()).find(V=>V.toLowerCase()=="content-type"),L=a.FormData&&h instanceof a.FormData,!(0<=Array.prototype.indexOf.call(S4,p,void 0))||k||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,B]of v)this.g.setRequestHeader(V,B);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{mw(this),this.u=!0,this.g.send(h),this.u=!1}catch(V){dw(this,V)}};function dw(h,p){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=p,h.m=5,fw(h),_c(h)}function fw(h){h.A||(h.A=!0,zt(h,"complete"),zt(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,zt(this,"complete"),zt(this,"abort"),_c(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_c(this,!0)),qe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?pw(this):this.bb())},t.bb=function(){pw(this)};function pw(h){if(h.h&&typeof o<"u"&&(!h.v[1]||vr(h)!=4||h.Z()!=2)){if(h.u&&vr(h)==4)L_(h.Ea,0,h);else if(zt(h,"readystatechange"),vr(h)==4){h.h=!1;try{const B=h.Z();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var v;if(!(v=p)){var k;if(k=B===0){var L=String(h.D).match(iw)[1]||null;!L&&a.self&&a.self.location&&(L=a.self.location.protocol.slice(0,-1)),k=!T4.test(L?L.toLowerCase():"")}v=k}if(v)zt(h,"complete"),zt(h,"success");else{h.m=6;try{var V=2<vr(h)?h.g.statusText:""}catch{V=""}h.l=V+" ["+h.Z()+"]",fw(h)}}finally{_c(h)}}}}function _c(h,p){if(h.g){mw(h);const v=h.g,k=h.v[0]?()=>{}:null;h.g=null,h.v=null,p||zt(h,"ready");try{v.onreadystatechange=k}catch{}}}function mw(h){h.I&&(a.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function vr(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<vr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var p=this.g.responseText;return h&&p.indexOf(h)==0&&(p=p.substring(h.length)),r4(p)}};function gw(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function k4(h){const p={};h=(h.g&&2<=vr(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<h.length;k++){if(b(h[k]))continue;var v=A(h[k]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const V=p[L]||[];p[L]=V,V.push(v)}S(p,function(k){return k.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function $a(h,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[h]||p}function yw(h){this.Aa=0,this.i=[],this.j=new La,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=$a("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=$a("baseRetryDelayMs",5e3,h),this.cb=$a("retryDelaySeedMs",1e4,h),this.Wa=$a("forwardChannelMaxRetries",2,h),this.wa=$a("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Z_(h&&h.concurrentRequestLimit),this.Da=new x4,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=yw.prototype,t.la=8,t.G=1,t.connect=function(h,p,v,k){Bt(0),this.W=h,this.H=p||{},v&&k!==void 0&&(this.H.OSID=v,this.H.OAID=k),this.F=this.X,this.I=kw(this,null,this.W),Ec(this)};function fp(h){if(vw(h),h.G==3){var p=h.U++,v=yr(h.I);if(De(v,"SID",h.K),De(v,"RID",p),De(v,"TYPE","terminate"),Ha(h,v),p=new Jr(h,h.j,p),p.L=2,p.v=gc(yr(v)),v=!1,a.navigator&&a.navigator.sendBeacon)try{v=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!v&&a.Image&&(new Image().src=p.v,v=!0),v||(p.g=Iw(p.j,null),p.g.ea(p.v)),p.F=Date.now(),fc(p)}Sw(h)}function wc(h){h.g&&(mp(h),h.g.cancel(),h.g=null)}function vw(h){wc(h),h.u&&(a.clearTimeout(h.u),h.u=null),xc(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&a.clearTimeout(h.s),h.s=null)}function Ec(h){if(!J_(h.h)&&!h.s){h.s=!0;var p=h.Ga;X||G(),z||(X(),z=!0),K.add(p,h),h.B=0}}function I4(h,p){return ew(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=p.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Ma(f(h.Ga,h,p),Tw(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const L=new Jr(this,this.j,h);let V=this.o;if(this.S&&(V?(V=x(V),C(V,this.S)):V=this.S),this.m!==null||this.O||(L.H=V,V=null),this.P)e:{for(var p=0,v=0;v<this.i.length;v++){t:{var k=this.i[v];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(p+=k,4096<p){p=v;break e}if(p===4096||v===this.i.length-1){p=v+1;break e}}p=1e3}else p=1e3;p=ww(this,L,p),v=yr(this.I),De(v,"RID",h),De(v,"CVER",22),this.D&&De(v,"X-HTTP-Session-Id",this.D),Ha(this,v),V&&(this.O?p="headers="+encodeURIComponent(String(hw(V)))+"&"+p:this.m&&dp(v,this.m,V)),hp(this.h,L),this.Ua&&De(v,"TYPE","init"),this.P?(De(v,"$req",p),De(v,"SID","null"),L.T=!0,ap(L,v,null)):ap(L,v,p),this.G=2}}else this.G==3&&(h?_w(this,h):this.i.length==0||J_(this.h)||_w(this))};function _w(h,p){var v;p?v=p.l:v=h.U++;const k=yr(h.I);De(k,"SID",h.K),De(k,"RID",v),De(k,"AID",h.T),Ha(h,k),h.m&&h.o&&dp(k,h.m,h.o),v=new Jr(h,h.j,v,h.B+1),h.m===null&&(v.H=h.o),p&&(h.i=p.D.concat(h.i)),p=ww(h,v,1e3),v.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),hp(h.h,v),ap(v,k,p)}function Ha(h,p){h.H&&M(h.H,function(v,k){De(p,k,v)}),h.l&&rw({},function(v,k){De(p,k,v)})}function ww(h,p,v){v=Math.min(h.i.length,v);var k=h.l?f(h.l.Na,h.l,h):null;e:{var L=h.i;let V=-1;for(;;){const B=["count="+v];V==-1?0<v?(V=L[0].g,B.push("ofs="+V)):V=0:B.push("ofs="+V);let Ie=!0;for(let gt=0;gt<v;gt++){let ge=L[gt].g;const It=L[gt].map;if(ge-=V,0>ge)V=Math.max(0,L[gt].g-100),Ie=!1;else try{b4(It,B,"req"+ge+"_")}catch{k&&k(It)}}if(Ie){k=B.join("&");break e}}}return h=h.i.splice(0,v),p.D=h,k}function Ew(h){if(!h.g&&!h.u){h.Y=1;var p=h.Fa;X||G(),z||(X(),z=!0),K.add(p,h),h.v=0}}function pp(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Ma(f(h.Fa,h),Tw(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,xw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Ma(f(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Bt(10),wc(this),xw(this))};function mp(h){h.A!=null&&(a.clearTimeout(h.A),h.A=null)}function xw(h){h.g=new Jr(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var p=yr(h.qa);De(p,"RID","rpc"),De(p,"SID",h.K),De(p,"AID",h.T),De(p,"CI",h.F?"0":"1"),!h.F&&h.ja&&De(p,"TO",h.ja),De(p,"TYPE","xmlhttp"),Ha(h,p),h.m&&h.o&&dp(p,h.m,h.o),h.L&&(h.g.I=h.L);var v=h.g;h=h.ia,v.L=1,v.v=gc(yr(p)),v.m=null,v.P=!0,Q_(v,h)}t.Za=function(){this.C!=null&&(this.C=null,wc(this),pp(this),Bt(19))};function xc(h){h.C!=null&&(a.clearTimeout(h.C),h.C=null)}function bw(h,p){var v=null;if(h.g==p){xc(h),mp(h),h.g=null;var k=2}else if(cp(h.h,p))v=p.D,tw(h.h,p),k=1;else return;if(h.G!=0){if(p.o)if(k==1){v=p.m?p.m.length:0,p=Date.now()-p.F;var L=h.B;k=cc(),zt(k,new W_(k,v)),Ec(h)}else Ew(h);else if(L=p.s,L==3||L==0&&0<p.X||!(k==1&&I4(h,p)||k==2&&pp(h)))switch(v&&0<v.length&&(p=h.h,p.i=p.i.concat(v)),L){case 1:os(h,5);break;case 4:os(h,10);break;case 3:os(h,6);break;default:os(h,2)}}}function Tw(h,p){let v=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(v*=2),v*p}function os(h,p){if(h.j.info("Error code "+p),p==2){var v=f(h.fb,h),k=h.Xa;const L=!k;k=new ss(k||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||pc(k,"https"),gc(k),L?w4(k.toString(),v):E4(k.toString(),v)}else Bt(2);h.G=0,h.l&&h.l.sa(p),Sw(h),vw(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),Bt(2)):(this.j.info("Failed to ping google.com"),Bt(1))};function Sw(h){if(h.G=0,h.ka=[],h.l){const p=nw(h.h);(p.length!=0||h.i.length!=0)&&(E(h.ka,p),E(h.ka,h.i),h.h.i.length=0,_(h.i),h.i.length=0),h.l.ra()}}function kw(h,p,v){var k=v instanceof ss?yr(v):new ss(v);if(k.g!="")p&&(k.g=p+"."+k.g),mc(k,k.s);else{var L=a.location;k=L.protocol,p=p?p+"."+L.hostname:L.hostname,L=+L.port;var V=new ss(null);k&&pc(V,k),p&&(V.g=p),L&&mc(V,L),v&&(V.l=v),k=V}return v=h.D,p=h.ya,v&&p&&De(k,v,p),De(k,"VER",h.la),Ha(h,k),k}function Iw(h,p,v){if(p&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=h.Ca&&!h.pa?new qe(new yc({eb:v})):new qe(h.pa),p.Ha(h.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Cw(){}t=Cw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function bc(){}bc.prototype.g=function(h,p){return new an(h,p)};function an(h,p){kt.call(this),this.g=new yw(p),this.l=h,this.h=p&&p.messageUrlParams||null,h=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(h?h["X-WebChannel-Content-Type"]=p.messageContentType:h={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(h?h["X-WebChannel-Client-Profile"]=p.va:h={"X-WebChannel-Client-Profile":p.va}),this.g.S=h,(h=p&&p.Sb)&&!b(h)&&(this.g.m=h),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!b(p)&&(this.g.D=p,h=this.h,h!==null&&p in h&&(h=this.h,p in h&&delete h[p])),this.j=new oo(this)}y(an,kt),an.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){fp(this.g)},an.prototype.o=function(h){var p=this.g;if(typeof h=="string"){var v={};v.__data__=h,h=v}else this.u&&(v={},v.__data__=tp(h),h=v);p.i.push(new c4(p.Ya++,h)),p.G==3&&Ec(p)},an.prototype.N=function(){this.g.l=null,delete this.j,fp(this.g),delete this.g,an.aa.N.call(this)};function Aw(h){rp.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var p=h.__sm__;if(p){e:{for(const v in p){h=v;break e}h=void 0}(this.i=h)&&(h=this.i,p=p!==null&&h in p?p[h]:void 0),this.data=p}else this.data=h}y(Aw,rp);function Pw(){ip.call(this),this.status=1}y(Pw,ip);function oo(h){this.g=h}y(oo,Cw),oo.prototype.ua=function(){zt(this.g,"a")},oo.prototype.ta=function(h){zt(this.g,new Aw(h))},oo.prototype.sa=function(h){zt(this.g,new Pw)},oo.prototype.ra=function(){zt(this.g,"b")},bc.prototype.createWebChannel=bc.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,Bk=function(){return new bc},zk=function(){return cc()},jk=rs,Pg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},hc.NO_ERROR=0,hc.TIMEOUT=8,hc.HTTP_ERROR=6,Ch=hc,q_.COMPLETE="complete",Uk=q_,z_.EventType=Na,Na.OPEN="a",Na.CLOSE="b",Na.ERROR="c",Na.MESSAGE="d",kt.prototype.listen=kt.prototype.K,ml=z_,qe.prototype.listenOnce=qe.prototype.L,qe.prototype.getLastError=qe.prototype.Ka,qe.prototype.getLastErrorCode=qe.prototype.Ba,qe.prototype.getStatus=qe.prototype.Z,qe.prototype.getResponseJson=qe.prototype.Oa,qe.prototype.getResponseText=qe.prototype.oa,qe.prototype.send=qe.prototype.ea,qe.prototype.setWithCredentials=qe.prototype.Ha,Fk=qe}).apply(typeof Bc<"u"?Bc:typeof self<"u"?self:typeof window<"u"?window:{});const lE="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Nt.UNAUTHENTICATED=new Nt(null),Nt.GOOGLE_CREDENTIALS=new Nt("google-credentials-uid"),Nt.FIRST_PARTY=new Nt("first-party-uid"),Nt.MOCK_USER=new Nt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ba="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js=new M0("@firebase/firestore");function Ja(){return js.logLevel}function q(t,...e){if(js.logLevel<=de.DEBUG){const n=e.map(F0);js.debug(`Firestore (${ba}): ${t}`,...n)}}function $r(t,...e){if(js.logLevel<=de.ERROR){const n=e.map(F0);js.error(`Firestore (${ba}): ${t}`,...n)}}function ra(t,...e){if(js.logLevel<=de.WARN){const n=e.map(F0);js.warn(`Firestore (${ba}): ${t}`,...n)}}function F0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function te(t="Unexpected state"){const e=`FIRESTORE (${ba}) INTERNAL ASSERTION FAILED: `+t;throw $r(e),new Error(e)}function Te(t,e){t||te()}function re(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class W extends Yr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class x3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Nt.UNAUTHENTICATED))}shutdown(){}}class b3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class T3{constructor(e){this.t=e,this.currentUser=Nt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Te(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Ri;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ri,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ri)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Te(typeof r.accessToken=="string"),new $k(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Te(e===null||typeof e=="string"),new Nt(e)}}class S3{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Nt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class k3{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new S3(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Nt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class I3{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class C3{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Te(this.o===void 0);const r=s=>{s.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Te(typeof n.token=="string"),this.R=n.token,new I3(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=A3(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function ye(t,e){return t<e?-1:t>e?1:0}function ia(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new W(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new W(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new W(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new W(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return lt.fromMillis(Date.now())}static fromDate(e){return lt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new lt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ye(this.nanoseconds,e.nanoseconds):ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ne(e)}static min(){return new ne(new lt(0,0))}static max(){return new ne(new lt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e,n,r){n===void 0?n=0:n>e.length&&te(),r===void 0?r=e.length-n:r>e.length-n&&te(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return gu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof gu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Me extends gu{construct(e,n,r){return new Me(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new W(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Me(n)}static emptyPath(){return new Me([])}}const P3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Et extends gu{construct(e,n,r){return new Et(e,n,r)}static isValidIdentifier(e){return P3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Et.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Et(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new W(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new W(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new W(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new W(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Et(n)}static emptyPath(){return new Et([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.path=e}static fromPath(e){return new Y(Me.fromString(e))}static fromName(e){return new Y(Me.fromString(e).popFirst(5))}static empty(){return new Y(Me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Me.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Me.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Y(new Me(e.slice()))}}function R3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ne.fromTimestamp(r===1e9?new lt(n+1,0):new lt(n,r));return new Fi(i,Y.empty(),e)}function D3(t){return new Fi(t.readTime,t.key,-1)}class Fi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Fi(ne.min(),Y.empty(),-1)}static max(){return new Fi(ne.max(),Y.empty(),-1)}}function N3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Y.comparator(t.documentKey,e.documentKey),n!==0?n:ye(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class M3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wu(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==O3)throw t;q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(i=>i?U.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new U((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new U((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function L3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function qu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}U0.oe=-1;function wf(t){return t==null}function kd(t){return t===0&&1/t==-1/0}function V3(t){return typeof t=="number"&&Number.isInteger(t)&&!kd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ks(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Wk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e,n){this.comparator=e,this.root=n||_t.EMPTY}insert(e,n){return new We(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_t.BLACK,null,null))}remove(e){return new We(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_t.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $c(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $c(this.root,e,this.comparator,!1)}getReverseIterator(){return new $c(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $c(this.root,e,this.comparator,!0)}}class $c{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??_t.RED,this.left=i??_t.EMPTY,this.right=s??_t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new _t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return _t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return _t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw te();const e=this.left.check();if(e!==this.right.check())throw te();return e+(this.isRed()?0:1)}}_t.EMPTY=null,_t.RED=!0,_t.BLACK=!1;_t.EMPTY=new class{constructor(){this.size=0}get key(){throw te()}get value(){throw te()}get color(){throw te()}get left(){throw te()}get right(){throw te()}copy(e,n,r,i,s){return this}insert(e,n,r){return new _t(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.comparator=e,this.data=new We(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new cE(this.data.getIterator())}getIteratorFrom(e){return new cE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof bt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new bt(this.comparator);return n.data=e,n}}class cE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.fields=e,e.sort(Et.comparator)}static empty(){return new hn([])}unionWith(e){let n=new bt(Et.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new hn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ia(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new qk("Invalid base64 string: "+s):s}}(e);return new St(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new St(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}St.EMPTY_BYTE_STRING=new St("");const F3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ui(t){if(Te(!!t),typeof t=="string"){let e=0;const n=F3.exec(t);if(Te(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Xe(t.seconds),nanos:Xe(t.nanos)}}function Xe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function zs(t){return typeof t=="string"?St.fromBase64String(t):St.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j0(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function z0(t){const e=t.mapValue.fields.__previous_value__;return j0(e)?z0(e):e}function yu(t){const e=Ui(t.mapValue.fields.__local_write_time__.timestampValue);return new lt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class vu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new vu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof vu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hc={mapValue:{}};function Bs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?j0(t)?4:z3(t)?9007199254740991:j3(t)?10:11:te()}function pr(t,e){if(t===e)return!0;const n=Bs(t);if(n!==Bs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return yu(t).isEqual(yu(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Ui(i.timestampValue),a=Ui(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return zs(i.bytesValue).isEqual(zs(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Xe(i.geoPointValue.latitude)===Xe(s.geoPointValue.latitude)&&Xe(i.geoPointValue.longitude)===Xe(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Xe(i.integerValue)===Xe(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Xe(i.doubleValue),a=Xe(s.doubleValue);return o===a?kd(o)===kd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ia(t.arrayValue.values||[],e.arrayValue.values||[],pr);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(uE(o)!==uE(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!pr(o[l],a[l])))return!1;return!0}(t,e);default:return te()}}function _u(t,e){return(t.values||[]).find(n=>pr(n,e))!==void 0}function sa(t,e){if(t===e)return 0;const n=Bs(t),r=Bs(e);if(n!==r)return ye(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ye(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Xe(s.integerValue||s.doubleValue),l=Xe(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return hE(t.timestampValue,e.timestampValue);case 4:return hE(yu(t),yu(e));case 5:return ye(t.stringValue,e.stringValue);case 6:return function(s,o){const a=zs(s),l=zs(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=ye(a[u],l[u]);if(c!==0)return c}return ye(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=ye(Xe(s.latitude),Xe(o.latitude));return a!==0?a:ye(Xe(s.longitude),Xe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return dE(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,c;const d=s.fields||{},f=o.fields||{},m=(a=d.value)===null||a===void 0?void 0:a.arrayValue,y=(l=f.value)===null||l===void 0?void 0:l.arrayValue,_=ye(((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0,((c=y==null?void 0:y.values)===null||c===void 0?void 0:c.length)||0);return _!==0?_:dE(m,y)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Hc.mapValue&&o===Hc.mapValue)return 0;if(s===Hc.mapValue)return 1;if(o===Hc.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const f=ye(l[d],c[d]);if(f!==0)return f;const m=sa(a[l[d]],u[c[d]]);if(m!==0)return m}return ye(l.length,c.length)}(t.mapValue,e.mapValue);default:throw te()}}function hE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ye(t,e);const n=Ui(t),r=Ui(e),i=ye(n.seconds,r.seconds);return i!==0?i:ye(n.nanos,r.nanos)}function dE(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=sa(n[i],r[i]);if(s)return s}return ye(n.length,r.length)}function oa(t){return Rg(t)}function Rg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ui(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return zs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Y.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Rg(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Rg(n.fields[o])}`;return i+"}"}(t.mapValue):te()}function fE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Dg(t){return!!t&&"integerValue"in t}function B0(t){return!!t&&"arrayValue"in t}function pE(t){return!!t&&"nullValue"in t}function mE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ah(t){return!!t&&"mapValue"in t}function j3(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ol(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ks(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ol(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ol(t.arrayValue.values[n]);return e}return Object.assign({},t)}function z3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.value=e}static empty(){return new Zt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ah(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ol(n)}setAll(e){let n=Et.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Ol(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Ah(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return pr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ah(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ks(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Zt(Ol(this.value))}}function Kk(t){const e=[];return Ks(t.fields,(n,r)=>{const i=new Et([n]);if(Ah(r)){const s=Kk(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new hn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Mt(e,0,ne.min(),ne.min(),ne.min(),Zt.empty(),0)}static newFoundDocument(e,n,r,i){return new Mt(e,1,n,ne.min(),r,i,0)}static newNoDocument(e,n){return new Mt(e,2,n,ne.min(),ne.min(),Zt.empty(),0)}static newUnknownDocument(e,n){return new Mt(e,3,n,ne.min(),ne.min(),Zt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Mt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e,n){this.position=e,this.inclusive=n}}function gE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Y.comparator(Y.fromName(o.referenceValue),n.key):r=sa(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function yE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!pr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,n="asc"){this.field=e,this.dir=n}}function B3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{}class it extends Gk{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new H3(e,n,r):n==="array-contains"?new K3(e,r):n==="in"?new G3(e,r):n==="not-in"?new Q3(e,r):n==="array-contains-any"?new Y3(e,r):new it(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new W3(e,r):new q3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(sa(n,this.value)):n!==null&&Bs(this.value)===Bs(n)&&this.matchesComparison(sa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wn extends Gk{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Wn(e,n)}matches(e){return Qk(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Qk(t){return t.op==="and"}function Yk(t){return $3(t)&&Qk(t)}function $3(t){for(const e of t.filters)if(e instanceof Wn)return!1;return!0}function Ng(t){if(t instanceof it)return t.field.canonicalString()+t.op.toString()+oa(t.value);if(Yk(t))return t.filters.map(e=>Ng(e)).join(",");{const e=t.filters.map(n=>Ng(n)).join(",");return`${t.op}(${e})`}}function Xk(t,e){return t instanceof it?function(r,i){return i instanceof it&&r.op===i.op&&r.field.isEqual(i.field)&&pr(r.value,i.value)}(t,e):t instanceof Wn?function(r,i){return i instanceof Wn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&Xk(o,i.filters[a]),!0):!1}(t,e):void te()}function Zk(t){return t instanceof it?function(n){return`${n.field.canonicalString()} ${n.op} ${oa(n.value)}`}(t):t instanceof Wn?function(n){return n.op.toString()+" {"+n.getFilters().map(Zk).join(" ,")+"}"}(t):"Filter"}class H3 extends it{constructor(e,n,r){super(e,n,r),this.key=Y.fromName(r.referenceValue)}matches(e){const n=Y.comparator(e.key,this.key);return this.matchesComparison(n)}}class W3 extends it{constructor(e,n){super(e,"in",n),this.keys=Jk("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class q3 extends it{constructor(e,n){super(e,"not-in",n),this.keys=Jk("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Jk(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Y.fromName(r.referenceValue))}class K3 extends it{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return B0(n)&&_u(n.arrayValue,this.value)}}class G3 extends it{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&_u(this.value.arrayValue,n)}}class Q3 extends it{constructor(e,n){super(e,"not-in",n)}matches(e){if(_u(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!_u(this.value.arrayValue,n)}}class Y3 extends it{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!B0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>_u(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function vE(t,e=null,n=[],r=[],i=null,s=null,o=null){return new X3(t,e,n,r,i,s,o)}function $0(t){const e=re(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ng(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),wf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>oa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>oa(r)).join(",")),e.ue=n}return e.ue}function H0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!B3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Xk(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!yE(t.startAt,e.startAt)&&yE(t.endAt,e.endAt)}function Og(t){return Y.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Z3(t,e,n,r,i,s,o,a){return new Ku(t,e,n,r,i,s,o,a)}function W0(t){return new Ku(t)}function _E(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function eI(t){return t.collectionGroup!==null}function Ml(t){const e=re(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new bt(Et.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Cd(s,r))}),n.has(Et.keyField().canonicalString())||e.ce.push(new Cd(Et.keyField(),r))}return e.ce}function sr(t){const e=re(t);return e.le||(e.le=J3(e,Ml(t))),e.le}function J3(t,e){if(t.limitType==="F")return vE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Cd(i.field,s)});const n=t.endAt?new Id(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Id(t.startAt.position,t.startAt.inclusive):null;return vE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Mg(t,e){const n=t.filters.concat([e]);return new Ku(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Lg(t,e,n){return new Ku(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ef(t,e){return H0(sr(t),sr(e))&&t.limitType===e.limitType}function tI(t){return`${$0(sr(t))}|lt:${t.limitType}`}function fo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Zk(i)).join(", ")}]`),wf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>oa(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>oa(i)).join(",")),`Target(${r})`}(sr(t))}; limitType=${t.limitType})`}function xf(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Y.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Ml(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=gE(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Ml(r),i)||r.endAt&&!function(o,a,l){const u=gE(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Ml(r),i))}(t,e)}function eL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function nI(t){return(e,n)=>{let r=!1;for(const i of Ml(t)){const s=tL(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function tL(t,e,n){const r=t.field.isKeyField()?Y.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?sa(l,u):te()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ks(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Wk(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nL=new We(Y.comparator);function Hr(){return nL}const rI=new We(Y.comparator);function gl(...t){let e=rI;for(const n of t)e=e.insert(n.key,n);return e}function iI(t){let e=rI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ws(){return Ll()}function sI(){return Ll()}function Ll(){return new Ta(t=>t.toString(),(t,e)=>t.isEqual(e))}const rL=new We(Y.comparator),iL=new bt(Y.comparator);function ce(...t){let e=iL;for(const n of t)e=e.add(n);return e}const sL=new bt(ye);function oL(){return sL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kd(e)?"-0":e}}function oI(t){return{integerValue:""+t}}function aI(t,e){return V3(e)?oI(e):q0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(){this._=void 0}}function aL(t,e,n){return t instanceof Ad?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&j0(s)&&(s=z0(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof wu?uI(t,e):t instanceof Eu?cI(t,e):function(i,s){const o=lI(i,s),a=wE(o)+wE(i.Pe);return Dg(o)&&Dg(i.Pe)?oI(a):q0(i.serializer,a)}(t,e)}function lL(t,e,n){return t instanceof wu?uI(t,e):t instanceof Eu?cI(t,e):n}function lI(t,e){return t instanceof xu?function(r){return Dg(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Ad extends bf{}class wu extends bf{constructor(e){super(),this.elements=e}}function uI(t,e){const n=hI(e);for(const r of t.elements)n.some(i=>pr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Eu extends bf{constructor(e){super(),this.elements=e}}function cI(t,e){let n=hI(e);for(const r of t.elements)n=n.filter(i=>!pr(i,r));return{arrayValue:{values:n}}}class xu extends bf{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function wE(t){return Xe(t.integerValue||t.doubleValue)}function hI(t){return B0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(e,n){this.field=e,this.transform=n}}function cL(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof wu&&i instanceof wu||r instanceof Eu&&i instanceof Eu?ia(r.elements,i.elements,pr):r instanceof xu&&i instanceof xu?pr(r.Pe,i.Pe):r instanceof Ad&&i instanceof Ad}(t.transform,e.transform)}class hL{constructor(e,n){this.version=e,this.transformResults=n}}class $n{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new $n}static exists(e){return new $n(void 0,e)}static updateTime(e){return new $n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ph(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Tf{}function dI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new K0(t.key,$n.none()):new Gu(t.key,t.data,$n.none());{const n=t.data,r=Zt.empty();let i=new bt(Et.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Yi(t.key,r,new hn(i.toArray()),$n.none())}}function dL(t,e,n){t instanceof Gu?function(i,s,o){const a=i.value.clone(),l=xE(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Yi?function(i,s,o){if(!Ph(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=xE(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(fI(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Vl(t,e,n,r){return t instanceof Gu?function(s,o,a,l){if(!Ph(s.precondition,o))return a;const u=s.value.clone(),c=bE(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Yi?function(s,o,a,l){if(!Ph(s.precondition,o))return a;const u=bE(s.fieldTransforms,l,o),c=o.data;return c.setAll(fI(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return Ph(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function fL(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=lI(r.transform,i||null);s!=null&&(n===null&&(n=Zt.empty()),n.set(r.field,s))}return n||null}function EE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ia(r,i,(s,o)=>cL(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Gu extends Tf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Yi extends Tf{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function fI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function xE(t,e,n){const r=new Map;Te(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,lL(o,a,n[i]))}return r}function bE(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,aL(s,o,e))}return r}class K0 extends Tf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pL extends Tf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&dL(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Vl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Vl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=sI();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=dI(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ne.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ce())}isEqual(e){return this.batchId===e.batchId&&ia(this.mutations,e.mutations,(n,r)=>EE(n,r))&&ia(this.baseMutations,e.baseMutations,(n,r)=>EE(n,r))}}class G0{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Te(e.mutations.length===r.length);let i=function(){return rL}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new G0(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tt,fe;function vL(t){switch(t){default:return te();case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0}}function pI(t){if(t===void 0)return $r("GRPC error has no .code"),F.UNKNOWN;switch(t){case tt.OK:return F.OK;case tt.CANCELLED:return F.CANCELLED;case tt.UNKNOWN:return F.UNKNOWN;case tt.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case tt.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case tt.INTERNAL:return F.INTERNAL;case tt.UNAVAILABLE:return F.UNAVAILABLE;case tt.UNAUTHENTICATED:return F.UNAUTHENTICATED;case tt.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case tt.NOT_FOUND:return F.NOT_FOUND;case tt.ALREADY_EXISTS:return F.ALREADY_EXISTS;case tt.PERMISSION_DENIED:return F.PERMISSION_DENIED;case tt.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case tt.ABORTED:return F.ABORTED;case tt.OUT_OF_RANGE:return F.OUT_OF_RANGE;case tt.UNIMPLEMENTED:return F.UNIMPLEMENTED;case tt.DATA_LOSS:return F.DATA_LOSS;default:return te()}}(fe=tt||(tt={}))[fe.OK=0]="OK",fe[fe.CANCELLED=1]="CANCELLED",fe[fe.UNKNOWN=2]="UNKNOWN",fe[fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fe[fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fe[fe.NOT_FOUND=5]="NOT_FOUND",fe[fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",fe[fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",fe[fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",fe[fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fe[fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fe[fe.ABORTED=10]="ABORTED",fe[fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",fe[fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",fe[fe.INTERNAL=13]="INTERNAL",fe[fe.UNAVAILABLE=14]="UNAVAILABLE",fe[fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _L(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wL=new As([4294967295,4294967295],0);function TE(t){const e=_L().encode(t),n=new Vk;return n.update(e),new Uint8Array(n.digest())}function SE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new As([n,r],0),new As([i,s],0)]}class Q0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new yl(`Invalid padding: ${n}`);if(r<0)throw new yl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new yl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new yl(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=As.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(As.fromNumber(r)));return i.compare(wL)===1&&(i=new As([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=TE(e),[r,i]=SE(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Q0(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=TE(e),[r,i]=SE(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class yl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Qu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Sf(ne.min(),i,new We(ye),Hr(),ce())}}class Qu{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Qu(r,n,ce(),ce(),ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class mI{constructor(e,n){this.targetId=e,this.me=n}}class gI{constructor(e,n,r=St.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class kE{constructor(){this.fe=0,this.ge=CE(),this.pe=St.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ce(),n=ce(),r=ce();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:te()}}),new Qu(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=CE()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Te(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class EL{constructor(e){this.Le=e,this.Be=new Map,this.ke=Hr(),this.qe=IE(),this.Qe=new We(ye)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:te()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(Og(s))if(r===0){const o=new Y(s.path);this.Ue(n,o,Mt.newNoDocument(o,ne.min()))}else Te(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=zs(r).toUint8Array()}catch(l){if(l instanceof qk)return ra("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Q0(o,i,s)}catch(l){return ra(l instanceof yl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&Og(a.target)){const l=new Y(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Mt.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=ce();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Sf(e,n,this.Qe,this.ke,r);return this.ke=Hr(),this.qe=IE(),this.Qe=new We(ye),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new kE,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new bt(ye),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||q("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new kE),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function IE(){return new We(Y.comparator)}function CE(){return new We(Y.comparator)}const xL={asc:"ASCENDING",desc:"DESCENDING"},bL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},TL={and:"AND",or:"OR"};class SL{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Vg(t,e){return t.useProto3Json||wf(e)?e:{value:e}}function Pd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function kL(t,e){return Pd(t,e.toTimestamp())}function or(t){return Te(!!t),ne.fromTimestamp(function(n){const r=Ui(n);return new lt(r.seconds,r.nanos)}(t))}function Y0(t,e){return Fg(t,e).canonicalString()}function Fg(t,e){const n=function(i){return new Me(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function vI(t){const e=Me.fromString(t);return Te(bI(e)),e}function Ug(t,e){return Y0(t.databaseId,e.path)}function Qp(t,e){const n=vI(e);if(n.get(1)!==t.databaseId.projectId)throw new W(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new W(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Y(wI(n))}function _I(t,e){return Y0(t.databaseId,e)}function IL(t){const e=vI(t);return e.length===4?Me.emptyPath():wI(e)}function jg(t){return new Me(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function wI(t){return Te(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function AE(t,e,n){return{name:Ug(t,e),fields:n.value.mapValue.fields}}function CL(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:te()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(Te(c===void 0||typeof c=="string"),St.fromBase64String(c||"")):(Te(c===void 0||c instanceof Buffer||c instanceof Uint8Array),St.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?F.UNKNOWN:pI(u.code);return new W(c,u.message||"")}(o);n=new gI(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Qp(t,r.document.name),s=or(r.document.updateTime),o=r.document.createTime?or(r.document.createTime):ne.min(),a=new Zt({mapValue:{fields:r.document.fields}}),l=Mt.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Rh(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Qp(t,r.document),s=r.readTime?or(r.readTime):ne.min(),o=Mt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Rh([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Qp(t,r.document),s=r.removedTargetIds||[];n=new Rh([],s,i,null)}else{if(!("filter"in e))return te();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new yL(i,s),a=r.targetId;n=new mI(a,o)}}return n}function AL(t,e){let n;if(e instanceof Gu)n={update:AE(t,e.key,e.value)};else if(e instanceof K0)n={delete:Ug(t,e.key)};else if(e instanceof Yi)n={update:AE(t,e.key,e.data),updateMask:FL(e.fieldMask)};else{if(!(e instanceof pL))return te();n={verify:Ug(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Ad)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof wu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Eu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof xu)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw te()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:kL(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:te()}(t,e.precondition)),n}function PL(t,e){return t&&t.length>0?(Te(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?or(i.updateTime):or(s);return o.isEqual(ne.min())&&(o=or(s)),new hL(o,i.transformResults||[])}(n,e))):[]}function RL(t,e){return{documents:[_I(t,e.path)]}}function DL(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=_I(t,i);const s=function(u){if(u.length!==0)return xI(Wn.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(c=>function(f){return{field:po(f.field),direction:ML(f.dir)}}(c))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Vg(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function NL(t){let e=IL(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Te(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(d){const f=EI(d);return f instanceof Wn&&Yk(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(f=>function(y){return new Cd(mo(y.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,wf(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,m=d.values||[];return new Id(m,f)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const f=!d.before,m=d.values||[];return new Id(m,f)}(n.endAt)),Z3(e,i,o,s,a,"F",l,u)}function OL(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return te()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function EI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=mo(n.unaryFilter.field);return it.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=mo(n.unaryFilter.field);return it.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=mo(n.unaryFilter.field);return it.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=mo(n.unaryFilter.field);return it.create(o,"!=",{nullValue:"NULL_VALUE"});default:return te()}}(t):t.fieldFilter!==void 0?function(n){return it.create(mo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return te()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Wn.create(n.compositeFilter.filters.map(r=>EI(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return te()}}(n.compositeFilter.op))}(t):te()}function ML(t){return xL[t]}function LL(t){return bL[t]}function VL(t){return TL[t]}function po(t){return{fieldPath:t.canonicalString()}}function mo(t){return Et.fromServerFormat(t.fieldPath)}function xI(t){return t instanceof it?function(n){if(n.op==="=="){if(mE(n.value))return{unaryFilter:{field:po(n.field),op:"IS_NAN"}};if(pE(n.value))return{unaryFilter:{field:po(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(mE(n.value))return{unaryFilter:{field:po(n.field),op:"IS_NOT_NAN"}};if(pE(n.value))return{unaryFilter:{field:po(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:po(n.field),op:LL(n.op),value:n.value}}}(t):t instanceof Wn?function(n){const r=n.getFilters().map(i=>xI(i));return r.length===1?r[0]:{compositeFilter:{op:VL(n.op),filters:r}}}(t):te()}function FL(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function bI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e,n,r,i,s=ne.min(),o=ne.min(),a=St.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new yi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new yi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new yi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new yi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{constructor(e){this.ct=e}}function jL(t){const e=NL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Lg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{constructor(){this.un=new BL}addToCollectionParentIndex(e,n){return this.un.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(Fi.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(Fi.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class BL{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new bt(Me.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new bt(Me.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new aa(0)}static kn(){return new aa(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(){this.changes=new Ta(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Mt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Vl(r.mutation,i,hn.empty(),lt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ce()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ce()){const i=ws();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=gl();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ws();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ce()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Hr();const o=Ll(),a=function(){return Ll()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Yi)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Vl(c.mutation,u,c.mutation.getFieldMask(),lt.now())):o.set(u.key,hn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new HL(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ll();let i=new We((o,a)=>o-a),s=ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||hn.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||ce()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=sI();c.forEach(f=>{if(!s.has(f)){const m=dI(n.get(f),r.get(f));m!==null&&d.set(f,m),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return U.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Y.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):eI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):U.resolve(ws());let a=-1,l=s;return o.next(u=>U.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?U.resolve():this.remoteDocumentCache.getEntry(e,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,ce())).next(c=>({batchId:a,changes:iI(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Y(n)).next(r=>{let i=gl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=gl();return this.indexManager.getCollectionParents(e,s).next(a=>U.forEach(a,l=>{const u=function(d,f){return new Ku(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,Mt.newInvalidDocument(c)))});let a=gl();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&Vl(c.mutation,u,hn.empty(),lt.now()),xf(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return U.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:or(i.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:jL(i.bundledQuery),readTime:or(i.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(){this.overlays=new We(Y.comparator),this.Ir=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ws();return U.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const i=ws(),s=n.length+1,o=new Y(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return U.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new We((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=ws(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=ws(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return U.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new gL(n,r));let s=this.Ir.get(n);s===void 0&&(s=ce(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(){this.sessionToken=St.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(){this.Tr=new bt(ct.Er),this.dr=new bt(ct.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new ct(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new ct(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new Y(new Me([])),r=new ct(n,e),i=new ct(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Y(new Me([])),r=new ct(n,e),i=new ct(n,e+1);let s=ce();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new ct(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ct{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Y.comparator(e.key,n.key)||ye(e.wr,n.wr)}static Ar(e,n){return ye(e.wr,n.wr)||Y.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new bt(ct.Er)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new mL(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new ct(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return U.resolve(o)}lookupMutationBatch(e,n){return U.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return U.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ct(n,0),i=new ct(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),U.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new bt(ye);return n.forEach(i=>{const s=new ct(i,0),o=new ct(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),U.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Y.isDocumentKey(s)||(s=s.child(""));const o=new ct(new Y(s),0);let a=new bt(ye);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},o),U.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Te(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return U.forEach(n.mutations,i=>{const s=new ct(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new ct(n,0),i=this.br.firstAfterOrEqual(r);return U.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{constructor(e){this.Mr=e,this.docs=function(){return new We(Y.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():Mt.newInvalidDocument(n))}getEntries(e,n){let r=Hr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Mt.newInvalidDocument(i))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Hr();const o=n.path,a=new Y(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||N3(D3(c),r)<=0||(i.has(c.key)||xf(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return U.resolve(s)}getAllFromCollectionGroup(e,n,r,i){te()}Or(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new XL(this)}getSize(e){return U.resolve(this.size)}}class XL extends $L{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(e){this.persistence=e,this.Nr=new Ta(n=>$0(n),H0),this.lastRemoteSnapshotVersion=ne.min(),this.highestTargetId=0,this.Lr=0,this.Br=new X0,this.targetCount=0,this.kr=aa.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),U.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new aa(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.Kn(n),U.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),U.waitFor(s).next(()=>i)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),U.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JL{constructor(e,n){this.qr={},this.overlays={},this.Qr=new U0(0),this.Kr=!1,this.Kr=!0,this.$r=new GL,this.referenceDelegate=e(this),this.Ur=new ZL(this),this.indexManager=new zL,this.remoteDocumentCache=function(i){return new YL(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new UL(n),this.Gr=new qL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new KL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new QL(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){q("MemoryPersistence","Starting transaction:",e);const i=new e6(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return U.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class e6 extends M3{constructor(e){super(),this.currentSequenceNumber=e}}class Z0{constructor(e){this.persistence=e,this.Jr=new X0,this.Yr=null}static Zr(e){return new Z0(e)}get Xr(){if(this.Yr)return this.Yr;throw te()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),U.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.Xr,r=>{const i=Y.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,ne.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return U.or([()=>U.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=ce(),i=ce();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new J0(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return r5()?8:L3(Ut())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new t6;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Ja()<=de.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",fo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),U.resolve()):(Ja()<=de.DEBUG&&q("QueryEngine","Query:",fo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Ja()<=de.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",fo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,sr(n))):U.resolve())}Yi(e,n){if(_E(n))return U.resolve(null);let r=sr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Lg(n,null,"F"),r=sr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ce(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,o,l.readTime)?this.Yi(e,Lg(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return _E(n)||i.isEqual(ne.min())?U.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?U.resolve(null):(Ja()<=de.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),fo(n)),this.rs(e,o,n,R3(i,-1)).next(a=>a))})}ts(e,n){let r=new bt(nI(e));return n.forEach((i,s)=>{xf(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Ja()<=de.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",fo(n)),this.Ji.getDocumentsMatchingQuery(e,n,Fi.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new We(ye),this._s=new Ta(s=>$0(s),H0),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new WL(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function i6(t,e,n,r){return new r6(t,e,n,r)}async function TI(t,e){const n=re(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ce();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})}function s6(t,e){const n=re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,f=d.keys();let m=U.resolve();return f.forEach(y=>{m=m.next(()=>c.getEntry(l,y)).next(_=>{const E=u.docVersions.get(y);Te(E!==null),_.version.compareTo(E)<0&&(d.applyToRemoteDocument(_,u),_.isValidDocument()&&(_.setReadTime(u.commitVersion),c.addEntry(_)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ce();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function SI(t){const e=re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function o6(t,e){const n=re(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((c,d)=>{const f=i.get(d);if(!f)return;a.push(n.Ur.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.Ur.addMatchingKeys(s,c.addedDocuments,d)));let m=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?m=m.withResumeToken(St.EMPTY_BYTE_STRING,ne.min()).withLastLimboFreeSnapshotVersion(ne.min()):c.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(c.resumeToken,r)),i=i.insert(d,m),function(_,E,w){return _.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(f,m,c)&&a.push(n.Ur.updateTargetData(s,m))});let l=Hr(),u=ce();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(a6(s,o,e.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!r.isEqual(ne.min())){const c=n.Ur.getLastRemoteSnapshotVersion(s).next(d=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return U.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.os=i,s))}function a6(t,e,n){let r=ce(),i=ce();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Hr();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ne.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):q("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function l6(t,e){const n=re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function u6(t,e){const n=re(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,U.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new yi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function zg(t,e,n){const r=re(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!qu(o))throw o;q("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function PE(t,e,n){const r=re(t);let i=ne.min(),s=ce();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const d=re(l),f=d._s.get(c);return f!==void 0?U.resolve(d.os.get(f)):d.Ur.getTargetData(u,c)}(r,o,sr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:ne.min(),n?s:ce())).next(a=>(c6(r,eL(e),a),{documents:a,Ts:s})))}function c6(t,e,n){let r=t.us.get(e)||ne.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class RE{constructor(){this.activeTargetIds=oL()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class h6{constructor(){this.so=new RE,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new RE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wc=null;function Yp(){return Wc===null?Wc=function(){return 268435456+Math.round(2147483648*Math.random())}():Wc++,"0x"+Wc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rt="WebChannelConnection";class m6 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=Yp(),l=this.xo(n,r.toUriEncodedString());q("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(n,l,u,i).then(c=>(q("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw ra("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ba}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=f6[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=Yp();return new Promise((o,a)=>{const l=new Fk;l.setWithCredentials(!0),l.listenOnce(Uk.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Ch.NO_ERROR:const c=l.getResponseJson();q(Rt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case Ch.TIMEOUT:q(Rt,`RPC '${e}' ${s} timed out`),a(new W(F.DEADLINE_EXCEEDED,"Request time out"));break;case Ch.HTTP_ERROR:const d=l.getStatus();if(q(Rt,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const m=f==null?void 0:f.error;if(m&&m.status&&m.message){const y=function(E){const w=E.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(w)>=0?w:F.UNKNOWN}(m.status);a(new W(y,m.message))}else a(new W(F.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new W(F.UNAVAILABLE,"Connection failed."));break;default:te()}}finally{q(Rt,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);q(Rt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=Yp(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Bk(),a=zk(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");q(Rt,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=o.createWebChannel(c,l);let f=!1,m=!1;const y=new p6({Io:E=>{m?q(Rt,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(f||(q(Rt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),q(Rt,`RPC '${e}' stream ${i} sending:`,E),d.send(E))},To:()=>d.close()}),_=(E,w,b)=>{E.listen(w,T=>{try{b(T)}catch(R){setTimeout(()=>{throw R},0)}})};return _(d,ml.EventType.OPEN,()=>{m||(q(Rt,`RPC '${e}' stream ${i} transport opened.`),y.yo())}),_(d,ml.EventType.CLOSE,()=>{m||(m=!0,q(Rt,`RPC '${e}' stream ${i} transport closed`),y.So())}),_(d,ml.EventType.ERROR,E=>{m||(m=!0,ra(Rt,`RPC '${e}' stream ${i} transport errored:`,E),y.So(new W(F.UNAVAILABLE,"The operation could not be completed")))}),_(d,ml.EventType.MESSAGE,E=>{var w;if(!m){const b=E.data[0];Te(!!b);const T=b,R=T.error||((w=T[0])===null||w===void 0?void 0:w.error);if(R){q(Rt,`RPC '${e}' stream ${i} received error:`,R);const D=R.status;let M=function(I){const C=tt[I];if(C!==void 0)return pI(C)}(D),S=R.message;M===void 0&&(M=F.INTERNAL,S="Unknown error status: "+D+" with message "+R.message),m=!0,y.So(new W(M,S)),d.close()}else q(Rt,`RPC '${e}' stream ${i} received:`,b),y.bo(b)}}),_(a,jk.STAT_EVENT,E=>{E.stat===Pg.PROXY?q(Rt,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===Pg.NOPROXY&&q(Rt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.wo()},0),y}}function Xp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kf(t){return new SL(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new kI(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===F.RESOURCE_EXHAUSTED?($r(n.toString()),$r("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new W(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class g6 extends II{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=CL(this.serializer,e),r=function(s){if(!("targetChange"in s))return ne.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ne.min():o.readTime?or(o.readTime):ne.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=jg(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Og(l)?{documents:RL(s,l)}:{query:DL(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=yI(s,o.resumeToken);const u=Vg(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(ne.min())>0){a.readTime=Pd(s,o.snapshotVersion.toTimestamp());const u=Vg(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=OL(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=jg(this.serializer),n.removeTarget=e,this.a_(n)}}class y6 extends II{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Te(!!e.streamToken),this.lastStreamToken=e.streamToken,Te(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Te(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=PL(e.writeResults,e.commitTime),r=or(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=jg(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>AL(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new W(F.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Fg(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new W(F.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,Fg(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new W(F.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class _6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?($r(n),this.D_=!1):q("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{Gs(this)&&(q("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=re(l);u.L_.add(4),await Yu(u),u.q_.set("Unknown"),u.L_.delete(4),await If(u)}(this))})}),this.q_=new _6(r,i)}}async function If(t){if(Gs(t))for(const e of t.B_)await e(!0)}async function Yu(t){for(const e of t.B_)await e(!1)}function CI(t,e){const n=re(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),rv(n)?nv(n):Sa(n).r_()&&tv(n,e))}function ev(t,e){const n=re(t),r=Sa(n);n.N_.delete(e),r.r_()&&AI(n,e),n.N_.size===0&&(r.r_()?r.o_():Gs(n)&&n.q_.set("Unknown"))}function tv(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ne.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Sa(t).A_(e)}function AI(t,e){t.Q_.xe(e),Sa(t).R_(e)}function nv(t){t.Q_=new EL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Sa(t).start(),t.q_.v_()}function rv(t){return Gs(t)&&!Sa(t).n_()&&t.N_.size>0}function Gs(t){return re(t).L_.size===0}function PI(t){t.Q_=void 0}async function E6(t){t.q_.set("Online")}async function x6(t){t.N_.forEach((e,n)=>{tv(t,e)})}async function b6(t,e){PI(t),rv(t)?(t.q_.M_(e),nv(t)):t.q_.set("Unknown")}async function T6(t,e,n){if(t.q_.set("Online"),e instanceof gI&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){q("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Rd(t,r)}else if(e instanceof Rh?t.Q_.Ke(e):e instanceof mI?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ne.min()))try{const r=await SI(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.N_.get(u);c&&s.N_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.N_.get(l);if(!c)return;s.N_.set(l,c.withResumeToken(St.EMPTY_BYTE_STRING,c.snapshotVersion)),AI(s,l);const d=new yi(c.target,l,u,c.sequenceNumber);tv(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){q("RemoteStore","Failed to raise snapshot:",r),await Rd(t,r)}}async function Rd(t,e,n){if(!qu(e))throw e;t.L_.add(1),await Yu(t),t.q_.set("Offline"),n||(n=()=>SI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{q("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await If(t)})}function RI(t,e){return e().catch(n=>Rd(t,n,e))}async function Cf(t){const e=re(t),n=ji(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;S6(e);)try{const i=await l6(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,k6(e,i)}catch(i){await Rd(e,i)}DI(e)&&NI(e)}function S6(t){return Gs(t)&&t.O_.length<10}function k6(t,e){t.O_.push(e);const n=ji(t);n.r_()&&n.V_&&n.m_(e.mutations)}function DI(t){return Gs(t)&&!ji(t).n_()&&t.O_.length>0}function NI(t){ji(t).start()}async function I6(t){ji(t).p_()}async function C6(t){const e=ji(t);for(const n of t.O_)e.m_(n.mutations)}async function A6(t,e,n){const r=t.O_.shift(),i=G0.from(r,e,n);await RI(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Cf(t)}async function P6(t,e){e&&ji(t).V_&&await async function(r,i){if(function(o){return vL(o)&&o!==F.ABORTED}(i.code)){const s=r.O_.shift();ji(r).s_(),await RI(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Cf(r)}}(t,e),DI(t)&&NI(t)}async function NE(t,e){const n=re(t);n.asyncQueue.verifyOperationInProgress(),q("RemoteStore","RemoteStore received new credentials");const r=Gs(n);n.L_.add(3),await Yu(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await If(n)}async function R6(t,e){const n=re(t);e?(n.L_.delete(2),await If(n)):e||(n.L_.add(2),await Yu(n),n.q_.set("Unknown"))}function Sa(t){return t.K_||(t.K_=function(n,r,i){const s=re(n);return s.w_(),new g6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:E6.bind(null,t),Ro:x6.bind(null,t),mo:b6.bind(null,t),d_:T6.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),rv(t)?nv(t):t.q_.set("Unknown")):(await t.K_.stop(),PI(t))})),t.K_}function ji(t){return t.U_||(t.U_=function(n,r,i){const s=re(n);return s.w_(),new y6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:I6.bind(null,t),mo:P6.bind(null,t),f_:C6.bind(null,t),g_:A6.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Cf(t)):(await t.U_.stop(),t.O_.length>0&&(q("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ri,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new iv(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new W(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sv(t,e){if($r("AsyncQueue",`${e}: ${t}`),qu(t))return new W(F.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Y.comparator(n.key,r.key):(n,r)=>Y.comparator(n.key,r.key),this.keyedMap=gl(),this.sortedSet=new We(this.comparator)}static emptySet(e){return new Bo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Bo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Bo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(){this.W_=new We(Y.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):te():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class la{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new la(e,n,Bo.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ef(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class N6{constructor(){this.queries=ME(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=re(n),s=i.queries;i.queries=ME(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new W(F.ABORTED,"Firestore shutting down"))}}function ME(){return new Ta(t=>tI(t),Ef)}async function OI(t,e){const n=re(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new D6,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=sv(o,`Initialization of query '${fo(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&ov(n)}async function MI(t,e){const n=re(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function O6(t,e){const n=re(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&ov(n)}function M6(t,e,n){const r=re(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function ov(t){t.Y_.forEach(e=>{e.next()})}var Bg,LE;(LE=Bg||(Bg={})).ea="default",LE.Cache="cache";class LI{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new la(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=la.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Bg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e){this.key=e}}class FI{constructor(e){this.key=e}}class L6{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ce(),this.mutatedKeys=ce(),this.Aa=nI(e),this.Ra=new Bo(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new OE,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const f=i.get(c),m=xf(this.query,d)?d:null,y=!!f&&this.mutatedKeys.has(f.key),_=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let E=!1;f&&m?f.data.isEqual(m.data)?y!==_&&(r.track({type:3,doc:m}),E=!0):this.ga(f,m)||(r.track({type:2,doc:m}),E=!0,(l&&this.Aa(m,l)>0||u&&this.Aa(m,u)<0)&&(a=!0)):!f&&m?(r.track({type:0,doc:m}),E=!0):f&&!m&&(r.track({type:1,doc:f}),E=!0,(l||u)&&(a=!0)),E&&(m?(o=o.add(m),s=_?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((c,d)=>function(m,y){const _=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return te()}};return _(m)-_(y)}(c.type,d.type)||this.Aa(c.doc,d.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new la(this.query,e.Ra,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new OE,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ce(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new FI(r))}),this.da.forEach(r=>{e.has(r)||n.push(new VI(r))}),n}ba(e){this.Ta=e.Ts,this.da=ce();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return la.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class V6{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class F6{constructor(e){this.key=e,this.va=!1}}class U6{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Ta(a=>tI(a),Ef),this.Ma=new Map,this.xa=new Set,this.Oa=new We(Y.comparator),this.Na=new Map,this.La=new X0,this.Ba={},this.ka=new Map,this.qa=aa.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function j6(t,e,n=!0){const r=HI(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await UI(r,e,n,!0),i}async function z6(t,e){const n=HI(t);await UI(n,e,!0,!1)}async function UI(t,e,n,r){const i=await u6(t.localStore,sr(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await B6(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&CI(t.remoteStore,i),a}async function B6(t,e,n,r,i){t.Ka=(d,f,m)=>async function(_,E,w,b){let T=E.view.ma(w);T.ns&&(T=await PE(_.localStore,E.query,!1).then(({documents:S})=>E.view.ma(S,T)));const R=b&&b.targetChanges.get(E.targetId),D=b&&b.targetMismatches.get(E.targetId)!=null,M=E.view.applyChanges(T,_.isPrimaryClient,R,D);return FE(_,E.targetId,M.wa),M.snapshot}(t,d,f,m);const s=await PE(t.localStore,e,!0),o=new L6(e,s.Ts),a=o.ma(s.documents),l=Qu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);FE(t,n,u.wa);const c=new V6(e,n,o);return t.Fa.set(e,c),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function $6(t,e,n){const r=re(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Ef(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await zg(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&ev(r.remoteStore,i.targetId),$g(r,i.targetId)}).catch(Wu)):($g(r,i.targetId),await zg(r.localStore,i.targetId,!0))}async function H6(t,e){const n=re(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ev(n.remoteStore,r.targetId))}async function W6(t,e,n){const r=Z6(t);try{const i=await function(o,a){const l=re(o),u=lt.now(),c=a.reduce((m,y)=>m.add(y.key),ce());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let y=Hr(),_=ce();return l.cs.getEntries(m,c).next(E=>{y=E,y.forEach((w,b)=>{b.isValidDocument()||(_=_.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,y)).next(E=>{d=E;const w=[];for(const b of a){const T=fL(b,d.get(b.key).overlayedDocument);T!=null&&w.push(new Yi(b.key,T,Kk(T.value.mapValue),$n.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,w,a)}).next(E=>{f=E;const w=E.applyToLocalDocumentSet(d,_);return l.documentOverlayCache.saveOverlays(m,E.batchId,w)})}).then(()=>({batchId:f.batchId,changes:iI(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new We(ye)),u=u.insert(a,l),o.Ba[o.currentUser.toKey()]=u}(r,i.batchId,n),await Xu(r,i.changes),await Cf(r.remoteStore)}catch(i){const s=sv(i,"Failed to persist write");n.reject(s)}}async function jI(t,e){const n=re(t);try{const r=await o6(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(Te(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Te(o.va):i.removedDocuments.size>0&&(Te(o.va),o.va=!1))}),await Xu(n,r,e)}catch(r){await Wu(r)}}function VE(t,e,n){const r=re(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=re(o);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const f of d.j_)f.Z_(a)&&(u=!0)}),u&&ov(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function q6(t,e,n){const r=re(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new We(Y.comparator);o=o.insert(s,Mt.newNoDocument(s,ne.min()));const a=ce().add(s),l=new Sf(ne.min(),new Map,new We(ye),o,a);await jI(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),av(r)}else await zg(r.localStore,e,!1).then(()=>$g(r,e,n)).catch(Wu)}async function K6(t,e){const n=re(t),r=e.batch.batchId;try{const i=await s6(n.localStore,e);BI(n,r,null),zI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Xu(n,i)}catch(i){await Wu(i)}}async function G6(t,e,n){const r=re(t);try{const i=await function(o,a){const l=re(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(Te(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);BI(r,e,n),zI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Xu(r,i)}catch(i){await Wu(i)}}function zI(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function BI(t,e,n){const r=re(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function $g(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||$I(t,r)})}function $I(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(ev(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),av(t))}function FE(t,e,n){for(const r of n)r instanceof VI?(t.La.addReference(r.key,e),Q6(t,r)):r instanceof FI?(q("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||$I(t,r.key)):te()}function Q6(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(q("SyncEngine","New document in limbo: "+n),t.xa.add(r),av(t))}function av(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Y(Me.fromString(e)),r=t.qa.next();t.Na.set(r,new F6(n)),t.Oa=t.Oa.insert(n,r),CI(t.remoteStore,new yi(sr(W0(n.path)),r,"TargetPurposeLimboResolution",U0.oe))}}async function Xu(t,e,n){const r=re(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const d=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);const d=J0.Wi(l.targetId,u);s.push(d)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,u){const c=re(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>U.forEach(u,f=>U.forEach(f.$i,m=>c.persistence.referenceDelegate.addReference(d,f.targetId,m)).next(()=>U.forEach(f.Ui,m=>c.persistence.referenceDelegate.removeReference(d,f.targetId,m)))))}catch(d){if(!qu(d))throw d;q("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const f=d.targetId;if(!d.fromCache){const m=c.os.get(f),y=m.snapshotVersion,_=m.withLastLimboFreeSnapshotVersion(y);c.os=c.os.insert(f,_)}}}(r.localStore,s))}async function Y6(t,e){const n=re(t);if(!n.currentUser.isEqual(e)){q("SyncEngine","User change. New user:",e.toKey());const r=await TI(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new W(F.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Xu(n,r.hs)}}function X6(t,e){const n=re(t),r=n.Na.get(e);if(r&&r.va)return ce().add(r.key);{let i=ce();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function HI(t){const e=re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=jI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=X6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=q6.bind(null,e),e.Ca.d_=O6.bind(null,e.eventManager),e.Ca.$a=M6.bind(null,e.eventManager),e}function Z6(t){const e=re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=K6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=G6.bind(null,e),e}class Dd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=kf(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return i6(this.persistence,new n6,e.initialUser,this.serializer)}Ga(e){return new JL(Z0.Zr,this.serializer)}Wa(e){return new h6}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Dd.provider={build:()=>new Dd};class Hg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>VE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Y6.bind(null,this.syncEngine),await R6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new N6}()}createDatastore(e){const n=kf(e.databaseInfo.databaseId),r=function(s){return new m6(s)}(e.databaseInfo);return function(s,o,a,l){return new v6(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new w6(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>VE(this.syncEngine,n,0),function(){return DE.D()?new DE:new d6}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,c){const d=new U6(i,s,o,a,l,u);return c&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=re(i);q("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Yu(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Hg.provider={build:()=>new Hg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):$r("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Nt.UNAUTHENTICATED,this.clientId=Hk.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{q("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(q("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ri;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=sv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Zp(t,e){t.asyncQueue.verifyOperationInProgress(),q("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await TI(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function UE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await eV(t);q("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>NE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>NE(e.remoteStore,i)),t._onlineComponents=e}async function eV(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){q("FirestoreClient","Using user provided OfflineComponentProvider");try{await Zp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===F.FAILED_PRECONDITION||i.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ra("Error using user provided cache. Falling back to memory cache: "+n),await Zp(t,new Dd)}}else q("FirestoreClient","Using default OfflineComponentProvider"),await Zp(t,new Dd);return t._offlineComponents}async function qI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(q("FirestoreClient","Using user provided OnlineComponentProvider"),await UE(t,t._uninitializedComponentsProvider._online)):(q("FirestoreClient","Using default OnlineComponentProvider"),await UE(t,new Hg))),t._onlineComponents}function tV(t){return qI(t).then(e=>e.syncEngine)}async function Wg(t){const e=await qI(t),n=e.eventManager;return n.onListen=j6.bind(null,e.syncEngine),n.onUnlisten=$6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=z6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=H6.bind(null,e.syncEngine),n}function nV(t,e,n={}){const r=new Ri;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new WI({next:f=>{c.Za(),o.enqueueAndForget(()=>MI(s,d)),f.fromCache&&l.source==="server"?u.reject(new W(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),d=new LI(a,c,{includeMetadataChanges:!0,_a:!0});return OI(s,d)}(await Wg(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GI(t,e,n){if(!n)throw new W(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function rV(t,e,n,r){if(e===!0&&r===!0)throw new W(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function zE(t){if(!Y.isDocumentKey(t))throw new W(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function BE(t){if(Y.isDocumentKey(t))throw new W(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Af(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":te()}function ar(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new W(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Af(t);throw new W(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new W(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new W(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new W(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new W(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new W(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Pf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $E({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new W(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new W(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $E(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new x3;switch(r.type){case"firstParty":return new k3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new W(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=jE.get(n);r&&(q("ComponentProvider","Removing Datastore"),jE.delete(n),r.terminate())}(this),Promise.resolve()}}function iV(t,e,n,r={}){var i;const s=(t=ar(t,Pf))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&ra("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Nt.MOCK_USER;else{a=YM(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new W(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Nt(u)}t._authCredentials=new b3(new $k(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Qs(this.firestore,e,this._query)}}class on{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Di(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new on(this.firestore,e,this._key)}}class Di extends Qs{constructor(e,n,r){super(e,n,W0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new on(this.firestore,null,new Y(e))}withConverter(e){return new Di(this.firestore,e,this._path)}}function Xr(t,e,...n){if(t=ut(t),GI("collection","path",e),t instanceof Pf){const r=Me.fromString(e,...n);return BE(r),new Di(t,null,r)}{if(!(t instanceof on||t instanceof Di))throw new W(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Me.fromString(e,...n));return BE(r),new Di(t.firestore,null,r)}}function Kn(t,e,...n){if(t=ut(t),arguments.length===1&&(e=Hk.newId()),GI("doc","path",e),t instanceof Pf){const r=Me.fromString(e,...n);return zE(r),new on(t,null,new Y(r))}{if(!(t instanceof on||t instanceof Di))throw new W(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Me.fromString(e,...n));return zE(r),new on(t.firestore,t instanceof Di?t.converter:null,new Y(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new kI(this,"async_queue_retry"),this.Vu=()=>{const r=Xp();r&&q("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Xp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Xp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Ri;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!qu(e))throw e;q("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw $r("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=iv.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&te()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function WE(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class $s extends Pf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new HE,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new HE(e),this._firestoreClient=void 0,await e}}}function sV(t,e){const n=typeof t=="object"?t:Ok(),r=typeof t=="string"?t:"(default)",i=V0(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=GM("firestore");s&&iV(i,...s)}return i}function lv(t){if(t._terminated)throw new W(F.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||oV(t),t._firestoreClient}function oV(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,c){return new U3(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,KI(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new J6(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ua(St.fromBase64String(e))}catch(n){throw new W(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ua(St.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new W(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Et(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new W(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new W(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ye(this._lat,e._lat)||ye(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aV=/^__.*__$/;class lV{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Yi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Gu(e,this.data,n,this.fieldTransforms)}}class QI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Yi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function YI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw te()}}class hv{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new hv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Nd(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(YI(this.Cu)&&aV.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class uV{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||kf(e)}Qu(e,n,r,i=!1){return new hv({Cu:e,methodName:n,qu:r,path:Et.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function dv(t){const e=t._freezeSettings(),n=kf(t._databaseId);return new uV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function cV(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);pv("Data must be an object, but it was:",o,r);const a=XI(r,o);let l,u;if(s.merge)l=new hn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const f=qg(e,d,n);if(!o.contains(f))throw new W(F.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);JI(c,f)||c.push(f)}l=new hn(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new lV(new Zt(a),l,u)}class Nf extends Df{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Nf}}class fv extends Df{constructor(e,n){super(e),this.$u=n}_toFieldTransform(e){const n=new xu(e.serializer,aI(e.serializer,this.$u));return new uL(e.path,n)}isEqual(e){return e instanceof fv&&this.$u===e.$u}}function hV(t,e,n,r){const i=t.Qu(1,e,n);pv("Data must be an object, but it was:",i,r);const s=[],o=Zt.empty();Ks(r,(l,u)=>{const c=mv(e,l,n);u=ut(u);const d=i.Nu(c);if(u instanceof Nf)s.push(c);else{const f=Zu(u,d);f!=null&&(s.push(c),o.set(c,f))}});const a=new hn(s);return new QI(o,a,i.fieldTransforms)}function dV(t,e,n,r,i,s){const o=t.Qu(1,e,n),a=[qg(e,r,n)],l=[i];if(s.length%2!=0)throw new W(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(qg(e,s[f])),l.push(s[f+1]);const u=[],c=Zt.empty();for(let f=a.length-1;f>=0;--f)if(!JI(u,a[f])){const m=a[f];let y=l[f];y=ut(y);const _=o.Nu(m);if(y instanceof Nf)u.push(m);else{const E=Zu(y,_);E!=null&&(u.push(m),c.set(m,E))}}const d=new hn(u);return new QI(c,d,o.fieldTransforms)}function fV(t,e,n,r=!1){return Zu(n,t.Qu(r?4:3,e))}function Zu(t,e){if(ZI(t=ut(t)))return pv("Unsupported field value:",e,t),XI(t,e);if(t instanceof Df)return function(r,i){if(!YI(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Zu(a,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=ut(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return aI(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=lt.fromDate(r);return{timestampValue:Pd(i.serializer,s)}}if(r instanceof lt){const s=new lt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Pd(i.serializer,s)}}if(r instanceof uv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ua)return{bytesValue:yI(i.serializer,r._byteString)};if(r instanceof on){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Y0(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof cv)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return q0(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Af(r)}`)}(t,e)}function XI(t,e){const n={};return Wk(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ks(t,(r,i)=>{const s=Zu(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function ZI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof lt||t instanceof uv||t instanceof ua||t instanceof on||t instanceof Df||t instanceof cv)}function pv(t,e,n){if(!ZI(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Af(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function qg(t,e,n){if((e=ut(e))instanceof Rf)return e._internalPath;if(typeof e=="string")return mv(t,e);throw Nd("Field path arguments must be of type string or ",t,!1,void 0,n)}const pV=new RegExp("[~\\*/\\[\\]]");function mv(t,e,n){if(e.search(pV)>=0)throw Nd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Rf(...e.split("."))._internalPath}catch{throw Nd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Nd(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new W(F.INVALID_ARGUMENT,a+t+l)}function JI(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new on(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new mV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(gv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class mV extends eC{data(){return super.data()}}function gv(t,e){return typeof e=="string"?mv(t,e):e instanceof Rf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new W(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yv{}class gV extends yv{}function yV(t,e,...n){let r=[];e instanceof yv&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof vv).length,a=s.filter(l=>l instanceof Of).length;if(o>1||o>0&&a>0)throw new W(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Of extends gV{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Of(e,n,r)}_apply(e){const n=this._parse(e);return nC(e._query,n),new Qs(e.firestore,e.converter,Mg(e._query,n))}_parse(e){const n=dv(e.firestore);return function(s,o,a,l,u,c,d){let f;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new W(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){KE(d,c);const m=[];for(const y of d)m.push(qE(l,s,y));f={arrayValue:{values:m}}}else f=qE(l,s,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||KE(d,c),f=fV(a,o,d,c==="in"||c==="not-in");return it.create(u,c,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function vV(t,e,n){const r=e,i=gv("where",t);return Of._create(i,r,n)}class vv extends yv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new vv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Wn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)nC(o,l),o=Mg(o,l)}(e._query,n),new Qs(e.firestore,e.converter,Mg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function qE(t,e,n){if(typeof(n=ut(n))=="string"){if(n==="")throw new W(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!eI(e)&&n.indexOf("/")!==-1)throw new W(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Me.fromString(n));if(!Y.isDocumentKey(r))throw new W(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return fE(t,new Y(r))}if(n instanceof on)return fE(t,n._key);throw new W(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Af(n)}.`)}function KE(t,e){if(!Array.isArray(t)||t.length===0)throw new W(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function nC(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new W(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new W(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class _V{convertValue(e,n="none"){switch(Bs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(zs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw te()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ks(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Xe(o.doubleValue));return new cv(s)}convertGeoPoint(e){return new uv(Xe(e.latitude),Xe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=z0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(yu(e));default:return null}}convertTimestamp(e){const n=Ui(e);return new lt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Me.fromString(e);Te(bI(r));const i=new vu(r.get(1),r.get(3)),s=new Y(r.popFirst(5));return i.isEqual(n)||$r(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wV(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class rC extends eC{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Dh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(gv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Dh extends rC{data(e={}){return super.data(e)}}class iC{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new vl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Dh(this._firestore,this._userDataWriter,r.key,r,new vl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new W(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Dh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new vl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Dh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new vl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:EV(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function EV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return te()}}class _v extends _V{constructor(e){super(),this.firestore=e}convertBytes(e){return new ua(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new on(this.firestore,null,n)}}function sC(t){t=ar(t,Qs);const e=ar(t.firestore,$s),n=lv(e),r=new _v(e);return tC(t._query),nV(n,t._query).then(i=>new iC(e,r,t,i))}function ka(t,e,n,...r){t=ar(t,on);const i=ar(t.firestore,$s),s=dv(i);let o;return o=typeof(e=ut(e))=="string"||e instanceof Rf?dV(s,"updateDoc",t._key,e,n,r):hV(s,"updateDoc",t._key,e),wv(i,[o.toMutation(t._key,$n.exists(!0))])}function Mf(t){return wv(ar(t.firestore,$s),[new K0(t._key,$n.none())])}function Lf(t,e){const n=ar(t.firestore,$s),r=Kn(t),i=wV(t.converter,e);return wv(n,[cV(dv(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,$n.exists(!1))]).then(()=>r)}function Vf(t,...e){var n,r,i;t=ut(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||WE(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(WE(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,c;if(t instanceof on)u=ar(t.firestore,$s),c=W0(t._key.path),l={next:d=>{e[o]&&e[o](xV(u,t,d))},error:e[o+1],complete:e[o+2]};else{const d=ar(t,Qs);u=ar(d.firestore,$s),c=d._query;const f=new _v(u);l={next:m=>{e[o]&&e[o](new iC(u,f,d,m))},error:e[o+1],complete:e[o+2]},tC(t._query)}return function(f,m,y,_){const E=new WI(_),w=new LI(m,E,y);return f.asyncQueue.enqueueAndForget(async()=>OI(await Wg(f),w)),()=>{E.Za(),f.asyncQueue.enqueueAndForget(async()=>MI(await Wg(f),w))}}(lv(u),c,a,l)}function wv(t,e){return function(r,i){const s=new Ri;return r.asyncQueue.enqueueAndForget(async()=>W6(await tV(r),i,s)),s.promise}(lv(t),e)}function xV(t,e,n){const r=n.docs.get(e._key),i=new _v(t);return new rC(t,i,e._key,r,new vl(n.hasPendingWrites,n.fromCache),e.converter)}function oC(t){return new fv("increment",t)}(function(e,n=!0){(function(i){ba=i})(xa),na(new Us("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new $s(new T3(r.getProvider("auth-internal")),new C3(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new W(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vu(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Pi(lE,"4.7.3",e),Pi(lE,"4.7.3","esm2017")})();function Ev(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function aC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const lC=aC,uC=new $u("auth","Firebase",aC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Od=new M0("@firebase/auth");function bV(t,...e){Od.logLevel<=de.WARN&&Od.warn(`Auth (${xa}): ${t}`,...e)}function Nh(t,...e){Od.logLevel<=de.ERROR&&Od.error(`Auth (${xa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(t,...e){throw xv(t,...e)}function lr(t,...e){return xv(t,...e)}function cC(t,e,n){const r=Object.assign(Object.assign({},lC()),{[e]:n});return new $u("auth","Firebase",r).create(e,{appName:t.name})}function Ni(t){return cC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return uC.create(t,...e)}function ee(t,e,...n){if(!t)throw xv(e,...n)}function Or(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Nh(e),new Error(e)}function Wr(t,e){t||Or(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function TV(){return GE()==="http:"||GE()==="https:"}function GE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(TV()||e5()||"connection"in navigator)?navigator.onLine:!0}function kV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e,n){this.shortDelay=e,this.longDelay=n,Wr(n>e,"Short delay should be less than long delay!"),this.isMobile=XM()||t5()}get(){return SV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bv(t,e){Wr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Or("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Or("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Or("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CV=new Ju(3e4,6e4);function Ys(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Xi(t,e,n,r,i={}){return dC(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Hu(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},s);return JM()||(u.referrerPolicy="no-referrer"),hC.fetch()(fC(t,t.config.apiHost,n,a),u)})}async function dC(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},IV),e);try{const i=new PV(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw qc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw qc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw qc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw qc(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw cC(t,c,u);qn(t,c)}}catch(i){if(i instanceof Yr)throw i;qn(t,"network-request-failed",{message:String(i)})}}async function Ff(t,e,n,r,i={}){const s=await Xi(t,e,n,r,i);return"mfaPendingCredential"in s&&qn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function fC(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?bv(t.config,i):`${t.config.apiScheme}://${i}`}function AV(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class PV{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(lr(this.auth,"network-request-failed")),CV.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function qc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=lr(t,e,r);return i.customData._tokenResponse=n,i}function QE(t){return t!==void 0&&t.enterprise!==void 0}class RV{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return AV(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function DV(t,e){return Xi(t,"GET","/v2/recaptchaConfig",Ys(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NV(t,e){return Xi(t,"POST","/v1/accounts:delete",e)}async function pC(t,e){return Xi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function mC(t,e=!1){const n=ut(t),r=await n.getIdToken(e),i=Tv(r);ee(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Fl(Jp(i.auth_time)),issuedAtTime:Fl(Jp(i.iat)),expirationTime:Fl(Jp(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Jp(t){return Number(t)*1e3}function Tv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Nh("JWT malformed, contained fewer than 3 sections"),null;try{const i=Ik(n);return i?JSON.parse(i):(Nh("Failed to decode base64 JWT payload"),null)}catch(i){return Nh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function YE(t){const e=Tv(t);return ee(e,"internal-error"),ee(typeof e.exp<"u","internal-error"),ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Yr&&OV(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function OV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fl(this.lastLoginAt),this.creationTime=Fl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Md(t){var e;const n=t.auth,r=await t.getIdToken(),i=await bu(t,pC(n,{idToken:r}));ee(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?yC(s.providerUserInfo):[],a=LV(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Gg(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function gC(t){const e=ut(t);await Md(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function LV(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function yC(t){return t.map(e=>{var{providerId:n}=e,r=Ev(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VV(t,e){const n=await dC(t,{},async()=>{const r=Hu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=fC(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",hC.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function FV(t,e){return Xi(t,"POST","/v2/accounts:revokeToken",Ys(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ee(e.idToken,"internal-error"),ee(typeof e.idToken<"u","internal-error"),ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):YE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ee(e.length!==0,"internal-error");const n=YE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await VV(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new $o;return r&&(ee(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ee(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ee(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $o,this.toJSON())}_performRefresh(){return Or("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(t,e){ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Mr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Ev(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new MV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Gg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await bu(this,this.stsTokenManager.getToken(this.auth,e));return ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return mC(this,e)}reload(){return gC(this)}_assign(e){this!==e&&(ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Mr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Md(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Nr(this.auth.app))return Promise.reject(Ni(this.auth));const e=await this.getIdToken();return await bu(this,NV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,_=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,w=(u=n.createdAt)!==null&&u!==void 0?u:void 0,b=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:T,emailVerified:R,isAnonymous:D,providerData:M,stsTokenManager:S}=n;ee(T&&S,e,"internal-error");const x=$o.fromJSON(this.name,S);ee(typeof T=="string",e,"internal-error"),ri(d,e.name),ri(f,e.name),ee(typeof R=="boolean",e,"internal-error"),ee(typeof D=="boolean",e,"internal-error"),ri(m,e.name),ri(y,e.name),ri(_,e.name),ri(E,e.name),ri(w,e.name),ri(b,e.name);const I=new Mr({uid:T,auth:e,email:f,emailVerified:R,displayName:d,isAnonymous:D,photoURL:y,phoneNumber:m,tenantId:_,stsTokenManager:x,createdAt:w,lastLoginAt:b});return M&&Array.isArray(M)&&(I.providerData=M.map(C=>Object.assign({},C))),E&&(I._redirectEventId=E),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new $o;i.updateFromServerResponse(n);const s=new Mr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Md(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ee(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?yC(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new $o;a.updateFromIdToken(r);const l=new Mr({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Gg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE=new Map;function Lr(t){Wr(t instanceof Function,"Expected a class definition");let e=XE.get(t);return e?(Wr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,XE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}vC.type="NONE";const Qg=vC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oh(t,e,n){return`firebase:${t}:${e}:${n}`}class Ho{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Oh(this.userKey,i.apiKey,s),this.fullPersistenceKey=Oh("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Mr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ho(Lr(Qg),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Lr(Qg);const o=Oh(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=Mr._fromJSON(e,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Ho(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Ho(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(xC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_C(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(TC(e))return"Blackberry";if(SC(e))return"Webos";if(wC(e))return"Safari";if((e.includes("chrome/")||EC(e))&&!e.includes("edge/"))return"Chrome";if(bC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function _C(t=Ut()){return/firefox\//i.test(t)}function wC(t=Ut()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function EC(t=Ut()){return/crios\//i.test(t)}function xC(t=Ut()){return/iemobile/i.test(t)}function bC(t=Ut()){return/android/i.test(t)}function TC(t=Ut()){return/blackberry/i.test(t)}function SC(t=Ut()){return/webos/i.test(t)}function Sv(t=Ut()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function UV(t=Ut()){var e;return Sv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function jV(){return n5()&&document.documentMode===10}function kC(t=Ut()){return Sv(t)||bC(t)||SC(t)||TC(t)||/windows phone/i.test(t)||xC(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IC(t,e=[]){let n;switch(t){case"Browser":n=ZE(Ut());break;case"Worker":n=`${ZE(Ut())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${xa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BV(t,e={}){return Xi(t,"GET","/v2/passwordPolicy",Ys(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $V=6;class HV{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:$V,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new JE(this),this.idTokenSubscription=new JE(this),this.beforeStateQueue=new zV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Lr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ho.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await pC(this,{idToken:e}),r=await Mr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Nr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Md(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=kV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Nr(this.app))return Promise.reject(Ni(this));const n=e?ut(e):null;return n&&ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Nr(this.app)?Promise.reject(Ni(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Nr(this.app)?Promise.reject(Ni(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Lr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await BV(this),n=new HV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new $u("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await FV(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Lr(e)||this._popupRedirectResolver;ee(n,this,"argument-error"),this.redirectPersistenceManager=await Ho.create(this,[Lr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ee(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=IC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&bV(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ia(t){return ut(t)}class JE{constructor(e){this.auth=e,this.observer=null,this.addObserver=c5(n=>this.observer=n)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qV(t){Uf=t}function CC(t){return Uf.loadJS(t)}function KV(){return Uf.recaptchaEnterpriseScript}function GV(){return Uf.gapiScript}function QV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const YV="recaptcha-enterprise",XV="NO_RECAPTCHA";class ZV{constructor(e){this.type=YV,this.auth=Ia(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{DV(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new RV(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;QE(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(XV)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&QE(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=KV();l.length!==0&&(l+=a),CC(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function ex(t,e,n,r=!1){const i=new ZV(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function tx(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await ex(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await ex(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(t,e){const n=V0(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Td(s,e??{}))return i;qn(i,"already-initialized")}return n.initialize({options:e})}function JV(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Lr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function PC(t,e,n){const r=Ia(t);ee(r._canInitEmulator,r,"emulator-config-failed"),ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=RC(e),{host:o,port:a}=e9(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),t9()}function RC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function e9(t){const e=RC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:nx(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:nx(o)}}}function nx(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function t9(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Or("not implemented")}_getIdTokenResponse(e){return Or("not implemented")}_linkToIdToken(e,n){return Or("not implemented")}_getReauthenticationResolver(e){return Or("not implemented")}}async function n9(t,e){return Xi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r9(t,e){return Ff(t,"POST","/v1/accounts:signInWithPassword",Ys(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i9(t,e){return Ff(t,"POST","/v1/accounts:signInWithEmailLink",Ys(t,e))}async function s9(t,e){return Ff(t,"POST","/v1/accounts:signInWithEmailLink",Ys(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca extends jf{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new ca(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ca(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tx(e,n,"signInWithPassword",r9);case"emailLink":return i9(e,{email:this._email,oobCode:this._password});default:qn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tx(e,r,"signUpPassword",n9);case"emailLink":return s9(e,{idToken:n,email:this._email,oobCode:this._password});default:qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wo(t,e){return Ff(t,"POST","/v1/accounts:signInWithIdp",Ys(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o9="http://localhost";class zi extends jf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new zi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):qn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Ev(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new zi(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Wo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Wo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Wo(e,n)}buildRequest(){const e={requestUri:o9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Hu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a9(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function l9(t){const e=fl(pl(t)).link,n=e?fl(pl(e)).deep_link_id:null,r=fl(pl(t)).deep_link_id;return(r?fl(pl(r)).link:null)||r||n||e||t}class zf{constructor(e){var n,r,i,s,o,a;const l=fl(pl(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=a9((i=l.mode)!==null&&i!==void 0?i:null);ee(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=l9(e);try{return new zf(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(){this.providerId=Xs.PROVIDER_ID}static credential(e,n){return ca._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=zf.parseLink(n);return ee(r,"argument-error"),ca._fromEmailAndCode(e,r.code,r.tenantId)}}Xs.PROVIDER_ID="password";Xs.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Xs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec extends DC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir extends ec{constructor(){super("facebook.com")}static credential(e){return zi._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ir.credentialFromTaggedObject(e)}static credentialFromError(e){return Ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ir.credential(e.oauthAccessToken)}catch{return null}}}Ir.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ir.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr extends ec{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return zi._fromParams({providerId:Cr.PROVIDER_ID,signInMethod:Cr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Cr.credentialFromTaggedObject(e)}static credentialFromError(e){return Cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Cr.credential(n,r)}catch{return null}}}Cr.GOOGLE_SIGN_IN_METHOD="google.com";Cr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar extends ec{constructor(){super("github.com")}static credential(e){return zi._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ar.credentialFromTaggedObject(e)}static credentialFromError(e){return Ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ar.credential(e.oauthAccessToken)}catch{return null}}}Ar.GITHUB_SIGN_IN_METHOD="github.com";Ar.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends ec{constructor(){super("twitter.com")}static credential(e,n){return zi._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Pr.credential(n,r)}catch{return null}}}Pr.TWITTER_SIGN_IN_METHOD="twitter.com";Pr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Mr._fromIdTokenResponse(e,r,i),o=rx(r);return new ha({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=rx(r);return new ha({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function rx(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld extends Yr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ld.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Ld(e,n,r,i)}}function NC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Ld._fromErrorAndOperation(t,s,e,r):s})}async function u9(t,e,n=!1){const r=await bu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ha._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c9(t,e,n=!1){const{auth:r}=t;if(Nr(r.app))return Promise.reject(Ni(r));const i="reauthenticate";try{const s=await bu(t,NC(r,i,e,t),n);ee(s.idToken,r,"internal-error");const o=Tv(s.idToken);ee(o,r,"internal-error");const{sub:a}=o;return ee(t.uid===a,r,"user-mismatch"),ha._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&qn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OC(t,e,n=!1){if(Nr(t.app))return Promise.reject(Ni(t));const r="signIn",i=await NC(t,r,e),s=await ha._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function MC(t,e){return OC(Ia(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h9(t){const e=Ia(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function LC(t,e,n){return Nr(t.app)?Promise.reject(Ni(t)):MC(ut(t),Xs.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&h9(t),r})}function VC(t,e,n,r){return ut(t).onIdTokenChanged(e,n,r)}function FC(t,e,n){return ut(t).beforeAuthStateChanged(e,n)}function UC(t,e,n,r){return ut(t).onAuthStateChanged(e,n,r)}function d9(t){return ut(t).signOut()}const Vd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Vd,"1"),this.storage.removeItem(Vd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f9=1e3,p9=10;class zC extends jC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=kC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);jV()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,p9):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},f9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}zC.type="LOCAL";const BC=zC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C extends jC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}$C.type="SESSION";const kv=$C;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m9(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Bf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await m9(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Bf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=Iv("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ur(){return window}function y9(t){ur().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(){return typeof ur().WorkerGlobalScope<"u"&&typeof ur().importScripts=="function"}async function v9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _9(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function w9(){return HC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC="firebaseLocalStorageDb",E9=1,Fd="firebaseLocalStorage",qC="fbase_key";class tc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function $f(t,e){return t.transaction([Fd],e?"readwrite":"readonly").objectStore(Fd)}function x9(){const t=indexedDB.deleteDatabase(WC);return new tc(t).toPromise()}function Yg(){const t=indexedDB.open(WC,E9);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Fd,{keyPath:qC})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Fd)?e(r):(r.close(),await x9(),e(await Yg()))})})}async function ix(t,e,n){const r=$f(t,!0).put({[qC]:e,value:n});return new tc(r).toPromise()}async function b9(t,e){const n=$f(t,!1).get(e),r=await new tc(n).toPromise();return r===void 0?null:r.value}function sx(t,e){const n=$f(t,!0).delete(e);return new tc(n).toPromise()}const T9=800,S9=3;class KC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Yg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>S9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return HC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bf._getInstance(w9()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await v9(),!this.activeServiceWorker)return;this.sender=new g9(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Yg();return await ix(e,Vd,"1"),await sx(e,Vd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>ix(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>b9(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>sx(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=$f(i,!1).getAll();return new tc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),T9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}KC.type="LOCAL";const GC=KC;new Ju(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k9(t,e){return e?Lr(e):(ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv extends jf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Wo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Wo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Wo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function I9(t){return OC(t.auth,new Cv(t),t.bypassAuthState)}function C9(t){const{auth:e,user:n}=t;return ee(n,e,"internal-error"),c9(n,new Cv(t),t.bypassAuthState)}async function A9(t){const{auth:e,user:n}=t;return ee(n,e,"internal-error"),u9(n,new Cv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return I9;case"linkViaPopup":case"linkViaRedirect":return A9;case"reauthViaPopup":case"reauthViaRedirect":return C9;default:qn(this.auth,"internal-error")}}resolve(e){Wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P9=new Ju(2e3,1e4);class Co extends QC{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Co.currentPopupAction&&Co.currentPopupAction.cancel(),Co.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ee(e,this.auth,"internal-error"),e}async onExecution(){Wr(this.filter.length===1,"Popup operations only handle one event");const e=Iv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(lr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(lr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Co.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(lr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,P9.get())};e()}}Co.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R9="pendingRedirect",Mh=new Map;class D9 extends QC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Mh.get(this.auth._key());if(!e){try{const r=await N9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Mh.set(this.auth._key(),e)}return this.bypassAuthState||Mh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function N9(t,e){const n=L9(e),r=M9(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function O9(t,e){Mh.set(t._key(),e)}function M9(t){return Lr(t._redirectPersistence)}function L9(t){return Oh(R9,t.config.apiKey,t.name)}async function V9(t,e,n=!1){if(Nr(t.app))return Promise.reject(Ni(t));const r=Ia(t),i=k9(r,e),o=await new D9(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F9=10*60*1e3;class U9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!j9(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!YC(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(lr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=F9&&this.cachedEventUids.clear(),this.cachedEventUids.has(ox(e))}saveEventToCache(e){this.cachedEventUids.add(ox(e)),this.lastProcessedEventTime=Date.now()}}function ox(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function YC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function j9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return YC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z9(t,e={}){return Xi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$9=/^https?/;async function H9(t){if(t.config.emulator)return;const{authorizedDomains:e}=await z9(t);for(const n of e)try{if(W9(n))return}catch{}qn(t,"unauthorized-domain")}function W9(t){const e=Kg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!$9.test(n))return!1;if(B9.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q9=new Ju(3e4,6e4);function ax(){const t=ur().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function K9(t){return new Promise((e,n)=>{var r,i,s;function o(){ax(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ax(),n(lr(t,"network-request-failed"))},timeout:q9.get()})}if(!((i=(r=ur().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=ur().gapi)===null||s===void 0)&&s.load)o();else{const a=QV("iframefcb");return ur()[a]=()=>{gapi.load?o():n(lr(t,"network-request-failed"))},CC(`${GV()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Lh=null,e})}let Lh=null;function G9(t){return Lh=Lh||K9(t),Lh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q9=new Ju(5e3,15e3),Y9="__/auth/iframe",X9="emulator/auth/iframe",Z9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},J9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function eF(t){const e=t.config;ee(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?bv(e,X9):`https://${t.config.authDomain}/${Y9}`,r={apiKey:e.apiKey,appName:t.name,v:xa},i=J9.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Hu(r).slice(1)}`}async function tF(t){const e=await G9(t),n=ur().gapi;return ee(n,t,"internal-error"),e.open({where:document.body,url:eF(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Z9,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=lr(t,"network-request-failed"),a=ur().setTimeout(()=>{s(o)},Q9.get());function l(){ur().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},rF=500,iF=600,sF="_blank",oF="http://localhost";class lx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function aF(t,e,n,r=rF,i=iF){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},nF),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Ut().toLowerCase();n&&(a=EC(u)?sF:n),_C(u)&&(e=e||oF,l.scrollbars="yes");const c=Object.entries(l).reduce((f,[m,y])=>`${f}${m}=${y},`,"");if(UV(u)&&a!=="_self")return lF(e||"",a),new lx(null);const d=window.open(e||"",a,c);ee(d,t,"popup-blocked");try{d.focus()}catch{}return new lx(d)}function lF(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uF="__/auth/handler",cF="emulator/auth/handler",hF=encodeURIComponent("fac");async function ux(t,e,n,r,i,s){ee(t.config.authDomain,t,"auth-domain-config-required"),ee(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:xa,eventId:i};if(e instanceof DC){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",u5(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries({}))o[c]=d}if(e instanceof ec){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${hF}=${encodeURIComponent(l)}`:"";return`${dF(t)}?${Hu(a).slice(1)}${u}`}function dF({config:t}){return t.emulator?bv(t,cF):`https://${t.authDomain}/${uF}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const em="webStorageSupport";class fF{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kv,this._completeRedirectFn=V9,this._overrideRedirectResult=O9}async _openPopup(e,n,r,i){var s;Wr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await ux(e,n,r,Kg(),i);return aF(e,o,Iv())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await ux(e,n,r,Kg(),i);return y9(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Wr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await tF(e),r=new U9(e);return n.register("authEvent",i=>(ee(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(em,{type:em},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[em];o!==void 0&&n(!!o),qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=H9(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return kC()||wC()||Sv()}}const XC=fF;var cx="@firebase/auth",hx="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pF{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mF(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function gF(t){na(new Us("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ee(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:IC(t)},u=new WV(r,i,s,l);return JV(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),na(new Us("auth-internal",e=>{const n=Ia(e.getProvider("auth").getImmediate());return(r=>new pF(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pi(cx,hx,mF(t)),Pi(cx,hx,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yF=5*60,vF=Pk("authIdTokenMaxAge")||yF;let dx=null;const _F=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>vF)return;const i=n==null?void 0:n.token;dx!==i&&(dx=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function ZC(t=Ok()){const e=V0(t,"auth");if(e.isInitialized())return e.getImmediate();const n=AC(t,{popupRedirectResolver:XC,persistence:[GC,BC,kv]}),r=Pk("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=_F(s.toString());FC(n,o,()=>o(n.currentUser)),VC(n,a=>o(a))}}const i=Ck("auth");return i&&PC(n,`http://${i}`),n}function wF(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}qV({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=lr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",wF().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});gF("Browser");const EF=Object.freeze(Object.defineProperty({__proto__:null,ActionCodeURL:zf,AuthCredential:jf,EmailAuthCredential:ca,EmailAuthProvider:Xs,FacebookAuthProvider:Ir,GithubAuthProvider:Ar,GoogleAuthProvider:Cr,OAuthCredential:zi,TwitterAuthProvider:Pr,beforeAuthStateChanged:FC,browserLocalPersistence:BC,browserPopupRedirectResolver:XC,browserSessionPersistence:kv,connectAuthEmulator:PC,getAuth:ZC,getIdTokenResult:mC,inMemoryPersistence:Qg,indexedDBLocalPersistence:GC,initializeAuth:AC,onAuthStateChanged:UC,onIdTokenChanged:VC,prodErrorMap:lC,reload:gC,signInWithCredential:MC,signInWithEmailAndPassword:LC,signOut:d9},Symbol.toStringTag,{value:"Module"})),JC={apiKey:"AIzaSyCKF7qF1bq47GPlueo8VLTiUN494MZkzn0",authDomain:"topupstore-510c8.firebaseapp.com",projectId:"topupstore-510c8",storageBucket:"topupstore-510c8.appspot.com",messagingSenderId:"1032699230069",appId:"1:1032699230069:web:d9efa38903c479eaf9053c",measurementId:"G-JVL7CR5P7F"};Object.entries(JC).forEach(([t,e])=>{e||console.error(`Missing Firebase config for: ${t}`)});const eA=Nk(JC),st=sV(eA),Ud=ZC(eA),xF=Object.freeze(Object.defineProperty({__proto__:null,auth:Ud,db:st},Symbol.toStringTag,{value:"Module"}));class nc{constructor(e=0,n="Network Error"){this.status=e,this.text=n}}const bF=()=>{if(!(typeof localStorage>"u"))return{get:t=>Promise.resolve(localStorage.getItem(t)),set:(t,e)=>Promise.resolve(localStorage.setItem(t,e)),remove:t=>Promise.resolve(localStorage.removeItem(t))}},wt={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:bF()},Av=t=>t?typeof t=="string"?{publicKey:t}:t.toString()==="[object Object]"?t:{}:{},TF=(t,e="https://api.emailjs.com")=>{if(!t)return;const n=Av(t);wt.publicKey=n.publicKey,wt.blockHeadless=n.blockHeadless,wt.storageProvider=n.storageProvider,wt.blockList=n.blockList,wt.limitRate=n.limitRate,wt.origin=n.origin||e},tA=async(t,e,n={})=>{const r=await fetch(wt.origin+t,{method:"POST",headers:n,body:e}),i=await r.text(),s=new nc(r.status,i);if(r.ok)return s;throw s},nA=(t,e,n)=>{if(!t||typeof t!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||typeof n!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},SF=t=>{if(t&&t.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},rA=t=>t.webdriver||!t.languages||t.languages.length===0,iA=()=>new nc(451,"Unavailable For Headless Browser"),kF=(t,e)=>{if(!Array.isArray(t))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},IF=t=>{var e;return!((e=t.list)!=null&&e.length)||!t.watchVariable},CF=(t,e)=>t instanceof FormData?t.get(e):t[e],sA=(t,e)=>{if(IF(t))return!1;kF(t.list,t.watchVariable);const n=CF(e,t.watchVariable);return typeof n!="string"?!1:t.list.includes(n)},oA=()=>new nc(403,"Forbidden"),AF=(t,e)=>{if(typeof t!="number"||t<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},PF=async(t,e,n)=>{const r=Number(await n.get(t)||0);return e-Date.now()+r},aA=async(t,e,n)=>{if(!e.throttle||!n)return!1;AF(e.throttle,e.id);const r=e.id||t;return await PF(r,e.throttle,n)>0?!0:(await n.set(r,Date.now().toString()),!1)},lA=()=>new nc(429,"Too Many Requests"),RF=async(t,e,n,r)=>{const i=Av(r),s=i.publicKey||wt.publicKey,o=i.blockHeadless||wt.blockHeadless,a=i.storageProvider||wt.storageProvider,l={...wt.blockList,...i.blockList},u={...wt.limitRate,...i.limitRate};return o&&rA(navigator)?Promise.reject(iA()):(nA(s,t,e),SF(n),n&&sA(l,n)?Promise.reject(oA()):await aA(location.pathname,u,a)?Promise.reject(lA()):tA("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:s,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"}))},DF=t=>{if(!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},NF=t=>typeof t=="string"?document.querySelector(t):t,OF=async(t,e,n,r)=>{const i=Av(r),s=i.publicKey||wt.publicKey,o=i.blockHeadless||wt.blockHeadless,a=wt.storageProvider||i.storageProvider,l={...wt.blockList,...i.blockList},u={...wt.limitRate,...i.limitRate};if(o&&rA(navigator))return Promise.reject(iA());const c=NF(n);nA(s,t,e),DF(c);const d=new FormData(c);return sA(l,d)?Promise.reject(oA()):await aA(location.pathname,u,a)?Promise.reject(lA()):(d.append("lib_version","4.4.1"),d.append("service_id",t),d.append("template_id",e),d.append("user_id",s),tA("/api/v1.0/email/send-form",d))},MF={init:TF,send:RF,sendForm:OF,EmailJSResponseStatus:nc},LF="service_9qj72js",VF="template_lg986nn",FF="lAEd-mzMwpHWEtsJt";function UF(){return"ORD-"+Date.now()+"-"+Math.floor(Math.random()*1e4)}async function jF(t){try{const e=UF(),n=await Lf(Xr(st,"orders"),{...t,id:e});return console.log("Document written with ID: ",n.id),{success:!0,orderId:e,firestoreId:n.id}}catch(e){return console.error("Error adding document: ",e),{success:!1,error:e}}}async function zF(){const t=await sC(Xr(st,"orders")),e=[];return t.forEach(n=>{e.push({...n.data(),firestoreId:n.id})}),e}function BF(t){const e=Xr(st,"orders");return Vf(e,r=>{const i=[];r.forEach(s=>{i.push({...s.data(),firestoreId:s.id})}),t(i)})}async function uA(t,e){const n=Kn(st,"orders",t);try{return await ka(n,{status:e}),{success:!0}}catch(r){return console.error("Error updating status: ",r),{success:!1,error:r}}}async function $F(t){const e=Kn(st,"orders",t);try{return await Mf(e),{success:!0}}catch(n){return console.error("Error deleting document: ",n),{success:!1,error:n}}}async function HF(t){if(!t.email)return console.error("Order is missing an email address. Cannot send email for order:",t.id),alert(`Could not send email for order ${t.id} because no email address is associated with it.`),{success:!1,error:"Recipient email address is missing"};const e={to_email:t.email,name:t.name,order_id:t.id,game_name:t.game,package_name:t.package,player_id:t.playerId,price:t.price.toFixed(2)};try{return await MF.send(LF,VF,e,FF),console.log("SUCCESS! Email sent for order:",t.id),{success:!0}}catch(n){return console.error("FAILED to send email...",n),alert(`Failed to send completion email for order ${t.id}. Error: ${n.text}`),{success:!1,error:n}}}async function WF(t){const e=await sC(Xr(st,"orders"));let n=null;return e.forEach(r=>{const i=r.data();i.id===t&&(n={...i,firestoreId:r.id})}),n}const cA=Xr(st,"faqs");function hA(t){return Vf(cA,n=>{const r=[];n.forEach(i=>{r.push({id:i.id,...i.data()})}),console.log("subscribeToFaqs (faqService) snapshot:",r),t(r.sort((i,s)=>i.question.localeCompare(s.question)))})}async function qF(t){try{console.log("addFaq called with:",t);const e=await Lf(cA,t);return console.log("addFaq success, docRef:",e),{success:!0,id:e.id}}catch(e){return console.error("Error adding FAQ: ",e),{success:!1,error:e}}}async function KF(t,e){const n=Kn(st,"faqs",t);try{return await ka(n,e),{success:!0}}catch(r){return console.error("Error updating FAQ: ",r),{success:!1,error:r}}}async function GF(t){const e=Kn(st,"faqs",t);try{return await Mf(e),{success:!0}}catch(n){return console.error("Error deleting FAQ: ",n),{success:!1,error:n}}}const Zs=()=>g.createElement("div",{className:"flex items-center justify-center"},g.createElement("svg",{className:"animate-spin h-8 w-8 text-blue-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},g.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8z"}))),QF=({question:t,answer:e,isOpen:n,onClick:r})=>g.createElement("div",{className:"border border-gray-300 dark:border-gray-600 rounded-lg overflow-hidden"},g.createElement("button",{className:"w-full flex justify-between items-center py-5 px-2 text-left text-gray-800 dark:text-gray-100 hover:bg-gray-100/50 dark:hover:bg-gray-800/50",onClick:r},g.createElement("span",{className:"text-xl font-semibold"},t),g.createElement(vf,{className:`w-5 h-5 transition-transform duration-300 ${n?"rotate-180":""}`})),g.createElement("div",{className:`grid overflow-hidden transition-all duration-300 ease-in-out ${n?"grid-rows-[1fr] opacity-100":"grid-rows-[0fr] opacity-0"}`},g.createElement("div",{className:"overflow-hidden"},g.createElement("p",{className:"pb-5 px-2 text-gray-600 dark:text-gray-300 text-base leading-relaxed"},e)))),YF=()=>{const[t,e]=O.useState(null),[n,r]=O.useState([]),[i,s]=O.useState(!0);O.useEffect(()=>{const a=hA(l=>{r(l),s(!1)});return()=>a()},[]);const o=a=>{e(t===a?null:a)};return i?g.createElement("div",{className:"w-full max-w-4xl mx-auto mt-16 p-8"},g.createElement(Zs,null)):n.length===0?null:g.createElement("div",{className:"w-full max-w-3xl mx-auto mt-24 p-6 md:p-8 bg-white/30 dark:bg-gray-900/50 rounded-2xl shadow-2xl backdrop-blur-xl"},g.createElement("h2",{className:"text-4xl font-bold text-center mb-10 text-gray-900 dark:text-white"},"Frequently Asked Questions"),g.createElement("div",{className:"space-y-2"},n.map((a,l)=>g.createElement(QF,{key:a.id,question:a.question,answer:a.answer,isOpen:t===l,onClick:()=>o(l)}))))},XF=async t=>{try{await Lf(Xr(st,"testimonials"),{...t,status:"pending",createdAt:new Date,likes:0,dislikes:0})}catch(e){console.error("Error adding testimonial: ",e)}},Xg=(t,e)=>{const n=yV(Xr(st,"testimonials"),vV("status","==",t));return Vf(n,r=>{const i=[];r.forEach(s=>{i.push({id:s.id,...s.data()})}),e(i)})},ZF=async t=>{try{const e=Kn(st,"testimonials",t);await ka(e,{status:"approved"})}catch(e){console.error("Error approving testimonial: ",e)}},fx=async t=>{try{await Mf(Kn(st,"testimonials",t))}catch(e){console.error("Error deleting testimonial: ",e)}},JF=async t=>{try{const e=Kn(st,"testimonials",t);await ka(e,{likes:oC(1)})}catch(e){console.error("Error liking testimonial: ",e)}},e8=async t=>{try{const e=Kn(st,"testimonials",t);await ka(e,{dislikes:oC(1)})}catch(e){console.error("Error disliking testimonial: ",e)}};var dA={},fA={exports:{}},t8="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",n8=t8,r8=n8;function pA(){}function mA(){}mA.resetWarningCache=pA;var i8=function(){function t(r,i,s,o,a,l){if(l!==r8){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:mA,resetWarningCache:pA};return n.PropTypes=n,n};fA.exports=i8();var s8=fA.exports,Pv={};Object.defineProperty(Pv,"__esModule",{value:!0});var Nn=function(){function t(e,n){var r=[],i=!0,s=!1,o=void 0;try{for(var a=e[Symbol.iterator](),l;!(i=(l=a.next()).done)&&(r.push(l.value),!(n&&r.length===n));i=!0);}catch(u){s=!0,o=u}finally{try{!i&&a.return&&a.return()}finally{if(s)throw o}}return r}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();Pv.default=o8;var On=O;function o8(t){var e=(0,On.useState)(t.count),n=Nn(e,2),r=n[0],i=n[1],s=(0,On.useState)(t.size),o=Nn(s,2),a=o[0],l=o[1],u=(0,On.useState)(t.char),c=Nn(u,2),d=c[0],f=c[1],m=(0,On.useState)(t.color),y=Nn(m,2),_=y[0],E=y[1],w=(0,On.useState)(t.activeColor),b=Nn(w,2),T=b[0],R=b[1],D=(0,On.useState)(t.isHalf),M=Nn(D,2),S=M[0],x=M[1],I=(0,On.useState)(t.edit),C=Nn(I,2),A=C[0],N=C[1],P=(0,On.useState)(t.emptyIcon),ue=Nn(P,2),he=ue[0],ve=ue[1],X=(0,On.useState)(t.halfIcon),z=Nn(X,2),K=z[0],G=z[1],se=(0,On.useState)(t.filledIcon),ie=Nn(se,2),oe=ie[0],Ue=ie[1],Qe=(0,On.useState)(t.a11y),Re=Nn(Qe,2),jt=Re[0],Zr=Re[1],Ji={count:r,size:a,char:d,color:_,activeColor:T,isHalf:S,edit:A,emptyIcon:he,halfIcon:K,filledIcon:oe,a11y:jt};function Gn($){i($.count),l($.size),f($.char),E($.color),R($.activeColor),x($.isHalf),N($.edit),ve($.emptyIcon),G($.halfIcon),Ue($.filledIcon),Zr($.a11y)}return[Ji,Gn]}var Rv={};Object.defineProperty(Rv,"__esModule",{value:!0});var a8=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};Rv.default=d8;var l8=O,u8=c8(l8);function c8(t){return t&&t.__esModule?t:{default:t}}var h8={position:"relative",overflow:"hidden",cursor:"pointer",display:"block",float:"left"};function d8(t){var e=t.index,n=t.active,r=t.config,i=t.onMouseOver,s=t.onMouseLeave,o=t.onClick,a=t.halfStarHidden,l=t.halfStarAt,u=t.isUsingIcons,c=t.uniqueness,d=r.color,f=r.activeColor,m=r.size,y=r.char,_=r.isHalf,E=r.edit,w=r.halfIcon,b=r.emptyIcon,T=r.filledIcon,R="",D=!1;_&&!a&&l===e&&(u?R="react-stars-half":R="react-stars-"+c,D=!0);var M=a8({},h8,{color:n?f:d,cursor:E?"pointer":"default",fontSize:m+"px"});function S(){return u?n?T:!n&&D?w:b:y}return u8.default.createElement("span",{className:R,style:M,key:e,"data-index":e,"data-forhalf":T?e:y,onMouseOver:i,onMouseMove:i,onMouseLeave:s,onClick:o},S())}Object.defineProperty(dA,"__esModule",{value:!0});var ii=function(){function t(e,n){var r=[],i=!0,s=!1,o=void 0;try{for(var a=e[Symbol.iterator](),l;!(i=(l=a.next()).done)&&(r.push(l.value),!(n&&r.length===n));i=!0);}catch(u){s=!0,o=u}finally{try{!i&&a.return&&a.return()}finally{if(s)throw o}}return r}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Er=O,el=Hf(Er),f8=s8,ln=Hf(f8),p8=Pv,m8=Hf(p8),g8=Rv,y8=Hf(g8);function Hf(t){return t&&t.__esModule?t:{default:t}}var v8={overflow:"hidden",position:"relative"};function _8(t,e){return`
    .react-stars-`+e+`:before {
      position: absolute;
      overflow: hidden;
      display: block;
      z-index: 1;
      top: 0; left: 0;
      width: 50%;
      content: attr(data-forhalf);
      color: `+t+`;
  }`}function w8(t){return`
          span.react-stars-half > * {
          color: `+t+`;
      }`}function Dv(t){var e=(0,Er.useState)(""),n=ii(e,2),r=n[0],i=n[1],s=(0,Er.useState)(0),o=ii(s,2),a=o[0],l=o[1],u=(0,Er.useState)([]),c=ii(u,2),d=c[0],f=c[1],m=(0,Er.useState)(!1),y=ii(m,2),_=y[0],E=y[1],w=(0,m8.default)(t),b=ii(w,2),T=b[0],R=b[1],D=(0,Er.useState)(0),M=ii(D,2),S=M[0],x=M[1],I=(0,Er.useState)(!1),C=ii(I,2),A=C[0],N=C[1],P=(0,Er.useState)(""),ue=ii(P,2),he=ue[0],ve=ue[1];function X(Q){return!Q.isHalf&&Q.emptyIcon&&Q.filledIcon||Q.isHalf&&Q.emptyIcon&&Q.halfIcon&&Q.filledIcon}function z(){i((Math.random()+"").replace(".",""))}(0,Er.useEffect)(function(){G(),K(t.value,t.count),f(oe(t.value)),R(t),z(),E(X(t)),x(Math.floor(t.value)),N(t.isHalf&&t.value%1<.5)},[]);function K(Q,ae){Q<0||Q>ae?l(0):l(Q)}function G(){var Q="react-stars";ve(t.classNames+(" "+Q))}function se(Q){return Q%1===0}function ie(){return T.isHalf?Math.floor(a):Math.round(a)}function oe(Q){typeof Q>"u"&&(Q=ie());for(var ae=[],we=0;we<T.count;we++)ae.push({active:we<=Q-1});return ae}function Ue(Q){if(T.edit){var ae=Number(Q.currentTarget.getAttribute("data-index"));if(T.isHalf){var we=Re(Q);N(we),we&&(ae+=1),x(ae)}else ae+=1;Qe(ae)}}function Qe(Q){var ae=d.filter(function(we){return we.active});Q!==ae.length&&f(oe(Q))}function Re(Q){var ae=Q.target,we=ae.getBoundingClientRect(),Se=Q.clientX-we.left;return Se=Math.round(Math.abs(Se)),Se>we.width/2}function jt(){T.edit&&(Zr(a),f(oe()))}function Zr(Q){T.isHalf&&(N(se(Q)),x(Math.floor(Q)))}function Ji(Q){if(T.edit){var ae=Number(Q.currentTarget.getAttribute("data-index")),we=void 0;if(T.isHalf){var Se=Re(Q);N(Se),Se&&(ae+=1),we=Se?ae:ae+.5,x(ae)}else we=ae=ae+1;$(we)}}function Gn(){return el.default.createElement("style",{dangerouslySetInnerHTML:{__html:_?w8(T.activeColor):_8(T.activeColor,r)}})}function $(Q){Q!==a&&(f(oe(Q)),l(Q),t.onChange(Q))}function Ce(Q){if(!(!T.a11y&&!T.edit)){var ae=Q.key,we=a,Se=Number(ae);Se?Number.isInteger(Se)&&Se>0&&Se<=T.count&&(we=Se):(ae==="ArrowUp"||ae==="ArrowRight")&&we<T.count?(Q.preventDefault(),we+=T.isHalf?.5:1):(ae==="ArrowDown"||ae==="ArrowLeft")&&we>.5&&(Q.preventDefault(),we-=T.isHalf?.5:1),Zr(we),$(we)}}function ke(){return d.map(function(Q,ae){return el.default.createElement(y8.default,{key:ae,index:ae,active:Q.active,config:T,onMouseOver:Ue,onMouseLeave:jt,onClick:Ji,halfStarHidden:A,halfStarAt:S,isUsingIcons:_,uniqueness:r})})}return el.default.createElement("div",{className:"react-stars-wrapper-"+r,style:{display:"flex"}},el.default.createElement("div",{tabIndex:T.a11y&&T.edit?0:null,"aria-label":"add rating by typing an integer from 0 to 5 or pressing arrow keys",onKeyDown:Ce,className:he,style:v8},T.isHalf&&Gn(),ke(),el.default.createElement("p",{style:{position:"absolute",left:"-200rem"},role:"status"},a)))}Dv.propTypes={classNames:ln.default.string,edit:ln.default.bool,half:ln.default.bool,value:ln.default.number,count:ln.default.number,char:ln.default.string,size:ln.default.number,color:ln.default.string,activeColor:ln.default.string,emptyIcon:ln.default.element,halfIcon:ln.default.element,filledIcon:ln.default.element,a11y:ln.default.bool};Dv.defaultProps={edit:!0,half:!1,value:0,count:5,char:"★",size:15,color:"gray",activeColor:"#ffd700",a11y:!0,onChange:function(){}};var gA=dA.default=Dv;const E8=({id:t,quote:e,name:n,title:r,avatar:i,rating:s,likes:o,dislikes:a})=>{const[l,u]=O.useState(!1),c=()=>{l||(JF(t),u(!0))},d=()=>{l||(e8(t),u(!0))};return g.createElement("div",{className:"bg-white/30 dark:bg-gray-900/50 p-8 rounded-2xl shadow-xl backdrop-blur-lg transform hover:scale-105 transition-transform duration-300 border border-gray-300 dark:border-gray-600 flex flex-col justify-between"},g.createElement("div",null,s>0&&g.createElement(gA,{count:5,value:s,size:24,isHalf:!0,edit:!1,activeColor:"#ffd700"}),g.createElement("p",{className:"text-gray-700 dark:text-gray-300 text-lg my-4 font-light"},'"',e,'"')),g.createElement("div",null,g.createElement("div",{className:"flex items-center mt-4"},g.createElement("img",{className:"w-12 h-12 rounded-full mr-4 border-2 border-blue-400",src:i||`https://i.pravatar.cc/150?u=${n}`,alt:n}),g.createElement("div",null,g.createElement("p",{className:"font-bold text-gray-900 dark:text-white"},n),g.createElement("p",{className:"text-sm text-gray-500 dark:text-gray-400"},r))),g.createElement("div",{className:"flex items-center justify-end mt-4 text-gray-500 dark:text-gray-400"},g.createElement("button",{onClick:c,disabled:l,className:"flex items-center space-x-1 mr-4 disabled:opacity-50"},g.createElement(bM,null),g.createElement("span",null,o||0)),g.createElement("button",{onClick:d,disabled:l,className:"flex items-center space-x-1 disabled:opacity-50"},g.createElement(xM,null),g.createElement("span",null,a||0)))))},x8=()=>{const[t,e]=O.useState([]),[n,r]=O.useState(!0);return O.useEffect(()=>{const i=Xg("approved",s=>{e(s),r(!1)});return()=>i()},[]),n?g.createElement("div",{className:"text-center py-24"},g.createElement(Zs,null)):t.length===0?null:g.createElement("div",{className:"w-full max-w-6xl mx-auto py-24 px-4"},g.createElement("h2",{className:"text-4xl font-bold text-center text-gray-900 dark:text-white mb-16"},"What Our Players Are Saying"),g.createElement("div",{className:"flex flex-wrap justify-center gap-8"},t.map(i=>g.createElement(E8,{key:i.id,...i}))))};function b8(t){return Ve({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M1.425 20.693c-.107-.247-.132-.4-.131-.8 0-.376.015-.478.208-1.416a38 38 0 0 0 .2-1.015c-.1-.056-.481-.376-.7-.587-.49-.472-.799-.938-.942-1.415-.059-.195-.067-.282-.056-.592.013-.341.02-.378.127-.599a2 2 0 0 1 .257-.39c.14-.15.145-.161.188-.465.024-.171.072-.493.105-.715.054-.36.056-.424.018-.592a2.84 2.84 0 0 1 .082-1.529c.358-.99 1.39-1.681 3-2.007 1.226-.249 2.815-.265 4.374-.045 1.537.218 3.344.715 5.011 1.38.214.086.392.152.396.148.014-.014-1.28-.668-1.61-.814A17 17 0 0 0 8.28 8.073C7.472 7.92 7.22 7.9 6.147 7.9c-.931 0-1.068.007-1.46.073a7 7 0 0 0-.836.18c-.1.03-.056-.046.082-.141.516-.356 1.36-.69 2.23-.886.853-.191.851-.177.023-.165-.407.006-.74.002-.74-.009s.025-.041.055-.068a10 10 0 0 0 .342-.376c.493-.56 1.253-1.22 1.923-1.667 1.278-.854 2.553-1.345 4.124-1.588.51-.08 2.061-.08 2.6 0 1.682.245 2.964.707 4.14 1.49.554.37.864.624 1.339 1.101.953.958 1.613 2.02 2.191 3.527.31.808.601 1.76.756 2.474l.072.331.164.115c.09.063.183.152.206.198s.166.448.316.894c.151.445.286.814.3.82s.026.111.026.234c0 .213-.004.225-.086.264-.106.05-1.037.255-1.16.255-.127 0-.23-.11-.322-.343l-.177-.436c-.054-.128-.172-.416-.263-.638-.302-.739-.295-.725-.394-.766-.08-.033-.128-.026-.393.064-.166.057-.35.13-.407.165a.55.55 0 0 0-.221.4c-.001.091.23.762.289.84.067.089 1.591 1.11 1.688 1.131.06.013.253-.014.528-.074l.438-.094c.003 0 .016.215.028.478.021.45.018.486-.043.607-.104.204-.003.16-1.67.723-1.314.444-1.564.497-2.353.497a4.5 4.5 0 0 1-2.388-.644c-.48-.283-1.052-.767-1.224-1.037-.133-.209-.16-.04.34-2.195.1-.427.194-.781.211-.787.017-.005.09.1.163.236s.164.266.202.29.287.14.552.259c.409.182.515.217.695.228a.82.82 0 0 0 .79-.41c.083-.131.097-.2.213-1.07l.158-1.178c.098-.725.09-.957-.046-1.248-.153-.327-.328-.474-.881-.741-.918-.444-.862-.435-1.279-.204-.158.088-.29.161-.293.164a8 8 0 0 0 .313-.006l.318-.01.52.24c.408.19.555.275.678.392.301.29.393.655.31 1.241-.052.37-.085.458-.23.615-.185.202-.334.269-.596.27-.208 0-.243-.01-.732-.24-.509-.24-.516-.242-.79-.249l-.276-.007-.039.156-.166.685c-.162.673-.477 1.976-.735 3.038-.11.454-.258 1.063-.327 1.355-.159.668-.214.86-.307 1.075-.219.503-.689.99-1.2 1.245-.578.287-1.076.342-1.828.205a45 45 0 0 0-4.48-.615c-.606-.053-2.655-.053-3.051 0-.826.111-1.187.19-1.535.337a1.93 1.93 0 0 0-.847.672c-.174.257-.253.71-.191 1.092.029.177-.008.192-.079.03zm.317-3.394c0-.028.06-.365.165-.929.1-.538.212-.748.576-1.086.604-.56 1.758-.924 3.331-1.05.557-.045 2.451-.014 3.072.05 1.287.131 1.77.195 2.88.38.906.151.886.15.7.073a58 58 0 0 0-2.054-.744c-1.222-.412-1.941-.578-3.207-.74-.625-.08-2.496-.081-3.082-.001-1.13.154-1.95.382-2.568.717-.523.282-.895.643-1.049 1.02-.09.22-.075.702.03.956.124.299.332.586.65.9.436.428.556.526.556.454m-.558-4.09c.15-.107.649-.33.963-.43.525-.169.957-.256 1.805-.367.497-.065 2.617-.093 3.284-.043l.716.053c.286.022.316-.01.392-.418l.184-.974c.19-1 .248-1.318.249-1.375 0-.105-.107-.19-.281-.217-.792-.129-2.275-.198-3.255-.153-2.203.1-3.583.628-4.102 1.566a1.6 1.6 0 0 0-.219.662q-.018.188.01.105c.143-.436.52-.88.926-1.094.237-.125.26-.132.26-.088 0 .015-.063.058-.14.096q-.273.131-.513.593c-.153.295-.193.468-.297 1.291a61 61 0 0 1-.096.74c-.021.135-.008.14.114.053m9.586-.184c.066-.052.078-.085.078-.236 0-.159-.01-.184-.102-.266-.12-.108-.188-.114-.298-.028-.161.128-.122.44.069.544.11.06.16.057.253-.014m7.349-1.91c.223-.15.319-.421.251-.712-.118-.515-.662-.73-.966-.384-.283.322-.166.91.22 1.1.178.088.361.087.495-.004m-.321-.32c-.187-.102-.245-.433-.103-.586.108-.117.285-.115.4.006.166.172.172.42.016.551-.105.088-.19.096-.313.029m-6.548-.146c.098-.139.036-.446-.105-.521-.09-.049-.204-.039-.257.022-.14.16-.142.312-.003.476.1.12.29.132.366.023z"},child:[]}]})(t)}var T8=typeof Element<"u",S8=typeof Map=="function",k8=typeof Set=="function",I8=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Vh(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,i;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!Vh(t[r],e[r]))return!1;return!0}var s;if(S8&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;for(s=t.entries();!(r=s.next()).done;)if(!Vh(r.value[1],e.get(r.value[0])))return!1;return!0}if(k8&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(I8&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;if(T8&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&t.$$typeof)&&!Vh(t[i[r]],e[i[r]]))return!1;return!0}return t!==t&&e!==e}var C8=function(e,n){try{return Vh(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const A8=Vu(C8);var P8=function(t,e,n,r,i,s,o,a){if(!t){var l;if(e===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,s,o,a],c=0;l=new Error(e.replace(/%s/g,function(){return u[c++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}},R8=P8;const px=Vu(R8);var D8=function(e,n,r,i){var s=r?r.call(i,e,n):void 0;if(s!==void 0)return!!s;if(e===n)return!0;if(typeof e!="object"||!e||typeof n!="object"||!n)return!1;var o=Object.keys(e),a=Object.keys(n);if(o.length!==a.length)return!1;for(var l=Object.prototype.hasOwnProperty.bind(n),u=0;u<o.length;u++){var c=o[u];if(!l(c))return!1;var d=e[c],f=n[c];if(s=r?r.call(i,d,f,c):void 0,s===!1||s===void 0&&d!==f)return!1}return!0};const N8=Vu(D8);var yA=(t=>(t.BASE="base",t.BODY="body",t.HEAD="head",t.HTML="html",t.LINK="link",t.META="meta",t.NOSCRIPT="noscript",t.SCRIPT="script",t.STYLE="style",t.TITLE="title",t.FRAGMENT="Symbol(react.fragment)",t))(yA||{}),tm={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},mx=Object.values(yA),Nv={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},O8=Object.entries(Nv).reduce((t,[e,n])=>(t[n]=e,t),{}),Un="data-rh",qo={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},Ko=(t,e)=>{for(let n=t.length-1;n>=0;n-=1){const r=t[n];if(Object.prototype.hasOwnProperty.call(r,e))return r[e]}return null},M8=t=>{let e=Ko(t,"title");const n=Ko(t,qo.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),n&&e)return n.replace(/%s/g,()=>e);const r=Ko(t,qo.DEFAULT_TITLE);return e||r||void 0},L8=t=>Ko(t,qo.ON_CHANGE_CLIENT_STATE)||(()=>{}),nm=(t,e)=>e.filter(n=>typeof n[t]<"u").map(n=>n[t]).reduce((n,r)=>({...n,...r}),{}),V8=(t,e)=>e.filter(n=>typeof n.base<"u").map(n=>n.base).reverse().reduce((n,r)=>{if(!n.length){const i=Object.keys(r);for(let s=0;s<i.length;s+=1){const a=i[s].toLowerCase();if(t.indexOf(a)!==-1&&r[a])return n.concat(r)}}return n},[]),F8=t=>console&&typeof console.warn=="function"&&console.warn(t),tl=(t,e,n)=>{const r={};return n.filter(i=>Array.isArray(i[t])?!0:(typeof i[t]<"u"&&F8(`Helmet: ${t} should be of type "Array". Instead found type "${typeof i[t]}"`),!1)).map(i=>i[t]).reverse().reduce((i,s)=>{const o={};s.filter(l=>{let u;const c=Object.keys(l);for(let f=0;f<c.length;f+=1){const m=c[f],y=m.toLowerCase();e.indexOf(y)!==-1&&!(u==="rel"&&l[u].toLowerCase()==="canonical")&&!(y==="rel"&&l[y].toLowerCase()==="stylesheet")&&(u=y),e.indexOf(m)!==-1&&(m==="innerHTML"||m==="cssText"||m==="itemprop")&&(u=m)}if(!u||!l[u])return!1;const d=l[u].toLowerCase();return r[u]||(r[u]={}),o[u]||(o[u]={}),r[u][d]?!1:(o[u][d]=!0,!0)}).reverse().forEach(l=>i.push(l));const a=Object.keys(o);for(let l=0;l<a.length;l+=1){const u=a[l],c={...r[u],...o[u]};r[u]=c}return i},[]).reverse()},U8=(t,e)=>{if(Array.isArray(t)&&t.length){for(let n=0;n<t.length;n+=1)if(t[n][e])return!0}return!1},j8=t=>({baseTag:V8(["href"],t),bodyAttributes:nm("bodyAttributes",t),defer:Ko(t,qo.DEFER),encode:Ko(t,qo.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:nm("htmlAttributes",t),linkTags:tl("link",["rel","href"],t),metaTags:tl("meta",["name","charset","http-equiv","property","itemprop"],t),noscriptTags:tl("noscript",["innerHTML"],t),onChangeClientState:L8(t),scriptTags:tl("script",["src","innerHTML"],t),styleTags:tl("style",["cssText"],t),title:M8(t),titleAttributes:nm("titleAttributes",t),prioritizeSeoTags:U8(t,qo.PRIORITIZE_SEO_TAGS)}),vA=t=>Array.isArray(t)?t.join(""):t,z8=(t,e)=>{const n=Object.keys(t);for(let r=0;r<n.length;r+=1)if(e[n[r]]&&e[n[r]].includes(t[n[r]]))return!0;return!1},rm=(t,e)=>Array.isArray(t)?t.reduce((n,r)=>(z8(r,e)?n.priority.push(r):n.default.push(r),n),{priority:[],default:[]}):{default:t,priority:[]},gx=(t,e)=>({...t,[e]:void 0}),B8=["noscript","script","style"],Zg=(t,e=!0)=>e===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),_A=t=>Object.keys(t).reduce((e,n)=>{const r=typeof t[n]<"u"?`${n}="${t[n]}"`:`${n}`;return e?`${e} ${r}`:r},""),$8=(t,e,n,r)=>{const i=_A(n),s=vA(e);return i?`<${t} ${Un}="true" ${i}>${Zg(s,r)}</${t}>`:`<${t} ${Un}="true">${Zg(s,r)}</${t}>`},H8=(t,e,n=!0)=>e.reduce((r,i)=>{const s=i,o=Object.keys(s).filter(u=>!(u==="innerHTML"||u==="cssText")).reduce((u,c)=>{const d=typeof s[c]>"u"?c:`${c}="${Zg(s[c],n)}"`;return u?`${u} ${d}`:d},""),a=s.innerHTML||s.cssText||"",l=B8.indexOf(t)===-1;return`${r}<${t} ${Un}="true" ${o}${l?"/>":`>${a}</${t}>`}`},""),wA=(t,e={})=>Object.keys(t).reduce((n,r)=>{const i=Nv[r];return n[i||r]=t[r],n},e),W8=(t,e,n)=>{const r={key:e,[Un]:!0},i=wA(n,r);return[g.createElement("title",i,e)]},Fh=(t,e)=>e.map((n,r)=>{const i={key:r,[Un]:!0};return Object.keys(n).forEach(s=>{const a=Nv[s]||s;if(a==="innerHTML"||a==="cssText"){const l=n.innerHTML||n.cssText;i.dangerouslySetInnerHTML={__html:l}}else i[a]=n[s]}),g.createElement(t,i)}),_n=(t,e,n=!0)=>{switch(t){case"title":return{toComponent:()=>W8(t,e.title,e.titleAttributes),toString:()=>$8(t,e.title,e.titleAttributes,n)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>wA(e),toString:()=>_A(e)};default:return{toComponent:()=>Fh(t,e),toString:()=>H8(t,e,n)}}},q8=({metaTags:t,linkTags:e,scriptTags:n,encode:r})=>{const i=rm(t,tm.meta),s=rm(e,tm.link),o=rm(n,tm.script);return{priorityMethods:{toComponent:()=>[...Fh("meta",i.priority),...Fh("link",s.priority),...Fh("script",o.priority)],toString:()=>`${_n("meta",i.priority,r)} ${_n("link",s.priority,r)} ${_n("script",o.priority,r)}`},metaTags:i.default,linkTags:s.default,scriptTags:o.default}},K8=t=>{const{baseTag:e,bodyAttributes:n,encode:r=!0,htmlAttributes:i,noscriptTags:s,styleTags:o,title:a="",titleAttributes:l,prioritizeSeoTags:u}=t;let{linkTags:c,metaTags:d,scriptTags:f}=t,m={toComponent:()=>{},toString:()=>""};return u&&({priorityMethods:m,linkTags:c,metaTags:d,scriptTags:f}=q8(t)),{priority:m,base:_n("base",e,r),bodyAttributes:_n("bodyAttributes",n,r),htmlAttributes:_n("htmlAttributes",i,r),link:_n("link",c,r),meta:_n("meta",d,r),noscript:_n("noscript",s,r),script:_n("script",f,r),style:_n("style",o,r),title:_n("title",{title:a,titleAttributes:l},r)}},Jg=K8,Kc=[],EA=!!(typeof window<"u"&&window.document&&window.document.createElement),ey=class{constructor(t,e){Z(this,"instances",[]);Z(this,"canUseDOM",EA);Z(this,"context");Z(this,"value",{setHelmet:t=>{this.context.helmet=t},helmetInstances:{get:()=>this.canUseDOM?Kc:this.instances,add:t=>{(this.canUseDOM?Kc:this.instances).push(t)},remove:t=>{const e=(this.canUseDOM?Kc:this.instances).indexOf(t);(this.canUseDOM?Kc:this.instances).splice(e,1)}}});this.context=t,this.canUseDOM=e||!1,e||(t.helmet=Jg({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},G8={},xA=g.createContext(G8),ks,bA=(ks=class extends O.Component{constructor(n){super(n);Z(this,"helmetData");this.helmetData=new ey(this.props.context||{},ks.canUseDOM)}render(){return g.createElement(xA.Provider,{value:this.helmetData.value},this.props.children)}},Z(ks,"canUseDOM",EA),ks),uo=(t,e)=>{const n=document.head||document.querySelector("head"),r=n.querySelectorAll(`${t}[${Un}]`),i=[].slice.call(r),s=[];let o;return e&&e.length&&e.forEach(a=>{const l=document.createElement(t);for(const u in a)if(Object.prototype.hasOwnProperty.call(a,u))if(u==="innerHTML")l.innerHTML=a.innerHTML;else if(u==="cssText")l.styleSheet?l.styleSheet.cssText=a.cssText:l.appendChild(document.createTextNode(a.cssText));else{const c=u,d=typeof a[c]>"u"?"":a[c];l.setAttribute(u,d)}l.setAttribute(Un,"true"),i.some((u,c)=>(o=c,l.isEqualNode(u)))?i.splice(o,1):s.push(l)}),i.forEach(a=>{var l;return(l=a.parentNode)==null?void 0:l.removeChild(a)}),s.forEach(a=>n.appendChild(a)),{oldTags:i,newTags:s}},ty=(t,e)=>{const n=document.getElementsByTagName(t)[0];if(!n)return;const r=n.getAttribute(Un),i=r?r.split(","):[],s=[...i],o=Object.keys(e);for(const a of o){const l=e[a]||"";n.getAttribute(a)!==l&&n.setAttribute(a,l),i.indexOf(a)===-1&&i.push(a);const u=s.indexOf(a);u!==-1&&s.splice(u,1)}for(let a=s.length-1;a>=0;a-=1)n.removeAttribute(s[a]);i.length===s.length?n.removeAttribute(Un):n.getAttribute(Un)!==o.join(",")&&n.setAttribute(Un,o.join(","))},Q8=(t,e)=>{typeof t<"u"&&document.title!==t&&(document.title=vA(t)),ty("title",e)},yx=(t,e)=>{const{baseTag:n,bodyAttributes:r,htmlAttributes:i,linkTags:s,metaTags:o,noscriptTags:a,onChangeClientState:l,scriptTags:u,styleTags:c,title:d,titleAttributes:f}=t;ty("body",r),ty("html",i),Q8(d,f);const m={baseTag:uo("base",n),linkTags:uo("link",s),metaTags:uo("meta",o),noscriptTags:uo("noscript",a),scriptTags:uo("script",u),styleTags:uo("style",c)},y={},_={};Object.keys(m).forEach(E=>{const{newTags:w,oldTags:b}=m[E];w.length&&(y[E]=w),b.length&&(_[E]=m[E].oldTags)}),e&&e(),l(t,y,_)},nl=null,Y8=t=>{nl&&cancelAnimationFrame(nl),t.defer?nl=requestAnimationFrame(()=>{yx(t,()=>{nl=null})}):(yx(t),nl=null)},X8=Y8,vx=class extends O.Component{constructor(){super(...arguments);Z(this,"rendered",!1)}shouldComponentUpdate(e){return!N8(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:n}=this.props.context;let r=null;const i=j8(e.get().map(s=>{const o={...s.props};return delete o.context,o}));bA.canUseDOM?X8(i):Jg&&(r=Jg(i)),n(r)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},Cm,Z8=(Cm=class extends O.Component{shouldComponentUpdate(t){return!A8(gx(this.props,"helmetData"),gx(t,"helmetData"))}mapNestedChildrenToProps(t,e){if(!e)return null;switch(t.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${t.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(t,e,n,r){return{...e,[t.type]:[...e[t.type]||[],{...n,...this.mapNestedChildrenToProps(t,r)}]}}mapObjectTypeChildren(t,e,n,r){switch(t.type){case"title":return{...e,[t.type]:r,titleAttributes:{...n}};case"body":return{...e,bodyAttributes:{...n}};case"html":return{...e,htmlAttributes:{...n}};default:return{...e,[t.type]:{...n}}}}mapArrayTypeChildrenToProps(t,e){let n={...e};return Object.keys(t).forEach(r=>{n={...n,[r]:t[r]}}),n}warnOnInvalidChildren(t,e){return px(mx.some(n=>t.type===n),typeof t.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${mx.join(", ")} are allowed. Helmet does not support rendering <${t.type}> elements. Refer to our API for more information.`),px(!e||typeof e=="string"||Array.isArray(e)&&!e.some(n=>typeof n!="string"),`Helmet expects a string as a child of <${t.type}>. Did you forget to wrap your children in braces? ( <${t.type}>{\`\`}</${t.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(t,e){let n={};return g.Children.forEach(t,r=>{if(!r||!r.props)return;const{children:i,...s}=r.props,o=Object.keys(s).reduce((l,u)=>(l[O8[u]||u]=s[u],l),{});let{type:a}=r;switch(typeof a=="symbol"?a=a.toString():this.warnOnInvalidChildren(r,i),a){case"Symbol(react.fragment)":e=this.mapChildrenToProps(i,e);break;case"link":case"meta":case"noscript":case"script":case"style":n=this.flattenArrayTypeChildren(r,n,o,i);break;default:e=this.mapObjectTypeChildren(r,e,o,i);break}}),this.mapArrayTypeChildrenToProps(n,e)}render(){const{children:t,...e}=this.props;let n={...e},{helmetData:r}=e;if(t&&(n=this.mapChildrenToProps(t,n)),r&&!(r instanceof ey)){const i=r;r=new ey(i.context,!0),delete n.helmetData}return r?g.createElement(vx,{...n,context:r.value}):g.createElement(xA.Consumer,null,i=>g.createElement(vx,{...n,context:i}))}},Z(Cm,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),Cm);const Ov=({title:t,description:e,keywords:n,ogImage:r,ogUrl:i})=>{const s="Genius Store",o=t?`${t} | ${s}`:`${s} - Instant Game Credits`;return g.createElement(Z8,null,g.createElement("title",null,o),e&&g.createElement("meta",{name:"description",content:e}),n&&g.createElement("meta",{name:"keywords",content:n}),g.createElement("meta",{property:"og:title",content:o}),g.createElement("meta",{property:"og:site_name",content:s}),i&&g.createElement("meta",{property:"og:url",content:i}),r&&g.createElement("meta",{property:"og:image",content:r}),e&&g.createElement("meta",{property:"og:description",content:e}),g.createElement("meta",{name:"twitter:card",content:"summary_large_image"}),g.createElement("meta",{name:"twitter:title",content:o}),e&&g.createElement("meta",{name:"twitter:description",content:e}),r&&g.createElement("meta",{name:"twitter:image",content:r}))},J8=()=>{const[t,e]=O.useState("PUBG"),[n,r]=O.useState({});return Qi(),O.useEffect(()=>{(async()=>{const o=(await zF()).reduce((a,l)=>{const u=l.game;return u&&(a[u]=(a[u]||0)+1),a},{});r(o)})()},[]),g.createElement("main",{className:"bg-gray-100 dark:bg-gray-900"},g.createElement(Ov,{title:"Home",description:"The fastest and most reliable place to top up your favorite games like PUBG and Free Fire. Choose your package and get back in the action.",keywords:"game topup, home, pubg, free fire"}),g.createElement("section",{className:"relative flex flex-col items-center justify-center min-h-screen"},g.createElement("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500 to-purple-600 dark:from-blue-800 dark:to-purple-900 opacity-20"}),g.createElement("div",{className:"relative z-10 flex flex-col items-center text-center p-8"},g.createElement("h1",{className:"text-3xl md:text-5xl font-extrabold text-gray-900 dark:text-white mb-4 animate-fade-in-down"},"Welcome to Genius Store"),g.createElement("h3",{className:"text-2xl md:text-4xl font-extrabold text-gray-900 dark:text-white mb-4 animate-fade-in-down"},"Top Up Your Game"),g.createElement("p",{className:"text-lg text-gray-700 dark:text-gray-300 mb-12 max-w-2xl animate-fade-in-up"},"Select your game, choose your package, and get back in the action faster than ever."),g.createElement(jM,{value:t,onChange:e,orderCounts:n}))),g.createElement("section",null,g.createElement(YF,null)),g.createElement("section",null,g.createElement(x8,null)))},e7=({game:t})=>{switch(t){case"PUBG":return g.createElement(b8,{className:"text-orange-500 text-4xl flex-shrink-0"});case"Free Fire":return g.createElement(gM,{className:"text-cyan-400 text-4xl flex-shrink-0"});case"PES":return g.createElement(Y1,{className:"text-yellow-400 text-4xl flex-shrink-0"});case"FIFA":return g.createElement(mM,{className:"text-green-600 text-4xl flex-shrink-0"});default:return g.createElement(Y1,{className:"text-gray-400 text-4xl flex-shrink-0"})}},t7=({name:t,price:e,onTopUp:n,game:r})=>g.createElement("div",{className:"flex flex-col bg-white/60 dark:bg-gray-800/60 p-6 rounded-xl border border-white/10 dark:border-gray-700/50 shadow-lg hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-72 mx-auto"},g.createElement("div",{className:"flex items-center gap-4 mb-5"},g.createElement(e7,{game:r}),g.createElement("h3",{className:"text-2xl font-bold text-gray-800 dark:text-white"},t)),g.createElement("p",{className:"text-2xl font-medium text-gray-600 dark:text-gray-300 mb-6"},"EGP ",e),g.createElement("div",{className:"flex-grow"}),g.createElement("button",{onClick:n,className:"group w-full flex items-center justify-center gap-2 px-6 py-3 bg-green-500 text-white font-bold rounded-lg shadow-md hover:bg-green-600 hover:scale-105 focus:outline-none focus:ring-2 focus:ring-green-400 focus:ring-opacity-75 transition-transform duration-300 text-base"},g.createElement("span",null,"Top Up Now"),g.createElement(EM,{className:"transition-transform group-hover:rotate-12"}))),TA=t=>{const e=Xr(st,"packages");return Vf(e,n=>{const r=[];n.forEach(i=>{r.push({id:i.id,...i.data()})}),r.sort((i,s)=>i.price-s.price),t(r)})},n7=async t=>{try{if(t.id){const e=Kn(st,"packages",t.id),{id:n,...r}=t;await ka(e,r)}else{const{id:e,...n}=t;await Lf(Xr(st,"packages"),n)}}catch(e){console.error("Error saving package:",e)}},r7=async t=>{await Mf(Kn(st,"packages",t))},i7=()=>{var c;const e=((c=Qr().state)==null?void 0:c.game)||"PUBG",[n,r]=O.useState(e),[i,s]=O.useState([]),[o,a]=O.useState(!0),l=Qi();O.useEffect(()=>{const d=TA(f=>{const m=f.filter(y=>y.game===n);s(m),a(!1)});return()=>d()},[n]);const u=d=>{l("/payment",{state:{game:n,package:d}})};return o?g.createElement("div",{className:"flex justify-center items-center min-h-screen"},g.createElement(Zs,null)):g.createElement("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100 dark:bg-gradient-to-b dark:from-[#0e0e2d] dark:to-[#1b1b3f] py-8 px-4"},g.createElement(Ov,{title:`${n} Top-Up | Buy ${n} Credits`,description:`Get ${n} credits instantly with our competitive packages. Choose from a variety of options to recharge your account.`,keywords:`${n} topup, ${n} vouchers, game packages, buy ${n} credits`}),g.createElement("div",{className:"w-full max-w-5xl text-center relative"},g.createElement("h1",{className:"text-5xl md:text-6xl font-extrabold text-white mb-4 animate-fade-in-down"},g.createElement("span",{className:"bg-gradient-to-r from-blue-400 to-green-400 bg-clip-text text-transparent"},"Get Your ",n," UC Now!")),g.createElement("p",{className:"text-lg text-gray-300 dark:text-gray-400 mb-12 max-w-2xl mx-auto animate-fade-in-up"},"Choose one of our competitive packages to recharge your account instantly."),g.createElement("div",{className:"flex flex-wrap justify-center gap-6 mt-8"},i.map(d=>g.createElement(t7,{key:d.id,name:d.name,price:d.price,game:d.game,onTopUp:()=>u(d)}))),g.createElement("div",{className:"flex justify-center w-full"},g.createElement("button",{onClick:()=>l(-1),className:"mt-8 flex items-center gap-2 px-6 py-2 bg-blue-600 text-white font-semibold rounded-full shadow-lg hover:bg-blue-700 transition-all"},g.createElement("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})),"Back"))))};function Js(t){this._maxSize=t,this.clear()}Js.prototype.clear=function(){this._size=0,this._values=Object.create(null)};Js.prototype.get=function(t){return this._values[t]};Js.prototype.set=function(t,e){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=e};var s7=/[^.^\]^[]+|(?=\[\]|\.\.)/g,SA=/^\d+$/,o7=/^\d/,a7=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,l7=/^\s*(['"]?)(.*?)(\1)\s*$/,Mv=512,_x=new Js(Mv),wx=new Js(Mv),Ex=new Js(Mv),Ps={Cache:Js,split:ny,normalizePath:im,setter:function(t){var e=im(t);return wx.get(t)||wx.set(t,function(r,i){for(var s=0,o=e.length,a=r;s<o-1;){var l=e[s];if(l==="__proto__"||l==="constructor"||l==="prototype")return r;a=a[e[s++]]}a[e[s]]=i})},getter:function(t,e){var n=im(t);return Ex.get(t)||Ex.set(t,function(i){for(var s=0,o=n.length;s<o;)if(i!=null||!e)i=i[n[s++]];else return;return i})},join:function(t){return t.reduce(function(e,n){return e+(Lv(n)||SA.test(n)?"["+n+"]":(e?".":"")+n)},"")},forEach:function(t,e,n){u7(Array.isArray(t)?t:ny(t),e,n)}};function im(t){return _x.get(t)||_x.set(t,ny(t).map(function(e){return e.replace(l7,"$2")}))}function ny(t){return t.match(s7)||[""]}function u7(t,e,n){var r=t.length,i,s,o,a;for(s=0;s<r;s++)i=t[s],i&&(d7(i)&&(i='"'+i+'"'),a=Lv(i),o=!a&&/^\d+$/.test(i),e.call(n,i,a,o,s,t))}function Lv(t){return typeof t=="string"&&t&&["'",'"'].indexOf(t.charAt(0))!==-1}function c7(t){return t.match(o7)&&!t.match(SA)}function h7(t){return a7.test(t)}function d7(t){return!Lv(t)&&(c7(t)||h7(t))}const f7=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,Wf=t=>t.match(f7)||[],qf=t=>t[0].toUpperCase()+t.slice(1),Vv=(t,e)=>Wf(t).join(e).toLowerCase(),kA=t=>Wf(t).reduce((e,n)=>`${e}${e?n[0].toUpperCase()+n.slice(1).toLowerCase():n.toLowerCase()}`,""),p7=t=>qf(kA(t)),m7=t=>Vv(t,"_"),g7=t=>Vv(t,"-"),y7=t=>qf(Vv(t," ")),v7=t=>Wf(t).map(qf).join(" ");var sm={words:Wf,upperFirst:qf,camelCase:kA,pascalCase:p7,snakeCase:m7,kebabCase:g7,sentenceCase:y7,titleCase:v7},Fv={exports:{}};Fv.exports=function(t){return IA(_7(t),t)};Fv.exports.array=IA;function IA(t,e){var n=t.length,r=new Array(n),i={},s=n,o=w7(e),a=E7(t);for(e.forEach(function(u){if(!a.has(u[0])||!a.has(u[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});s--;)i[s]||l(t[s],s,new Set);return r;function l(u,c,d){if(d.has(u)){var f;try{f=", node was:"+JSON.stringify(u)}catch{f=""}throw new Error("Cyclic dependency"+f)}if(!a.has(u))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(u));if(!i[c]){i[c]=!0;var m=o.get(u)||new Set;if(m=Array.from(m),c=m.length){d.add(u);do{var y=m[--c];l(y,a.get(y),d)}while(c);d.delete(u)}r[--n]=u}}}function _7(t){for(var e=new Set,n=0,r=t.length;n<r;n++){var i=t[n];e.add(i[0]),e.add(i[1])}return Array.from(e)}function w7(t){for(var e=new Map,n=0,r=t.length;n<r;n++){var i=t[n];e.has(i[0])||e.set(i[0],new Set),e.has(i[1])||e.set(i[1],new Set),e.get(i[0]).add(i[1])}return e}function E7(t){for(var e=new Map,n=0,r=t.length;n<r;n++)e.set(t[n],n);return e}var x7=Fv.exports;const b7=Vu(x7),T7=Object.prototype.toString,S7=Error.prototype.toString,k7=RegExp.prototype.toString,I7=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",C7=/^Symbol\((.*)\)(.*)$/;function A7(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function xx(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const n=typeof t;if(n==="number")return A7(t);if(n==="string")return e?`"${t}"`:t;if(n==="function")return"[Function "+(t.name||"anonymous")+"]";if(n==="symbol")return I7.call(t).replace(C7,"Symbol($1)");const r=T7.call(t).slice(8,-1);return r==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):r==="Error"||t instanceof Error?"["+S7.call(t)+"]":r==="RegExp"?k7.call(t):null}function Oi(t,e){let n=xx(t,e);return n!==null?n:JSON.stringify(t,function(r,i){let s=xx(this[r],e);return s!==null?s:i},2)}function CA(t){return t==null?[]:[].concat(t)}let AA,PA,RA,P7=/\$\{\s*(\w+)\s*\}/g;AA=Symbol.toStringTag;class bx{constructor(e,n,r,i){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[AA]="Error",this.name="ValidationError",this.value=n,this.path=r,this.type=i,this.errors=[],this.inner=[],CA(e).forEach(s=>{if(Xt.isError(s)){this.errors.push(...s.errors);const o=s.inner.length?s.inner:[s];this.inner.push(...o)}else this.errors.push(s)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}PA=Symbol.hasInstance;RA=Symbol.toStringTag;class Xt extends Error{static formatError(e,n){const r=n.label||n.path||"this";return n=Object.assign({},n,{path:r,originalPath:n.path}),typeof e=="string"?e.replace(P7,(i,s)=>Oi(n[s])):typeof e=="function"?e(n):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,n,r,i,s){const o=new bx(e,n,r,i);if(s)return o;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[RA]="Error",this.name=o.name,this.message=o.message,this.type=o.type,this.value=o.value,this.path=o.path,this.errors=o.errors,this.inner=o.inner,Error.captureStackTrace&&Error.captureStackTrace(this,Xt)}static[PA](e){return bx[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let tr={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:n,originalValue:r})=>{const i=r!=null&&r!==n?` (cast from the value \`${Oi(r,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${Oi(n,!0)}\``+i:`${t} must match the configured type. The validated value was: \`${Oi(n,!0)}\``+i}},Qt={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},R7={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},ry={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},D7={isValue:"${path} field must be ${value}"},Uh={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},N7={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},O7={notType:t=>{const{path:e,value:n,spec:r}=t,i=r.types.length;if(Array.isArray(n)){if(n.length<i)return`${e} tuple value has too few items, expected a length of ${i} but got ${n.length} for value: \`${Oi(n,!0)}\``;if(n.length>i)return`${e} tuple value has too many items, expected a length of ${i} but got ${n.length} for value: \`${Oi(n,!0)}\``}return Xt.formatError(tr.notType,t)}};Object.assign(Object.create(null),{mixed:tr,string:Qt,number:R7,date:ry,object:Uh,array:N7,boolean:D7,tuple:O7});const Uv=t=>t&&t.__isYupSchema__;class jd{static fromOptions(e,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:i,otherwise:s}=n,o=typeof r=="function"?r:(...a)=>a.every(l=>l===r);return new jd(e,(a,l)=>{var u;let c=o(...a)?i:s;return(u=c==null?void 0:c(l))!=null?u:l})}constructor(e,n){this.fn=void 0,this.refs=e,this.refs=e,this.fn=n}resolve(e,n){let r=this.refs.map(s=>s.getValue(n==null?void 0:n.value,n==null?void 0:n.parent,n==null?void 0:n.context)),i=this.fn(r,e,n);if(i===void 0||i===e)return e;if(!Uv(i))throw new TypeError("conditions must return a schema object");return i.resolve(n)}}const Gc={context:"$",value:"."};class eo{constructor(e,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===Gc.context,this.isValue=this.key[0]===Gc.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?Gc.context:this.isValue?Gc.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&Ps.getter(this.path,!0),this.map=n.map}getValue(e,n,r){let i=this.isContext?r:this.isValue?e:n;return this.getter&&(i=this.getter(i||{})),this.map&&(i=this.map(i)),i}cast(e,n){return this.getValue(e,n==null?void 0:n.parent,n==null?void 0:n.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}eo.prototype.__isYupRef=!0;const Es=t=>t==null;function co(t){function e({value:n,path:r="",options:i,originalValue:s,schema:o},a,l){const{name:u,test:c,params:d,message:f,skipAbsent:m}=t;let{parent:y,context:_,abortEarly:E=o.spec.abortEarly,disableStackTrace:w=o.spec.disableStackTrace}=i;function b(A){return eo.isRef(A)?A.getValue(n,y,_):A}function T(A={}){const N=Object.assign({value:n,originalValue:s,label:o.spec.label,path:A.path||r,spec:o.spec,disableStackTrace:A.disableStackTrace||w},d,A.params);for(const ue of Object.keys(N))N[ue]=b(N[ue]);const P=new Xt(Xt.formatError(A.message||f,N),n,N.path,A.type||u,N.disableStackTrace);return P.params=N,P}const R=E?a:l;let D={path:r,parent:y,type:u,from:i.from,createError:T,resolve:b,options:i,originalValue:s,schema:o};const M=A=>{Xt.isError(A)?R(A):A?l(null):R(T())},S=A=>{Xt.isError(A)?R(A):a(A)};if(m&&Es(n))return M(!0);let I;try{var C;if(I=c.call(D,n,D),typeof((C=I)==null?void 0:C.then)=="function"){if(i.sync)throw new Error(`Validation test of type: "${D.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(I).then(M,S)}}catch(A){S(A);return}M(I)}return e.OPTIONS=t,e}function M7(t,e,n,r=n){let i,s,o;return e?(Ps.forEach(e,(a,l,u)=>{let c=l?a.slice(1,a.length-1):a;t=t.resolve({context:r,parent:i,value:n});let d=t.type==="tuple",f=u?parseInt(c,10):0;if(t.innerType||d){if(d&&!u)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${o}" must contain an index to the tuple element, e.g. "${o}[0]"`);if(n&&f>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${a}, in the path: ${e}. because there is no value at that index. `);i=n,n=n&&n[f],t=d?t.spec.types[f]:t.innerType}if(!u){if(!t.fields||!t.fields[c])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${o} which is a type: "${t.type}")`);i=n,n=n&&n[c],t=t.fields[c]}s=c,o=l?"["+a+"]":"."+a}),{schema:t,parent:i,parentPath:s}):{parent:i,parentPath:e,schema:t}}class zd extends Set{describe(){const e=[];for(const n of this.values())e.push(eo.isRef(n)?n.describe():n);return e}resolveAll(e){let n=[];for(const r of this.values())n.push(e(r));return n}clone(){return new zd(this.values())}merge(e,n){const r=this.clone();return e.forEach(i=>r.add(i)),n.forEach(i=>r.delete(i)),r}}function Ao(t,e=new Map){if(Uv(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let n;if(t instanceof Date)n=new Date(t.getTime()),e.set(t,n);else if(t instanceof RegExp)n=new RegExp(t),e.set(t,n);else if(Array.isArray(t)){n=new Array(t.length),e.set(t,n);for(let r=0;r<t.length;r++)n[r]=Ao(t[r],e)}else if(t instanceof Map){n=new Map,e.set(t,n);for(const[r,i]of t.entries())n.set(r,Ao(i,e))}else if(t instanceof Set){n=new Set,e.set(t,n);for(const r of t)n.add(Ao(r,e))}else if(t instanceof Object){n={},e.set(t,n);for(const[r,i]of Object.entries(t))n[r]=Ao(i,e)}else throw Error(`Unable to clone ${t}`);return n}class mr{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new zd,this._blacklist=new zd,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(tr.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=Ao(Object.assign({},this.spec,e)),n}label(e){let n=this.clone();return n.spec.label=e,n}meta(...e){if(e.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},e[0]),n}withMutation(e){let n=this._mutate;this._mutate=!0;let r=e(this);return this._mutate=n,r}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let n=this,r=e.clone();const i=Object.assign({},n.spec,r.spec);return r.spec=i,r.internalTests=Object.assign({},n.internalTests,r.internalTests),r._whitelist=n._whitelist.merge(e._whitelist,e._blacklist),r._blacklist=n._blacklist.merge(e._blacklist,e._whitelist),r.tests=n.tests,r.exclusiveTests=n.exclusiveTests,r.withMutation(s=>{e.tests.forEach(o=>{s.test(o.OPTIONS)})}),r.transforms=[...n.transforms,...r.transforms],r}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let n=this;if(n.conditions.length){let r=n.conditions;n=n.clone(),n.conditions=[],n=r.reduce((i,s)=>s.resolve(i,e),n),n=n.resolve(e)}return n}resolveOptions(e){var n,r,i,s;return Object.assign({},e,{from:e.from||[],strict:(n=e.strict)!=null?n:this.spec.strict,abortEarly:(r=e.abortEarly)!=null?r:this.spec.abortEarly,recursive:(i=e.recursive)!=null?i:this.spec.recursive,disableStackTrace:(s=e.disableStackTrace)!=null?s:this.spec.disableStackTrace})}cast(e,n={}){let r=this.resolve(Object.assign({value:e},n)),i=n.assert==="ignore-optionality",s=r._cast(e,n);if(n.assert!==!1&&!r.isType(s)){if(i&&Es(s))return s;let o=Oi(e),a=Oi(s);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${o} 
`+(a!==o?`result of cast: ${a}`:""))}return s}_cast(e,n){let r=e===void 0?e:this.transforms.reduce((i,s)=>s.call(this,i,e,this),e);return r===void 0&&(r=this.getDefault(n)),r}_validate(e,n={},r,i){let{path:s,originalValue:o=e,strict:a=this.spec.strict}=n,l=e;a||(l=this._cast(l,Object.assign({assert:!1},n)));let u=[];for(let c of Object.values(this.internalTests))c&&u.push(c);this.runTests({path:s,value:l,originalValue:o,options:n,tests:u},r,c=>{if(c.length)return i(c,l);this.runTests({path:s,value:l,originalValue:o,options:n,tests:this.tests},r,i)})}runTests(e,n,r){let i=!1,{tests:s,value:o,originalValue:a,path:l,options:u}=e,c=_=>{i||(i=!0,n(_,o))},d=_=>{i||(i=!0,r(_,o))},f=s.length,m=[];if(!f)return d([]);let y={value:o,originalValue:a,path:l,options:u,schema:this};for(let _=0;_<s.length;_++){const E=s[_];E(y,c,function(b){b&&(Array.isArray(b)?m.push(...b):m.push(b)),--f<=0&&d(m)})}}asNestedTest({key:e,index:n,parent:r,parentPath:i,originalParent:s,options:o}){const a=e??n;if(a==null)throw TypeError("Must include `key` or `index` for nested validations");const l=typeof a=="number";let u=r[a];const c=Object.assign({},o,{strict:!0,parent:r,value:u,originalValue:s[a],key:void 0,[l?"index":"key"]:a,path:l||a.includes(".")?`${i||""}[${l?a:`"${a}"`}]`:(i?`${i}.`:"")+e});return(d,f,m)=>this.resolve(c)._validate(u,c,f,m)}validate(e,n){var r;let i=this.resolve(Object.assign({},n,{value:e})),s=(r=n==null?void 0:n.disableStackTrace)!=null?r:i.spec.disableStackTrace;return new Promise((o,a)=>i._validate(e,n,(l,u)=>{Xt.isError(l)&&(l.value=u),a(l)},(l,u)=>{l.length?a(new Xt(l,u,void 0,void 0,s)):o(u)}))}validateSync(e,n){var r;let i=this.resolve(Object.assign({},n,{value:e})),s,o=(r=n==null?void 0:n.disableStackTrace)!=null?r:i.spec.disableStackTrace;return i._validate(e,Object.assign({},n,{sync:!0}),(a,l)=>{throw Xt.isError(a)&&(a.value=l),a},(a,l)=>{if(a.length)throw new Xt(a,e,void 0,void 0,o);s=l}),s}isValid(e,n){return this.validate(e,n).then(()=>!0,r=>{if(Xt.isError(r))return!1;throw r})}isValidSync(e,n){try{return this.validateSync(e,n),!0}catch(r){if(Xt.isError(r))return!1;throw r}}_getDefault(e){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,e):Ao(n)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,n){const r=this.clone({nullable:e});return r.internalTests.nullable=co({message:n,name:"nullable",test(i){return i===null?this.schema.spec.nullable:!0}}),r}optionality(e,n){const r=this.clone({optional:e});return r.internalTests.optionality=co({message:n,name:"optionality",test(i){return i===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(e=tr.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=tr.notNull){return this.nullability(!1,e)}required(e=tr.required){return this.clone().withMutation(n=>n.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let n=this.clone();return n.transforms.push(e),n}test(...e){let n;if(e.length===1?typeof e[0]=="function"?n={test:e[0]}:n=e[0]:e.length===2?n={name:e[0],test:e[1]}:n={name:e[0],message:e[1],test:e[2]},n.message===void 0&&(n.message=tr.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),i=co(n),s=n.exclusive||n.name&&r.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(r.exclusiveTests[n.name]=!!n.exclusive),r.tests=r.tests.filter(o=>!(o.OPTIONS.name===n.name&&(s||o.OPTIONS.test===i.OPTIONS.test))),r.tests.push(i),r}when(e,n){!Array.isArray(e)&&typeof e!="string"&&(n=e,e=".");let r=this.clone(),i=CA(e).map(s=>new eo(s));return i.forEach(s=>{s.isSibling&&r.deps.push(s.key)}),r.conditions.push(typeof n=="function"?new jd(i,n):jd.fromOptions(i,n)),r}typeError(e){let n=this.clone();return n.internalTests.typeError=co({message:e,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(e,n=tr.oneOf){let r=this.clone();return e.forEach(i=>{r._whitelist.add(i),r._blacklist.delete(i)}),r.internalTests.whiteList=co({message:n,name:"oneOf",skipAbsent:!0,test(i){let s=this.schema._whitelist,o=s.resolveAll(this.resolve);return o.includes(i)?!0:this.createError({params:{values:Array.from(s).join(", "),resolved:o}})}}),r}notOneOf(e,n=tr.notOneOf){let r=this.clone();return e.forEach(i=>{r._blacklist.add(i),r._whitelist.delete(i)}),r.internalTests.blacklist=co({message:n,name:"notOneOf",test(i){let s=this.schema._blacklist,o=s.resolveAll(this.resolve);return o.includes(i)?this.createError({params:{values:Array.from(s).join(", "),resolved:o}}):!0}}),r}strip(e=!0){let n=this.clone();return n.spec.strip=e,n}describe(e){const n=(e?this.resolve(e):this).clone(),{label:r,meta:i,optional:s,nullable:o}=n.spec;return{meta:i,label:r,optional:s,nullable:o,default:n.getDefault(e),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.map(l=>({name:l.OPTIONS.name,params:l.OPTIONS.params})).filter((l,u,c)=>c.findIndex(d=>d.name===l.name)===u)}}}mr.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])mr.prototype[`${t}At`]=function(e,n,r={}){const{parent:i,parentPath:s,schema:o}=M7(this,e,n,r.context);return o[t](i&&i[s],Object.assign({},r,{parent:i,path:e}))};for(const t of["equals","is"])mr.prototype[t]=mr.prototype.oneOf;for(const t of["not","nope"])mr.prototype[t]=mr.prototype.notOneOf;const L7=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function V7(t){const e=iy(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let n=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(n=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(n=0-n)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+n,e.second,e.millisecond)}function iy(t){var e,n;const r=L7.exec(t);return r?{year:_r(r[1]),month:_r(r[2],1)-1,day:_r(r[3],1),hour:_r(r[4]),minute:_r(r[5]),second:_r(r[6]),millisecond:r[7]?_r(r[7].substring(0,3)):0,precision:(e=(n=r[7])==null?void 0:n.length)!=null?e:void 0,z:r[8]||void 0,plusMinus:r[9]||void 0,hourOffset:_r(r[10]),minuteOffset:_r(r[11])}:null}function _r(t,e=0){return Number(t)||e}let F7=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,U7=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,j7=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,z7="^\\d{4}-\\d{2}-\\d{2}",B7="\\d{2}:\\d{2}:\\d{2}",$7="(([+-]\\d{2}(:?\\d{2})?)|Z)",H7=new RegExp(`${z7}T${B7}(\\.\\d+)?${$7}$`),W7=t=>Es(t)||t===t.trim(),q7={}.toString();function fi(){return new DA}class DA extends mr{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(!r.spec.coerce||r.isType(e)||Array.isArray(e))return e;const i=e!=null&&e.toString?e.toString():e;return i===q7?e:i})})}required(e){return super.required(e).withMutation(n=>n.test({message:e||tr.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(n=>n.OPTIONS.name!=="required"),e))}length(e,n=Qt.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,n=Qt.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,n=Qt.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}matches(e,n){let r=!1,i,s;return n&&(typeof n=="object"?{excludeEmptyString:r=!1,message:i,name:s}=n:i=n),this.test({name:s||"matches",message:i||Qt.matches,params:{regex:e},skipAbsent:!0,test:o=>o===""&&r||o.search(e)!==-1})}email(e=Qt.email){return this.matches(F7,{name:"email",message:e,excludeEmptyString:!0})}url(e=Qt.url){return this.matches(U7,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=Qt.uuid){return this.matches(j7,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let n="",r,i;return e&&(typeof e=="object"?{message:n="",allowOffset:r=!1,precision:i=void 0}=e:n=e),this.matches(H7,{name:"datetime",message:n||Qt.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:n||Qt.datetime_offset,params:{allowOffset:r},skipAbsent:!0,test:s=>{if(!s||r)return!0;const o=iy(s);return o?!!o.z:!1}}).test({name:"datetime_precision",message:n||Qt.datetime_precision,params:{precision:i},skipAbsent:!0,test:s=>{if(!s||i==null)return!0;const o=iy(s);return o?o.precision===i:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=Qt.trim){return this.transform(n=>n!=null?n.trim():n).test({message:e,name:"trim",test:W7})}lowercase(e=Qt.lowercase){return this.transform(n=>Es(n)?n:n.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Es(n)||n===n.toLowerCase()})}uppercase(e=Qt.uppercase){return this.transform(n=>Es(n)?n:n.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Es(n)||n===n.toUpperCase()})}}fi.prototype=DA.prototype;let K7=new Date(""),G7=t=>Object.prototype.toString.call(t)==="[object Date]";class jv extends mr{constructor(){super({type:"date",check(e){return G7(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,n,r)=>!r.spec.coerce||r.isType(e)||e===null?e:(e=V7(e),isNaN(e)?jv.INVALID_DATE:new Date(e)))})}prepareParam(e,n){let r;if(eo.isRef(e))r=e;else{let i=this.cast(e);if(!this._typeCheck(i))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=i}return r}min(e,n=ry.min){let r=this.prepareParam(e,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i>=this.resolve(r)}})}max(e,n=ry.max){let r=this.prepareParam(e,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(i){return i<=this.resolve(r)}})}}jv.INVALID_DATE=K7;function Q7(t,e=[]){let n=[],r=new Set,i=new Set(e.map(([o,a])=>`${o}-${a}`));function s(o,a){let l=Ps.split(o)[0];r.add(l),i.has(`${a}-${l}`)||n.push([a,l])}for(const o of Object.keys(t)){let a=t[o];r.add(o),eo.isRef(a)&&a.isSibling?s(a.path,o):Uv(a)&&"deps"in a&&a.deps.forEach(l=>s(l,o))}return b7.array(Array.from(r),n).reverse()}function Tx(t,e){let n=1/0;return t.some((r,i)=>{var s;if((s=e.path)!=null&&s.includes(r))return n=i,!0}),n}function NA(t){return(e,n)=>Tx(t,e)-Tx(t,n)}const Y7=(t,e,n)=>{if(typeof t!="string")return t;let r=t;try{r=JSON.parse(t)}catch{}return n.isType(r)?r:t};function jh(t){if("fields"in t){const e={};for(const[n,r]of Object.entries(t.fields))e[n]=jh(r);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=jh(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(jh)}):"optional"in t?t.optional():t}const X7=(t,e)=>{const n=[...Ps.normalizePath(e)];if(n.length===1)return n[0]in t;let r=n.pop(),i=Ps.getter(Ps.join(n),!0)(t);return!!(i&&r in i)};let Sx=t=>Object.prototype.toString.call(t)==="[object Object]";function kx(t,e){let n=Object.keys(t.fields);return Object.keys(e).filter(r=>n.indexOf(r)===-1)}const Z7=NA([]);function zv(t){return new OA(t)}class OA extends mr{constructor(e){super({type:"object",check(n){return Sx(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=Z7,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,n={}){var r;let i=super._cast(e,n);if(i===void 0)return this.getDefault(n);if(!this._typeCheck(i))return i;let s=this.fields,o=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,a=[].concat(this._nodes,Object.keys(i).filter(d=>!this._nodes.includes(d))),l={},u=Object.assign({},n,{parent:l,__validating:n.__validating||!1}),c=!1;for(const d of a){let f=s[d],m=d in i;if(f){let y,_=i[d];u.path=(n.path?`${n.path}.`:"")+d,f=f.resolve({value:_,context:n.context,parent:l});let E=f instanceof mr?f.spec:void 0,w=E==null?void 0:E.strict;if(E!=null&&E.strip){c=c||d in i;continue}y=!n.__validating||!w?f.cast(i[d],u):i[d],y!==void 0&&(l[d]=y)}else m&&!o&&(l[d]=i[d]);(m!==d in l||l[d]!==i[d])&&(c=!0)}return c?l:i}_validate(e,n={},r,i){let{from:s=[],originalValue:o=e,recursive:a=this.spec.recursive}=n;n.from=[{schema:this,value:o},...s],n.__validating=!0,n.originalValue=o,super._validate(e,n,r,(l,u)=>{if(!a||!Sx(u)){i(l,u);return}o=o||u;let c=[];for(let d of this._nodes){let f=this.fields[d];!f||eo.isRef(f)||c.push(f.asNestedTest({options:n,key:d,parent:u,parentPath:n.path,originalParent:o}))}this.runTests({tests:c,value:u,originalValue:o,options:n},r,d=>{i(d.sort(this._sortErrors).concat(l),u)})})}clone(e){const n=super.clone(e);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(e){let n=super.concat(e),r=n.fields;for(let[i,s]of Object.entries(this.fields)){const o=r[i];r[i]=o===void 0?s:o}return n.withMutation(i=>i.setFields(r,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let n={};return this._nodes.forEach(r=>{var i;const s=this.fields[r];let o=e;(i=o)!=null&&i.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[r]})),n[r]=s&&"getDefault"in s?s.getDefault(o):void 0}),n}setFields(e,n){let r=this.clone();return r.fields=e,r._nodes=Q7(e,n),r._sortErrors=NA(Object.keys(e)),n&&(r._excludedEdges=n),r}shape(e,n=[]){return this.clone().withMutation(r=>{let i=r._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),i=[...r._excludedEdges,...n]),r.setFields(Object.assign(r.fields,e),i)})}partial(){const e={};for(const[n,r]of Object.entries(this.fields))e[n]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(e)}deepPartial(){return jh(this)}pick(e){const n={};for(const r of e)this.fields[r]&&(n[r]=this.fields[r]);return this.setFields(n,this._excludedEdges.filter(([r,i])=>e.includes(r)&&e.includes(i)))}omit(e){const n=[];for(const r of Object.keys(this.fields))e.includes(r)||n.push(r);return this.pick(n)}from(e,n,r){let i=Ps.getter(e,!0);return this.transform(s=>{if(!s)return s;let o=s;return X7(s,e)&&(o=Object.assign({},s),r||delete o[e],o[n]=i(s)),o})}json(){return this.transform(Y7)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||Uh.exact,test(n){if(n==null)return!0;const r=kx(this.schema,n);return r.length===0||this.createError({params:{properties:r.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,n=Uh.noUnknown){typeof e!="boolean"&&(n=e,e=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(i){if(i==null)return!0;const s=kx(this.schema,i);return!e||s.length===0||this.createError({params:{unknown:s.join(", ")}})}});return r.spec.noUnknown=e,r}unknown(e=!0,n=Uh.noUnknown){return this.noUnknown(!e,n)}transformKeys(e){return this.transform(n=>{if(!n)return n;const r={};for(const i of Object.keys(n))r[e(i)]=n[i];return r})}camelCase(){return this.transformKeys(sm.camelCase)}snakeCase(){return this.transformKeys(sm.snakeCase)}constantCase(){return this.transformKeys(e=>sm.snakeCase(e).toUpperCase())}describe(e){const n=(e?this.resolve(e):this).clone(),r=super.describe(e);r.fields={};for(const[s,o]of Object.entries(n.fields)){var i;let a=e;(i=a)!=null&&i.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[s]})),r.fields[s]=o.describe(a)}return r}}zv.prototype=OA.prototype;const J7="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMwAAADACAMAAAB/Pny7AAAA6lBMVEX///99Vp70gnHvaCNRKXR7U515T5v59/rFt9N2S5miirlzR5fy7/W0oMZKGG60qMFjRH+tmMBNIXH0fWvs6e/70s3++viGcZ3Eu85FE2zuXQBvQZU6AGP5u7T2r5LQxNqJaKa9rc35yrqdi62EYKPzdGDg2+X2mo396eeXe7H+8/LvYxTe1uXr5fD1inrxfkvzl3HyiV3vby/3p5x2Wo5bOXuSf6bRytn6yML74Nr0pISrnbn4sKb73M9oNJB/Zpb3uqT/aAC0lbaHV5hpTafZY0rJX1rEYWW4X3GjWYCVWY7iZDYqAFhtUIkJi8GCAAAKZklEQVR4nO2cC1fiShLHg+ZBSAgQIxCIAsJFkDCODg8RFe/efe/w/b/OdnVCUh0D4h7bO+ds/c6cEToB8qeqq6urOygKQRAEQRAEQRAEQRAEQRAEQRAEQRAEQRAEQRAEQRAEQRAfoo7Jaar/uZd3ELtZQbALf7hAnPNLXz1eIkZ5b2MUD9DpTO0vEdOc+86OoM8aHs4Q31Zwzui2hbjMsY1dNvX9FAbjUm9pyBez9tWEIGQNNz/OThJ+e+JXfjU5TZicrt68iVHWtcJ+NE03zW5pKVuL10jFuHPuDOcniDN+5TffW6ma1vesaYyydkhLhK4PepKNs1Td1DB9/mH1p9+QmOvINKeI1nPmTXrm+1rAQGZJrppKgLws9oPVN+xo51zgYws7WkaLdZQWRrskU4u3Sb3MmXlx68UZ9jTe9HyLuk3rEr2FUWwfq6VQeClKFBOqyDDrnROMrrFpLnjbpeBoqNd0PqCloLXlaTGwl7lptHkQYgAfWEZ32DSP/5sW5mhlaWJswcuGSXv9Gou55m2v2DSTXQzoHN1fYtMMpIkZumks8/so1Ajh+SSKAdg0k++xluPiGMKcyhKDvUxt4iN45Dy5voGm5wm2zRXXUvioloLZkaTF2Ab+jgB5GWMkBLQH3oZHzskd60lF3TLfQ8+I0WXFM3vWSNhUxAHtQhg5eQy4aWHTvCphrfQ+XcsUxfQkiVEMTOaYENDi8IxNc/ssvnwf07H1JZY5yDkyzUmUPSun+0bOQxgl7GqWrD5zkPp1TvaMTXOfTdH20RmgMGF+zcwmy0qIAXF4xtnz481xbxQiMdpAUq7pIXK+r7oQA37wK18JI+fVcZ+DLWNKSjW9DYpl65wTRjnZM44BrbvcGfQbysjL2pK6TCVI5su+X8k5oY6z57No5FwJ2fPrMZ9jj1EAsCR52SxNZdS5l3dGTvZcfxViwDGm6aE0wap9qoSEKcpk3E3+OWL2zE0jZs9HhOdlFxnmRVJmVkGGyfUyJVPcOPvB24TsufW2uJGhg7VYsmaaGyQm2Bf8z4UYEBc3sGnuDn/IcIxLHZolyTDDairG3e4760boNTmm+f0v5f2UBpZQtmnLKs+s8YR5j5dlIsBTpGWC5zV//NXaTyZlNseSRn9j4bzvZSuk5ewkimZCsnn/kfmMPgjlaFHCbeplzp5YhjvM2Tc+aI5wyen0bx/SUpCWYlbe9zJByzXXssLzs9O/f0SLVijKqgAafeRlfu6I+XCCtfBA9ozyzMnpPz6mRV5tdjhLxfibnI+5ucDDZTTTvLrFdvnnR7SYA2l2UZQm9rKcuV9mtORj/9U9DmP/OqJWntDuyur7CngZLjEP3xwf5SxrvCItk8m/P9L1X0q5jvxJCF7WeBOY88uzSMvpH8dr0dqDUGrxf4kN08wefW8VoPWfbP3okBR5USwCe5mrZr1sdYb7S95i03FdX4MFs25H9urfEI2YfkP05/o51hJVZVZCSL4UChTsinX+L/NXKwwG3bK0WmwK9rJM9l9/eFv8W6GQPLl/VXDpSKvtoVcMv6QOI3jZXFg2zRQxuJbne0FLfYqmwXr3Ky74EB7K/h3By0ZPuLs8RUMlDmO3V3Wh2NKWVmw9FuxlDi7LCMPL2QUMlXWc8bduoe5XQ17W/oJOcZh9XrYShpcHGCpv8PDSuoNw8Gt5maLi7D/1MnGKzDea3DyiZKz1nWc1v5aXhT9RLOsnzULGHw0vI2G6H1djy6io/yIzTTkKwcuS4f8Bd5eTaE0Wh+TdlhnRy75gP8xhcPffxGOBGJLj4uUp0jJ5jV/dQbtk2n/KWgsmxKvlsZeJO0ziGnkLheT7pEbeQ14mq3J0PAu88yeKZTc/8MLSEw/JVy1heNm9GnuZtGrL8cxRvWzGr2Z0jbVc8DD2irXcpctKoZYgrwx2NEtkmMjLhOHlG19YHl1OsJa0BmsgL9OklY6OZthE8Ox/dY7hJ42uMKjUb4SdlK/Y20cQBEEQBPF/gGEz4K/YZKQHExTh2ZSfgmfLySExUzN2hzIfYX96QjfcVKtsLmM0qotdpXm4ZU0sDQ4X7EHKfNkQnvZtePV8lkzLSoPujnGyaGn0ugP2ZMyODWq7SY9RhqfjTxezDFzXt5VG4AaL+LOa0OSxqZuLcPxiw0HPA5hmN+eO68/id6pZyfxG181abNqxpZkDT+m8QOtyp8XUNUv7bCmKsQ5Uv2HYUKbxo5KG3Q9g//wW7w1WXbXZR/s4VC6hqTowR41MUxL2X2pRUcDotgvRZixYXbPKRqSFNZrdT9fCXMqBZRm+q9mpckebsgloEMKUGtlFrfR9J9rHDc992MixrEazO/4dILvwVUGL+9S4zQsEzEwwlYvmcKBFsz7fx3h91nU9pcqXz6K7ZpqB6syKMKXe9ncsmssF/AXJM3huwP4BPy2FLFHVv1wCK5Rsxai9JHUoG0o5VpE9KDEteklCzYB72cLw4gk03DZjLMDLFmCEvjeN2IUsw1GT7ejDTaDygqjbyH7JxkDn1gB3iszkgelAlW1wLTUZ9Q8PeRl3NE+x2RU6zQb3qF3kmq2jSNdjRttEDz2mxVWrIGabXXAzBhoYoaiDZ0EJ94V1mhD6lNmpMS2aFC3cy+ZDZeOo0bccLKDJ2Q4bjor6jBPvqGfS4yquzezHHlfEWmispWwV9HFYLGjMFB1Yj4LNZfbYBG06s0tZTl0KAtfC9piQ+YIvO/Oe7/eNioNjF7tuWO+wg+TKuRb2Suha7tou9hKKvRq7YK3XgesuhLwgrRUUuL0GolwS0z4fcKkK7AR0q9MKdBxnO1ehyaj4QcIuNvDQMN1pCTbsISxW+X124Wkk03TY5gvb/rR2CLeiQFndToqGbVlLziH7qqtL2AnoNiLPAWdzt+waDK+zq0JVWCMXM2PnLeB1sN3G57LgkTMrZfZotEshbGGErqKEzEKFNgyXvNAmryjdh1hmw05AtwLjRrS/wV9kvjvmgLDdyYODsIgLezqdKjdRVEgUNgPo7XbPA7twLSwUW/GOTNhuLrHAHriwxLze3WS6jvoJXw9ECWUfQkKoxN4If5lzqqHBgzYMpHM+5MdY3R4b+E1uA3i5V9Z3nQZ8UVq1MPzJvWzhxBuA7SiqsQs3Nj8D3Ge4PmYgpwFJDNeyjI6BfiZGH6P3BS2aWbS7L6BOj1c8bTbSSOv8fBWA5WWwryHeaLKE4OQsFLvh42DmOpCDcm8ssnOYJmc5DNIzdLErGGMYF3se3l7Ojk+Z67Xl3dTMLt1dK7x/x19Y32eDS8VYYC2uz1IBBXYMMpeyIYlx3ebQRVvumBvp6fqMUeNj/LSE76gzaxCaWQYgS8sycPz5kqUvbEyMm+xG4C+G/SC9l95RqwtuNqPBzttMt+xFbmXoBOgMXbfSXIvlkbqul8KahW+dNwdMo96uSfOyZaVSaRrwkwbrZEXCW6+n3hr/yEEzrvDznz4IQzjWVJr4FPjRgnTrlcd/xGA6zf6sgd1h/73dz/YLQCsYBEEQBEEQBEEQBEEQBEEQBEEQBEEQBEEQBEEQBEEQBCGD/wL0Dy3wZ+zZeAAAAABJRU5ErkJggg==",eU="/assets/vodafone-BFzAtfV3.png",tU="/assets/etisalat-FlcLQIvL.png",nU="/assets/orange-CEnYO1m1.jpg",rU=[{value:"Instapay",label:"Instapay",icon:J7,color:"border-blue-600"},{value:"Vodafone",label:"Vodafone Cash",icon:eU,color:"border-red-600"},{value:"Etisalat",label:"Etisalat Cash",icon:tU,color:"border-green-600"},{value:"Orange",label:"Orange Cash",icon:nU,color:"border-orange-500"}],iU=zv().shape({name:fi().trim().min(2,"Name too short").max(50,"Name too long").required("Name is required"),email:fi().email("Invalid email").required("Email is required"),gameId:fi().trim().max(30,"Game ID too long").when("game",{is:t=>t!=="PES",then:t=>t.required("Game ID is required"),otherwise:t=>t.notRequired()}),phone:fi().trim().matches(/^01[0-9]{9}$/,"Invalid Egyptian phone number").required("Phone is required"),paymentMethod:fi().required("Payment method is required")}),Qc=t=>t.replace(/<[^>]*>?/gm,"").trim(),sU=()=>{const t=Qr(),e=Qi(),{game:n,package:r}=t.state||{},[i,s]=O.useState(!1),[o,a]=O.useState({name:"",email:"",gameId:"",phone:"",paymentMethod:"Instapay"}),[l,u]=O.useState({});if(!n||!r)return g.createElement("div",{className:"text-center mt-20 text-red-600"},"Missing game or package info. Please start from the home page.");const c=f=>{const{name:m,value:y}=f.target;a(_=>({..._,[m]:y}))},d=async f=>{f.preventDefault(),s(!0),u({});const m={name:Qc(o.name),email:Qc(o.email),gameId:Qc(o.gameId),phone:Qc(o.phone),paymentMethod:o.paymentMethod,game:n};try{await iU.validate(m,{abortEarly:!1});const y={game:n,package:r.name,price:r.price,name:m.name,email:m.email,playerId:m.gameId,phone:m.phone,paymentMethod:m.paymentMethod,status:"Pending Payment",createdAt:new Date().toISOString()},_=await jF(y);s(!1),_.success?e(`/payment-instructions/${o.paymentMethod.toLowerCase()}`,{state:{order:{...y,firestoreId:_.firestoreId,id:_.orderId}}}):alert("Failed to submit order. Please try again.")}catch(y){if(s(!1),y.inner){const _={};y.inner.forEach(E=>{_[E.path]=E.message}),u(_)}else alert("Error submitting order.")}};return g.createElement("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 flex flex-col items-center justify-center p-4"},g.createElement(Ov,{title:`Payment for ${r.name}`,description:`Complete your payment for ${r.name} for the game ${n}.`}),g.createElement("div",{className:"w-full max-w-4xl bg-white dark:bg-gray-800/50 rounded-2xl shadow-2xl backdrop-blur-lg p-8 grid md:grid-cols-2 gap-8"},g.createElement("div",{className:"flex flex-col justify-between"},g.createElement("div",null,g.createElement("h1",{className:"text-3xl font-bold text-gray-800 dark:text-white mb-2"},"Confirm Your Order"),g.createElement("p",{className:"text-gray-600 dark:text-gray-300 mb-6"},"You're one step away from getting back in the game."),g.createElement("div",{className:"bg-gray-100 dark:bg-gray-700/50 p-6 rounded-xl space-y-4"},g.createElement("div",{className:"flex justify-between items-center"},g.createElement("span",{className:"text-gray-600 dark:text-gray-300"},"Game:"),g.createElement("span",{className:"font-bold text-gray-800 dark:text-white"},n)),g.createElement("div",{className:"flex justify-between items-center"},g.createElement("span",{className:"text-gray-600 dark:text-gray-300"},"Package:"),g.createElement("span",{className:"font-bold text-gray-800 dark:text-white"},r.name)),g.createElement("div",{className:"border-t border-gray-200 dark:border-gray-600 my-4"}),g.createElement("div",{className:"flex justify-between items-center text-xl"},g.createElement("span",{className:"text-gray-700 dark:text-gray-200"},"Total Price:"),g.createElement("span",{className:"font-extrabold text-blue-600 dark:text-blue-400"},"EGP ",r.price)))),g.createElement("div",{className:"mt-6 text-xs text-gray-500 dark:text-gray-400 flex items-center gap-2"},g.createElement(wM,null),g.createElement("span",null,"Secure payment processing. Your information is safe with us."))),g.createElement("form",{onSubmit:d},g.createElement("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-6"},"Enter Your Details"),g.createElement("div",{className:"space-y-4"},g.createElement("div",{className:"relative"},g.createElement(SM,{className:"absolute top-3 left-3 text-gray-400"}),g.createElement("input",{type:"text",name:"name",placeholder:"Your Name",value:o.name,onChange:c,className:"w-full p-2 pl-10 border rounded-lg bg-gray-100 dark:bg-gray-700 dark:border-gray-600",required:!0}),l.name&&g.createElement("p",{className:"text-red-500 text-xs mt-1"},l.name)),g.createElement("div",{className:"relative"},g.createElement(pM,{className:"absolute top-3 left-3 text-gray-400"}),g.createElement("input",{type:"email",name:"email",placeholder:"Your Email",value:o.email,onChange:c,className:"w-full p-2 pl-10 border rounded-lg bg-gray-100 dark:bg-gray-700 dark:border-gray-600",required:!0}),l.email&&g.createElement("p",{className:"text-red-500 text-xs mt-1"},l.email)),n!=="PES"&&g.createElement("div",{className:"relative"},g.createElement(yM,{className:"absolute top-3 left-3 text-gray-400"}),g.createElement("input",{type:"text",name:"gameId",placeholder:"Your Game ID",value:o.gameId,onChange:c,className:"w-full p-2 pl-10 border rounded-lg bg-gray-100 dark:bg-gray-700 dark:border-gray-600",required:n!=="PES"}),l.gameId&&g.createElement("p",{className:"text-red-500 text-xs mt-1"},l.gameId)),g.createElement("div",{className:"relative"},g.createElement(_M,{className:"absolute top-3 left-3 text-gray-400"}),g.createElement("input",{type:"tel",name:"phone",placeholder:"Your Phone Number",value:o.phone,onChange:c,className:"w-full p-2 pl-10 border rounded-lg bg-gray-100 dark:bg-gray-700 dark:border-gray-600",required:!0}),l.phone&&g.createElement("p",{className:"text-red-500 text-xs mt-1"},l.phone)),g.createElement("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4"},rU.map(f=>g.createElement("button",{type:"button",key:f.value,onClick:()=>a(m=>({...m,paymentMethod:f.value})),className:`flex flex-col items-center p-3 rounded-xl border-2 transition-all duration-200 bg-white dark:bg-gray-700/50 shadow-sm cursor-pointer
                    ${o.paymentMethod===f.value?`${f.color} ring-2 ring-blue-400`:"border-gray-200 dark:border-gray-600"}`},g.createElement("img",{src:f.icon,alt:f.label+" icon",className:"w-10 h-10 object-contain"}),g.createElement("span",{className:`mt-2 font-semibold text-sm ${o.paymentMethod===f.value?"text-blue-600 dark:text-blue-400":"text-gray-700 dark:text-gray-200"}`},f.label))))),g.createElement("button",{type:"submit",disabled:i,className:"w-full mt-6 py-3 bg-blue-600 text-white font-bold rounded-lg hover:bg-blue-700 transition-colors disabled:bg-blue-400"},i?g.createElement(Zs,null):`Proceed to Pay EGP ${r.price}`),g.createElement("div",{className:"mt-6 p-4 bg-gray-100 dark:bg-gray-700/50 rounded-lg text-center"},g.createElement("p",{className:"text-sm text-gray-600 dark:text-gray-300"},"You will be redirected to the payment page to complete your purchase.")))),g.createElement("button",{onClick:()=>e(-1),className:"mx-auto mt-8 flex items-center gap-2 px-6 py-2 bg-blue-600 text-white font-semibold rounded-full shadow-lg hover:bg-blue-700 transition-all"},g.createElement("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})),"Back"))},oU={instapay:{title:"Pay with Instapay",instructions:"Scan the QR code below, use the payment link, or send the payment directly to our Instapay account.",details:"Instapay Account: bnasef736@instapay",paymentLink:"https://ipn.eg/S/bnasef736/instapay/3k83Pt",qrCode:"/assets/instapay-qr.png",hint:"Please ensure all payment information is correct before proceeding."},vodafone:{title:"Pay with Vodafone Cash",instructions:"Please transfer the exact order amount to the following Vodafone Cash number:",details:"Wallet Number: 01127432507"},etisalat:{title:"Pay with Etisalat Cash",instructions:"Please transfer the exact order amount to the following Etisalat Cash number:",details:"Wallet Number: 01127432507"},orange:{title:"Pay with Orange Cash",instructions:"Please transfer the exact order amount to the following Orange Cash number:",details:"Wallet Number: 01127432507"}},aU=()=>{const[t,e]=O.useState(900);O.useEffect(()=>{if(t===0)return;const i=setInterval(()=>{e(t-1)},1e3);return()=>clearInterval(i)},[t]);const n=Math.floor(t/60),r=t%60;return g.createElement("div",{className:"text-lg font-semibold text-red-600"},n,":",r<10?`0${r}`:r)},lU=()=>{const t=Qi(),{method:e}=AO(),n=Qr(),[r,i]=O.useState(null),[s,o]=O.useState(!0),[a,l]=O.useState(""),[u,c]=O.useState(!1),[d,f]=O.useState("Copy Order ID");if(!n.state||!n.state.order)return g.createElement("div",{className:"text-center mt-20"},g.createElement("h1",{className:"text-2xl font-bold text-red-600 dark:text-red-400"},"Order Information Missing"),g.createElement("p",{className:"text-gray-700 dark:text-gray-300 my-4"},"We couldn't find the details for your order. Please start the process again."),g.createElement("button",{onClick:()=>t("/"),className:"mt-4 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700"},"Go to Home"));const{order:m}=n.state,y=oU[e.toLowerCase()];if(O.useEffect(()=>{(async()=>{o(!0),l("");const b=await WF(m.id);b||l("Order not found. Please check your Order ID or start again."),i(b),o(!1)})()},[m.id]),!y)return g.createElement("div",{className:"text-center mt-20"},"Invalid payment method. Please check the URL or go back.",g.createElement("button",{onClick:()=>t(-1),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded"},"Go Back"));if(s)return g.createElement("div",{className:"text-center mt-20 text-blue-600"},"Loading order details...");if(a)return g.createElement("div",{className:"text-center mt-20 text-red-600"},a);const _=async()=>{u||(await uA(r.firestoreId,"Awaiting Confirmation"),r.game==="PES"?c(!0):t("/success",{state:{orderId:r.id}}))},E=()=>{navigator.clipboard.writeText(r.id),f("Copied!"),setTimeout(()=>f("Copy Order ID"),2e3)};return g.createElement("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-50 dark:bg-gray-900 p-4"},g.createElement("div",{className:"w-full max-w-lg mx-auto bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 text-center"},g.createElement("h1",{className:"text-2xl font-bold mb-2 dark:text-white"},y.title),g.createElement("p",{className:"text-gray-600 dark:text-gray-300 mb-4"},"Order ID: ",g.createElement("span",{className:"font-mono bg-gray-100 dark:bg-gray-700 p-1 rounded"},r.id)),g.createElement("div",{className:"my-4 p-4 bg-blue-50 dark:bg-blue-900/50 rounded-lg"},g.createElement("p",{className:"font-semibold text-blue-800 dark:text-blue-200"},"Please complete payment within 15 minutes."),g.createElement(aU,null)),g.createElement("div",{className:"my-6"},g.createElement("p",{className:"text-gray-700 dark:text-gray-200 mb-2"},y.instructions),y.qrCode&&g.createElement("img",{src:y.qrCode,alt:"Payment QR Code",className:"mx-auto w-48 h-48 my-4"}),e==="instapay"?g.createElement("div",{className:"space-y-4"},g.createElement("p",{className:"text-xl font-bold text-gray-800 dark:text-white bg-gray-100 dark:bg-gray-700 p-3 rounded-lg"},y.details),g.createElement("a",{href:y.paymentLink,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center w-full px-6 py-3 bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-700"},g.createElement(vM,{className:"mr-2"}),"Pay with Instapay Link"),y.hint&&g.createElement("p",{className:"text-sm text-yellow-600 dark:text-yellow-400 p-2 bg-yellow-50 dark:bg-yellow-900/50 rounded-lg"},y.hint)):g.createElement("p",{className:"text-xl font-bold text-gray-800 dark:text-white bg-gray-100 dark:bg-gray-700 p-3 rounded-lg"},y.details)),g.createElement("div",{className:"mt-6"},u?g.createElement("div",{className:"text-center p-4 border-t-2 border-dashed mt-6 dark:border-gray-600"},g.createElement("p",{className:"text-gray-800 dark:text-gray-200 mb-4 font-semibold"},"To confirm your payment, please contact our support team on Telegram or WhatsApp."),g.createElement("div",{className:"flex flex-col sm:flex-row gap-4"},g.createElement("a",{href:"https://t.me/Geniuspes1",target:"_blank",rel:"noopener noreferrer",className:"flex-1 inline-flex items-center justify-center px-6 py-3 bg-blue-500 text-white font-semibold rounded-lg hover:bg-blue-600"},g.createElement(xk,{className:"mr-2"}),"Contact on Telegram"),g.createElement("a",{href:"https://wa.me/message/HPK7XPQT5V2LD1",target:"_blank",rel:"noopener noreferrer",className:"flex-1 inline-flex items-center justify-center px-6 py-3 bg-green-500 text-white font-semibold rounded-lg hover:bg-green-600"},g.createElement(bk,{className:"mr-2"}),"Contact on WhatsApp")),g.createElement("div",{className:"mt-6"},g.createElement("div",{className:"flex items-center justify-center gap-2 mt-2"},g.createElement("span",{className:"font-mono bg-gray-200 dark:bg-gray-700 p-2 rounded"},r.id),g.createElement("button",{onClick:E,className:"flex items-center px-4 py-2 bg-gray-200 dark:bg-gray-600 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500"},g.createElement(fM,{className:"mr-2"}),d)),g.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2"},"Please include this ID when contacting us to verify your payment faster.")),g.createElement("button",{onClick:()=>t("/success",{state:{orderId:r.id}}),className:"mt-8 w-full px-6 py-3 bg-gray-600 text-white font-semibold rounded-lg hover:bg-gray-700 transition-colors"},"Finish")):g.createElement(g.Fragment,null,g.createElement("p",{className:"mb-4"},"Status: ",g.createElement("span",{className:`font-bold ${r.status==="Pending Payment"?"text-yellow-500":r.status==="Awaiting Confirmation"?"text-blue-500":"text-green-600"}`},r.status)),r.status==="Pending Payment"&&g.createElement("button",{onClick:_,className:"w-full px-6 py-3 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700 transition-transform transform hover:scale-105"},"✅ I Have Completed The Payment"),r.status==="Awaiting Confirmation"&&g.createElement("p",{className:"mt-2 text-blue-600 font-medium"},"Your payment is already completed and awaiting confirmation."),r.status==="Completed"&&g.createElement("p",{className:"mt-2 text-green-600 font-medium"},"Your order is already completed.")))))};var MA={exports:{}},Kf={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uU=O,cU=Symbol.for("react.element"),hU=Symbol.for("react.fragment"),dU=Object.prototype.hasOwnProperty,fU=uU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pU={key:!0,ref:!0,__self:!0,__source:!0};function LA(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)dU.call(e,r)&&!pU.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:cU,type:t,key:s,ref:o,props:i,_owner:fU.current}}Kf.Fragment=hU;Kf.jsx=LA;Kf.jsxs=LA;MA.exports=Kf;var sy=MA.exports;const VA=O.createContext({});function mU(t){const e=O.useRef(null);return e.current===null&&(e.current=t()),e.current}const Bv=typeof window<"u",gU=Bv?O.useLayoutEffect:O.useEffect,$v=O.createContext(null);function Hv(t,e){t.indexOf(e)===-1&&t.push(e)}function Wv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const qr=(t,e,n)=>n>e?e:n<t?t:n;let qv=()=>{};const Kr={},FA=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function UA(t){return typeof t=="object"&&t!==null}const jA=t=>/^0[^.\s]+$/u.test(t);function Kv(t){let e;return()=>(e===void 0&&(e=t()),e)}const kn=t=>t,yU=(t,e)=>n=>e(t(n)),rc=(...t)=>t.reduce(yU),Tu=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class Gv{constructor(){this.subscriptions=[]}add(e){return Hv(this.subscriptions,e),()=>Wv(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const cr=t=>t*1e3,hr=t=>t/1e3;function zA(t,e){return e?t*(1e3/e):0}const BA=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,vU=1e-7,_U=12;function wU(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=BA(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>vU&&++a<_U);return o}function ic(t,e,n,r){if(t===e&&n===r)return kn;const i=s=>wU(s,0,1,t,n);return s=>s===0||s===1?s:BA(i(s),e,r)}const $A=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,HA=t=>e=>1-t(1-e),WA=ic(.33,1.53,.69,.99),Qv=HA(WA),qA=$A(Qv),KA=t=>(t*=2)<1?.5*Qv(t):.5*(2-Math.pow(2,-10*(t-1))),Yv=t=>1-Math.sin(Math.acos(t)),GA=HA(Yv),QA=$A(Yv),EU=ic(.42,0,1,1),xU=ic(0,0,.58,1),YA=ic(.42,0,.58,1),bU=t=>Array.isArray(t)&&typeof t[0]!="number",XA=t=>Array.isArray(t)&&typeof t[0]=="number",TU={linear:kn,easeIn:EU,easeInOut:YA,easeOut:xU,circIn:Yv,circInOut:QA,circOut:GA,backIn:Qv,backInOut:qA,backOut:WA,anticipate:KA},SU=t=>typeof t=="string",Ix=t=>{if(XA(t)){qv(t.length===4);const[e,n,r,i]=t;return ic(e,n,r,i)}else if(SU(t))return TU[t];return t},Yc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Cx={value:null};function kU(t,e){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function u(d){o.has(d)&&(c.schedule(d),t()),l++,d(a)}const c={schedule:(d,f=!1,m=!1)=>{const _=m&&i?n:r;return f&&o.add(d),_.has(d)||_.add(d),d},cancel:d=>{r.delete(d),o.delete(d)},process:d=>{if(a=d,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(u),e&&Cx.value&&Cx.value.frameloop[e].push(l),l=0,n.clear(),i=!1,s&&(s=!1,c.process(d))}};return c}const IU=40;function ZA(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Yc.reduce((T,R)=>(T[R]=kU(s,e?R:void 0),T),{}),{setup:a,read:l,resolveKeyframes:u,preUpdate:c,update:d,preRender:f,render:m,postRender:y}=o,_=()=>{const T=Kr.useManualTiming?i.timestamp:performance.now();n=!1,Kr.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(T-i.timestamp,IU),1)),i.timestamp=T,i.isProcessing=!0,a.process(i),l.process(i),u.process(i),c.process(i),d.process(i),f.process(i),m.process(i),y.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(_))},E=()=>{n=!0,r=!0,i.isProcessing||t(_)};return{schedule:Yc.reduce((T,R)=>{const D=o[R];return T[R]=(M,S=!1,x=!1)=>(n||E(),D.schedule(M,S,x)),T},{}),cancel:T=>{for(let R=0;R<Yc.length;R++)o[Yc[R]].cancel(T)},state:i,steps:o}}const{schedule:$e,cancel:Bi,state:vt,steps:om}=ZA(typeof requestAnimationFrame<"u"?requestAnimationFrame:kn,!0);let zh;function CU(){zh=void 0}const tn={now:()=>(zh===void 0&&tn.set(vt.isProcessing||Kr.useManualTiming?vt.timestamp:performance.now()),zh),set:t=>{zh=t,queueMicrotask(CU)}},JA=t=>e=>typeof e=="string"&&e.startsWith(t),Xv=JA("--"),AU=JA("var(--"),Zv=t=>AU(t)?PU.test(t.split("/*")[0].trim()):!1,PU=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ca={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Su={...Ca,transform:t=>qr(0,1,t)},Xc={...Ca,default:1},Ul=t=>Math.round(t*1e5)/1e5,Jv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function RU(t){return t==null}const DU=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,e_=(t,e)=>n=>!!(typeof n=="string"&&DU.test(n)&&n.startsWith(t)||e&&!RU(n)&&Object.prototype.hasOwnProperty.call(n,e)),eP=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(Jv);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},NU=t=>qr(0,255,t),am={...Ca,transform:t=>Math.round(NU(t))},xs={test:e_("rgb","red"),parse:eP("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+am.transform(t)+", "+am.transform(e)+", "+am.transform(n)+", "+Ul(Su.transform(r))+")"};function OU(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const oy={test:e_("#"),parse:OU,transform:xs.transform},sc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ai=sc("deg"),dr=sc("%"),J=sc("px"),MU=sc("vh"),LU=sc("vw"),Ax={...dr,parse:t=>dr.parse(t)/100,transform:t=>dr.transform(t*100)},Po={test:e_("hsl","hue"),parse:eP("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+dr.transform(Ul(e))+", "+dr.transform(Ul(n))+", "+Ul(Su.transform(r))+")"},nt={test:t=>xs.test(t)||oy.test(t)||Po.test(t),parse:t=>xs.test(t)?xs.parse(t):Po.test(t)?Po.parse(t):oy.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?xs.transform(t):Po.transform(t),getAnimatableNone:t=>{const e=nt.parse(t);return e.alpha=0,nt.transform(e)}},VU=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function FU(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Jv))==null?void 0:e.length)||0)+(((n=t.match(VU))==null?void 0:n.length)||0)>0}const tP="number",nP="color",UU="var",jU="var(",Px="${}",zU=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ku(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(zU,l=>(nt.test(l)?(r.color.push(s),i.push(nP),n.push(nt.parse(l))):l.startsWith(jU)?(r.var.push(s),i.push(UU),n.push(l)):(r.number.push(s),i.push(tP),n.push(parseFloat(l))),++s,Px)).split(Px);return{values:n,split:a,indexes:r,types:i}}function rP(t){return ku(t).values}function iP(t){const{split:e,types:n}=ku(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===tP?s+=Ul(i[o]):a===nP?s+=nt.transform(i[o]):s+=i[o]}return s}}const BU=t=>typeof t=="number"?0:nt.test(t)?nt.getAnimatableNone(t):t;function $U(t){const e=rP(t);return iP(t)(e.map(BU))}const $i={test:FU,parse:rP,createTransformer:iP,getAnimatableNone:$U};function lm(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function HU({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=lm(l,a,t+1/3),s=lm(l,a,t),o=lm(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function Bd(t,e){return n=>n>0?e:t}const ze=(t,e,n)=>t+(e-t)*n,um=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},WU=[oy,xs,Po],qU=t=>WU.find(e=>e.test(t));function Rx(t){const e=qU(t);if(!e)return!1;let n=e.parse(t);return e===Po&&(n=HU(n)),n}const Dx=(t,e)=>{const n=Rx(t),r=Rx(e);if(!n||!r)return Bd(t,e);const i={...n};return s=>(i.red=um(n.red,r.red,s),i.green=um(n.green,r.green,s),i.blue=um(n.blue,r.blue,s),i.alpha=ze(n.alpha,r.alpha,s),xs.transform(i))},ay=new Set(["none","hidden"]);function KU(t,e){return ay.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function GU(t,e){return n=>ze(t,e,n)}function t_(t){return typeof t=="number"?GU:typeof t=="string"?Zv(t)?Bd:nt.test(t)?Dx:XU:Array.isArray(t)?sP:typeof t=="object"?nt.test(t)?Dx:QU:Bd}function sP(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>t_(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function QU(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=t_(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function YU(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],o=t.indexes[s][r[s]],a=t.values[o]??0;n[i]=a,r[s]++}return n}const XU=(t,e)=>{const n=$i.createTransformer(e),r=ku(t),i=ku(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?ay.has(t)&&!i.values.length||ay.has(e)&&!r.values.length?KU(t,e):rc(sP(YU(r,i),i.values),n):Bd(t,e)};function oP(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ze(t,e,n):t_(t)(t,e)}const ZU=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>$e.update(e,n),stop:()=>Bi(e),now:()=>vt.isProcessing?vt.timestamp:tn.now()}},aP=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},$d=2e4;function n_(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<$d;)e+=n,r=t.next(e);return e>=$d?1/0:e}function JU(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(n_(r),$d);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:hr(i)}}const ej=5;function lP(t,e,n){const r=Math.max(e-ej,0);return zA(n-t(r),e-r)}const Ke={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},cm=.001;function tj({duration:t=Ke.duration,bounce:e=Ke.bounce,velocity:n=Ke.velocity,mass:r=Ke.mass}){let i,s,o=1-e;o=qr(Ke.minDamping,Ke.maxDamping,o),t=qr(Ke.minDuration,Ke.maxDuration,hr(t)),o<1?(i=u=>{const c=u*o,d=c*t,f=c-n,m=ly(u,o),y=Math.exp(-d);return cm-f/m*y},s=u=>{const d=u*o*t,f=d*n+n,m=Math.pow(o,2)*Math.pow(u,2)*t,y=Math.exp(-d),_=ly(Math.pow(u,2),o);return(-i(u)+cm>0?-1:1)*((f-m)*y)/_}):(i=u=>{const c=Math.exp(-u*t),d=(u-n)*t+1;return-cm+c*d},s=u=>{const c=Math.exp(-u*t),d=(n-u)*(t*t);return c*d});const a=5/t,l=rj(i,s,a);if(t=cr(t),isNaN(l))return{stiffness:Ke.stiffness,damping:Ke.damping,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const nj=12;function rj(t,e,n){let r=n;for(let i=1;i<nj;i++)r=r-t(r)/e(r);return r}function ly(t,e){return t*Math.sqrt(1-e*e)}const ij=["duration","bounce"],sj=["stiffness","damping","mass"];function Nx(t,e){return e.some(n=>t[n]!==void 0)}function oj(t){let e={velocity:Ke.velocity,stiffness:Ke.stiffness,damping:Ke.damping,mass:Ke.mass,isResolvedFromDuration:!1,...t};if(!Nx(t,sj)&&Nx(t,ij))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*qr(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Ke.mass,stiffness:i,damping:s}}else{const n=tj(t);e={...e,...n,mass:Ke.mass},e.isResolvedFromDuration=!0}return e}function Hd(t=Ke.visualDuration,e=Ke.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:u,mass:c,duration:d,velocity:f,isResolvedFromDuration:m}=oj({...n,velocity:-hr(n.velocity||0)}),y=f||0,_=u/(2*Math.sqrt(l*c)),E=o-s,w=hr(Math.sqrt(l/c)),b=Math.abs(E)<5;r||(r=b?Ke.restSpeed.granular:Ke.restSpeed.default),i||(i=b?Ke.restDelta.granular:Ke.restDelta.default);let T;if(_<1){const D=ly(w,_);T=M=>{const S=Math.exp(-_*w*M);return o-S*((y+_*w*E)/D*Math.sin(D*M)+E*Math.cos(D*M))}}else if(_===1)T=D=>o-Math.exp(-w*D)*(E+(y+w*E)*D);else{const D=w*Math.sqrt(_*_-1);T=M=>{const S=Math.exp(-_*w*M),x=Math.min(D*M,300);return o-S*((y+_*w*E)*Math.sinh(x)+D*E*Math.cosh(x))/D}}const R={calculatedDuration:m&&d||null,next:D=>{const M=T(D);if(m)a.done=D>=d;else{let S=D===0?y:0;_<1&&(S=D===0?cr(y):lP(T,D,M));const x=Math.abs(S)<=r,I=Math.abs(o-M)<=i;a.done=x&&I}return a.value=a.done?o:M,a},toString:()=>{const D=Math.min(n_(R),$d),M=aP(S=>R.next(D*S).value,D,30);return D+"ms "+M},toTransition:()=>{}};return R}Hd.applyToOptions=t=>{const e=JU(t,100,Hd);return t.ease=e.ease,t.duration=cr(e.duration),t.type="keyframes",t};function uy({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){const d=t[0],f={done:!1,value:d},m=x=>a!==void 0&&x<a||l!==void 0&&x>l,y=x=>a===void 0?l:l===void 0||Math.abs(a-x)<Math.abs(l-x)?a:l;let _=n*e;const E=d+_,w=o===void 0?E:o(E);w!==E&&(_=w-d);const b=x=>-_*Math.exp(-x/r),T=x=>w+b(x),R=x=>{const I=b(x),C=T(x);f.done=Math.abs(I)<=u,f.value=f.done?w:C};let D,M;const S=x=>{m(f.value)&&(D=x,M=Hd({keyframes:[f.value,y(f.value)],velocity:lP(T,x,f.value),damping:i,stiffness:s,restDelta:u,restSpeed:c}))};return S(0),{calculatedDuration:null,next:x=>{let I=!1;return!M&&D===void 0&&(I=!0,R(x),S(x)),D!==void 0&&x>=D?M.next(x-D):(!I&&R(x),f)}}}function aj(t,e,n){const r=[],i=n||Kr.mix||oP,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||kn:e;a=rc(l,a)}r.push(a)}return r}function lj(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(qv(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=aj(e,r,i),l=a.length,u=c=>{if(o&&c<t[0])return e[0];let d=0;if(l>1)for(;d<t.length-2&&!(c<t[d+1]);d++);const f=Tu(t[d],t[d+1],c);return a[d](f)};return n?c=>u(qr(t[0],t[s-1],c)):u}function uj(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Tu(0,e,r);t.push(ze(n,1,i))}}function cj(t){const e=[0];return uj(e,t.length-1),e}function hj(t,e){return t.map(n=>n*e)}function dj(t,e){return t.map(()=>e||YA).splice(0,t.length-1)}function jl({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=bU(r)?r.map(Ix):Ix(r),s={done:!1,value:e[0]},o=hj(n&&n.length===e.length?n:cj(e),t),a=lj(o,e,{ease:Array.isArray(i)?i:dj(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const fj=t=>t!==null;function r_(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(fj),a=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const pj={decay:uy,inertia:uy,tween:jl,keyframes:jl,spring:Hd};function uP(t){typeof t.type=="string"&&(t.type=pj[t.type])}class i_{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const mj=t=>t/100;class s_ extends i_{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==tn.now()&&this.tick(tn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;uP(e);const{type:n=jl,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=e;let{keyframes:a}=e;const l=n||jl;l!==jl&&typeof a[0]!="number"&&(this.mixKeyframes=rc(mj,oP(a[0],a[1])),a=[0,100]);const u=l({...e,keyframes:a});s==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=n_(u));const{calculatedDuration:c}=u;this.calculatedDuration=c,this.resolvedDuration=c+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=u}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:c,repeat:d,repeatType:f,repeatDelay:m,type:y,onUpdate:_,finalKeyframe:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const w=this.currentTime-u*(this.playbackSpeed>=0?1:-1),b=this.playbackSpeed>=0?w<0:w>i;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let T=this.currentTime,R=r;if(d){const x=Math.min(this.currentTime,i)/a;let I=Math.floor(x),C=x%1;!C&&x>=1&&(C=1),C===1&&I--,I=Math.min(I,d+1),!!(I%2)&&(f==="reverse"?(C=1-C,m&&(C-=m/a)):f==="mirror"&&(R=o)),T=qr(0,1,C)*a}const D=b?{done:!1,value:c[0]}:R.next(T);s&&(D.value=s(D.value));let{done:M}=D;!b&&l!==null&&(M=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const S=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return S&&y!==uy&&(D.value=r_(c,this.options,E,this.speed)),_&&_(D.value),S&&this.finish(),D}then(e,n){return this.finished.then(e,n)}get duration(){return hr(this.calculatedDuration)}get time(){return hr(this.currentTime)}set time(e){var n;e=cr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(tn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=hr(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=ZU,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(tn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function gj(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const bs=t=>t*180/Math.PI,cy=t=>{const e=bs(Math.atan2(t[1],t[0]));return hy(e)},yj={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:cy,rotateZ:cy,skewX:t=>bs(Math.atan(t[1])),skewY:t=>bs(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},hy=t=>(t=t%360,t<0&&(t+=360),t),Ox=cy,Mx=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Lx=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),vj={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Mx,scaleY:Lx,scale:t=>(Mx(t)+Lx(t))/2,rotateX:t=>hy(bs(Math.atan2(t[6],t[5]))),rotateY:t=>hy(bs(Math.atan2(-t[2],t[0]))),rotateZ:Ox,rotate:Ox,skewX:t=>bs(Math.atan(t[4])),skewY:t=>bs(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function dy(t){return t.includes("scale")?1:0}function fy(t,e){if(!t||t==="none")return dy(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=vj,i=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=yj,i=a}if(!i)return dy(e);const s=r[e],o=i[1].split(",").map(wj);return typeof s=="function"?s(o):o[s]}const _j=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return fy(n,e)};function wj(t){return parseFloat(t.trim())}const Aa=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Pa=new Set(Aa),Vx=t=>t===Ca||t===J,Ej=new Set(["x","y","z"]),xj=Aa.filter(t=>!Ej.has(t));function bj(t){const e=[];return xj.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Rs={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>fy(e,"x"),y:(t,{transform:e})=>fy(e,"y")};Rs.translateX=Rs.x;Rs.translateY=Rs.y;const Ds=new Set;let py=!1,my=!1,gy=!1;function cP(){if(my){const t=Array.from(Ds).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=bj(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))==null||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}my=!1,py=!1,Ds.forEach(t=>t.complete(gy)),Ds.clear()}function hP(){Ds.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(my=!0)})}function Tj(){gy=!0,hP(),cP(),gy=!1}class o_{constructor(e,n,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Ds.add(this),py||(py=!0,$e.read(hP),$e.resolveKeyframes(cP))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const a=r.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),i&&s===void 0&&i.set(e[0])}gj(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ds.delete(this)}cancel(){this.state==="scheduled"&&(Ds.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Sj=t=>t.startsWith("--");function kj(t,e,n){Sj(e)?t.style.setProperty(e,n):t.style[e]=n}const Ij=Kv(()=>window.ScrollTimeline!==void 0),Cj={};function Aj(t,e){const n=Kv(t);return()=>Cj[e]??n()}const dP=Aj(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),_l=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Fx={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:_l([0,.65,.55,1]),circOut:_l([.55,0,1,.45]),backIn:_l([.31,.01,.66,-.59]),backOut:_l([.33,1.53,.69,.99])};function fP(t,e){if(t)return typeof t=="function"?dP()?aP(t,e):"ease-out":XA(t)?_l(t):Array.isArray(t)?t.map(n=>fP(n,e)||Fx.easeOut):Fx[t]}function Pj(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:l}={},u=void 0){const c={[e]:n};l&&(c.offset=l);const d=fP(a,i);Array.isArray(d)&&(c.easing=d);const f={delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return u&&(f.pseudoElement=u),t.animate(c,f)}function pP(t){return typeof t=="function"&&"applyToOptions"in t}function Rj({type:t,...e}){return pP(t)&&dP()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Dj extends i_{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,qv(typeof e.type!="string");const u=Rj(e);this.animation=Pj(n,r,i,u,s),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const c=r_(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(c):kj(n,r,c),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return hr(Number(e))}get time(){return hr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=cr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&Ij()?(this.animation.timeline=e,kn):n(this)}}const mP={anticipate:KA,backInOut:qA,circInOut:QA};function Nj(t){return t in mP}function Oj(t){typeof t.ease=="string"&&Nj(t.ease)&&(t.ease=mP[t.ease])}const Ux=10;class Mj extends Dj{constructor(e){Oj(e),uP(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new s_({...o,autoplay:!1}),l=cr(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-Ux).value,a.sample(l).value,Ux),a.stop()}}const jx=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&($i.test(t)||t==="0")&&!t.startsWith("url("));function Lj(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Vj(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=jx(i,e),a=jx(s,e);return!o||!a?!1:Lj(t)||(n==="spring"||pP(n))&&r}function gP(t){return UA(t)&&"offsetHeight"in t}const Fj=new Set(["opacity","clipPath","filter","transform"]),Uj=Kv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function jj(t){var u;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:o}=t;if(!gP((u=e==null?void 0:e.owner)==null?void 0:u.current))return!1;const{onUpdate:a,transformTemplate:l}=e.owner.getProps();return Uj()&&n&&Fj.has(n)&&(n!=="transform"||!l)&&!a&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const zj=40;class Bj extends i_{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:l,motionValue:u,element:c,...d}){var y;super(),this.stop=()=>{var _,E;this._animation&&(this._animation.stop(),(_=this.stopTimeline)==null||_.call(this)),(E=this.keyframeResolver)==null||E.cancel()},this.createdAt=tn.now();const f={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,name:l,motionValue:u,element:c,...d},m=(c==null?void 0:c.KeyframeResolver)||o_;this.keyframeResolver=new m(a,(_,E,w)=>this.onKeyframesResolved(_,E,f,!w),l,u,c),(y=this.keyframeResolver)==null||y.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:l,isHandoff:u,onUpdate:c}=r;this.resolvedAt=tn.now(),Vj(e,s,o,a)||((Kr.instantAnimations||!l)&&(c==null||c(r_(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const f={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>zj?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},m=!u&&jj(f)?new Mj({...f,element:f.motionValue.owner.current}):new s_(f);m.finished.then(()=>this.notifyFinished()).catch(kn),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),Tj()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const $j=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Hj(t){const e=$j.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function yP(t,e,n=1){const[r,i]=Hj(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return FA(o)?parseFloat(o):o}return Zv(i)?yP(i,e,n+1):i}function a_(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const vP=new Set(["width","height","top","left","right","bottom",...Aa]),Wj={test:t=>t==="auto",parse:t=>t},_P=t=>e=>e.test(t),wP=[Ca,J,dr,ai,LU,MU,Wj],zx=t=>wP.find(_P(t));function qj(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||jA(t):!0}const Kj=new Set(["brightness","contrast","saturate","opacity"]);function Gj(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Jv)||[];if(!r)return t;const i=n.replace(r,"");let s=Kj.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const Qj=/\b([a-z-]*)\(.*?\)/gu,yy={...$i,getAnimatableNone:t=>{const e=t.match(Qj);return e?e.map(Gj).join(" "):t}},Bx={...Ca,transform:Math.round},Yj={rotate:ai,rotateX:ai,rotateY:ai,rotateZ:ai,scale:Xc,scaleX:Xc,scaleY:Xc,scaleZ:Xc,skew:ai,skewX:ai,skewY:ai,distance:J,translateX:J,translateY:J,translateZ:J,x:J,y:J,z:J,perspective:J,transformPerspective:J,opacity:Su,originX:Ax,originY:Ax,originZ:J},l_={borderWidth:J,borderTopWidth:J,borderRightWidth:J,borderBottomWidth:J,borderLeftWidth:J,borderRadius:J,radius:J,borderTopLeftRadius:J,borderTopRightRadius:J,borderBottomRightRadius:J,borderBottomLeftRadius:J,width:J,maxWidth:J,height:J,maxHeight:J,top:J,right:J,bottom:J,left:J,padding:J,paddingTop:J,paddingRight:J,paddingBottom:J,paddingLeft:J,margin:J,marginTop:J,marginRight:J,marginBottom:J,marginLeft:J,backgroundPositionX:J,backgroundPositionY:J,...Yj,zIndex:Bx,fillOpacity:Su,strokeOpacity:Su,numOctaves:Bx},Xj={...l_,color:nt,backgroundColor:nt,outlineColor:nt,fill:nt,stroke:nt,borderColor:nt,borderTopColor:nt,borderRightColor:nt,borderBottomColor:nt,borderLeftColor:nt,filter:yy,WebkitFilter:yy},EP=t=>Xj[t];function xP(t,e){let n=EP(t);return n!==yy&&(n=$i),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Zj=new Set(["auto","none","0"]);function Jj(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!Zj.has(s)&&ku(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=xP(n,i)}class ez extends o_{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),Zv(u))){const c=yP(u,n.current);c!==void 0&&(e[l]=c),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!vP.has(r)||e.length!==2)return;const[i,s]=e,o=zx(i),a=zx(s);if(o!==a)if(Vx(o)&&Vx(a))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else Rs[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||qj(e[i]))&&r.push(i);r.length&&Jj(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Rs[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=Rs[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,u])=>{e.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function tz(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=(n==null?void 0:n[t])??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const bP=(t,e)=>e&&typeof t=="number"?e.transform(t):t,$x=30,nz=t=>!isNaN(parseFloat(t));class rz{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{var o,a;const s=tn.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();i&&((a=this.events.renderRequest)==null||a.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=tn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=nz(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Gv);const r=this.events[e].add(n);return e==="change"?()=>{r(),$e.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=tn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>$x)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,$x);return zA(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function da(t,e){return new rz(t,e)}const{schedule:u_}=ZA(queueMicrotask,!1),Mn={x:!1,y:!1};function TP(){return Mn.x||Mn.y}function iz(t){return t==="x"||t==="y"?Mn[t]?null:(Mn[t]=!0,()=>{Mn[t]=!1}):Mn.x||Mn.y?null:(Mn.x=Mn.y=!0,()=>{Mn.x=Mn.y=!1})}function SP(t,e){const n=tz(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function Hx(t){return!(t.pointerType==="touch"||TP())}function sz(t,e,n={}){const[r,i,s]=SP(t,n),o=a=>{if(!Hx(a))return;const{target:l}=a,u=e(l,a);if(typeof u!="function"||!l)return;const c=d=>{Hx(d)&&(u(d),l.removeEventListener("pointerleave",c))};l.addEventListener("pointerleave",c,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const kP=(t,e)=>e?t===e?!0:kP(t,e.parentElement):!1,c_=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,oz=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function az(t){return oz.has(t.tagName)||t.tabIndex!==-1}const Bh=new WeakSet;function Wx(t){return e=>{e.key==="Enter"&&t(e)}}function hm(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const lz=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=Wx(()=>{if(Bh.has(n))return;hm(n,"down");const i=Wx(()=>{hm(n,"up")}),s=()=>hm(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function qx(t){return c_(t)&&!TP()}function uz(t,e,n={}){const[r,i,s]=SP(t,n),o=a=>{const l=a.currentTarget;if(!qx(a))return;Bh.add(l);const u=e(l,a),c=(m,y)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",f),Bh.has(l)&&Bh.delete(l),qx(m)&&typeof u=="function"&&u(m,{success:y})},d=m=>{c(m,l===window||l===document||n.useGlobalTarget||kP(l,m.target))},f=m=>{c(m,!1)};window.addEventListener("pointerup",d,i),window.addEventListener("pointercancel",f,i)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),gP(a)&&(a.addEventListener("focus",u=>lz(u,i)),!az(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function IP(t){return UA(t)&&"ownerSVGElement"in t}function cz(t){return IP(t)&&t.tagName==="svg"}const Lt=t=>!!(t&&t.getVelocity),hz=[...wP,nt,$i],dz=t=>hz.find(_P(t)),CP=O.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function fz(t=!0){const e=O.useContext($v);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=O.useId();O.useEffect(()=>{if(t)return i(s)},[t]);const o=O.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const AP=O.createContext({strict:!1}),Kx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},fa={};for(const t in Kx)fa[t]={isEnabled:e=>Kx[t].some(n=>!!e[n])};function pz(t){for(const e in t)fa[e]={...fa[e],...t[e]}}const mz=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Wd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||mz.has(t)}let PP=t=>!Wd(t);function gz(t){typeof t=="function"&&(PP=e=>e.startsWith("on")?!Wd(e):t(e))}try{gz(require("@emotion/is-prop-valid").default)}catch{}function yz(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(PP(i)||n===!0&&Wd(i)||!e&&!Wd(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function vz(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const Gf=O.createContext({});function Qf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Iu(t){return typeof t=="string"||Array.isArray(t)}const h_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],d_=["initial",...h_];function Yf(t){return Qf(t.animate)||d_.some(e=>Iu(t[e]))}function RP(t){return!!(Yf(t)||t.variants)}function _z(t,e){if(Yf(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Iu(n)?n:void 0,animate:Iu(r)?r:void 0}}return t.inherit!==!1?e:{}}function wz(t){const{initial:e,animate:n}=_z(t,O.useContext(Gf));return O.useMemo(()=>({initial:e,animate:n}),[Gx(e),Gx(n)])}function Gx(t){return Array.isArray(t)?t.join(" "):t}const Ez=Symbol.for("motionComponentSymbol");function Ro(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function xz(t,e,n){return O.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Ro(n)&&(n.current=r))},[e])}const f_=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),bz="framerAppearId",DP="data-"+f_(bz),NP=O.createContext({});function Tz(t,e,n,r,i){var _,E;const{visualElement:s}=O.useContext(Gf),o=O.useContext(AP),a=O.useContext($v),l=O.useContext(CP).reducedMotion,u=O.useRef(null);r=r||o.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const c=u.current,d=O.useContext(NP);c&&!c.projection&&i&&(c.type==="html"||c.type==="svg")&&Sz(u.current,n,i,d);const f=O.useRef(!1);O.useInsertionEffect(()=>{c&&f.current&&c.update(n,a)});const m=n[DP],y=O.useRef(!!m&&!((_=window.MotionHandoffIsComplete)!=null&&_.call(window,m))&&((E=window.MotionHasOptimisedAnimation)==null?void 0:E.call(window,m)));return gU(()=>{c&&(f.current=!0,window.MotionIsMounted=!0,c.updateFeatures(),u_.render(c.render),y.current&&c.animationState&&c.animationState.animateChanges())}),O.useEffect(()=>{c&&(!y.current&&c.animationState&&c.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)==null||w.call(window,m)}),y.current=!1))}),c}function Sz(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u,layoutCrossfade:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:OP(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&Ro(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:c,layoutScroll:l,layoutRoot:u})}function OP(t){if(t)return t.options.allowProjection!==!1?t.projection:OP(t.parent)}function kz({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&pz(t);function s(a,l){let u;const c={...O.useContext(CP),...a,layoutId:Iz(a)},{isStatic:d}=c,f=wz(a),m=r(a,d);if(!d&&Bv){Cz();const y=Az(c);u=y.MeasureLayout,f.visualElement=Tz(i,m,c,e,y.ProjectionNode)}return sy.jsxs(Gf.Provider,{value:f,children:[u&&f.visualElement?sy.jsx(u,{visualElement:f.visualElement,...c}):null,n(i,a,xz(m,f.visualElement,l),m,d,f.visualElement)]})}s.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const o=O.forwardRef(s);return o[Ez]=i,o}function Iz({layoutId:t}){const e=O.useContext(VA).id;return e&&t!==void 0?e+"-"+t:t}function Cz(t,e){O.useContext(AP).strict}function Az(t){const{drag:e,layout:n}=fa;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Cu={};function Pz(t){for(const e in t)Cu[e]=t[e],Xv(e)&&(Cu[e].isCSSVariable=!0)}function MP(t,{layout:e,layoutId:n}){return Pa.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Cu[t]||t==="opacity")}const Rz={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Dz=Aa.length;function Nz(t,e,n){let r="",i=!0;for(let s=0;s<Dz;s++){const o=Aa[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=bP(a,l_[o]);if(!l){i=!1;const c=Rz[o]||o;r+=`${c}(${u}) `}n&&(e[o]=u)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function p_(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const u=e[l];if(Pa.has(l)){o=!0;continue}else if(Xv(l)){i[l]=u;continue}else{const c=bP(u,l_[l]);l.startsWith("origin")?(a=!0,s[l]=c):r[l]=c}}if(e.transform||(o||n?r.transform=Nz(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:c=0}=s;r.transformOrigin=`${l} ${u} ${c}`}}const m_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function LP(t,e,n){for(const r in e)!Lt(e[r])&&!MP(r,n)&&(t[r]=e[r])}function Oz({transformTemplate:t},e){return O.useMemo(()=>{const n=m_();return p_(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Mz(t,e){const n=t.style||{},r={};return LP(r,n,t),Object.assign(r,Oz(t,e)),r}function Lz(t,e){const n={},r=Mz(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const Vz={offset:"stroke-dashoffset",array:"stroke-dasharray"},Fz={offset:"strokeDashoffset",array:"strokeDasharray"};function Uz(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?Vz:Fz;t[s.offset]=J.transform(-r);const o=J.transform(e),a=J.transform(n);t[s.array]=`${o} ${a}`}function VP(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...a},l,u,c){if(p_(t,a,u),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:d,style:f}=t;d.transform&&(f.transform=d.transform,delete d.transform),(f.transform||d.transformOrigin)&&(f.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),f.transform&&(f.transformBox=(c==null?void 0:c.transformBox)??"fill-box",delete d.transformBox),e!==void 0&&(d.x=e),n!==void 0&&(d.y=n),r!==void 0&&(d.scale=r),i!==void 0&&Uz(d,i,s,o,!1)}const FP=()=>({...m_(),attrs:{}}),UP=t=>typeof t=="string"&&t.toLowerCase()==="svg";function jz(t,e,n,r){const i=O.useMemo(()=>{const s=FP();return VP(s,e,UP(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};LP(s,t.style,t),i.style={...s,...i.style}}return i}const zz=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function g_(t){return typeof t!="string"||t.includes("-")?!1:!!(zz.indexOf(t)>-1||/[A-Z]/u.test(t))}function Bz(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(g_(n)?jz:Lz)(r,s,o,n),u=yz(r,typeof n=="string",t),c=n!==O.Fragment?{...u,...l,ref:i}:{},{children:d}=r,f=O.useMemo(()=>Lt(d)?d.get():d,[d]);return O.createElement(n,{...c,children:f})}}function Qx(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function y_(t,e,n,r){if(typeof e=="function"){const[i,s]=Qx(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=Qx(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function $h(t){return Lt(t)?t.get():t}function $z({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:Hz(n,r,i,t),renderState:e()}}const jP=t=>(e,n)=>{const r=O.useContext(Gf),i=O.useContext($v),s=()=>$z(t,e,r,i);return n?s():mU(s)};function Hz(t,e,n,r){const i={},s=r(t,{});for(const f in s)i[f]=$h(s[f]);let{initial:o,animate:a}=t;const l=Yf(t),u=RP(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let c=n?n.initial===!1:!1;c=c||o===!1;const d=c?a:o;if(d&&typeof d!="boolean"&&!Qf(d)){const f=Array.isArray(d)?d:[d];for(let m=0;m<f.length;m++){const y=y_(t,f[m]);if(y){const{transitionEnd:_,transition:E,...w}=y;for(const b in w){let T=w[b];if(Array.isArray(T)){const R=c?T.length-1:0;T=T[R]}T!==null&&(i[b]=T)}for(const b in _)i[b]=_[b]}}}return i}function v_(t,e,n){var s;const{style:r}=t,i={};for(const o in r)(Lt(r[o])||e.style&&Lt(e.style[o])||MP(o,t)||((s=n==null?void 0:n.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const Wz={useVisualState:jP({scrapeMotionValuesFromProps:v_,createRenderState:m_})};function zP(t,e,n){const r=v_(t,e,n);for(const i in t)if(Lt(t[i])||Lt(e[i])){const s=Aa.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const qz={useVisualState:jP({scrapeMotionValuesFromProps:zP,createRenderState:FP})};function Kz(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...g_(r)?qz:Wz,preloadedFeatures:t,useRender:Bz(i),createVisualElement:e,Component:r};return kz(o)}}function Au(t,e,n){const r=t.getProps();return y_(r,e,n!==void 0?n:r.custom,t)}const vy=t=>Array.isArray(t);function Gz(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,da(n))}function Qz(t){return vy(t)?t[t.length-1]||0:t}function Yz(t,e){const n=Au(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=Qz(s[o]);Gz(t,o,a)}}function Xz(t){return!!(Lt(t)&&t.add)}function _y(t,e){const n=t.getValue("willChange");if(Xz(n))return n.add(e);if(!n&&Kr.WillChange){const r=new Kr.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function BP(t){return t.props[DP]}const Zz=t=>t!==null;function Jz(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(Zz),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[s]}const eB={type:"spring",stiffness:500,damping:25,restSpeed:10},tB=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),nB={type:"keyframes",duration:.8},rB={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},iB=(t,{keyframes:e})=>e.length>2?nB:Pa.has(t)?t.startsWith("scale")?tB(e[1]):eB:rB;function sB({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}const __=(t,e,n,r={},i,s)=>o=>{const a=a_(r,t)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-cr(l);const c={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};sB(a)||Object.assign(c,iB(t,c)),c.duration&&(c.duration=cr(c.duration)),c.repeatDelay&&(c.repeatDelay=cr(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let d=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(c.duration=0,c.delay===0&&(d=!0)),(Kr.instantAnimations||Kr.skipAnimations)&&(d=!0,c.duration=0,c.delay=0),c.allowFlatten=!a.type&&!a.ease,d&&!s&&e.get()!==void 0){const f=Jz(c.keyframes,a);if(f!==void 0){$e.update(()=>{c.onUpdate(f),c.onComplete()});return}}return a.isSync?new s_(c):new Bj(c)};function oB({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function $P(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(s=r);const l=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const c in a){const d=t.getValue(c,t.latestValues[c]??null),f=a[c];if(f===void 0||u&&oB(u,c))continue;const m={delay:n,...a_(s||{},c)},y=d.get();if(y!==void 0&&!d.isAnimating&&!Array.isArray(f)&&f===y&&!m.velocity)continue;let _=!1;if(window.MotionHandoffAnimation){const w=BP(t);if(w){const b=window.MotionHandoffAnimation(w,c,$e);b!==null&&(m.startTime=b,_=!0)}}_y(t,c),d.start(__(c,d,f,t.shouldReduceMotion&&vP.has(c)?{type:!1}:m,t,_));const E=d.animation;E&&l.push(E)}return o&&Promise.all(l).then(()=>{$e.update(()=>{o&&Yz(t,o)})}),l}function wy(t,e,n={}){var l;const r=Au(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all($P(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:f}=i;return aB(t,e,c+u,d,f,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[u,c]=a==="beforeChildren"?[s,o]:[o,s];return u().then(()=>c())}else return Promise.all([s(),o(n.delay)])}function aB(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(t.variantChildren).sort(lB).forEach((u,c)=>{u.notify("AnimationStart",e),o.push(wy(u,e,{...s,delay:n+l(c)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function lB(t,e){return t.sortNodePosition(e)}function uB(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>wy(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=wy(t,e,n);else{const i=typeof e=="function"?Au(t,e,n.custom):e;r=Promise.all($P(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function HP(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const cB=d_.length;function WP(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?WP(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<cB;n++){const r=d_[n],i=t.props[r];(Iu(i)||i===!1)&&(e[r]=i)}return e}const hB=[...h_].reverse(),dB=h_.length;function fB(t){return e=>Promise.all(e.map(({animation:n,options:r})=>uB(t,n,r)))}function pB(t){let e=fB(t),n=Yx(),r=!0;const i=l=>(u,c)=>{var f;const d=Au(t,c,l==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);if(d){const{transition:m,transitionEnd:y,..._}=d;u={...u,..._,...y}}return u};function s(l){e=l(t)}function o(l){const{props:u}=t,c=WP(t.parent)||{},d=[],f=new Set;let m={},y=1/0;for(let E=0;E<dB;E++){const w=hB[E],b=n[w],T=u[w]!==void 0?u[w]:c[w],R=Iu(T),D=w===l?b.isActive:null;D===!1&&(y=E);let M=T===c[w]&&T!==u[w]&&R;if(M&&r&&t.manuallyAnimateOnMount&&(M=!1),b.protectedKeys={...m},!b.isActive&&D===null||!T&&!b.prevProp||Qf(T)||typeof T=="boolean")continue;const S=mB(b.prevProp,T);let x=S||w===l&&b.isActive&&!M&&R||E>y&&R,I=!1;const C=Array.isArray(T)?T:[T];let A=C.reduce(i(w),{});D===!1&&(A={});const{prevResolvedValues:N={}}=b,P={...N,...A},ue=X=>{x=!0,f.has(X)&&(I=!0,f.delete(X)),b.needsAnimating[X]=!0;const z=t.getValue(X);z&&(z.liveStyle=!1)};for(const X in P){const z=A[X],K=N[X];if(m.hasOwnProperty(X))continue;let G=!1;vy(z)&&vy(K)?G=!HP(z,K):G=z!==K,G?z!=null?ue(X):f.add(X):z!==void 0&&f.has(X)?ue(X):b.protectedKeys[X]=!0}b.prevProp=T,b.prevResolvedValues=A,b.isActive&&(m={...m,...A}),r&&t.blockInitialAnimation&&(x=!1),x&&(!(M&&S)||I)&&d.push(...C.map(X=>({animation:X,options:{type:w}})))}if(f.size){const E={};if(typeof u.initial!="boolean"){const w=Au(t,Array.isArray(u.initial)?u.initial[0]:u.initial);w&&w.transition&&(E.transition=w.transition)}f.forEach(w=>{const b=t.getBaseTarget(w),T=t.getValue(w);T&&(T.liveStyle=!0),E[w]=b??null}),d.push({animation:E})}let _=!!d.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(_=!1),r=!1,_?e(d):Promise.resolve()}function a(l,u){var d;if(n[l].isActive===u)return Promise.resolve();(d=t.variantChildren)==null||d.forEach(f=>{var m;return(m=f.animationState)==null?void 0:m.setActive(l,u)}),n[l].isActive=u;const c=o(l);for(const f in n)n[f].protectedKeys={};return c}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=Yx(),r=!0}}}function mB(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!HP(e,t):!1}function as(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Yx(){return{animate:as(!0),whileInView:as(),whileHover:as(),whileTap:as(),whileDrag:as(),whileFocus:as(),exit:as()}}class Zi{constructor(e){this.isMounted=!1,this.node=e}update(){}}class gB extends Zi{constructor(e){super(e),e.animationState||(e.animationState=pB(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Qf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let yB=0;class vB extends Zi{constructor(){super(...arguments),this.id=yB++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const _B={animation:{Feature:gB},exit:{Feature:vB}};function Pu(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function oc(t){return{point:{x:t.pageX,y:t.pageY}}}const wB=t=>e=>c_(e)&&t(e,oc(e));function zl(t,e,n,r){return Pu(t,e,wB(n),r)}function qP({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function EB({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function xB(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const KP=1e-4,bB=1-KP,TB=1+KP,GP=.01,SB=0-GP,kB=0+GP;function Ht(t){return t.max-t.min}function IB(t,e,n){return Math.abs(t-e)<=n}function Xx(t,e,n,r=.5){t.origin=r,t.originPoint=ze(e.min,e.max,t.origin),t.scale=Ht(n)/Ht(e),t.translate=ze(n.min,n.max,t.origin)-t.originPoint,(t.scale>=bB&&t.scale<=TB||isNaN(t.scale))&&(t.scale=1),(t.translate>=SB&&t.translate<=kB||isNaN(t.translate))&&(t.translate=0)}function Bl(t,e,n,r){Xx(t.x,e.x,n.x,r?r.originX:void 0),Xx(t.y,e.y,n.y,r?r.originY:void 0)}function Zx(t,e,n){t.min=n.min+e.min,t.max=t.min+Ht(e)}function CB(t,e,n){Zx(t.x,e.x,n.x),Zx(t.y,e.y,n.y)}function Jx(t,e,n){t.min=e.min-n.min,t.max=t.min+Ht(e)}function $l(t,e,n){Jx(t.x,e.x,n.x),Jx(t.y,e.y,n.y)}const eb=()=>({translate:0,scale:1,origin:0,originPoint:0}),Do=()=>({x:eb(),y:eb()}),tb=()=>({min:0,max:0}),Ye=()=>({x:tb(),y:tb()});function vn(t){return[t("x"),t("y")]}function dm(t){return t===void 0||t===1}function Ey({scale:t,scaleX:e,scaleY:n}){return!dm(t)||!dm(e)||!dm(n)}function ps(t){return Ey(t)||QP(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function QP(t){return nb(t.x)||nb(t.y)}function nb(t){return t&&t!=="0%"}function qd(t,e,n){const r=t-n,i=e*r;return n+i}function rb(t,e,n,r,i){return i!==void 0&&(t=qd(t,i,r)),qd(t,n,r)+e}function xy(t,e=0,n=1,r,i){t.min=rb(t.min,e,n,r,i),t.max=rb(t.max,e,n,r,i)}function YP(t,{x:e,y:n}){xy(t.x,e.translate,e.scale,e.originPoint),xy(t.y,n.translate,n.scale,n.originPoint)}const ib=.999999999999,sb=1.0000000000001;function AB(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Oo(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,YP(t,o)),r&&ps(s.latestValues)&&Oo(t,s.latestValues))}e.x<sb&&e.x>ib&&(e.x=1),e.y<sb&&e.y>ib&&(e.y=1)}function No(t,e){t.min=t.min+e,t.max=t.max+e}function ob(t,e,n,r,i=.5){const s=ze(t.min,t.max,i);xy(t,e,n,s,r)}function Oo(t,e){ob(t.x,e.x,e.scaleX,e.scale,e.originX),ob(t.y,e.y,e.scaleY,e.scale,e.originY)}function XP(t,e){return qP(xB(t.getBoundingClientRect(),e))}function PB(t,e,n){const r=XP(t,n),{scroll:i}=e;return i&&(No(r.x,i.offset.x),No(r.y,i.offset.y)),r}const ZP=({current:t})=>t?t.ownerDocument.defaultView:null,ab=(t,e)=>Math.abs(t-e);function RB(t,e){const n=ab(t.x,e.x),r=ab(t.y,e.y);return Math.sqrt(n**2+r**2)}class JP{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=pm(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,m=RB(d.offset,{x:0,y:0})>=3;if(!f&&!m)return;const{point:y}=d,{timestamp:_}=vt;this.history.push({...y,timestamp:_});const{onStart:E,onMove:w}=this.handlers;f||(E&&E(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,d)},this.handlePointerMove=(d,f)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=fm(f,this.transformPagePoint),$e.update(this.updatePoint,!0)},this.handlePointerUp=(d,f)=>{this.end();const{onEnd:m,onSessionEnd:y,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=pm(d.type==="pointercancel"?this.lastMoveEventInfo:fm(f,this.transformPagePoint),this.history);this.startEvent&&m&&m(d,E),y&&y(d,E)},!c_(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=oc(e),a=fm(o,this.transformPagePoint),{point:l}=a,{timestamp:u}=vt;this.history=[{...l,timestamp:u}];const{onSessionStart:c}=n;c&&c(e,pm(a,this.history)),this.removeListeners=rc(zl(this.contextWindow,"pointermove",this.handlePointerMove),zl(this.contextWindow,"pointerup",this.handlePointerUp),zl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Bi(this.updatePoint)}}function fm(t,e){return e?{point:e(t.point)}:t}function lb(t,e){return{x:t.x-e.x,y:t.y-e.y}}function pm({point:t},e){return{point:t,delta:lb(t,eR(e)),offset:lb(t,DB(e)),velocity:NB(e,.1)}}function DB(t){return t[0]}function eR(t){return t[t.length-1]}function NB(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=eR(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>cr(e)));)n--;if(!r)return{x:0,y:0};const s=hr(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function OB(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ze(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ze(n,t,r.max):Math.min(t,n)),t}function ub(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function MB(t,{top:e,left:n,bottom:r,right:i}){return{x:ub(t.x,n,i),y:ub(t.y,e,r)}}function cb(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function LB(t,e){return{x:cb(t.x,e.x),y:cb(t.y,e.y)}}function VB(t,e){let n=.5;const r=Ht(t),i=Ht(e);return i>r?n=Tu(e.min,e.max-r,t.min):r>i&&(n=Tu(t.min,t.max-i,e.min)),qr(0,1,n)}function FB(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const by=.35;function UB(t=by){return t===!1?t=0:t===!0&&(t=by),{x:hb(t,"left","right"),y:hb(t,"top","bottom")}}function hb(t,e,n){return{min:db(t,e),max:db(t,n)}}function db(t,e){return typeof t=="number"?t:t[e]||0}const jB=new WeakMap;class zB{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ye(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=c=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(oc(c).point)},s=(c,d)=>{const{drag:f,dragPropagation:m,onDragStart:y}=this.getProps();if(f&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=iz(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),vn(E=>{let w=this.getAxisMotionValue(E).get()||0;if(dr.test(w)){const{projection:b}=this.visualElement;if(b&&b.layout){const T=b.layout.layoutBox[E];T&&(w=Ht(T)*(parseFloat(w)/100))}}this.originPoint[E]=w}),y&&$e.postRender(()=>y(c,d)),_y(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},o=(c,d)=>{const{dragPropagation:f,dragDirectionLock:m,onDirectionLock:y,onDrag:_}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:E}=d;if(m&&this.currentDirection===null){this.currentDirection=BB(E),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",d.point,E),this.updateAxis("y",d.point,E),this.visualElement.render(),_&&_(c,d)},a=(c,d)=>this.stop(c,d),l=()=>vn(c=>{var d;return this.getAnimationState(c)==="paused"&&((d=this.getAxisMotionValue(c).animation)==null?void 0:d.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new JP(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:ZP(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&$e.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Zc(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=OB(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&Ro(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=MB(r.layoutBox,e):this.constraints=!1,this.elastic=UB(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&vn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=FB(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ro(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=PB(r,i.root,this.visualElement.getTransformPagePoint());let o=LB(i.layout.layoutBox,s);if(n){const a=n(EB(o));this.hasMutatedConstraints=!!a,a&&(o=qP(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=vn(c=>{if(!Zc(c,n,this.currentDirection))return;let d=l&&l[c]||{};o&&(d={min:0,max:0});const f=i?200:1e6,m=i?40:1e7,y={type:"inertia",velocity:r?e[c]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(c,y)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return _y(this.visualElement,e),r.start(__(e,r,0,n,this.visualElement,!1))}stopAnimation(){vn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){vn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){vn(n=>{const{drag:r}=this.getProps();if(!Zc(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-ze(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ro(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};vn(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=VB({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),vn(o=>{if(!Zc(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(ze(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;jB.set(this.visualElement,this);const e=this.visualElement.current,n=zl(e,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Ro(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),$e.read(r);const o=Pu(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(vn(c=>{const d=this.getAxisMotionValue(c);d&&(this.originPoint[c]+=l[c].translate,d.set(d.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=by,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Zc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function BB(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class $B extends Zi{constructor(e){super(e),this.removeGroupControls=kn,this.removeListeners=kn,this.controls=new zB(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||kn}unmount(){this.removeGroupControls(),this.removeListeners()}}const fb=t=>(e,n)=>{t&&$e.postRender(()=>t(e,n))};class HB extends Zi{constructor(){super(...arguments),this.removePointerDownListener=kn}onPointerDown(e){this.session=new JP(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ZP(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:fb(e),onStart:fb(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&$e.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=zl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Hh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pb(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const rl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(J.test(t))t=parseFloat(t);else return t;const n=pb(t,e.target.x),r=pb(t,e.target.y);return`${n}% ${r}%`}},WB={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=$i.parse(t);if(i.length>5)return r;const s=$i.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const u=ze(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};class qB extends O.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;Pz(KB),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Hh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||$e.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),u_.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function tR(t){const[e,n]=fz(),r=O.useContext(VA);return sy.jsx(qB,{...t,layoutGroup:r,switchLayoutGroup:O.useContext(NP),isPresent:e,safeToRemove:n})}const KB={borderRadius:{...rl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:rl,borderTopRightRadius:rl,borderBottomLeftRadius:rl,borderBottomRightRadius:rl,boxShadow:WB};function GB(t,e,n){const r=Lt(t)?t:da(t);return r.start(__("",r,e,n)),r.animation}const QB=(t,e)=>t.depth-e.depth;class YB{constructor(){this.children=[],this.isDirty=!1}add(e){Hv(this.children,e),this.isDirty=!0}remove(e){Wv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(QB),this.isDirty=!1,this.children.forEach(e)}}function XB(t,e){const n=tn.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Bi(r),t(s-e))};return $e.setup(r,!0),()=>Bi(r)}const nR=["TopLeft","TopRight","BottomLeft","BottomRight"],ZB=nR.length,mb=t=>typeof t=="string"?parseFloat(t):t,gb=t=>typeof t=="number"||J.test(t);function JB(t,e,n,r,i,s){i?(t.opacity=ze(0,n.opacity??1,e$(r)),t.opacityExit=ze(e.opacity??1,0,t$(r))):s&&(t.opacity=ze(e.opacity??1,n.opacity??1,r));for(let o=0;o<ZB;o++){const a=`border${nR[o]}Radius`;let l=yb(e,a),u=yb(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||gb(l)===gb(u)?(t[a]=Math.max(ze(mb(l),mb(u),r),0),(dr.test(u)||dr.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=ze(e.rotate||0,n.rotate||0,r))}function yb(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const e$=rR(0,.5,GA),t$=rR(.5,.95,kn);function rR(t,e,n){return r=>r<t?0:r>e?1:n(Tu(t,e,r))}function vb(t,e){t.min=e.min,t.max=e.max}function gn(t,e){vb(t.x,e.x),vb(t.y,e.y)}function _b(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function wb(t,e,n,r,i){return t-=e,t=qd(t,1/n,r),i!==void 0&&(t=qd(t,1/i,r)),t}function n$(t,e=0,n=1,r=.5,i,s=t,o=t){if(dr.test(e)&&(e=parseFloat(e),e=ze(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=ze(s.min,s.max,r);t===s&&(a-=e),t.min=wb(t.min,e,n,a,i),t.max=wb(t.max,e,n,a,i)}function Eb(t,e,[n,r,i],s,o){n$(t,e[n],e[r],e[i],e.scale,s,o)}const r$=["x","scaleX","originX"],i$=["y","scaleY","originY"];function xb(t,e,n,r){Eb(t.x,e,r$,n?n.x:void 0,r?r.x:void 0),Eb(t.y,e,i$,n?n.y:void 0,r?r.y:void 0)}function bb(t){return t.translate===0&&t.scale===1}function iR(t){return bb(t.x)&&bb(t.y)}function Tb(t,e){return t.min===e.min&&t.max===e.max}function s$(t,e){return Tb(t.x,e.x)&&Tb(t.y,e.y)}function Sb(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function sR(t,e){return Sb(t.x,e.x)&&Sb(t.y,e.y)}function kb(t){return Ht(t.x)/Ht(t.y)}function Ib(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class o${constructor(){this.members=[]}add(e){Hv(this.members,e),e.scheduleRender()}remove(e){if(Wv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function a$(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:c,rotateX:d,rotateY:f,skewX:m,skewY:y}=n;u&&(r=`perspective(${u}px) ${r}`),c&&(r+=`rotate(${c}deg) `),d&&(r+=`rotateX(${d}deg) `),f&&(r+=`rotateY(${f}deg) `),m&&(r+=`skewX(${m}deg) `),y&&(r+=`skewY(${y}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const mm=["","X","Y","Z"],l$={visibility:"hidden"},u$=1e3;let c$=0;function gm(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function oR(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=BP(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",$e,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&oR(r)}function aR({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=c$++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(f$),this.nodes.forEach(v$),this.nodes.forEach(_$),this.nodes.forEach(p$)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new YB)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Gv),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=IP(o)&&!cz(o),this.instance=o;const{layoutId:a,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let c;const d=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,c&&c(),c=XB(d,250),Hh.hasAnimatedSinceResize&&(Hh.hasAnimatedSinceResize=!1,this.nodes.forEach(Ab))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||l)&&this.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d,hasRelativeLayoutChanged:f,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||u.getDefaultTransition()||T$,{onLayoutAnimationStart:_,onLayoutAnimationComplete:E}=u.getProps(),w=!this.targetLayout||!sR(this.targetLayout,m),b=!d&&f;if(this.options.layoutRoot||this.resumeFrom||b||d&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const T={...a_(y,"layout"),onPlay:_,onComplete:E};(u.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T),this.setAnimationOrigin(c,b)}else d||Ab(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Bi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(w$),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&oR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const d=this.path[c];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Cb);return}this.isUpdating||this.nodes.forEach(g$),this.isUpdating=!1,this.nodes.forEach(y$),this.nodes.forEach(h$),this.nodes.forEach(d$),this.clearAllSnapshots();const a=tn.now();vt.delta=qr(0,1e3/60,a-vt.timestamp),vt.timestamp=a,vt.isProcessing=!0,om.update.process(vt),om.preRender.process(vt),om.render.process(vt),vt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,u_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(m$),this.sharedNodes.forEach(E$)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,$e.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){$e.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ht(this.snapshot.measuredBox.x)&&!Ht(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ye(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!iR(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&this.instance&&(a||ps(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),S$(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return Ye();const a=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(k$))){const{scroll:c}=this.root;c&&(No(a.x,c.offset.x),No(a.y,c.offset.y))}return a}removeElementScroll(o){var l;const a=Ye();if(gn(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let u=0;u<this.path.length;u++){const c=this.path[u],{scroll:d,options:f}=c;c!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&gn(a,o),No(a.x,d.offset.x),No(a.y,d.offset.y))}return a}applyTransform(o,a=!1){const l=Ye();gn(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Oo(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),ps(c.latestValues)&&Oo(l,c.latestValues)}return ps(this.latestValues)&&Oo(l,this.latestValues),l}removeTransform(o){const a=Ye();gn(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!ps(u.latestValues))continue;Ey(u.latestValues)&&u.updateSnapshot();const c=Ye(),d=u.measurePageBox();gn(c,d),xb(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return ps(this.latestValues)&&xb(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==vt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var f;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:c,layoutId:d}=this.options;if(!(!this.layout||!(c||d))){if(this.resolvedRelativeTargetAt=vt.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ye(),this.relativeTargetOrigin=Ye(),$l(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),gn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ye(),this.targetWithTransforms=Ye()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),CB(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):gn(this.target,this.layout.layoutBox),YP(this.target,this.targetDelta)):gn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ye(),this.relativeTargetOrigin=Ye(),$l(this.relativeTargetOrigin,this.target,m.target),gn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Ey(this.parent.latestValues)||QP(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var y;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(y=this.parent)!=null&&y.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===vt.timestamp&&(l=!1),l)return;const{layout:u,layoutId:c}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||c))return;gn(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,f=this.treeScale.y;AB(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Ye());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(_b(this.prevProjectionDelta.x,this.projectionDelta.x),_b(this.prevProjectionDelta.y,this.projectionDelta.y)),Bl(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==f||!Ib(this.projectionDelta.x,this.prevProjectionDelta.x)||!Ib(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Do(),this.projectionDelta=Do(),this.projectionDeltaWithTransform=Do()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},d=Do();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=Ye(),m=l?l.source:void 0,y=this.layout?this.layout.source:void 0,_=m!==y,E=this.getStack(),w=!E||E.members.length<=1,b=!!(_&&!w&&this.options.crossfade===!0&&!this.path.some(b$));this.animationProgress=0;let T;this.mixTargetDelta=R=>{const D=R/1e3;Pb(d.x,o.x,D),Pb(d.y,o.y,D),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&($l(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),x$(this.relativeTarget,this.relativeTargetOrigin,f,D),T&&s$(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=Ye()),gn(T,this.relativeTarget)),_&&(this.animationValues=c,JB(c,u,this.latestValues,D,b,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,u;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(u=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||u.stop(),this.pendingAnimation&&(Bi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=$e.update(()=>{Hh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=da(0)),this.currentAnimation=GB(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),o.onUpdate&&o.onUpdate(c)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(u$),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&lR(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Ye();const d=Ht(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const f=Ht(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}gn(a,l),Oo(a,c),Bl(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new o$),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&gm("z",o,u,this.animationValues);for(let c=0;c<mm.length;c++)gm(`rotate${mm[c]}`,o,u,this.animationValues),gm(`skew${mm[c]}`,o,u,this.animationValues);o.render();for(const c in u)o.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return l$;const a={visibility:""},l=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,a.opacity="",a.pointerEvents=$h(o==null?void 0:o.pointerEvents)||"",a.transform=l?l(this.latestValues,""):"none",a;const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=$h(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!ps(this.latestValues)&&(m.transform=l?l({},""):"none",this.hasProjected=!1),m}const c=u.animationValues||u.latestValues;this.applyTransformsToTarget(),a.transform=a$(this.projectionDeltaWithTransform,this.treeScale,c),l&&(a.transform=l(c,a.transform));const{x:d,y:f}=this.projectionDelta;a.transformOrigin=`${d.origin*100}% ${f.origin*100}% 0`,u.animationValues?a.opacity=u===this?c.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:c.opacityExit:a.opacity=u===this?c.opacity!==void 0?c.opacity:"":c.opacityExit!==void 0?c.opacityExit:0;for(const m in Cu){if(c[m]===void 0)continue;const{correct:y,applyTo:_,isCSSVariable:E}=Cu[m],w=a.transform==="none"?c[m]:y(c[m],u);if(_){const b=_.length;for(let T=0;T<b;T++)a[_[T]]=w}else E?this.options.visualElement.renderState.vars[m]=w:a[m]=w}return this.options.layoutId&&(a.pointerEvents=u===this?$h(o==null?void 0:o.pointerEvents)||"":"none"),a}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(Cb),this.root.sharedNodes.clear()}}}function h$(t){t.updateLayout()}function d$(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?vn(d=>{const f=o?e.measuredBox[d]:e.layoutBox[d],m=Ht(f);f.min=r[d].min,f.max=f.min+m}):lR(s,e.layoutBox,r)&&vn(d=>{const f=o?e.measuredBox[d]:e.layoutBox[d],m=Ht(r[d]);f.max=f.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+m)});const a=Do();Bl(a,r,e.layoutBox);const l=Do();o?Bl(l,t.applyTransform(i,!0),e.measuredBox):Bl(l,r,e.layoutBox);const u=!iR(a);let c=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:m}=d;if(f&&m){const y=Ye();$l(y,e.layoutBox,f.layoutBox);const _=Ye();$l(_,r,m.layoutBox),sR(y,_)||(c=!0),d.options.layoutRoot&&(t.relativeTarget=_,t.relativeTargetOrigin=y,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:c})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function f$(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function p$(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function m$(t){t.clearSnapshot()}function Cb(t){t.clearMeasurements()}function g$(t){t.isLayoutDirty=!1}function y$(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Ab(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function v$(t){t.resolveTargetDelta()}function _$(t){t.calcProjection()}function w$(t){t.resetSkewAndRotation()}function E$(t){t.removeLeadSnapshot()}function Pb(t,e,n){t.translate=ze(e.translate,0,n),t.scale=ze(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Rb(t,e,n,r){t.min=ze(e.min,n.min,r),t.max=ze(e.max,n.max,r)}function x$(t,e,n,r){Rb(t.x,e.x,n.x,r),Rb(t.y,e.y,n.y,r)}function b$(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const T$={duration:.45,ease:[.4,0,.1,1]},Db=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Nb=Db("applewebkit/")&&!Db("chrome/")?Math.round:kn;function Ob(t){t.min=Nb(t.min),t.max=Nb(t.max)}function S$(t){Ob(t.x),Ob(t.y)}function lR(t,e,n){return t==="position"||t==="preserve-aspect"&&!IB(kb(e),kb(n),.2)}function k$(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const I$=aR({attachResizeListener:(t,e)=>Pu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ym={current:void 0},uR=aR({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!ym.current){const t=new I$({});t.mount(window),t.setOptions({layoutScroll:!0}),ym.current=t}return ym.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),C$={pan:{Feature:HB},drag:{Feature:$B,ProjectionNode:uR,MeasureLayout:tR}};function Mb(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&$e.postRender(()=>s(e,oc(e)))}class A$ extends Zi{mount(){const{current:e}=this.node;e&&(this.unmount=sz(e,(n,r)=>(Mb(this.node,r,"Start"),i=>Mb(this.node,i,"End"))))}unmount(){}}class P$ extends Zi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=rc(Pu(this.node.current,"focus",()=>this.onFocus()),Pu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Lb(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&$e.postRender(()=>s(e,oc(e)))}class R$ extends Zi{mount(){const{current:e}=this.node;e&&(this.unmount=uz(e,(n,r)=>(Lb(this.node,r,"Start"),(i,{success:s})=>Lb(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ty=new WeakMap,vm=new WeakMap,D$=t=>{const e=Ty.get(t.target);e&&e(t)},N$=t=>{t.forEach(D$)};function O$({root:t,...e}){const n=t||document;vm.has(n)||vm.set(n,{});const r=vm.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(N$,{root:t,...e})),r[i]}function M$(t,e,n){const r=O$(e);return Ty.set(t,n),r.observe(t),()=>{Ty.delete(t),r.unobserve(t)}}const L$={some:0,all:1};class V$ extends Zi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:L$[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:d}=this.node.getProps(),f=u?c:d;f&&f(l)};return M$(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(F$(e,n))&&this.startObserver()}unmount(){}}function F$({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const U$={inView:{Feature:V$},tap:{Feature:R$},focus:{Feature:P$},hover:{Feature:A$}},j$={layout:{ProjectionNode:uR,MeasureLayout:tR}},Sy={current:null},cR={current:!1};function z$(){if(cR.current=!0,!!Bv)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Sy.current=t.matches;t.addListener(e),e()}else Sy.current=!1}const B$=new WeakMap;function $$(t,e,n){for(const r in e){const i=e[r],s=n[r];if(Lt(i))t.addValue(r,i);else if(Lt(s))t.addValue(r,da(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,da(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const Vb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class H${scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=o_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=tn.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,$e.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=Yf(n),this.isVariantNode=RP(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in d){const m=d[f];l[f]!==void 0&&Lt(m)&&m.set(l[f],!1)}}mount(e){this.current=e,B$.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),cR.current||z$(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Sy.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Bi(this.notifyUpdate),Bi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Pa.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&$e.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in fa){const n=fa[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ye()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Vb.length;r++){const i=Vb[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=$$(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=da(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(FA(r)||jA(r))?r=parseFloat(r):!dz(r)&&$i.test(n)&&(r=xP(e,n)),this.setBaseTarget(e,Lt(r)?r.get():r)),Lt(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=y_(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Lt(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Gv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class hR extends H${constructor(){super(...arguments),this.KeyframeResolver=ez}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Lt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function dR(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}function W$(t){return window.getComputedStyle(t)}class q$ extends hR{constructor(){super(...arguments),this.type="html",this.renderInstance=dR}readValueFromInstance(e,n){var r;if(Pa.has(n))return(r=this.projection)!=null&&r.isProjecting?dy(n):_j(e,n);{const i=W$(e),s=(Xv(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return XP(e,n)}build(e,n,r){p_(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return v_(e,n,r)}}const fR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function K$(t,e,n,r){dR(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(fR.has(i)?i:f_(i),e.attrs[i])}class G$ extends hR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ye}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Pa.has(n)){const r=EP(n);return r&&r.default||0}return n=fR.has(n)?n:f_(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return zP(e,n,r)}build(e,n,r){VP(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){K$(e,n,r,i)}mount(e){this.isSVGTag=UP(e.tagName),super.mount(e)}}const Q$=(t,e)=>g_(t)?new G$(e):new q$(e,{allowProjection:t!==O.Fragment}),Y$=Kz({..._B,...U$,...C$,...j$},Q$),si=vz(Y$),X$=()=>{const t=Qr(),{orderId:e}=t.state||{},[n,r]=O.useState(""),[i,s]=O.useState(""),[o,a]=O.useState(0),[l,u]=O.useState(!1),c=async y=>{y.preventDefault(),n&&i&&(await XF({name:n,quote:i,rating:o,title:"Valued Customer"}),u(!0))},d=y=>{a(y)},f={hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1,transition:{delayChildren:.3,staggerChildren:.2}}},m={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}};return g.createElement("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100 dark:bg-gray-900 text-center p-4"},g.createElement(si.div,{variants:f,initial:"hidden",animate:"visible",className:"bg-white dark:bg-gray-800 p-8 rounded-2xl shadow-2xl max-w-lg w-full"},g.createElement(si.div,{variants:m},g.createElement(dM,{className:"text-green-500 text-6xl mx-auto mb-6"})),g.createElement(si.h1,{variants:m,className:"text-3xl font-bold text-gray-900 dark:text-white mb-2"},"Order Successful!"),g.createElement(si.p,{variants:m,className:"text-gray-600 dark:text-gray-300 mb-6"},"Thank you for your purchase."),e&&g.createElement(si.p,{variants:m,className:"text-sm text-gray-500 dark:text-gray-400"},"Your Order ID is: ",g.createElement("span",{className:"font-semibold text-gray-700 dark:text-gray-200 bg-gray-100 dark:bg-gray-700 p-1 rounded"},e)),l?g.createElement(si.div,{variants:m,className:"mt-8 text-lg text-green-600 dark:text-green-400 font-semibold"},"Thank you for your valuable feedback!"):g.createElement(si.div,{variants:m,className:"mt-8 border-t pt-6 dark:border-gray-700"},g.createElement("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200 mb-4"},"Share Your Feedback!"),g.createElement("form",{onSubmit:c,className:"flex flex-col gap-4"},g.createElement(gA,{count:5,onChange:d,size:32,isHalf:!0,emptyIcon:g.createElement("i",{className:"far fa-star"}),halfIcon:g.createElement("i",{className:"fa fa-star-half-alt"}),fullIcon:g.createElement("i",{className:"fa fa-star"}),activeColor:"#ffd700"}),g.createElement("input",{type:"text",placeholder:"Your Name",value:n,onChange:y=>r(y.target.value),className:"w-full p-3 border rounded-lg bg-gray-50 dark:bg-gray-700 dark:border-gray-600 focus:ring-2 focus:ring-blue-500 transition",required:!0}),g.createElement("textarea",{placeholder:"Your feedback...",value:i,onChange:y=>s(y.target.value),className:"w-full p-3 border rounded-lg bg-gray-50 dark:bg-gray-700 dark:border-gray-600 h-28 focus:ring-2 focus:ring-blue-500 transition",required:!0}),g.createElement("button",{type:"submit",className:"w-full px-6 py-3 bg-blue-600 text-white font-bold rounded-lg hover:bg-blue-700 transition-colors transform hover:scale-105"},"Submit Feedback"))),g.createElement(si.div,{variants:m,className:"mt-8"},g.createElement(_k,{to:"/",className:"text-blue-600 dark:text-blue-400 hover:underline"},"Continue Shopping"))))},Z$="modulepreload",J$=function(t){return"/"+t},Fb={},Ub=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=J$(l),l in Fb)return;Fb[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":Z$,u||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),u)return new Promise((f,m)=>{d.addEventListener("load",f),d.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};function eH(t,e){const{searchTerm:n="",status:r="",game:i="",paymentMethod:s=""}=e;if(!n&&!r&&!i&&!s)return t;const o=n.toLowerCase();return t.filter(a=>{const l=!r||a.status===r,u=!i||a.game===i,c=!s||a.paymentMethod===s;return(!o||a.id&&String(a.id).toLowerCase().includes(o)||a.playerId&&String(a.playerId).toLowerCase().includes(o)||a.phone&&String(a.phone).toLowerCase().includes(o)||a.game&&a.game.toLowerCase().includes(o)||a.package&&a.package.toLowerCase().includes(o))&&l&&u&&c})}const tH=({orders:t,onStatusChange:e,onDeleteClick:n,onRowClick:r})=>g.createElement("table",{className:"min-w-full bg-white dark:bg-gray-800 rounded shadow overflow-hidden"},g.createElement("thead",null,g.createElement("tr",{className:"bg-gray-100 dark:bg-gray-700"},g.createElement("th",{className:"px-4 py-3 text-left"},"Order ID"),g.createElement("th",{className:"px-4 py-3 text-left"},"Game"),g.createElement("th",{className:"px-4 py-3 text-left"},"Package"),g.createElement("th",{className:"px-4 py-3 text-left"},"Player ID"),g.createElement("th",{className:"px-4 py-3 text-left"},"Phone"),g.createElement("th",{className:"px-4 py-3 text-left"},"Payment"),g.createElement("th",{className:"px-4 py-3 text-left"},"Status"),g.createElement("th",{className:"px-4 py-3 text-center"},"Actions"))),g.createElement("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600"},t.map(i=>g.createElement("tr",{key:i.firestoreId,onClick:()=>r(i),className:"hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer"},g.createElement("td",{className:"px-4 py-2 font-mono"},i.id),g.createElement("td",{className:"px-4 py-2"},i.game),g.createElement("td",{className:"px-4 py-2"},i.package),g.createElement("td",{className:"px-4 py-2"},i.playerId),g.createElement("td",{className:"px-4 py-2"},i.phone),g.createElement("td",{className:"px-4 py-2"},i.paymentMethod),g.createElement("td",{className:"px-4 py-2"},g.createElement("span",{className:`whitespace-nowrap px-2 py-1 text-xs font-semibold rounded-full ${i.status==="Completed"?"bg-green-100 text-green-800":i.status==="Awaiting Confirmation"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`},i.status)),g.createElement("td",{className:"px-4 py-2 text-center",onClick:s=>s.stopPropagation()},i.status==="Completed"?g.createElement("span",{className:"text-sm font-semibold text-green-600 dark:text-green-400"},"Done"):g.createElement("div",{className:"flex flex-col sm:flex-row gap-2 w-full"},g.createElement("button",{className:"w-full px-2 py-1 bg-green-500 text-white rounded text-xs hover:bg-green-600 transition",onClick:s=>{s.stopPropagation(),e(i.firestoreId,"Completed")}},"Complete"),g.createElement("button",{className:"w-full px-2 py-1 bg-yellow-500 text-white rounded text-xs hover:bg-yellow-600 transition",onClick:s=>{s.stopPropagation(),e(i.firestoreId,"Pending Payment")},disabled:i.status==="Pending Payment"},"Pending"),g.createElement("button",{className:"w-full px-2 py-1 bg-red-600 text-white rounded text-xs hover:bg-red-700 transition",onClick:s=>{s.stopPropagation(),n(i)}},"Delete"))))))),nH=({order:t,onClose:e})=>t?g.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",onClick:e},g.createElement("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl p-8 max-w-lg w-full transform transition-all",onClick:n=>n.stopPropagation()},g.createElement("div",{className:"flex justify-between items-center mb-4 border-b pb-3 dark:border-gray-600"},g.createElement("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white"},"Order Details"),g.createElement("button",{onClick:e,className:"text-gray-500 hover:text-gray-800 dark:hover:text-white"},"×")),g.createElement("div",{className:"space-y-4"},g.createElement("div",{className:"grid grid-cols-3 gap-4"},g.createElement("strong",{className:"text-gray-600 dark:text-gray-300"},"Order ID:"),g.createElement("span",{className:"col-span-2 font-mono"},t.id)),g.createElement("div",{className:"grid grid-cols-3 gap-4"},g.createElement("strong",{className:"text-gray-600 dark:text-gray-300"},"Customer:"),g.createElement("span",{className:"col-span-2"},t.name," (",t.email,")")),g.createElement("div",{className:"grid grid-cols-3 gap-4"},g.createElement("strong",{className:"text-gray-600 dark:text-gray-300"},"Game:"),g.createElement("span",{className:"col-span-2"},t.game," - ",t.package)),g.createElement("div",{className:"grid grid-cols-3 gap-4"},g.createElement("strong",{className:"text-gray-600 dark:text-gray-300"},"Player ID:"),g.createElement("span",{className:"col-span-2"},t.playerId)),g.createElement("div",{className:"grid grid-cols-3 gap-4"},g.createElement("strong",{className:"text-gray-600 dark:text-gray-300"},"Contact Phone:"),g.createElement("span",{className:"col-span-2"},t.phone)),g.createElement("div",{className:"grid grid-cols-3 gap-4"},g.createElement("strong",{className:"text-gray-600 dark:text-gray-300"},"Price:"),g.createElement("span",{className:"col-span-2"},"EGP ",t.price.toFixed(2))),g.createElement("div",{className:"grid grid-cols-3 gap-4"},g.createElement("strong",{className:"text-gray-600 dark:text-gray-300"},"Payment Method:"),g.createElement("span",{className:"col-span-2"},t.paymentMethod)),g.createElement("div",{className:"grid grid-cols-3 gap-4"},g.createElement("strong",{className:"text-gray-600 dark:text-gray-300"},"Status:"),g.createElement("span",{className:"col-span-2"},t.status)),g.createElement("div",{className:"grid grid-cols-3 gap-4"},g.createElement("strong",{className:"text-gray-600 dark:text-gray-300"},"Date:"),g.createElement("span",{className:"col-span-2"},new Date(t.createdAt).toLocaleString()))),g.createElement("button",{onClick:e,className:"mt-6 w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700"},"Close"))):null,rH=({message:t,onClose:e})=>(O.useEffect(()=>{const n=setTimeout(()=>{e()},5e3);return()=>clearTimeout(n)},[e]),g.createElement("div",{className:"fixed top-5 right-5 bg-green-500 text-white py-2 px-4 rounded-lg shadow-lg animate-bounce"},g.createElement("div",{className:"flex justify-between items-center"},g.createElement("span",null,t),g.createElement("button",{onClick:e,className:"ml-4 text-white font-bold"},"×"))));/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function ac(t){return t+.5|0}const vi=(t,e,n)=>Math.max(Math.min(t,n),e);function wl(t){return vi(ac(t*2.55),0,255)}function Mi(t){return vi(ac(t*255),0,255)}function kr(t){return vi(ac(t/2.55)/100,0,1)}function jb(t){return vi(ac(t*100),0,100)}const yn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},ky=[..."0123456789ABCDEF"],iH=t=>ky[t&15],sH=t=>ky[(t&240)>>4]+ky[t&15],Jc=t=>(t&240)>>4===(t&15),oH=t=>Jc(t.r)&&Jc(t.g)&&Jc(t.b)&&Jc(t.a);function aH(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&yn[t[1]]*17,g:255&yn[t[2]]*17,b:255&yn[t[3]]*17,a:e===5?yn[t[4]]*17:255}:(e===7||e===9)&&(n={r:yn[t[1]]<<4|yn[t[2]],g:yn[t[3]]<<4|yn[t[4]],b:yn[t[5]]<<4|yn[t[6]],a:e===9?yn[t[7]]<<4|yn[t[8]]:255})),n}const lH=(t,e)=>t<255?e(t):"";function uH(t){var e=oH(t)?iH:sH;return t?"#"+e(t.r)+e(t.g)+e(t.b)+lH(t.a,e):void 0}const cH=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function pR(t,e,n){const r=e*Math.min(n,1-n),i=(s,o=(s+t/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function hH(t,e,n){const r=(i,s=(i+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function dH(t,e,n){const r=pR(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)r[i]*=1-e-n,r[i]+=e;return r}function fH(t,e,n,r,i){return t===i?(e-n)/r+(e<n?6:0):e===i?(n-t)/r+2:(t-e)/r+4}function w_(t){const n=t.r/255,r=t.g/255,i=t.b/255,s=Math.max(n,r,i),o=Math.min(n,r,i),a=(s+o)/2;let l,u,c;return s!==o&&(c=s-o,u=a>.5?c/(2-s-o):c/(s+o),l=fH(n,r,i,c,s),l=l*60+.5),[l|0,u||0,a]}function E_(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(Mi)}function x_(t,e,n){return E_(pR,t,e,n)}function pH(t,e,n){return E_(dH,t,e,n)}function mH(t,e,n){return E_(hH,t,e,n)}function mR(t){return(t%360+360)%360}function gH(t){const e=cH.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?wl(+e[5]):Mi(+e[5]));const i=mR(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?r=pH(i,s,o):e[1]==="hsv"?r=mH(i,s,o):r=x_(i,s,o),{r:r[0],g:r[1],b:r[2],a:n}}function yH(t,e){var n=w_(t);n[0]=mR(n[0]+e),n=x_(n),t.r=n[0],t.g=n[1],t.b=n[2]}function vH(t){if(!t)return;const e=w_(t),n=e[0],r=jb(e[1]),i=jb(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${i}%, ${kr(t.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const zb={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Bb={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function _H(){const t={},e=Object.keys(Bb),n=Object.keys(zb);let r,i,s,o,a;for(r=0;r<e.length;r++){for(o=a=e[r],i=0;i<n.length;i++)s=n[i],a=a.replace(s,zb[s]);s=parseInt(Bb[o],16),t[a]=[s>>16&255,s>>8&255,s&255]}return t}let eh;function wH(t){eh||(eh=_H(),eh.transparent=[0,0,0,0]);const e=eh[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const EH=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function xH(t){const e=EH.exec(t);let n=255,r,i,s;if(e){if(e[7]!==r){const o=+e[7];n=e[8]?wl(o):vi(o*255,0,255)}return r=+e[1],i=+e[3],s=+e[5],r=255&(e[2]?wl(r):vi(r,0,255)),i=255&(e[4]?wl(i):vi(i,0,255)),s=255&(e[6]?wl(s):vi(s,0,255)),{r,g:i,b:s,a:n}}}function bH(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${kr(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const _m=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,ho=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function TH(t,e,n){const r=ho(kr(t.r)),i=ho(kr(t.g)),s=ho(kr(t.b));return{r:Mi(_m(r+n*(ho(kr(e.r))-r))),g:Mi(_m(i+n*(ho(kr(e.g))-i))),b:Mi(_m(s+n*(ho(kr(e.b))-s))),a:t.a+n*(e.a-t.a)}}function th(t,e,n){if(t){let r=w_(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=x_(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function gR(t,e){return t&&Object.assign(e||{},t)}function $b(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Mi(t[3]))):(e=gR(t,{r:0,g:0,b:0,a:1}),e.a=Mi(e.a)),e}function SH(t){return t.charAt(0)==="r"?xH(t):gH(t)}class Ru{constructor(e){if(e instanceof Ru)return e;const n=typeof e;let r;n==="object"?r=$b(e):n==="string"&&(r=aH(e)||wH(e)||SH(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=gR(this._rgb);return e&&(e.a=kr(e.a)),e}set rgb(e){this._rgb=$b(e)}rgbString(){return this._valid?bH(this._rgb):void 0}hexString(){return this._valid?uH(this._rgb):void 0}hslString(){return this._valid?vH(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,i=e.rgb;let s;const o=n===s?.5:n,a=2*o-1,l=r.a-i.a,u=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-u,r.r=255&u*r.r+s*i.r+.5,r.g=255&u*r.g+s*i.g+.5,r.b=255&u*r.b+s*i.b+.5,r.a=o*r.a+(1-o)*i.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=TH(this._rgb,e._rgb,n)),this}clone(){return new Ru(this.rgb)}alpha(e){return this._rgb.a=Mi(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=ac(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return th(this._rgb,2,e),this}darken(e){return th(this._rgb,2,-e),this}saturate(e){return th(this._rgb,1,e),this}desaturate(e){return th(this._rgb,1,-e),this}rotate(e){return yH(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function wr(){}const kH=(()=>{let t=0;return()=>t++})();function Pe(t){return t==null}function dt(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function _e(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function An(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Yn(t,e){return An(t)?t:e}function pe(t,e){return typeof t>"u"?e:t}const IH=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Oe(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function xe(t,e,n,r){let i,s,o;if(dt(t))for(s=t.length,i=0;i<s;i++)e.call(n,t[i],i);else if(_e(t))for(o=Object.keys(t),s=o.length,i=0;i<s;i++)e.call(n,t[o[i]],o[i])}function Kd(t,e){let n,r,i,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(i=t[n],s=e[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function Gd(t){if(dt(t))return t.map(Gd);if(_e(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let i=0;for(;i<r;++i)e[n[i]]=Gd(t[n[i]]);return e}return t}function yR(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function CH(t,e,n,r){if(!yR(t))return;const i=e[t],s=n[t];_e(i)&&_e(s)?Du(i,s,r):e[t]=Gd(s)}function Du(t,e,n){const r=dt(e)?e:[e],i=r.length;if(!_e(t))return t;n=n||{};const s=n.merger||CH;let o;for(let a=0;a<i;++a){if(o=r[a],!_e(o))continue;const l=Object.keys(o);for(let u=0,c=l.length;u<c;++u)s(l[u],t,o,n)}return t}function Hl(t,e){return Du(t,e,{merger:AH})}function AH(t,e,n){if(!yR(t))return;const r=e[t],i=n[t];_e(r)&&_e(i)?Hl(r,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Gd(i))}const Hb={"":t=>t,x:t=>t.x,y:t=>t.y};function PH(t){const e=t.split("."),n=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function RH(t){const e=PH(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function Qd(t,e){return(Hb[e]||(Hb[e]=RH(e)))(t)}function b_(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Yd=t=>typeof t<"u",Hi=t=>typeof t=="function",Wb=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function DH(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const pt=Math.PI,fr=2*pt,NH=fr+pt,Xd=Number.POSITIVE_INFINITY,OH=pt/180,jn=pt/2,ls=pt/4,qb=pt*2/3,vR=Math.log10,pa=Math.sign;function Wl(t,e,n){return Math.abs(t-e)<n}function Kb(t){const e=Math.round(t);t=Wl(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(vR(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function MH(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((i,s)=>i-s).pop(),e}function LH(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Nu(t){return!LH(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function VH(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function FH(t,e,n){let r,i,s;for(r=0,i=t.length;r<i;r++)s=t[r][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Ts(t){return t*(pt/180)}function UH(t){return t*(180/pt)}function Gb(t){if(!An(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function jH(t,e){const n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*pt&&(s+=fr),{angle:s,distance:i}}function Iy(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function zH(t,e){return(t-e+NH)%fr-pt}function li(t){return(t%fr+fr)%fr}function _R(t,e,n,r){const i=li(t),s=li(e),o=li(n),a=li(s-i),l=li(o-i),u=li(i-s),c=li(i-o);return i===s||i===o||r&&s===o||a>l&&u<c}function bn(t,e,n){return Math.max(e,Math.min(n,t))}function BH(t){return bn(t,-32768,32767)}function El(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function T_(t,e,n){n=n||(o=>t[o]<e);let r=t.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,n(s)?i=s:r=s;return{lo:i,hi:r}}const Ss=(t,e,n,r)=>T_(t,n,r?i=>{const s=t[i][e];return s<n||s===n&&t[i+1][e]===n}:i=>t[i][e]<n),$H=(t,e,n)=>T_(t,n,r=>t[r][e]>=n);function HH(t,e,n){let r=0,i=t.length;for(;r<i&&t[r]<e;)r++;for(;i>r&&t[i-1]>n;)i--;return r>0||i<t.length?t.slice(r,i):t}const wR=["push","pop","shift","splice","unshift"];function WH(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),wR.forEach(n=>{const r="_onData"+b_(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const o=i.apply(this,s);return t._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...s)}),o}})})}function Qb(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(wR.forEach(s=>{delete t[s]}),delete t._chartjs)}function qH(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const ER=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function xR(t,e){let n=[],r=!1;return function(...i){n=i,r||(r=!0,ER.call(window,()=>{r=!1,t.apply(e,n)}))}}function KH(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const S_=t=>t==="start"?"left":t==="end"?"right":"center",Dt=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,GH=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function QH(t,e,n){const r=e.length;let i=0,s=r;if(t._sorted){const{iScale:o,vScale:a,_parsed:l}=t,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,c=o.axis,{min:d,max:f,minDefined:m,maxDefined:y}=o.getUserBounds();if(m){if(i=Math.min(Ss(l,c,d).lo,n?r:Ss(e,c,o.getPixelForValue(d)).lo),u){const _=l.slice(0,i+1).reverse().findIndex(E=>!Pe(E[a.axis]));i-=Math.max(0,_)}i=bn(i,0,r-1)}if(y){let _=Math.max(Ss(l,o.axis,f,!0).hi+1,n?0:Ss(e,c,o.getPixelForValue(f),!0).hi+1);if(u){const E=l.slice(_-1).findIndex(w=>!Pe(w[a.axis]));_+=Math.max(0,E)}s=bn(_,i,r)-i}else s=r-i}return{start:i,count:s}}function YH(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=i,!0;const s=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),s}const nh=t=>t===0||t===1,Yb=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*fr/n)),Xb=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*fr/n)+1,ql={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*jn)+1,easeOutSine:t=>Math.sin(t*jn),easeInOutSine:t=>-.5*(Math.cos(pt*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>nh(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>nh(t)?t:Yb(t,.075,.3),easeOutElastic:t=>nh(t)?t:Xb(t,.075,.3),easeInOutElastic(t){return nh(t)?t:t<.5?.5*Yb(t*2,.1125,.45):.5+.5*Xb(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-ql.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?ql.easeInBounce(t*2)*.5:ql.easeOutBounce(t*2-1)*.5+.5};function k_(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Zb(t){return k_(t)?t:new Ru(t)}function wm(t){return k_(t)?t:new Ru(t).saturate(.5).darken(.1).hexString()}const XH=["x","y","borderWidth","radius","tension"],ZH=["color","borderColor","backgroundColor"];function JH(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:ZH},numbers:{type:"number",properties:XH}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function eW(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Jb=new Map;function tW(t,e){e=e||{};const n=t+JSON.stringify(e);let r=Jb.get(n);return r||(r=new Intl.NumberFormat(t,e),Jb.set(n,r)),r}function bR(t,e,n){return tW(e,n).format(t)}const nW={values(t){return dt(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let i,s=t;if(n.length>1){const u=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(u<1e-4||u>1e15)&&(i="scientific"),s=rW(t,n)}const o=vR(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),bR(t,r,l)}};function rW(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var TR={formatters:nW};function iW(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:TR.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Hs=Object.create(null),Cy=Object.create(null);function Kl(t,e){if(!e)return t;const n=e.split(".");for(let r=0,i=n.length;r<i;++r){const s=n[r];t=t[s]||(t[s]=Object.create(null))}return t}function Em(t,e,n){return typeof e=="string"?Du(Kl(t,e),n):Du(Kl(t,""),e)}class sW{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>wm(i.backgroundColor),this.hoverBorderColor=(r,i)=>wm(i.borderColor),this.hoverColor=(r,i)=>wm(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Em(this,e,n)}get(e){return Kl(this,e)}describe(e,n){return Em(Cy,e,n)}override(e,n){return Em(Hs,e,n)}route(e,n,r,i){const s=Kl(this,e),o=Kl(this,r),a="_"+n;Object.defineProperties(s,{[a]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],u=o[i];return _e(l)?Object.assign({},u,l):pe(l,u)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var Je=new sW({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[JH,eW,iW]);function oW(t){return!t||Pe(t.size)||Pe(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function e2(t,e,n,r,i){let s=e[i];return s||(s=e[i]=t.measureText(i).width,n.push(i)),s>r&&(r=s),r}function us(t,e,n){const r=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*r)/r+i}function t2(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Ay(t,e,n,r){SR(t,e,n,r,null)}function SR(t,e,n,r,i){let s,o,a,l,u,c,d,f;const m=e.pointStyle,y=e.rotation,_=e.radius;let E=(y||0)*OH;if(m&&typeof m=="object"&&(s=m.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(E),t.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),t.restore();return}if(!(isNaN(_)||_<=0)){switch(t.beginPath(),m){default:i?t.ellipse(n,r,i/2,_,0,0,fr):t.arc(n,r,_,0,fr),t.closePath();break;case"triangle":c=i?i/2:_,t.moveTo(n+Math.sin(E)*c,r-Math.cos(E)*_),E+=qb,t.lineTo(n+Math.sin(E)*c,r-Math.cos(E)*_),E+=qb,t.lineTo(n+Math.sin(E)*c,r-Math.cos(E)*_),t.closePath();break;case"rectRounded":u=_*.516,l=_-u,o=Math.cos(E+ls)*l,d=Math.cos(E+ls)*(i?i/2-u:l),a=Math.sin(E+ls)*l,f=Math.sin(E+ls)*(i?i/2-u:l),t.arc(n-d,r-a,u,E-pt,E-jn),t.arc(n+f,r-o,u,E-jn,E),t.arc(n+d,r+a,u,E,E+jn),t.arc(n-f,r+o,u,E+jn,E+pt),t.closePath();break;case"rect":if(!y){l=Math.SQRT1_2*_,c=i?i/2:l,t.rect(n-c,r-l,2*c,2*l);break}E+=ls;case"rectRot":d=Math.cos(E)*(i?i/2:_),o=Math.cos(E)*_,a=Math.sin(E)*_,f=Math.sin(E)*(i?i/2:_),t.moveTo(n-d,r-a),t.lineTo(n+f,r-o),t.lineTo(n+d,r+a),t.lineTo(n-f,r+o),t.closePath();break;case"crossRot":E+=ls;case"cross":d=Math.cos(E)*(i?i/2:_),o=Math.cos(E)*_,a=Math.sin(E)*_,f=Math.sin(E)*(i?i/2:_),t.moveTo(n-d,r-a),t.lineTo(n+d,r+a),t.moveTo(n+f,r-o),t.lineTo(n-f,r+o);break;case"star":d=Math.cos(E)*(i?i/2:_),o=Math.cos(E)*_,a=Math.sin(E)*_,f=Math.sin(E)*(i?i/2:_),t.moveTo(n-d,r-a),t.lineTo(n+d,r+a),t.moveTo(n+f,r-o),t.lineTo(n-f,r+o),E+=ls,d=Math.cos(E)*(i?i/2:_),o=Math.cos(E)*_,a=Math.sin(E)*_,f=Math.sin(E)*(i?i/2:_),t.moveTo(n-d,r-a),t.lineTo(n+d,r+a),t.moveTo(n+f,r-o),t.lineTo(n-f,r+o);break;case"line":o=i?i/2:Math.cos(E)*_,a=Math.sin(E)*_,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(E)*(i?i/2:_),r+Math.sin(E)*_);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Ou(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function I_(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function C_(t){t.restore()}function aW(t,e,n,r,i){if(!e)return t.lineTo(n.x,n.y);if(i==="middle"){const s=(e.x+n.x)/2;t.lineTo(s,e.y),t.lineTo(s,n.y)}else i==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function lW(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function uW(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Pe(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function cW(t,e,n,r,i){if(i.strikethrough||i.underline){const s=t.measureText(r),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,u=n+s.actualBoundingBoxDescent,c=i.strikethrough?(l+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(o,c),t.lineTo(a,c),t.stroke()}}function hW(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Mu(t,e,n,r,i,s={}){const o=dt(e)?e:[e],a=s.strokeWidth>0&&s.strokeColor!=="";let l,u;for(t.save(),t.font=i.string,uW(t,s),l=0;l<o.length;++l)u=o[l],s.backdrop&&hW(t,s.backdrop),a&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),Pe(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(u,n,r,s.maxWidth)),t.fillText(u,n,r,s.maxWidth),cW(t,n,r,u,s),r+=Number(i.lineHeight);t.restore()}function Py(t,e){const{x:n,y:r,w:i,h:s,radius:o}=e;t.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*pt,pt,!0),t.lineTo(n,r+s-o.bottomLeft),t.arc(n+o.bottomLeft,r+s-o.bottomLeft,o.bottomLeft,pt,jn,!0),t.lineTo(n+i-o.bottomRight,r+s),t.arc(n+i-o.bottomRight,r+s-o.bottomRight,o.bottomRight,jn,0,!0),t.lineTo(n+i,r+o.topRight),t.arc(n+i-o.topRight,r+o.topRight,o.topRight,0,-jn,!0),t.lineTo(n+o.topLeft,r)}const dW=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,fW=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function pW(t,e){const n=(""+t).match(dW);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const mW=t=>+t||0;function kR(t,e){const n={},r=_e(e),i=r?Object.keys(e):e,s=_e(t)?r?o=>pe(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of i)n[o]=mW(s(o));return n}function gW(t){return kR(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Gl(t){return kR(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Pn(t){const e=gW(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Vt(t,e){t=t||{},e=e||Je.font;let n=pe(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=pe(t.style,e.style);r&&!(""+r).match(fW)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:pe(t.family,e.family),lineHeight:pW(pe(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:pe(t.weight,e.weight),string:""};return i.string=oW(i),i}function rh(t,e,n,r){let i,s,o;for(i=0,s=t.length;i<s;++i)if(o=t[i],o!==void 0&&o!==void 0)return o}function yW(t,e,n){const{min:r,max:i}=t,s=IH(e,(i-r)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(r,-Math.abs(s)),max:o(i,s)}}function to(t,e){return Object.assign(Object.create(t),e)}function A_(t,e=[""],n,r,i=()=>t[0]){const s=n||t;typeof r>"u"&&(r=PR("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:r,_getTarget:i,override:a=>A_([a,...t],e,s,r)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return CR(a,l,()=>SW(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return r2(a).includes(l)},ownKeys(a){return r2(a)},set(a,l,u){const c=a._storage||(a._storage=i());return a[l]=c[l]=u,delete a._keys,!0}})}function ma(t,e,n,r){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:IR(t,r),setContext:s=>ma(t,s,n,r),override:s=>ma(t.override(s),e,n,r)};return new Proxy(i,{deleteProperty(s,o){return delete s[o],delete t[o],!0},get(s,o,a){return CR(s,o,()=>_W(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(s,o,a){return t[o]=a,delete s[o],!0}})}function IR(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:r,isScriptable:Hi(n)?n:()=>n,isIndexable:Hi(r)?r:()=>r}}const vW=(t,e)=>t?t+b_(e):e,P_=(t,e)=>_e(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function CR(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function _W(t,e,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:o}=t;let a=r[e];return Hi(a)&&o.isScriptable(e)&&(a=wW(e,a,t,n)),dt(a)&&a.length&&(a=EW(e,a,t,o.isIndexable)),P_(e,a)&&(a=ma(a,i,s&&s[e],o)),a}function wW(t,e,n,r){const{_proxy:i,_context:s,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(s,o||r);return a.delete(t),P_(t,l)&&(l=R_(i._scopes,i,t,l)),l}function EW(t,e,n,r){const{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=n;if(typeof s.index<"u"&&r(t))return e[s.index%e.length];if(_e(e[0])){const l=e,u=i._scopes.filter(c=>c!==l);e=[];for(const c of l){const d=R_(u,i,t,c);e.push(ma(d,s,o&&o[t],a))}}return e}function AR(t,e,n){return Hi(t)?t(e,n):t}const xW=(t,e)=>t===!0?e:typeof t=="string"?Qd(e,t):void 0;function bW(t,e,n,r,i){for(const s of e){const o=xW(n,s);if(o){t.add(o);const a=AR(o._fallback,n,i);if(typeof a<"u"&&a!==n&&a!==r)return a}else if(o===!1&&typeof r<"u"&&n!==r)return null}return!1}function R_(t,e,n,r){const i=e._rootScopes,s=AR(e._fallback,n,r),o=[...t,...i],a=new Set;a.add(r);let l=n2(a,o,n,s||n,r);return l===null||typeof s<"u"&&s!==n&&(l=n2(a,o,s,l,r),l===null)?!1:A_(Array.from(a),[""],i,s,()=>TW(e,n,r))}function n2(t,e,n,r,i){for(;n;)n=bW(t,e,n,r,i);return n}function TW(t,e,n){const r=t._getTarget();e in r||(r[e]={});const i=r[e];return dt(i)&&_e(n)?n:i||{}}function SW(t,e,n,r){let i;for(const s of e)if(i=PR(vW(s,t),n),typeof i<"u")return P_(t,i)?R_(n,r,t,i):i}function PR(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function r2(t){let e=t._keys;return e||(e=t._keys=kW(t._scopes)),e}function kW(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}const IW=Number.EPSILON||1e-14,ga=(t,e)=>e<t.length&&!t[e].skip&&t[e],RR=t=>t==="x"?"y":"x";function CW(t,e,n,r){const i=t.skip?e:t,s=e,o=n.skip?e:n,a=Iy(s,i),l=Iy(o,s);let u=a/(a+l),c=l/(a+l);u=isNaN(u)?0:u,c=isNaN(c)?0:c;const d=r*u,f=r*c;return{previous:{x:s.x-d*(o.x-i.x),y:s.y-d*(o.y-i.y)},next:{x:s.x+f*(o.x-i.x),y:s.y+f*(o.y-i.y)}}}function AW(t,e,n){const r=t.length;let i,s,o,a,l,u=ga(t,0);for(let c=0;c<r-1;++c)if(l=u,u=ga(t,c+1),!(!l||!u)){if(Wl(e[c],0,IW)){n[c]=n[c+1]=0;continue}i=n[c]/e[c],s=n[c+1]/e[c],a=Math.pow(i,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),n[c]=i*o*e[c],n[c+1]=s*o*e[c])}}function PW(t,e,n="x"){const r=RR(n),i=t.length;let s,o,a,l=ga(t,0);for(let u=0;u<i;++u){if(o=a,a=l,l=ga(t,u+1),!a)continue;const c=a[n],d=a[r];o&&(s=(c-o[n])/3,a[`cp1${n}`]=c-s,a[`cp1${r}`]=d-s*e[u]),l&&(s=(l[n]-c)/3,a[`cp2${n}`]=c+s,a[`cp2${r}`]=d+s*e[u])}}function RW(t,e="x"){const n=RR(e),r=t.length,i=Array(r).fill(0),s=Array(r);let o,a,l,u=ga(t,0);for(o=0;o<r;++o)if(a=l,l=u,u=ga(t,o+1),!!l){if(u){const c=u[e]-l[e];i[o]=c!==0?(u[n]-l[n])/c:0}s[o]=a?u?pa(i[o-1])!==pa(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}AW(t,i,s),PW(t,s,e)}function ih(t,e,n){return Math.max(Math.min(t,n),e)}function DW(t,e){let n,r,i,s,o,a=Ou(t[0],e);for(n=0,r=t.length;n<r;++n)o=s,s=a,a=n<r-1&&Ou(t[n+1],e),s&&(i=t[n],o&&(i.cp1x=ih(i.cp1x,e.left,e.right),i.cp1y=ih(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=ih(i.cp2x,e.left,e.right),i.cp2y=ih(i.cp2y,e.top,e.bottom)))}function NW(t,e,n,r,i){let s,o,a,l;if(e.spanGaps&&(t=t.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")RW(t,i);else{let u=r?t[t.length-1]:t[0];for(s=0,o=t.length;s<o;++s)a=t[s],l=CW(u,a,t[Math.min(s+1,o-(r?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,u=a}e.capBezierPoints&&DW(t,n)}function D_(){return typeof window<"u"&&typeof document<"u"}function N_(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Zd(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const Xf=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function OW(t,e){return Xf(t).getPropertyValue(e)}const MW=["top","right","bottom","left"];function Ns(t,e,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=MW[i];r[s]=parseFloat(t[e+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const LW=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function VW(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:i,offsetY:s}=r;let o=!1,a,l;if(LW(i,s,t.target))a=i,l=s;else{const u=e.getBoundingClientRect();a=r.clientX-u.left,l=r.clientY-u.top,o=!0}return{x:a,y:l,box:o}}function ms(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,i=Xf(n),s=i.boxSizing==="border-box",o=Ns(i,"padding"),a=Ns(i,"border","width"),{x:l,y:u,box:c}=VW(t,n),d=o.left+(c&&a.left),f=o.top+(c&&a.top);let{width:m,height:y}=e;return s&&(m-=o.width+a.width,y-=o.height+a.height),{x:Math.round((l-d)/m*n.width/r),y:Math.round((u-f)/y*n.height/r)}}function FW(t,e,n){let r,i;if(e===void 0||n===void 0){const s=t&&N_(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{const o=s.getBoundingClientRect(),a=Xf(s),l=Ns(a,"border","width"),u=Ns(a,"padding");e=o.width-u.width-l.width,n=o.height-u.height-l.height,r=Zd(a.maxWidth,s,"clientWidth"),i=Zd(a.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:r||Xd,maxHeight:i||Xd}}const sh=t=>Math.round(t*10)/10;function UW(t,e,n,r){const i=Xf(t),s=Ns(i,"margin"),o=Zd(i.maxWidth,t,"clientWidth")||Xd,a=Zd(i.maxHeight,t,"clientHeight")||Xd,l=FW(t,e,n);let{width:u,height:c}=l;if(i.boxSizing==="content-box"){const f=Ns(i,"border","width"),m=Ns(i,"padding");u-=m.width+f.width,c-=m.height+f.height}return u=Math.max(0,u-s.width),c=Math.max(0,r?u/r:c-s.height),u=sh(Math.min(u,o,l.maxWidth)),c=sh(Math.min(c,a,l.maxHeight)),u&&!c&&(c=sh(u/2)),(e!==void 0||n!==void 0)&&r&&l.height&&c>l.height&&(c=l.height,u=sh(Math.floor(c*r))),{width:u,height:c}}function i2(t,e,n){const r=e||1,i=Math.floor(t.height*r),s=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||o.height!==i||o.width!==s?(t.currentDevicePixelRatio=r,o.height=i,o.width=s,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const jW=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};D_()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function s2(t,e){const n=OW(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function gs(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function zW(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function BW(t,e,n,r){const i={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},o=gs(t,i,n),a=gs(i,s,n),l=gs(s,e,n),u=gs(o,a,n),c=gs(a,l,n);return gs(u,c,n)}const $W=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},HW=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Go(t,e,n){return t?$W(e,n):HW()}function DR(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function NR(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function OR(t){return t==="angle"?{between:_R,compare:zH,normalize:li}:{between:El,compare:(e,n)=>e-n,normalize:e=>e}}function o2({start:t,end:e,count:n,loop:r,style:i}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:i}}function WW(t,e,n){const{property:r,start:i,end:s}=n,{between:o,normalize:a}=OR(r),l=e.length;let{start:u,end:c,loop:d}=t,f,m;if(d){for(u+=l,c+=l,f=0,m=l;f<m&&o(a(e[u%l][r]),i,s);++f)u--,c--;u%=l,c%=l}return c<u&&(c+=l),{start:u,end:c,loop:d,style:t.style}}function qW(t,e,n){if(!n)return[t];const{property:r,start:i,end:s}=n,o=e.length,{compare:a,between:l,normalize:u}=OR(r),{start:c,end:d,loop:f,style:m}=WW(t,e,n),y=[];let _=!1,E=null,w,b,T;const R=()=>l(i,T,w)&&a(i,T)!==0,D=()=>a(s,w)===0||l(s,T,w),M=()=>_||R(),S=()=>!_||D();for(let x=c,I=c;x<=d;++x)b=e[x%o],!b.skip&&(w=u(b[r]),w!==T&&(_=l(w,i,s),E===null&&M()&&(E=a(w,i)===0?x:I),E!==null&&S()&&(y.push(o2({start:E,end:x,loop:f,count:o,style:m})),E=null),I=x,T=w));return E!==null&&y.push(o2({start:E,end:d,loop:f,count:o,style:m})),y}function KW(t,e){const n=[],r=t.segments;for(let i=0;i<r.length;i++){const s=qW(r[i],t.points,e);s.length&&n.push(...s)}return n}function GW(t,e,n,r){let i=0,s=e-1;if(n&&!r)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(s+=i);s>i&&t[s%e].skip;)s--;return s%=e,{start:i,end:s}}function QW(t,e,n,r){const i=t.length,s=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const u=t[l%i];u.skip||u.stop?a.skip||(r=!1,s.push({start:e%i,end:(l-1)%i,loop:r}),e=o=u.stop?l:null):(o=l,a.skip&&(e=l)),a=u}return o!==null&&s.push({start:e%i,end:o%i,loop:r}),s}function YW(t,e){const n=t.points,r=t.options.spanGaps,i=n.length;if(!i)return[];const s=!!t._loop,{start:o,end:a}=GW(n,i,s,r);if(r===!0)return a2(t,[{start:o,end:a,loop:s}],n,e);const l=a<o?a+i:a,u=!!t._fullLoop&&o===0&&a===i-1;return a2(t,QW(n,o,l,u),n,e)}function a2(t,e,n,r){return!r||!r.setContext||!n?e:XW(t,e,n,r)}function XW(t,e,n,r){const i=t._chart.getContext(),s=l2(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,u=[];let c=s,d=e[0].start,f=d;function m(y,_,E,w){const b=a?-1:1;if(y!==_){for(y+=l;n[y%l].skip;)y-=b;for(;n[_%l].skip;)_+=b;y%l!==_%l&&(u.push({start:y%l,end:_%l,loop:E,style:w}),c=w,d=_%l)}}for(const y of e){d=a?d:y.start;let _=n[d%l],E;for(f=d+1;f<=y.end;f++){const w=n[f%l];E=l2(r.setContext(to(i,{type:"segment",p0:_,p1:w,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:o}))),ZW(E,c)&&m(d,f-1,y.loop,c),_=w,c=E}d<f-1&&m(d,f-1,y.loop,c)}return u}function l2(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function ZW(t,e){if(!e)return!1;const n=[],r=function(i,s){return k_(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(t,r)!==JSON.stringify(e,r)}function oh(t,e,n){return t.options.clip?t[n]:e[n]}function JW(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:oh(n,e,"left"),right:oh(n,e,"right"),top:oh(r,e,"top"),bottom:oh(r,e,"bottom")}:e}function eq(t,e){const n=e._clip;if(n.disabled)return!1;const r=JW(e,t.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class tq{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,i){const s=n.listeners[i],o=n.duration;s.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(r-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=ER.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(i.draw(),this._notify(i,r,e,"progress")),s.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var xr=new tq;const u2="transparent",nq={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=Zb(t||u2),i=r.valid&&Zb(e||u2);return i&&i.valid?i.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class rq{constructor(e,n,r,i){const s=n[r];i=rh([e.to,i,s,e.from]);const o=rh([e.from,s,i]);this._active=!0,this._fn=e.fn||nq[e.type||typeof o],this._easing=ql[e.easing]||ql.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,o=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=rh([e.to,n,i,e.from]),this._from=rh([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,i=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||n<r),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=s;return}l=n/r%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(s,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}}class MR{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!_e(e))return;const n=Object.keys(Je.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!_e(s))return;const o={};for(const a of n)o[a]=s[a];(dt(s.properties)&&s.properties||[i]).forEach(a=>{(a===i||!r.has(a))&&r.set(a,o)})})}_animateOptions(e,n){const r=n.options,i=sq(e,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&iq(e.options.$animations,r).then(()=>{e.options=r},()=>{}),s}_createAnimations(e,n){const r=this._properties,i=[],s=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const u=o[l];if(u.charAt(0)==="$")continue;if(u==="options"){i.push(...this._animateOptions(e,n));continue}const c=n[u];let d=s[u];const f=r.get(u);if(d)if(f&&d.active()){d.update(f,c,a);continue}else d.cancel();if(!f||!f.duration){e[u]=c;continue}s[u]=d=new rq(f,e,u,c),i.push(d)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return xr.add(this._chart,r),!0}}function iq(t,e){const n=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const s=t[r[i]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function sq(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function c2(t,e){const n=t&&t.options||{},r=n.reverse,i=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:r?s:i,end:r?i:s}}function oq(t,e,n){if(n===!1)return!1;const r=c2(t,n),i=c2(e,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function aq(t){let e,n,r,i;return _e(t)?(e=t.top,n=t.right,r=t.bottom,i=t.left):e=n=r=i=t,{top:e,right:n,bottom:r,left:i,disabled:t===!1}}function LR(t,e){const n=[],r=t._getSortedDatasetMetas(e);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function h2(t,e,n,r={}){const i=t.keys,s=r.mode==="single";let o,a,l,u;if(e===null)return;let c=!1;for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===n){if(c=!0,r.all)continue;break}u=t.values[l],An(u)&&(s||e===0||pa(e)===pa(u))&&(e+=u)}return!c&&!r.all?0:e}function lq(t,e){const{iScale:n,vScale:r}=e,i=n.axis==="x"?"x":"y",s=r.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,u,c;for(l=0,u=o.length;l<u;++l)c=o[l],a[l]={[i]:c,[s]:t[c]};return a}function xm(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function uq(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function cq(t){const{min:e,max:n,minDefined:r,maxDefined:i}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function hq(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function d2(t,e,n,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const s=t[i.index];if(n&&s>0||!n&&s<0)return i.index}return null}function f2(t,e){const{chart:n,_cachedMeta:r}=t,i=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=r,l=s.axis,u=o.axis,c=uq(s,o,r),d=e.length;let f;for(let m=0;m<d;++m){const y=e[m],{[l]:_,[u]:E}=y,w=y._stacks||(y._stacks={});f=w[u]=hq(i,c,_),f[a]=E,f._top=d2(f,o,!0,r.type),f._bottom=d2(f,o,!1,r.type);const b=f._visualValues||(f._visualValues={});b[a]=E}}function bm(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function dq(t,e){return to(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function fq(t,e,n){return to(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function il(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const i of e){const s=i._stacks;if(!s||s[r]===void 0||s[r][n]===void 0)return;delete s[r][n],s[r]._visualValues!==void 0&&s[r]._visualValues[n]!==void 0&&delete s[r]._visualValues[n]}}}const Tm=t=>t==="reset"||t==="none",p2=(t,e)=>e?t:Object.assign({},t),pq=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:LR(n,!0),values:null};class Ql{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=xm(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&il(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),i=(d,f,m,y)=>d==="x"?f:d==="r"?y:m,s=n.xAxisID=pe(r.xAxisID,bm(e,"x")),o=n.yAxisID=pe(r.yAxisID,bm(e,"y")),a=n.rAxisID=pe(r.rAxisID,bm(e,"r")),l=n.indexAxis,u=n.iAxisID=i(l,s,o,a),c=n.vAxisID=i(l,o,s,a);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(u),n.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Qb(this._data,this),e._stacked&&il(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(_e(n)){const i=this._cachedMeta;this._data=lq(n,i)}else if(r!==n){if(r){Qb(r,this);const i=this._cachedMeta;il(i),i._parsed=[]}n&&Object.isExtensible(n)&&WH(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=n._stacked;n._stacked=xm(n.vScale,n),n.stack!==r.stack&&(i=!0,il(n),n.stack=r.stack),this._resyncElements(e),(i||s!==n._stacked)&&(f2(this,n._parsed),n._stacked=xm(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:o}=r,a=s.axis;let l=e===0&&n===i.length?!0:r._sorted,u=e>0&&r._parsed[e-1],c,d,f;if(this._parsing===!1)r._parsed=i,r._sorted=!0,f=i;else{dt(i[e])?f=this.parseArrayData(r,i,e,n):_e(i[e])?f=this.parseObjectData(r,i,e,n):f=this.parsePrimitiveData(r,i,e,n);const m=()=>d[a]===null||u&&d[a]<u[a];for(c=0;c<n;++c)r._parsed[c+e]=d=f[c],l&&(m()&&(l=!1),u=d);r._sorted=l}o&&f2(this,f)}parsePrimitiveData(e,n,r,i){const{iScale:s,vScale:o}=e,a=s.axis,l=o.axis,u=s.getLabels(),c=s===o,d=new Array(i);let f,m,y;for(f=0,m=i;f<m;++f)y=f+r,d[f]={[a]:c||s.parse(u[y],y),[l]:o.parse(n[y],y)};return d}parseArrayData(e,n,r,i){const{xScale:s,yScale:o}=e,a=new Array(i);let l,u,c,d;for(l=0,u=i;l<u;++l)c=l+r,d=n[c],a[l]={x:s.parse(d[0],c),y:o.parse(d[1],c)};return a}parseObjectData(e,n,r,i){const{xScale:s,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,u=new Array(i);let c,d,f,m;for(c=0,d=i;c<d;++c)f=c+r,m=n[f],u[c]={x:s.parse(Qd(m,a),f),y:o.parse(Qd(m,l),f)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const i=this.chart,s=this._cachedMeta,o=n[e.axis],a={keys:LR(i,!0),values:n._stacks[e.axis]._visualValues};return h2(a,o,s.index,{mode:r})}updateRangeFromParsed(e,n,r,i){const s=r[n.axis];let o=s===null?NaN:s;const a=i&&r._stacks[n.axis];i&&a&&(i.values=a,o=h2(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&e===r.iScale,o=i.length,a=this._getOtherScale(e),l=pq(n,r,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:d}=cq(a);let f,m;function y(){m=i[f];const _=m[a.axis];return!An(m[e.axis])||c>_||d<_}for(f=0;f<o&&!(!y()&&(this.updateRangeFromParsed(u,e,m,l),s));++f);if(s){for(f=o-1;f>=0;--f)if(!y()){this.updateRangeFromParsed(u,e,m,l);break}}return u}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let i,s,o;for(i=0,s=n.length;i<s;++i)o=n[i][e.axis],An(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,i=n.vScale,s=this.getParsed(e);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=aq(pe(this.options.clip,oq(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],s=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||i.length-a,u=this.options.drawActiveElementsOnTop;let c;for(r.dataset&&r.dataset.draw(e,s,a,l),c=a;c<a+l;++c){const d=i[c];d.hidden||(d.active&&u?o.push(d):d.draw(e,s))}for(c=0;c<o.length;++c)o[c].draw(e,s)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const i=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=fq(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=i.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=dq(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=r,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const i=n==="active",s=this._cachedDataOpts,o=e+"-"+n,a=s[o],l=this.enableOptionSharing&&Yd(r);if(a)return p2(a,l);const u=this.chart.config,c=u.datasetElementScopeKeys(this._type,e),d=i?[`${e}Hover`,"hover",e,""]:[e,""],f=u.getOptionScopes(this.getDataset(),c),m=Object.keys(Je.elements[e]),y=()=>this.getContext(r,i,n),_=u.resolveNamedOptions(f,m,y,d);return _.$shared&&(_.$shared=l,s[o]=Object.freeze(p2(_,l))),_}_resolveAnimations(e,n,r){const i=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,a=s[o];if(a)return a;let l;if(i.options.animation!==!1){const c=this.chart.config,d=c.datasetAnimationScopeKeys(this._type,n),f=c.getOptionScopes(this.getDataset(),d);l=c.createResolver(f,this.getContext(e,r,n))}const u=new MR(i,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Tm(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),i=this._sharedOptions,s=this.getSharedOptions(r),o=this.includeOptions(n,s)||s!==i;return this.updateSharedOptions(s,n,r),{sharedOptions:s,includeOptions:o}}updateElement(e,n,r,i){Tm(i)?Object.assign(e,r):this._resolveAnimations(n,i).update(e,r)}updateSharedOptions(e,n,r){e&&!Tm(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,i){e.active=i;const s=this.getStyle(n,i);this._resolveAnimations(n,r,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[a,l,u]of this._syncList)this[a](l,u);this._syncList=[];const i=r.length,s=n.length,o=Math.min(s,i);o&&this.parse(0,o),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,n,r=!0){const i=this._cachedMeta,s=i.data,o=e+n;let a;const l=u=>{for(u.length+=n,a=u.length-1;a>=o;a--)u[a]=u[a-n]};for(l(s),a=e;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,n),r&&this.updateElements(s,e,n,"reset")}updateElements(e,n,r,i){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,n);r._stacked&&il(r,i)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,i]=e;this[n](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Z(Ql,"defaults",{}),Z(Ql,"datasetElementType",null),Z(Ql,"dataElementType",null);class Wh extends Ql{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:i=[],_dataset:s}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=QH(n,i,o);this._drawStart=a,this._drawCount=l,YH(n)&&(a=0,l=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=i;const u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(r,void 0,{animated:!o,options:u},e),this.updateElements(i,a,l,e)}updateElements(e,n,r,i){const s=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:u}=this._cachedMeta,{sharedOptions:c,includeOptions:d}=this._getSharedOptions(n,i),f=o.axis,m=a.axis,{spanGaps:y,segment:_}=this.options,E=Nu(y)?y:Number.POSITIVE_INFINITY,w=this.chart._animationsDisabled||s||i==="none",b=n+r,T=e.length;let R=n>0&&this.getParsed(n-1);for(let D=0;D<T;++D){const M=e[D],S=w?M:{};if(D<n||D>=b){S.skip=!0;continue}const x=this.getParsed(D),I=Pe(x[m]),C=S[f]=o.getPixelForValue(x[f],D),A=S[m]=s||I?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,x,l):x[m],D);S.skip=isNaN(C)||isNaN(A)||I,S.stop=D>0&&Math.abs(x[f]-R[f])>E,_&&(S.parsed=x,S.raw=u.data[D]),d&&(S.options=c||this.resolveDataElementOptions(D,M.active?"active":i)),w||this.updateElement(M,D,S,i),R=x}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,i=e.data||[];if(!i.length)return r;const s=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,s,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}Z(Wh,"id","line"),Z(Wh,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Z(Wh,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function cs(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class O_{constructor(e){Z(this,"options");this.options=e||{}}static override(e){Object.assign(O_.prototype,e)}init(){}formats(){return cs()}parse(){return cs()}format(){return cs()}add(){return cs()}diff(){return cs()}startOf(){return cs()}endOf(){return cs()}}var mq={_date:O_};function gq(t,e,n,r){const{controller:i,data:s,_sorted:o}=t,a=i._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&s.length){const u=a._reversePixels?$H:Ss;if(r){if(i._sharedOptions){const c=s[0],d=typeof c.getRange=="function"&&c.getRange(e);if(d){const f=u(s,e,n-d),m=u(s,e,n+d);return{lo:f.lo,hi:m.hi}}}}else{const c=u(s,e,n);if(l){const{vScale:d}=i._cachedMeta,{_parsed:f}=t,m=f.slice(0,c.lo+1).reverse().findIndex(_=>!Pe(_[d.axis]));c.lo-=Math.max(0,m);const y=f.slice(c.hi).findIndex(_=>!Pe(_[d.axis]));c.hi+=Math.max(0,y)}return c}}return{lo:0,hi:s.length-1}}function Zf(t,e,n,r,i){const s=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=s.length;a<l;++a){const{index:u,data:c}=s[a],{lo:d,hi:f}=gq(s[a],e,o,i);for(let m=d;m<=f;++m){const y=c[m];y.skip||r(y,u,m)}}}function yq(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,i){const s=e?Math.abs(r.x-i.x):0,o=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function Sm(t,e,n,r,i){const s=[];return!i&&!t.isPointInArea(e)||Zf(t,n,e,function(a,l,u){!i&&!Ou(a,t.chartArea,0)||a.inRange(e.x,e.y,r)&&s.push({element:a,datasetIndex:l,index:u})},!0),s}function vq(t,e,n,r){let i=[];function s(o,a,l){const{startAngle:u,endAngle:c}=o.getProps(["startAngle","endAngle"],r),{angle:d}=jH(o,{x:e.x,y:e.y});_R(d,u,c)&&i.push({element:o,datasetIndex:a,index:l})}return Zf(t,n,e,s),i}function _q(t,e,n,r,i,s){let o=[];const a=yq(n);let l=Number.POSITIVE_INFINITY;function u(c,d,f){const m=c.inRange(e.x,e.y,i);if(r&&!m)return;const y=c.getCenterPoint(i);if(!(!!s||t.isPointInArea(y))&&!m)return;const E=a(e,y);E<l?(o=[{element:c,datasetIndex:d,index:f}],l=E):E===l&&o.push({element:c,datasetIndex:d,index:f})}return Zf(t,n,e,u),o}function km(t,e,n,r,i,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!r?vq(t,e,n,i):_q(t,e,n,r,i,s)}function m2(t,e,n,r,i){const s=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return Zf(t,n,e,(l,u,c)=>{l[o]&&l[o](e[n],i)&&(s.push({element:l,datasetIndex:u,index:c}),a=a||l.inRange(e.x,e.y,i))}),r&&!a?[]:s}var wq={modes:{index(t,e,n,r){const i=ms(e,t),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?Sm(t,i,s,r,o):km(t,i,s,!1,r,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(u=>{const c=a[0].index,d=u.data[c];d&&!d.skip&&l.push({element:d,datasetIndex:u.index,index:c})}),l):[]},dataset(t,e,n,r){const i=ms(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?Sm(t,i,s,r,o):km(t,i,s,!1,r,o);if(a.length>0){const l=a[0].datasetIndex,u=t.getDatasetMeta(l).data;a=[];for(let c=0;c<u.length;++c)a.push({element:u[c],datasetIndex:l,index:c})}return a},point(t,e,n,r){const i=ms(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return Sm(t,i,s,r,o)},nearest(t,e,n,r){const i=ms(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return km(t,i,s,n.intersect,r,o)},x(t,e,n,r){const i=ms(e,t);return m2(t,i,"x",n.intersect,r)},y(t,e,n,r){const i=ms(e,t);return m2(t,i,"y",n.intersect,r)}}};const VR=["left","top","right","bottom"];function sl(t,e){return t.filter(n=>n.pos===e)}function g2(t,e){return t.filter(n=>VR.indexOf(n.pos)===-1&&n.box.axis===e)}function ol(t,e){return t.sort((n,r)=>{const i=e?r:n,s=e?n:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function Eq(t){const e=[];let n,r,i,s,o,a;for(n=0,r=(t||[]).length;n<r;++n)i=t[n],{position:s,options:{stack:o,stackWeight:a=1}}=i,e.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:a});return e}function xq(t){const e={};for(const n of t){const{stack:r,pos:i,stackWeight:s}=n;if(!r||!VR.includes(i))continue;const o=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function bq(t,e){const n=xq(t),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let s,o,a;for(s=0,o=t.length;s<o;++s){a=t[s];const{fullSize:l}=a.box,u=n[a.stack],c=u&&a.stackWeight/u.weight;a.horizontal?(a.width=c?c*r:l&&e.availableWidth,a.height=i):(a.width=r,a.height=c?c*i:l&&e.availableHeight)}return n}function Tq(t){const e=Eq(t),n=ol(e.filter(u=>u.box.fullSize),!0),r=ol(sl(e,"left"),!0),i=ol(sl(e,"right")),s=ol(sl(e,"top"),!0),o=ol(sl(e,"bottom")),a=g2(e,"x"),l=g2(e,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:sl(e,"chartArea"),vertical:r.concat(i).concat(l),horizontal:s.concat(o).concat(a)}}function y2(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function FR(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function Sq(t,e,n,r){const{pos:i,box:s}=n,o=t.maxPadding;if(!_e(i)){n.size&&(t[i]-=n.size);const d=r[n.stack]||{size:0,count:1};d.size=Math.max(d.size,n.horizontal?s.height:s.width),n.size=d.size/d.count,t[i]+=n.size}s.getPadding&&FR(o,s.getPadding());const a=Math.max(0,e.outerWidth-y2(o,t,"left","right")),l=Math.max(0,e.outerHeight-y2(o,t,"top","bottom")),u=a!==t.w,c=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:u,other:c}:{same:c,other:u}}function kq(t){const e=t.maxPadding;function n(r){const i=Math.max(e[r]-t[r],0);return t[r]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function Iq(t,e){const n=e.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{s[o]=Math.max(e[o],n[o])}),s}return r(t?["left","right"]:["top","bottom"])}function xl(t,e,n,r){const i=[];let s,o,a,l,u,c;for(s=0,o=t.length,u=0;s<o;++s){a=t[s],l=a.box,l.update(a.width||e.w,a.height||e.h,Iq(a.horizontal,e));const{same:d,other:f}=Sq(e,n,a,r);u|=d&&i.length,c=c||f,l.fullSize||i.push(a)}return u&&xl(i,e,n,r)||c}function ah(t,e,n,r,i){t.top=n,t.left=e,t.right=e+r,t.bottom=n+i,t.width=r,t.height=i}function v2(t,e,n,r){const i=n.padding;let{x:s,y:o}=e;for(const a of t){const l=a.box,u=r[a.stack]||{placed:0,weight:1},c=a.stackWeight/u.weight||1;if(a.horizontal){const d=e.w*c,f=u.size||l.height;Yd(u.start)&&(o=u.start),l.fullSize?ah(l,i.left,o,n.outerWidth-i.right-i.left,f):ah(l,e.left+u.placed,o,d,f),u.start=o,u.placed+=d,o=l.bottom}else{const d=e.h*c,f=u.size||l.width;Yd(u.start)&&(s=u.start),l.fullSize?ah(l,s,i.top,f,n.outerHeight-i.bottom-i.top):ah(l,s,e.top+u.placed,f,d),u.start=s,u.placed+=d,s=l.right}}e.x=s,e.y=o}var Tn={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const i=Pn(t.options.layout.padding),s=Math.max(e-i.width,0),o=Math.max(n-i.height,0),a=Tq(t.boxes),l=a.vertical,u=a.horizontal;xe(t.boxes,_=>{typeof _.beforeLayout=="function"&&_.beforeLayout()});const c=l.reduce((_,E)=>E.box.options&&E.box.options.display===!1?_:_+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/c,hBoxMaxHeight:o/2}),f=Object.assign({},i);FR(f,Pn(r));const m=Object.assign({maxPadding:f,w:s,h:o,x:i.left,y:i.top},i),y=bq(l.concat(u),d);xl(a.fullSize,m,d,y),xl(l,m,d,y),xl(u,m,d,y)&&xl(l,m,d,y),kq(m),v2(a.leftAndTop,m,d,y),m.x+=m.w,m.y+=m.h,v2(a.rightAndBottom,m,d,y),t.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},xe(a.chartArea,_=>{const E=_.box;Object.assign(E,t.chartArea),E.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class UR{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,i){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(e){return!0}updateConfig(e){}}class Cq extends UR{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const qh="$chartjs",Aq={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},_2=t=>t===null||t==="";function Pq(t,e){const n=t.style,r=t.getAttribute("height"),i=t.getAttribute("width");if(t[qh]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",_2(i)){const s=s2(t,"width");s!==void 0&&(t.width=s)}if(_2(r))if(t.style.height==="")t.height=t.width/(e||2);else{const s=s2(t,"height");s!==void 0&&(t.height=s)}return t}const jR=jW?{passive:!0}:!1;function Rq(t,e,n){t&&t.addEventListener(e,n,jR)}function Dq(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,jR)}function Nq(t,e){const n=Aq[t.type]||t.type,{x:r,y:i}=ms(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:i!==void 0?i:null}}function Jd(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function Oq(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||Jd(a.addedNodes,r),o=o&&!Jd(a.removedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function Mq(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||Jd(a.removedNodes,r),o=o&&!Jd(a.addedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const Lu=new Map;let w2=0;function zR(){const t=window.devicePixelRatio;t!==w2&&(w2=t,Lu.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function Lq(t,e){Lu.size||window.addEventListener("resize",zR),Lu.set(t,e)}function Vq(t){Lu.delete(t),Lu.size||window.removeEventListener("resize",zR)}function Fq(t,e,n){const r=t.canvas,i=r&&N_(r);if(!i)return;const s=xR((a,l)=>{const u=i.clientWidth;n(a,l),u<i.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],u=l.contentRect.width,c=l.contentRect.height;u===0&&c===0||s(u,c)});return o.observe(i),Lq(t,s),o}function Im(t,e,n){n&&n.disconnect(),e==="resize"&&Vq(t)}function Uq(t,e,n){const r=t.canvas,i=xR(s=>{t.ctx!==null&&n(Nq(s,t))},t);return Rq(r,e,i),i}class jq extends UR{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(Pq(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[qh])return!1;const r=n[qh].initial;["height","width"].forEach(s=>{const o=r[s];Pe(o)?n.removeAttribute(s):n.setAttribute(s,o)});const i=r.style||{};return Object.keys(i).forEach(s=>{n.style[s]=i[s]}),n.width=n.width,delete n[qh],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),o={attach:Oq,detach:Mq,resize:Fq}[n]||Uq;i[n]=o(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),i=r[n];if(!i)return;({attach:Im,detach:Im,resize:Im}[n]||Dq)(e,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,i){return UW(e,n,r,i)}isAttached(e){const n=e&&N_(e);return!!(n&&n.isConnected)}}function zq(t){return!D_()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?Cq:jq}var ph;let no=(ph=class{constructor(){Z(this,"x");Z(this,"y");Z(this,"active",!1);Z(this,"options");Z(this,"$animations")}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return Nu(this.x)&&Nu(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const i={};return e.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}},Z(ph,"defaults",{}),Z(ph,"defaultRoutes"),ph);function Bq(t,e){const n=t.options.ticks,r=$q(t),i=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?Wq(e):[],o=s.length,a=s[0],l=s[o-1],u=[];if(o>i)return qq(e,u,s,o/i),u;const c=Hq(s,e,i);if(o>0){let d,f;const m=o>1?Math.round((l-a)/(o-1)):null;for(lh(e,u,c,Pe(m)?0:a-m,a),d=0,f=o-1;d<f;d++)lh(e,u,c,s[d],s[d+1]);return lh(e,u,c,l,Pe(m)?e.length:l+m),u}return lh(e,u,c),u}function $q(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(r,i))}function Hq(t,e,n){const r=Kq(t),i=e.length/n;if(!r)return Math.max(i,1);const s=MH(r);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>i)return l}return Math.max(i,1)}function Wq(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function qq(t,e,n,r){let i=0,s=n[0],o;for(r=Math.ceil(r),o=0;o<t.length;o++)o===s&&(e.push(t[o]),i++,s=n[i*r])}function lh(t,e,n,r,i){const s=pe(r,0),o=Math.min(pe(i,t.length),t.length);let a=0,l,u,c;for(n=Math.ceil(n),i&&(l=i-r,n=l/Math.floor(l/n)),c=s;c<0;)a++,c=Math.round(s+a*n);for(u=Math.max(s,0);u<o;u++)u===c&&(e.push(t[u]),a++,c=Math.round(s+a*n))}function Kq(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const Gq=t=>t==="left"?"right":t==="right"?"left":t,E2=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,x2=(t,e)=>Math.min(e||t,t);function b2(t,e){const n=[],r=t.length/e,i=t.length;let s=0;for(;s<i;s+=r)n.push(t[Math.floor(s)]);return n}function Qq(t,e,n){const r=t.ticks.length,i=Math.min(e,r-1),s=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(i),u;if(!(n&&(r===1?u=Math.max(l-s,o-l):e===0?u=(t.getPixelForTick(1)-l)/2:u=(l-t.getPixelForTick(i-1))/2,l+=i<e?u:-u,l<s-a||l>o+a)))return l}function Yq(t,e){xe(t,n=>{const r=n.gc,i=r.length/2;let s;if(i>e){for(s=0;s<i;++s)delete n.data[r[s]];r.splice(0,i)}})}function al(t){return t.drawTicks?t.tickLength:0}function T2(t,e){if(!t.display)return 0;const n=Vt(t.font,e),r=Pn(t.padding);return(dt(t.text)?t.text.length:1)*n.lineHeight+r.height}function Xq(t,e){return to(t,{scale:e,type:"scale"})}function Zq(t,e,n){return to(t,{tick:n,index:e,type:"tick"})}function Jq(t,e,n){let r=S_(t);return(n&&e!=="right"||!n&&e==="right")&&(r=Gq(r)),r}function eK(t,e,n,r){const{top:i,left:s,bottom:o,right:a,chart:l}=t,{chartArea:u,scales:c}=l;let d=0,f,m,y;const _=o-i,E=a-s;if(t.isHorizontal()){if(m=Dt(r,s,a),_e(n)){const w=Object.keys(n)[0],b=n[w];y=c[w].getPixelForValue(b)+_-e}else n==="center"?y=(u.bottom+u.top)/2+_-e:y=E2(t,n,e);f=a-s}else{if(_e(n)){const w=Object.keys(n)[0],b=n[w];m=c[w].getPixelForValue(b)-E+e}else n==="center"?m=(u.left+u.right)/2-E+e:m=E2(t,n,e);y=Dt(r,o,i),d=n==="left"?-jn:jn}return{titleX:m,titleY:y,maxWidth:f,rotation:d}}class Ra extends no{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return e=Yn(e,Number.POSITIVE_INFINITY),n=Yn(n,Number.NEGATIVE_INFINITY),r=Yn(r,Number.POSITIVE_INFINITY),i=Yn(i,Number.NEGATIVE_INFINITY),{min:Yn(e,r),max:Yn(n,i),minDefined:An(e),maxDefined:An(n)}}getMinMax(e){let{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),o;if(i&&s)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let l=0,u=a.length;l<u;++l)o=a[l].controller.getMinMax(this,e),i||(n=Math.min(n,o.min)),s||(r=Math.max(r,o.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:Yn(n,Yn(r,n)),max:Yn(r,Yn(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Oe(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:i,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=yW(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?b2(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=Bq(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Oe(this.options.afterUpdate,[this])}beforeSetDimensions(){Oe(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Oe(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Oe(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Oe(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r],s.label=Oe(n.callback,[s.value,r,e],this)}afterTickToLabelConversion(){Oe(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Oe(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=x2(this.ticks.length,e.ticks.maxTicksLimit),i=n.minRotation||0,s=n.maxRotation;let o=i,a,l,u;if(!this._isVisible()||!n.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const c=this._getLabelSizes(),d=c.widest.width,f=c.highest.height,m=bn(this.chart.width-d,0,this.maxWidth);a=e.offset?this.maxWidth/r:m/(r-1),d+6>a&&(a=m/(r-(e.offset?.5:1)),l=this.maxHeight-al(e.grid)-n.padding-T2(e.title,this.chart.options.font),u=Math.sqrt(d*d+f*f),o=UH(Math.min(Math.asin(bn((c.highest.height+6)/a,-1,1)),Math.asin(bn(l/u,-1,1))-Math.asin(bn(f/u,-1,1)))),o=Math.max(i,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){Oe(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Oe(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=T2(i,n.options.font);if(a?(e.width=this.maxWidth,e.height=al(s)+l):(e.height=this.maxHeight,e.width=al(s)+l),r.display&&this.ticks.length){const{first:u,last:c,widest:d,highest:f}=this._getLabelSizes(),m=r.padding*2,y=Ts(this.labelRotation),_=Math.cos(y),E=Math.sin(y);if(a){const w=r.mirror?0:E*d.width+_*f.height;e.height=Math.min(this.maxHeight,e.height+w+m)}else{const w=r.mirror?0:_*d.width+E*f.height;e.width=Math.min(this.maxWidth,e.width+w+m)}this._calculatePadding(u,c,E,_)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,i){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,u=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const c=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,m=0;l?u?(f=i*e.width,m=r*n.height):(f=r*e.height,m=i*n.width):s==="start"?m=n.width:s==="end"?f=e.width:s!=="inner"&&(f=e.width/2,m=n.width/2),this.paddingLeft=Math.max((f-c+o)*this.width/(this.width-c),0),this.paddingRight=Math.max((m-d+o)*this.width/(this.width-d),0)}else{let c=n.height/2,d=e.height/2;s==="start"?(c=0,d=e.height):s==="end"&&(c=n.height,d=0),this.paddingTop=c+o,this.paddingBottom=d+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Oe(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)Pe(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=b2(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:i,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(n/x2(n,r));let u=0,c=0,d,f,m,y,_,E,w,b,T,R,D;for(d=0;d<n;d+=l){if(y=e[d].label,_=this._resolveTickFontOptions(d),i.font=E=_.string,w=s[E]=s[E]||{data:{},gc:[]},b=_.lineHeight,T=R=0,!Pe(y)&&!dt(y))T=e2(i,w.data,w.gc,T,y),R=b;else if(dt(y))for(f=0,m=y.length;f<m;++f)D=y[f],!Pe(D)&&!dt(D)&&(T=e2(i,w.data,w.gc,T,D),R+=b);o.push(T),a.push(R),u=Math.max(T,u),c=Math.max(R,c)}Yq(s,n);const M=o.indexOf(u),S=a.indexOf(c),x=I=>({width:o[I]||0,height:a[I]||0});return{first:x(0),last:x(n-1),widest:x(M),highest:x(S),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return BH(this._alignToPixels?us(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=Zq(this.getContext(),e,r))}return this.$context||(this.$context=Xq(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Ts(this.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*r>a*i?a/r:l/i:l*i<a*r?l/r:a/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,i=this.options,{grid:s,position:o,border:a}=i,l=s.offset,u=this.isHorizontal(),d=this.ticks.length+(l?1:0),f=al(s),m=[],y=a.setContext(this.getContext()),_=y.display?y.width:0,E=_/2,w=function(ve){return us(r,ve,_)};let b,T,R,D,M,S,x,I,C,A,N,P;if(o==="top")b=w(this.bottom),S=this.bottom-f,I=b-E,A=w(e.top)+E,P=e.bottom;else if(o==="bottom")b=w(this.top),A=e.top,P=w(e.bottom)-E,S=b+E,I=this.top+f;else if(o==="left")b=w(this.right),M=this.right-f,x=b-E,C=w(e.left)+E,N=e.right;else if(o==="right")b=w(this.left),C=e.left,N=w(e.right)-E,M=b+E,x=this.left+f;else if(n==="x"){if(o==="center")b=w((e.top+e.bottom)/2+.5);else if(_e(o)){const ve=Object.keys(o)[0],X=o[ve];b=w(this.chart.scales[ve].getPixelForValue(X))}A=e.top,P=e.bottom,S=b+E,I=S+f}else if(n==="y"){if(o==="center")b=w((e.left+e.right)/2);else if(_e(o)){const ve=Object.keys(o)[0],X=o[ve];b=w(this.chart.scales[ve].getPixelForValue(X))}M=b-E,x=M-f,C=e.left,N=e.right}const ue=pe(i.ticks.maxTicksLimit,d),he=Math.max(1,Math.ceil(d/ue));for(T=0;T<d;T+=he){const ve=this.getContext(T),X=s.setContext(ve),z=a.setContext(ve),K=X.lineWidth,G=X.color,se=z.dash||[],ie=z.dashOffset,oe=X.tickWidth,Ue=X.tickColor,Qe=X.tickBorderDash||[],Re=X.tickBorderDashOffset;R=Qq(this,T,l),R!==void 0&&(D=us(r,R,K),u?M=x=C=N=D:S=I=A=P=D,m.push({tx1:M,ty1:S,tx2:x,ty2:I,x1:C,y1:A,x2:N,y2:P,width:K,color:G,borderDash:se,borderDashOffset:ie,tickWidth:oe,tickColor:Ue,tickBorderDash:Qe,tickBorderDashOffset:Re}))}return this._ticksLength=d,this._borderValue=b,m}_computeLabelItems(e){const n=this.axis,r=this.options,{position:i,ticks:s}=r,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:u,padding:c,mirror:d}=s,f=al(r.grid),m=f+c,y=d?-c:m,_=-Ts(this.labelRotation),E=[];let w,b,T,R,D,M,S,x,I,C,A,N,P="middle";if(i==="top")M=this.bottom-y,S=this._getXAxisLabelAlignment();else if(i==="bottom")M=this.top+y,S=this._getXAxisLabelAlignment();else if(i==="left"){const he=this._getYAxisLabelAlignment(f);S=he.textAlign,D=he.x}else if(i==="right"){const he=this._getYAxisLabelAlignment(f);S=he.textAlign,D=he.x}else if(n==="x"){if(i==="center")M=(e.top+e.bottom)/2+m;else if(_e(i)){const he=Object.keys(i)[0],ve=i[he];M=this.chart.scales[he].getPixelForValue(ve)+m}S=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")D=(e.left+e.right)/2-m;else if(_e(i)){const he=Object.keys(i)[0],ve=i[he];D=this.chart.scales[he].getPixelForValue(ve)}S=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(l==="start"?P="top":l==="end"&&(P="bottom"));const ue=this._getLabelSizes();for(w=0,b=a.length;w<b;++w){T=a[w],R=T.label;const he=s.setContext(this.getContext(w));x=this.getPixelForTick(w)+s.labelOffset,I=this._resolveTickFontOptions(w),C=I.lineHeight,A=dt(R)?R.length:1;const ve=A/2,X=he.color,z=he.textStrokeColor,K=he.textStrokeWidth;let G=S;o?(D=x,S==="inner"&&(w===b-1?G=this.options.reverse?"left":"right":w===0?G=this.options.reverse?"right":"left":G="center"),i==="top"?u==="near"||_!==0?N=-A*C+C/2:u==="center"?N=-ue.highest.height/2-ve*C+C:N=-ue.highest.height+C/2:u==="near"||_!==0?N=C/2:u==="center"?N=ue.highest.height/2-ve*C:N=ue.highest.height-A*C,d&&(N*=-1),_!==0&&!he.showLabelBackdrop&&(D+=C/2*Math.sin(_))):(M=x,N=(1-A)*C/2);let se;if(he.showLabelBackdrop){const ie=Pn(he.backdropPadding),oe=ue.heights[w],Ue=ue.widths[w];let Qe=N-ie.top,Re=0-ie.left;switch(P){case"middle":Qe-=oe/2;break;case"bottom":Qe-=oe;break}switch(S){case"center":Re-=Ue/2;break;case"right":Re-=Ue;break;case"inner":w===b-1?Re-=Ue:w>0&&(Re-=Ue/2);break}se={left:Re,top:Qe,width:Ue+ie.width,height:oe+ie.height,color:he.backdropColor}}E.push({label:R,font:I,textOffset:N,options:{rotation:_,color:X,strokeColor:z,strokeWidth:K,textAlign:G,textBaseline:P,translation:[D,M],backdrop:se}})}return E}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Ts(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,o=this._getLabelSizes(),a=e+s,l=o.widest.width;let u,c;return n==="left"?i?(c=this.right+s,r==="near"?u="left":r==="center"?(u="center",c+=l/2):(u="right",c+=l)):(c=this.right-a,r==="near"?u="right":r==="center"?(u="center",c-=l/2):(u="left",c=this.left)):n==="right"?i?(c=this.left+s,r==="near"?u="right":r==="center"?(u="center",c-=l/2):(u="left",c-=l)):(c=this.left+a,r==="near"?u="left":r==="center"?(u="center",c+=l/2):(u="right",c=this.right)):u="right",{textAlign:u,x:c}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:i,width:s,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,i,s,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const a=(l,u,c)=>{!c.width||!c.color||(r.save(),r.lineWidth=c.width,r.strokeStyle=c.color,r.setLineDash(c.borderDash||[]),r.lineDashOffset=c.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(u.x,u.y),r.stroke(),r.restore())};if(n.display)for(s=0,o=i.length;s<o;++s){const l=i[s];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),o=r.display?s.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let u,c,d,f;this.isHorizontal()?(u=us(e,this.left,o)-o/2,c=us(e,this.right,a)+a/2,d=f=l):(d=us(e,this.top,o)-o/2,f=us(e,this.bottom,a)+a/2,u=c=l),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(u,d),n.lineTo(c,f),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&I_(r,i);const s=this.getLabelItems(e);for(const o of s){const a=o.options,l=o.font,u=o.label,c=o.textOffset;Mu(r,u,0,c,l,a)}i&&C_(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;const s=Vt(r.font),o=Pn(r.padding),a=r.align;let l=s.lineHeight/2;n==="bottom"||n==="center"||_e(n)?(l+=o.bottom,dt(r.text)&&(l+=s.lineHeight*(r.text.length-1))):l+=o.top;const{titleX:u,titleY:c,maxWidth:d,rotation:f}=eK(this,l,n,a);Mu(e,r.text,0,0,s,{color:r.color,maxWidth:d,rotation:f,textAlign:Jq(a,n,i),textBaseline:"middle",translation:[u,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=pe(e.grid&&e.grid.z,-1),i=pe(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Ra.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,o;for(s=0,o=n.length;s<o;++s){const a=n[s];a[r]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Vt(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class uh{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;rK(n)&&(r=this.register(n));const i=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,tK(e,o,r),this.override&&Je.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,i=this.scope;r in n&&delete n[r],i&&r in Je[i]&&(delete Je[i][r],this.override&&delete Hs[r])}}function tK(t,e,n){const r=Du(Object.create(null),[n?Je.get(n):{},Je.get(e),t.defaults]);Je.set(e,r),t.defaultRoutes&&nK(e,t.defaultRoutes),t.descriptors&&Je.describe(e,t.descriptors)}function nK(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),i=r.pop(),s=[t].concat(r).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");Je.route(s,i,l,a)})}function rK(t){return"id"in t&&"defaults"in t}class iK{constructor(){this.controllers=new uh(Ql,"datasets",!0),this.elements=new uh(no,"elements"),this.plugins=new uh(Object,"plugins"),this.scales=new uh(Ra,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):xe(i,o=>{const a=r||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,r){const i=b_(e);Oe(r["before"+i],[],r),n[e](r),Oe(r["after"+i],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var er=new iK;class sK{constructor(){this._init=[]}notify(e,n,r,i){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(s,e,n,r);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,r,i){i=i||{};for(const s of e){const o=s.plugin,a=o[r],l=[n,i,s.options];if(Oe(a,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){Pe(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,i=pe(r.options&&r.options.plugins,{}),s=oK(r);return i===!1&&!n?[]:lK(e,s,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,i=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(i(n,r),e,"stop"),this._notify(i(r,n),e,"start")}}function oK(t){const e={},n=[],r=Object.keys(er.plugins.items);for(let s=0;s<r.length;s++)n.push(er.getPlugin(r[s]));const i=t.plugins||[];for(let s=0;s<i.length;s++){const o=i[s];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function aK(t,e){return!e&&t===!1?null:t===!0?{}:t}function lK(t,{plugins:e,localIds:n},r,i){const s=[],o=t.getContext();for(const a of e){const l=a.id,u=aK(r[l],i);u!==null&&s.push({plugin:a,options:uK(t.config,{plugin:a,local:n[l]},u,o)})}return s}function uK(t,{plugin:e,local:n},r,i){const s=t.pluginScopeKeys(e),o=t.getOptionScopes(r,s);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Ry(t,e){const n=Je.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function cK(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function hK(t,e){return t===e?"_index_":"_value_"}function S2(t){if(t==="x"||t==="y"||t==="r")return t}function dK(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Dy(t,...e){if(S2(t))return t;for(const n of e){const r=n.axis||dK(n.position)||t.length>1&&S2(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function k2(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function fK(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return k2(t,"x",n[0])||k2(t,"y",n[0])}return{}}function pK(t,e){const n=Hs[t.type]||{scales:{}},r=e.scales||{},i=Ry(t.type,e),s=Object.create(null);return Object.keys(r).forEach(o=>{const a=r[o];if(!_e(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=Dy(o,a,fK(o,t),Je.scales[a.type]),u=hK(l,i),c=n.scales||{};s[o]=Hl(Object.create(null),[{axis:l},a,c[l],c[u]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||Ry(a,e),c=(Hs[a]||{}).scales||{};Object.keys(c).forEach(d=>{const f=cK(d,l),m=o[f+"AxisID"]||f;s[m]=s[m]||Object.create(null),Hl(s[m],[{axis:f},r[m],c[d]])})}),Object.keys(s).forEach(o=>{const a=s[o];Hl(a,[Je.scales[a.type],Je.scale])}),s}function BR(t){const e=t.options||(t.options={});e.plugins=pe(e.plugins,{}),e.scales=pK(t,e)}function $R(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function mK(t){return t=t||{},t.data=$R(t.data),BR(t),t}const I2=new Map,HR=new Set;function ch(t,e){let n=I2.get(t);return n||(n=e(),I2.set(t,n),HR.add(n)),n}const ll=(t,e,n)=>{const r=Qd(e,n);r!==void 0&&t.add(r)};class gK{constructor(e){this._config=mK(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=$R(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),BR(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return ch(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return ch(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return ch(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return ch(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let i=r.get(e);return(!i||n)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,n,r){const{options:i,type:s}=this,o=this._cachedScopes(e,r),a=o.get(n);if(a)return a;const l=new Set;n.forEach(c=>{e&&(l.add(e),c.forEach(d=>ll(l,e,d))),c.forEach(d=>ll(l,i,d)),c.forEach(d=>ll(l,Hs[s]||{},d)),c.forEach(d=>ll(l,Je,d)),c.forEach(d=>ll(l,Cy,d))});const u=Array.from(l);return u.length===0&&u.push(Object.create(null)),HR.has(n)&&o.set(n,u),u}chartOptionScopes(){const{options:e,type:n}=this;return[e,Hs[n]||{},Je.datasets[n]||{},{type:n},Je,Cy]}resolveNamedOptions(e,n,r,i=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=C2(this._resolverCache,e,i);let l=o;if(vK(o,n)){s.$shared=!1,r=Hi(r)?r():r;const u=this.createResolver(e,r,a);l=ma(o,r,u)}for(const u of n)s[u]=l[u];return s}createResolver(e,n,r=[""],i){const{resolver:s}=C2(this._resolverCache,e,r);return _e(n)?ma(s,n,void 0,i):s}}function C2(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const i=n.join();let s=r.get(i);return s||(s={resolver:A_(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},r.set(i,s)),s}const yK=t=>_e(t)&&Object.getOwnPropertyNames(t).some(e=>Hi(t[e]));function vK(t,e){const{isScriptable:n,isIndexable:r}=IR(t);for(const i of e){const s=n(i),o=r(i),a=(o||s)&&t[i];if(s&&(Hi(a)||yK(a))||o&&dt(a))return!0}return!1}var _K="4.5.0";const wK=["top","bottom","left","right","chartArea"];function A2(t,e){return t==="top"||t==="bottom"||wK.indexOf(t)===-1&&e==="x"}function P2(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function R2(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Oe(n&&n.onComplete,[t],e)}function EK(t){const e=t.chart,n=e.options.animation;Oe(n&&n.onProgress,[t],e)}function WR(t){return D_()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Kh={},D2=t=>{const e=WR(t);return Object.values(Kh).filter(n=>n.canvas===e).pop()};function xK(t,e,n){const r=Object.keys(t);for(const i of r){const s=+i;if(s>=e){const o=t[i];delete t[i],(n>0||s>e)&&(t[s+n]=o)}}}function bK(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}var oi;let Jf=(oi=class{static register(...e){er.add(...e),N2()}static unregister(...e){er.remove(...e),N2()}constructor(e,n){const r=this.config=new gK(n),i=WR(e),s=D2(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||zq(i)),this.platform.updateConfig(r);const a=this.platform.acquireContext(i,o.aspectRatio),l=a&&a.canvas,u=l&&l.height,c=l&&l.width;if(this.id=kH(),this.ctx=a,this.canvas=l,this.width=c,this.height=u,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new sK,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=KH(d=>this.update(d),o.resizeDelay||0),this._dataChanges=[],Kh[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}xr.listen(this,"complete",R2),xr.listen(this,"progress",EK),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:i,_aspectRatio:s}=this;return Pe(e)?n&&s?s:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return er}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():i2(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return t2(this.canvas,this.ctx),this}stop(){return xr.stop(this),this}resize(e,n){xr.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,n,s),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,i2(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Oe(r.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};xe(n,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,i=Object.keys(r).reduce((o,a)=>(o[a]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const a=n[o],l=Dy(o,a),u=l==="r",c=l==="x";return{options:a,dposition:u?"chartArea":c?"bottom":"left",dtype:u?"radialLinear":c?"category":"linear"}}))),xe(s,o=>{const a=o.options,l=a.id,u=Dy(l,a),c=pe(a.type,o.dtype);(a.position===void 0||A2(a.position,u)!==A2(o.dposition))&&(a.position=o.dposition),i[l]=!0;let d=null;if(l in r&&r[l].type===c)d=r[l];else{const f=er.getScale(c);d=new f({id:l,type:c,ctx:this.ctx,chart:this}),r[d.id]=d}d.init(a,e)}),xe(i,(o,a)=>{o||delete r[a]}),xe(r,o=>{Tn.configure(this,o,o.options),Tn.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((i,s)=>i.index-s.index),r>n){for(let i=n;i<r;++i)this._destroyDatasetMeta(i);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(P2("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,i)=>{n.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=n.length;r<i;r++){const s=n[r];let o=this.getDatasetMeta(r);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=a,o.indexAxis=s.indexAxis||Ry(a,this.options),o.order=s.order||0,o.index=r,o.label=""+s.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const l=er.getController(a),{datasetElementType:u,dataElementType:c}=Je.datasets[a];Object.assign(l,{dataElementType:er.getElement(c),datasetElementType:u&&er.getElement(u)}),o.controller=new l(this,r),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){xe(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let u=0,c=this.data.datasets.length;u<c;u++){const{controller:d}=this.getDatasetMeta(u),f=!i&&s.indexOf(d)===-1;d.buildOrUpdateElements(f),o=Math.max(+d.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),i||xe(s,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(P2("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){xe(this.scales,e=>{Tn.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!Wb(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of n){const o=r==="_removeElements"?-s:s;xK(e,i,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=s=>new Set(e.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),i=r(0);for(let s=1;s<n;s++)if(!Wb(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Tn.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],xe(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,Hi(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(xr.has(this)?this.attached&&!xr.running(this)&&xr.start(this):(this.draw(),R2({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let i,s;for(i=0,s=n.length;i<s;++i){const o=n[i];(!e||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r={meta:e,index:e.index,cancelable:!0},i=eq(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&I_(n,i),e.controller.draw(),i&&C_(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return Ou(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,i){const s=wq.modes[n];return typeof s=="function"?s(this,e,r,i):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let i=r.filter(s=>s&&s._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=to(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const i=r?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,i);Yd(n)?(s.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),o.update(s,{visible:r}),this.update(a=>a.datasetIndex===e?i:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),xr.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),t2(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Kh[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(s,o)=>{n.addEventListener(this,s,o),e[s]=o},i=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};xe(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(l,u)=>{n.addEventListener(this,l,u),e[l]=u},i=(l,u)=>{e[l]&&(n.removeEventListener(this,l,u),delete e[l])},s=(l,u)=>{this.canvas&&this.resize(l,u)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),r("resize",s),r("detach",o)};o=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){xe(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},xe(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const i=r?"set":"remove";let s,o,a,l;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const u=o&&this.getDatasetMeta(o.datasetIndex).controller;u&&u[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!Kd(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const i=this.options.hover,s=(l,u)=>l.filter(c=>!u.some(d=>c.datasetIndex===d.datasetIndex&&c.index===d.index)),o=s(n,e),a=r?e:s(e,n);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:i=[],options:s}=this,o=n,a=this._getActiveElements(e,i,r,o),l=DH(e),u=bK(e,this._lastEvent,r,l);r&&(this._lastEvent=null,Oe(s.onHover,[e,a,this],this),l&&Oe(s.onClick,[e,a,this],this));const c=!Kd(a,i);return(c||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=u,c}_getActiveElements(e,n,r,i){if(e.type==="mouseout")return[];if(!r)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}},Z(oi,"defaults",Je),Z(oi,"instances",Kh),Z(oi,"overrides",Hs),Z(oi,"registry",er),Z(oi,"version",_K),Z(oi,"getChart",D2),oi);function N2(){return xe(Jf.instances,t=>t._plugins.invalidate())}function qR(t,e,n=e){t.lineCap=pe(n.borderCapStyle,e.borderCapStyle),t.setLineDash(pe(n.borderDash,e.borderDash)),t.lineDashOffset=pe(n.borderDashOffset,e.borderDashOffset),t.lineJoin=pe(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=pe(n.borderWidth,e.borderWidth),t.strokeStyle=pe(n.borderColor,e.borderColor)}function TK(t,e,n){t.lineTo(n.x,n.y)}function SK(t){return t.stepped?aW:t.tension||t.cubicInterpolationMode==="monotone"?lW:TK}function KR(t,e,n={}){const r=t.length,{start:i=0,end:s=r-1}=n,{start:o,end:a}=e,l=Math.max(i,o),u=Math.min(s,a),c=i<o&&s<o||i>a&&s>a;return{count:r,start:l,loop:e.loop,ilen:u<l&&!c?r+u-l:u-l}}function kK(t,e,n,r){const{points:i,options:s}=e,{count:o,start:a,loop:l,ilen:u}=KR(i,n,r),c=SK(s);let{move:d=!0,reverse:f}=r||{},m,y,_;for(m=0;m<=u;++m)y=i[(a+(f?u-m:m))%o],!y.skip&&(d?(t.moveTo(y.x,y.y),d=!1):c(t,_,y,f,s.stepped),_=y);return l&&(y=i[(a+(f?u:0))%o],c(t,_,y,f,s.stepped)),!!l}function IK(t,e,n,r){const i=e.points,{count:s,start:o,ilen:a}=KR(i,n,r),{move:l=!0,reverse:u}=r||{};let c=0,d=0,f,m,y,_,E,w;const b=R=>(o+(u?a-R:R))%s,T=()=>{_!==E&&(t.lineTo(c,E),t.lineTo(c,_),t.lineTo(c,w))};for(l&&(m=i[b(0)],t.moveTo(m.x,m.y)),f=0;f<=a;++f){if(m=i[b(f)],m.skip)continue;const R=m.x,D=m.y,M=R|0;M===y?(D<_?_=D:D>E&&(E=D),c=(d*c+R)/++d):(T(),t.lineTo(R,D),y=M,d=0,_=E=D),w=D}T()}function Ny(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?IK:kK}function CK(t){return t.stepped?zW:t.tension||t.cubicInterpolationMode==="monotone"?BW:gs}function AK(t,e,n,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,r)&&i.closePath()),qR(t,e.options),t.stroke(i)}function PK(t,e,n,r){const{segments:i,options:s}=e,o=Ny(e);for(const a of i)qR(t,s,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const RK=typeof Path2D=="function";function DK(t,e,n,r){RK&&!e.options.segment?AK(t,e,n,r):PK(t,e,n,r)}class bl extends no{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;NW(this._points,r,e,i,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=YW(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,i=e[n],s=this.points,o=KW(this,{property:n,start:i,end:i});if(!o.length)return;const a=[],l=CK(r);let u,c;for(u=0,c=o.length;u<c;++u){const{start:d,end:f}=o[u],m=s[d],y=s[f];if(m===y){a.push(m);continue}const _=Math.abs((i-m[n])/(y[n]-m[n])),E=l(m,y,_,r.stepped);E[n]=e[n],a.push(E)}return a.length===1?a[0]:a}pathSegment(e,n,r){return Ny(this)(e,this,n,r)}path(e,n,r){const i=this.segments,s=Ny(this);let o=this._loop;n=n||0,r=r||this.points.length-n;for(const a of i)o&=s(e,this,a,{start:n,end:n+r-1});return!!o}draw(e,n,r,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),DK(e,this,r,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Z(bl,"id","line"),Z(bl,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Z(bl,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Z(bl,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function O2(t,e,n,r){const i=t.options,{[n]:s}=t.getProps([n],r);return Math.abs(e-s)<i.radius+i.hitRadius}class Gh extends no{constructor(n){super();Z(this,"parsed");Z(this,"skip");Z(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,i){const s=this.options,{x:o,y:a}=this.getProps(["x","y"],i);return Math.pow(n-o,2)+Math.pow(r-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(n,r){return O2(this,n,"x",r)}inYRange(n,r){return O2(this,n,"y",r)}getCenterPoint(n){const{x:r,y:i}=this.getProps(["x","y"],n);return{x:r,y:i}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const i=r&&n.borderWidth||0;return(r+i)*2}draw(n,r){const i=this.options;this.skip||i.radius<.1||!Ou(this,r,this.size(i)/2)||(n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.fillStyle=i.backgroundColor,Ay(n,i,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}Z(Gh,"id","point"),Z(Gh,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Z(Gh,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const M2=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},NK=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class L2 extends no{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Oe(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,i=Vt(r.font),s=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=M2(r,s);let u,c;n.font=i.string,this.isHorizontal()?(u=this.maxWidth,c=this._fitRows(o,s,a,l)+10):(c=this.maxHeight,u=this._fitCols(o,i,a,l)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,i){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.lineWidths=[0],c=i+a;let d=e;s.textAlign="left",s.textBaseline="middle";let f=-1,m=-c;return this.legendItems.forEach((y,_)=>{const E=r+n/2+s.measureText(y.text).width;(_===0||u[u.length-1]+E+2*a>o)&&(d+=c,u[u.length-(_>0?0:1)]=0,m+=c,f++),l[_]={left:0,top:m,row:f,width:E,height:i},u[u.length-1]+=E+a}),d}_fitCols(e,n,r,i){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.columnSizes=[],c=o-e;let d=a,f=0,m=0,y=0,_=0;return this.legendItems.forEach((E,w)=>{const{itemWidth:b,itemHeight:T}=OK(r,n,s,E,i);w>0&&m+T+2*a>c&&(d+=f+a,u.push({width:f,height:m}),y+=f+a,_++,f=m=0),l[w]={left:y,top:m,col:_,width:b,height:T},f=Math.max(f,b),m+=T+a}),d+=f,u.push({width:f,height:m}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:i},rtl:s}}=this,o=Go(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=Dt(r,this.left+i,this.right-this.lineWidths[a]);for(const u of n)a!==u.row&&(a=u.row,l=Dt(r,this.left+i,this.right-this.lineWidths[a])),u.top+=this.top+e+i,u.left=o.leftForLtr(o.x(l),u.width),l+=u.width+i}else{let a=0,l=Dt(r,this.top+e+i,this.bottom-this.columnSizes[a].height);for(const u of n)u.col!==a&&(a=u.col,l=Dt(r,this.top+e+i,this.bottom-this.columnSizes[a].height)),u.top=l,u.left+=this.left+i,u.left=o.leftForLtr(o.x(u.left),u.width),l+=u.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;I_(e,this),this._draw(),C_(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:i}=this,{align:s,labels:o}=e,a=Je.color,l=Go(e.rtl,this.left,this.width),u=Vt(o.font),{padding:c}=o,d=u.size,f=d/2;let m;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=u.string;const{boxWidth:y,boxHeight:_,itemHeight:E}=M2(o,d),w=function(M,S,x){if(isNaN(y)||y<=0||isNaN(_)||_<0)return;i.save();const I=pe(x.lineWidth,1);if(i.fillStyle=pe(x.fillStyle,a),i.lineCap=pe(x.lineCap,"butt"),i.lineDashOffset=pe(x.lineDashOffset,0),i.lineJoin=pe(x.lineJoin,"miter"),i.lineWidth=I,i.strokeStyle=pe(x.strokeStyle,a),i.setLineDash(pe(x.lineDash,[])),o.usePointStyle){const C={radius:_*Math.SQRT2/2,pointStyle:x.pointStyle,rotation:x.rotation,borderWidth:I},A=l.xPlus(M,y/2),N=S+f;SR(i,C,A,N,o.pointStyleWidth&&y)}else{const C=S+Math.max((d-_)/2,0),A=l.leftForLtr(M,y),N=Gl(x.borderRadius);i.beginPath(),Object.values(N).some(P=>P!==0)?Py(i,{x:A,y:C,w:y,h:_,radius:N}):i.rect(A,C,y,_),i.fill(),I!==0&&i.stroke()}i.restore()},b=function(M,S,x){Mu(i,x.text,M,S+E/2,u,{strikethrough:x.hidden,textAlign:l.textAlign(x.textAlign)})},T=this.isHorizontal(),R=this._computeTitleHeight();T?m={x:Dt(s,this.left+c,this.right-r[0]),y:this.top+c+R,line:0}:m={x:this.left+c,y:Dt(s,this.top+R+c,this.bottom-n[0].height),line:0},DR(this.ctx,e.textDirection);const D=E+c;this.legendItems.forEach((M,S)=>{i.strokeStyle=M.fontColor,i.fillStyle=M.fontColor;const x=i.measureText(M.text).width,I=l.textAlign(M.textAlign||(M.textAlign=o.textAlign)),C=y+f+x;let A=m.x,N=m.y;l.setWidth(this.width),T?S>0&&A+C+c>this.right&&(N=m.y+=D,m.line++,A=m.x=Dt(s,this.left+c,this.right-r[m.line])):S>0&&N+D>this.bottom&&(A=m.x=A+n[m.line].width+c,m.line++,N=m.y=Dt(s,this.top+R+c,this.bottom-n[m.line].height));const P=l.x(A);if(w(P,N,M),A=GH(I,A+y+f,T?A+C:this.right,e.rtl),b(l.x(A),N,M),T)m.x+=C+c;else if(typeof M.text!="string"){const ue=u.lineHeight;m.y+=GR(M,ue)+c}else m.y+=D}),NR(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=Vt(n.font),i=Pn(n.padding);if(!n.display)return;const s=Go(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=r.size/2,u=i.top+l;let c,d=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),c=this.top+u,d=Dt(e.align,d,this.right-f);else{const y=this.columnSizes.reduce((_,E)=>Math.max(_,E.height),0);c=u+Dt(e.align,this.top,this.bottom-y-e.labels.padding-this._computeTitleHeight())}const m=Dt(a,d,d+f);o.textAlign=s.textAlign(S_(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=r.string,Mu(o,n.text,m,c,r)}_computeTitleHeight(){const e=this.options.title,n=Vt(e.font),r=Pn(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,i,s;if(El(e,this.left,this.right)&&El(n,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],El(e,i.left,i.left+i.width)&&El(n,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!VK(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,s=NK(i,r);i&&!s&&Oe(n.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!s&&Oe(n.onHover,[e,r,this],this)}else r&&Oe(n.onClick,[e,r,this],this)}}function OK(t,e,n,r,i){const s=MK(r,t,e,n),o=LK(i,r,e.lineHeight);return{itemWidth:s,itemHeight:o}}function MK(t,e,n,r){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((s,o)=>s.length>o.length?s:o)),e+n.size/2+r.measureText(i).width}function LK(t,e,n){let r=t;return typeof e.text!="string"&&(r=GR(e,n)),r}function GR(t,e){const n=t.text?t.text.length:0;return e*n}function VK(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var FK={id:"legend",_element:L2,start(t,e,n){const r=t.legend=new L2({ctx:t.ctx,options:n,chart:t});Tn.configure(t,r,n),Tn.addBox(t,r)},stop(t){Tn.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;Tn.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const u=l.controller.getStyle(n?0:void 0),c=Pn(u.borderWidth);return{text:e[l.index].label,fillStyle:u.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:u.borderColor,pointStyle:r||u.pointStyle,rotation:u.rotation,textAlign:i||u.textAlign,borderRadius:o&&(a||u.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class QR extends no{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const i=dt(r.text)?r.text.length:1;this._padding=Pn(r.padding);const s=i*Vt(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:i,right:s,options:o}=this,a=o.align;let l=0,u,c,d;return this.isHorizontal()?(c=Dt(a,r,s),d=n+e,u=s-r):(o.position==="left"?(c=r+e,d=Dt(a,i,n),l=pt*-.5):(c=s-e,d=Dt(a,n,i),l=pt*.5),u=i-n),{titleX:c,titleY:d,maxWidth:u,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=Vt(n.font),s=r.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:u}=this._drawArgs(s);Mu(e,n.text,0,0,r,{color:n.color,maxWidth:l,rotation:u,textAlign:S_(n.align),textBaseline:"middle",translation:[o,a]})}}function UK(t,e){const n=new QR({ctx:t.ctx,options:e,chart:t});Tn.configure(t,n,e),Tn.addBox(t,n),t.titleBlock=n}var jK={id:"title",_element:QR,start(t,e,n){UK(t,n)},stop(t){const e=t.titleBlock;Tn.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;Tn.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Tl={average(t){if(!t.length)return!1;let e,n,r=new Set,i=0,s=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();r.add(l.x),i+=l.y,++s}}return s===0||r.size===0?!1:{x:[...r].reduce((a,l)=>a+l)/r.size,y:i/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,i=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=t.length;s<o;++s){const l=t[s].element;if(l&&l.hasValue()){const u=l.getCenterPoint(),c=Iy(e,u);c<i&&(i=c,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,r=l.y}return{x:n,y:r}}};function Zn(t,e){return e&&(dt(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function br(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function zK(t,e){const{element:n,datasetIndex:r,index:i}=e,s=t.getDatasetMeta(r).controller,{label:o,value:a}=s.getLabelAndValue(i);return{chart:t,label:o,parsed:s.getParsed(i),raw:t.data.datasets[r].data[i],formattedValue:a,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function V2(t,e){const n=t.chart.ctx,{body:r,footer:i,title:s}=t,{boxWidth:o,boxHeight:a}=e,l=Vt(e.bodyFont),u=Vt(e.titleFont),c=Vt(e.footerFont),d=s.length,f=i.length,m=r.length,y=Pn(e.padding);let _=y.height,E=0,w=r.reduce((R,D)=>R+D.before.length+D.lines.length+D.after.length,0);if(w+=t.beforeBody.length+t.afterBody.length,d&&(_+=d*u.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),w){const R=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;_+=m*R+(w-m)*l.lineHeight+(w-1)*e.bodySpacing}f&&(_+=e.footerMarginTop+f*c.lineHeight+(f-1)*e.footerSpacing);let b=0;const T=function(R){E=Math.max(E,n.measureText(R).width+b)};return n.save(),n.font=u.string,xe(t.title,T),n.font=l.string,xe(t.beforeBody.concat(t.afterBody),T),b=e.displayColors?o+2+e.boxPadding:0,xe(r,R=>{xe(R.before,T),xe(R.lines,T),xe(R.after,T)}),b=0,n.font=c.string,xe(t.footer,T),n.restore(),E+=y.width,{width:E,height:_}}function BK(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function $K(t,e,n,r){const{x:i,width:s}=r,o=n.caretSize+n.caretPadding;if(t==="left"&&i+s+o>e.width||t==="right"&&i-s-o<0)return!0}function HK(t,e,n,r){const{x:i,width:s}=n,{width:o,chartArea:{left:a,right:l}}=t;let u="center";return r==="center"?u=i<=(a+l)/2?"left":"right":i<=s/2?u="left":i>=o-s/2&&(u="right"),$K(u,t,e,n)&&(u="center"),u}function F2(t,e,n){const r=n.yAlign||e.yAlign||BK(t,n);return{xAlign:n.xAlign||e.xAlign||HK(t,e,n,r),yAlign:r}}function WK(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function qK(t,e,n){let{y:r,height:i}=t;return e==="top"?r+=n:e==="bottom"?r-=i+n:r-=i/2,r}function U2(t,e,n,r){const{caretSize:i,caretPadding:s,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,u=i+s,{topLeft:c,topRight:d,bottomLeft:f,bottomRight:m}=Gl(o);let y=WK(e,a);const _=qK(e,l,u);return l==="center"?a==="left"?y+=u:a==="right"&&(y-=u):a==="left"?y-=Math.max(c,f)+i:a==="right"&&(y+=Math.max(d,m)+i),{x:bn(y,0,r.width-e.width),y:bn(_,0,r.height-e.height)}}function hh(t,e,n){const r=Pn(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function j2(t){return Zn([],br(t))}function KK(t,e,n){return to(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function z2(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const YR={beforeTitle:wr,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:wr,beforeBody:wr,beforeLabel:wr,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Pe(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:wr,afterBody:wr,beforeFooter:wr,footer:wr,afterFooter:wr};function Gt(t,e,n,r){const i=t[e].call(n,r);return typeof i>"u"?YR[e].call(n,r):i}class Oy extends no{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&n.options.animation&&r.animations,s=new MR(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=KK(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,i=Gt(r,"beforeTitle",this,e),s=Gt(r,"title",this,e),o=Gt(r,"afterTitle",this,e);let a=[];return a=Zn(a,br(i)),a=Zn(a,br(s)),a=Zn(a,br(o)),a}getBeforeBody(e,n){return j2(Gt(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,i=[];return xe(e,s=>{const o={before:[],lines:[],after:[]},a=z2(r,s);Zn(o.before,br(Gt(a,"beforeLabel",this,s))),Zn(o.lines,Gt(a,"label",this,s)),Zn(o.after,br(Gt(a,"afterLabel",this,s))),i.push(o)}),i}getAfterBody(e,n){return j2(Gt(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,i=Gt(r,"beforeFooter",this,e),s=Gt(r,"footer",this,e),o=Gt(r,"afterFooter",this,e);let a=[];return a=Zn(a,br(i)),a=Zn(a,br(s)),a=Zn(a,br(o)),a}_createItems(e){const n=this._active,r=this.chart.data,i=[],s=[],o=[];let a=[],l,u;for(l=0,u=n.length;l<u;++l)a.push(zK(this.chart,n[l]));return e.filter&&(a=a.filter((c,d,f)=>e.filter(c,d,f,r))),e.itemSort&&(a=a.sort((c,d)=>e.itemSort(c,d,r))),xe(a,c=>{const d=z2(e.callbacks,c);i.push(Gt(d,"labelColor",this,c)),s.push(Gt(d,"labelPointStyle",this,c)),o.push(Gt(d,"labelTextColor",this,c))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const r=this.options.setContext(this.getContext()),i=this._active;let s,o=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const a=Tl[r.position].call(this,i,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const l=this._size=V2(this,r),u=Object.assign({},a,l),c=F2(this.chart,r,u),d=U2(r,u,c,this.chart);this.xAlign=c.xAlign,this.yAlign=c.yAlign,s={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,i){const s=this.getCaretPosition(e,r,i);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,r){const{xAlign:i,yAlign:s}=this,{caretSize:o,cornerRadius:a}=r,{topLeft:l,topRight:u,bottomLeft:c,bottomRight:d}=Gl(a),{x:f,y:m}=e,{width:y,height:_}=n;let E,w,b,T,R,D;return s==="center"?(R=m+_/2,i==="left"?(E=f,w=E-o,T=R+o,D=R-o):(E=f+y,w=E+o,T=R-o,D=R+o),b=E):(i==="left"?w=f+Math.max(l,c)+o:i==="right"?w=f+y-Math.max(u,d)-o:w=this.caretX,s==="top"?(T=m,R=T-o,E=w-o,b=w+o):(T=m+_,R=T+o,E=w+o,b=w-o),D=T),{x1:E,x2:w,x3:b,y1:T,y2:R,y3:D}}drawTitle(e,n,r){const i=this.title,s=i.length;let o,a,l;if(s){const u=Go(r.rtl,this.x,this.width);for(e.x=hh(this,r.titleAlign,r),n.textAlign=u.textAlign(r.titleAlign),n.textBaseline="middle",o=Vt(r.titleFont),a=r.titleSpacing,n.fillStyle=r.titleColor,n.font=o.string,l=0;l<s;++l)n.fillText(i[l],u.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===s&&(e.y+=r.titleMarginBottom-a)}}_drawColorBox(e,n,r,i,s){const o=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:l,boxWidth:u}=s,c=Vt(s.bodyFont),d=hh(this,"left",s),f=i.x(d),m=l<c.lineHeight?(c.lineHeight-l)/2:0,y=n.y+m;if(s.usePointStyle){const _={radius:Math.min(u,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},E=i.leftForLtr(f,u)+u/2,w=y+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,Ay(e,_,E,w),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,Ay(e,_,E,w)}else{e.lineWidth=_e(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const _=i.leftForLtr(f,u),E=i.leftForLtr(i.xPlus(f,1),u-2),w=Gl(o.borderRadius);Object.values(w).some(b=>b!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,Py(e,{x:_,y,w:u,h:l,radius:w}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Py(e,{x:E,y:y+1,w:u-2,h:l-2,radius:w}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(_,y,u,l),e.strokeRect(_,y,u,l),e.fillStyle=o.backgroundColor,e.fillRect(E,y+1,u-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:i}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:u,boxPadding:c}=r,d=Vt(r.bodyFont);let f=d.lineHeight,m=0;const y=Go(r.rtl,this.x,this.width),_=function(x){n.fillText(x,y.x(e.x+m),e.y+f/2),e.y+=f+s},E=y.textAlign(o);let w,b,T,R,D,M,S;for(n.textAlign=o,n.textBaseline="middle",n.font=d.string,e.x=hh(this,E,r),n.fillStyle=r.bodyColor,xe(this.beforeBody,_),m=a&&E!=="right"?o==="center"?u/2+c:u+2+c:0,R=0,M=i.length;R<M;++R){for(w=i[R],b=this.labelTextColors[R],n.fillStyle=b,xe(w.before,_),T=w.lines,a&&T.length&&(this._drawColorBox(n,e,R,y,r),f=Math.max(d.lineHeight,l)),D=0,S=T.length;D<S;++D)_(T[D]),f=d.lineHeight;xe(w.after,_)}m=0,f=d.lineHeight,xe(this.afterBody,_),e.y-=s}drawFooter(e,n,r){const i=this.footer,s=i.length;let o,a;if(s){const l=Go(r.rtl,this.x,this.width);for(e.x=hh(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",o=Vt(r.footerFont),n.fillStyle=r.footerColor,n.font=o.string,a=0;a<s;++a)n.fillText(i[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+r.footerSpacing}}drawBackground(e,n,r,i){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=e,{width:u,height:c}=r,{topLeft:d,topRight:f,bottomLeft:m,bottomRight:y}=Gl(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(a+d,l),o==="top"&&this.drawCaret(e,n,r,i),n.lineTo(a+u-f,l),n.quadraticCurveTo(a+u,l,a+u,l+f),o==="center"&&s==="right"&&this.drawCaret(e,n,r,i),n.lineTo(a+u,l+c-y),n.quadraticCurveTo(a+u,l+c,a+u-y,l+c),o==="bottom"&&this.drawCaret(e,n,r,i),n.lineTo(a+m,l+c),n.quadraticCurveTo(a,l+c,a,l+c-m),o==="center"&&s==="left"&&this.drawCaret(e,n,r,i),n.lineTo(a,l+d),n.quadraticCurveTo(a,l,a+d,l),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const o=Tl[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=V2(this,e),l=Object.assign({},o,this._size),u=F2(n,e,l),c=U2(e,l,u,n);(i._to!==c.x||s._to!==c.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,c))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=Pn(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=r,this.drawBackground(s,e,i,n),DR(e,n.textDirection),s.y+=o.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),NR(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,i=e.map(({datasetIndex:a,index:l})=>{const u=this.chart.getDatasetMeta(a);if(!u)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:u.data[l],index:l}}),s=!Kd(r,i),o=this._positionChanged(i,n);(s||o)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],o=this._getActiveElements(e,s,n,r),a=this._positionChanged(o,e),l=n||!Kd(o,s)||a;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,r,i){const s=this.options;if(e.type==="mouseout")return[];if(!i)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,s.mode,s,r);return s.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:r,caretY:i,options:s}=this,o=Tl[s.position].call(this,e,n);return o!==!1&&(r!==o.x||i!==o.y)}}Z(Oy,"positioners",Tl);var GK={id:"tooltip",_element:Oy,positioners:Tl,afterInit(t,e,n){n&&(t.tooltip=new Oy({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:YR},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const QK=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function YK(t,e,n,r){const i=t.indexOf(e);if(i===-1)return QK(t,e,n,r);const s=t.lastIndexOf(e);return i!==s?n:i}const XK=(t,e)=>t===null?null:bn(Math.round(t),0,e);function B2(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class My extends Ra{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:i,label:s}of n)r[i]===s&&r.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(Pe(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:YK(r,e,pe(n,e),this._addedLabels),XK(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,i=[];let s=this.getLabels();s=e===0&&n===s.length-1?s:s.slice(e,n+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=e;o<=n;o++)i.push({value:o});return i}getLabelForValue(e){return B2.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}Z(My,"id","category"),Z(My,"defaults",{ticks:{callback:B2}});function ZK(t,e){const n=[],{bounds:i,step:s,min:o,max:a,precision:l,count:u,maxTicks:c,maxDigits:d,includeBounds:f}=t,m=s||1,y=c-1,{min:_,max:E}=e,w=!Pe(o),b=!Pe(a),T=!Pe(u),R=(E-_)/(d+1);let D=Kb((E-_)/y/m)*m,M,S,x,I;if(D<1e-14&&!w&&!b)return[{value:_},{value:E}];I=Math.ceil(E/D)-Math.floor(_/D),I>y&&(D=Kb(I*D/y/m)*m),Pe(l)||(M=Math.pow(10,l),D=Math.ceil(D*M)/M),i==="ticks"?(S=Math.floor(_/D)*D,x=Math.ceil(E/D)*D):(S=_,x=E),w&&b&&s&&VH((a-o)/s,D/1e3)?(I=Math.round(Math.min((a-o)/D,c)),D=(a-o)/I,S=o,x=a):T?(S=w?o:S,x=b?a:x,I=u-1,D=(x-S)/I):(I=(x-S)/D,Wl(I,Math.round(I),D/1e3)?I=Math.round(I):I=Math.ceil(I));const C=Math.max(Gb(D),Gb(S));M=Math.pow(10,Pe(l)?C:l),S=Math.round(S*M)/M,x=Math.round(x*M)/M;let A=0;for(w&&(f&&S!==o?(n.push({value:o}),S<o&&A++,Wl(Math.round((S+A*D)*M)/M,o,$2(o,R,t))&&A++):S<o&&A++);A<I;++A){const N=Math.round((S+A*D)*M)/M;if(b&&N>a)break;n.push({value:N})}return b&&f&&x!==a?n.length&&Wl(n[n.length-1].value,a,$2(a,R,t))?n[n.length-1].value=a:n.push({value:a}):(!b||x===a)&&n.push({value:x}),n}function $2(t,e,{horizontal:n,minRotation:r}){const i=Ts(r),s=(n?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+t).length;return Math.min(e/s,o)}class JK extends Ra{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Pe(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const o=l=>i=n?i:l,a=l=>s=r?s:l;if(e){const l=pa(i),u=pa(s);l<0&&u<0?a(0):l>0&&u>0&&o(0)}if(i===s){let l=s===0?1:Math.abs(s*.05);a(s+l),e||o(i-l)}this.min=i,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=ZK(i,s);return e.bounds==="ticks"&&FH(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const i=(r-n)/Math.max(e.length-1,1)/2;n-=i,r+=i}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return bR(e,this.chart.options.locale,this.options.ticks.format)}}class Ly extends JK{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=An(e)?e:0,this.max=An(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=Ts(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Z(Ly,"id","linear"),Z(Ly,"defaults",{ticks:{callback:TR.formatters.numeric}});const ep={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Jt=Object.keys(ep);function H2(t,e){return t-e}function W2(t,e){if(Pe(e))return null;const n=t._adapter,{parser:r,round:i,isoWeekday:s}=t._parseOpts;let o=e;return typeof r=="function"&&(o=r(o)),An(o)||(o=typeof r=="string"?n.parse(o,r):n.parse(o)),o===null?null:(i&&(o=i==="week"&&(Nu(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,i)),+o)}function q2(t,e,n,r){const i=Jt.length;for(let s=Jt.indexOf(t);s<i-1;++s){const o=ep[Jt[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=r)return Jt[s]}return Jt[i-1]}function eG(t,e,n,r,i){for(let s=Jt.length-1;s>=Jt.indexOf(n);s--){const o=Jt[s];if(ep[o].common&&t._adapter.diff(i,r,o)>=e-1)return o}return Jt[n?Jt.indexOf(n):0]}function tG(t){for(let e=Jt.indexOf(t)+1,n=Jt.length;e<n;++e)if(ep[Jt[e]].common)return Jt[e]}function K2(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:i}=T_(n,e),s=n[r]>=e?n[r]:n[i];t[s]=!0}}function nG(t,e,n,r){const i=t._adapter,s=+i.startOf(e[0].value,r),o=e[e.length-1].value;let a,l;for(a=s;a<=o;a=+i.add(a,1,r))l=n[a],l>=0&&(e[l].major=!0);return e}function G2(t,e,n){const r=[],i={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],i[a]=o,r.push({value:a,major:!1});return s===0||!n?r:nG(t,r,i,n)}class ef extends Ra{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),i=this._adapter=new mq._date(e.adapters.date);i.init(n),Hl(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:W2(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:i,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(u){!o&&!isNaN(u.min)&&(i=Math.min(i,u.min)),!a&&!isNaN(u.max)&&(s=Math.max(s,u.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=An(i)&&!isNaN(i)?i:+n.startOf(Date.now(),r),s=An(s)&&!isNaN(s)?s:+n.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,o=this.max,a=HH(i,s,o);return this._unit=n.unit||(r.autoSkip?q2(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):eG(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:tG(this._unit),this.initOffsets(i),e.reverse&&a.reverse(),G2(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,i,s;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?n=1-i:n=(this.getDecimalForValue(e[1])-i)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?r=s:r=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=bn(n,0,o),r=bn(r,0,o),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,i=this.options,s=i.time,o=s.unit||q2(s.minUnit,n,r,this._getLabelCapacity(n)),a=pe(i.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,u=Nu(l)||l===!0,c={};let d=n,f,m;if(u&&(d=+e.startOf(d,"isoWeek",l)),d=+e.startOf(d,u?"day":o),e.diff(r,n,o)>1e5*a)throw new Error(n+" and "+r+" are too far apart with stepSize of "+a+" "+o);const y=i.ticks.source==="data"&&this.getDataTimestamps();for(f=d,m=0;f<r;f=+e.add(f,a,o),m++)K2(c,f,y);return(f===r||i.bounds==="ticks"||m===1)&&K2(c,f,y),Object.keys(c).sort(H2).map(_=>+_)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const i=this.options.time.displayFormats,s=this._unit,o=n||i[s];return this._adapter.format(e,o)}_tickFormatFunction(e,n,r,i){const s=this.options,o=s.ticks.callback;if(o)return Oe(o,[e,n,r],this);const a=s.time.displayFormats,l=this._unit,u=this._majorUnit,c=l&&a[l],d=u&&a[u],f=r[n],m=u&&d&&f&&f.major;return this._adapter.format(e,i||(m?d:c))}generateTickLabels(e){let n,r,i;for(n=0,r=e.length;n<r;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,i=Ts(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:r*s+a*o,h:r*o+a*s}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,s=this._tickFormatFunction(e,0,G2(this,[e],this._majorUnit),i),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,r=i.length;n<r;++n)e=e.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const i=this.getLabels();for(n=0,r=i.length;n<r;++n)e.push(W2(this,i[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return qH(e.sort(H2))}}Z(ef,"id","time"),Z(ef,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function dh(t,e,n){let r=0,i=t.length-1,s,o,a,l;n?(e>=t[r].pos&&e<=t[i].pos&&({lo:r,hi:i}=Ss(t,"pos",e)),{pos:s,time:a}=t[r],{pos:o,time:l}=t[i]):(e>=t[r].time&&e<=t[i].time&&({lo:r,hi:i}=Ss(t,"time",e)),{time:s,pos:a}=t[r],{time:o,pos:l}=t[i]);const u=o-s;return u?a+(l-a)*(e-s)/u:a}class Q2 extends ef{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=dh(n,this.min),this._tableRange=dh(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,i=[],s=[];let o,a,l,u,c;for(o=0,a=e.length;o<a;++o)u=e[o],u>=n&&u<=r&&i.push(u);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(o=0,a=i.length;o<a;++o)c=i[o+1],l=i[o-1],u=i[o],Math.round((c+l)/2)!==u&&s.push({time:u,pos:o/(a-1)});return s}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(dh(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return dh(this._table,r*this._tableRange+this._minPos,!0)}}Z(Q2,"id","timeseries"),Z(Q2,"defaults",ef.defaults);const XR="label";function Y2(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function rG(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function ZR(t,e){t.labels=e}function JR(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:XR;const r=[];t.datasets=e.map(i=>{const s=t.datasets.find(o=>o[n]===i[n]);return!s||!i.data||r.includes(s)?{...i}:(r.push(s),Object.assign(s,i),s)})}function iG(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:XR;const n={labels:[],datasets:[]};return ZR(n,t.labels),JR(n,t.datasets,e),n}function sG(t,e){const{height:n=150,width:r=300,redraw:i=!1,datasetIdKey:s,type:o,data:a,options:l,plugins:u=[],fallbackContent:c,updateMode:d,...f}=t,m=O.useRef(null),y=O.useRef(null),_=()=>{m.current&&(y.current=new Jf(m.current,{type:o,data:iG(a,s),options:l&&{...l},plugins:u}),Y2(e,y.current))},E=()=>{Y2(e,null),y.current&&(y.current.destroy(),y.current=null)};return O.useEffect(()=>{!i&&y.current&&l&&rG(y.current,l)},[i,l]),O.useEffect(()=>{!i&&y.current&&ZR(y.current.config.data,a.labels)},[i,a.labels]),O.useEffect(()=>{!i&&y.current&&a.datasets&&JR(y.current.config.data,a.datasets,s)},[i,a.datasets]),O.useEffect(()=>{y.current&&(i?(E(),setTimeout(_)):y.current.update(d))},[i,l,a.labels,a.datasets,d]),O.useEffect(()=>{y.current&&(E(),setTimeout(_))},[o]),O.useEffect(()=>(_(),()=>E()),[]),g.createElement("canvas",{ref:m,role:"img",height:n,width:r,...f},c)}const oG=O.forwardRef(sG);function aG(t,e){return Jf.register(e),O.forwardRef((n,r)=>g.createElement(oG,{...n,ref:r,type:t}))}const lG=aG("line",Wh);Jf.register(My,Ly,Gh,bl,jK,GK,FK);const uG=({data:t,title:e})=>{const n={labels:t.labels,datasets:[{label:"Revenue (EGP)",data:t.values,fill:!0,backgroundColor:"rgba(75,192,192,0.2)",borderColor:"rgba(75,192,192,1)",tension:.3}]},r={responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:e}}};return g.createElement(lG,{data:n,options:r})},cG=({isOpen:t,onClose:e,onConfirm:n,title:r,message:i})=>t?g.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50",onClick:e},g.createElement("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 max-w-sm w-full transform transition-all",onClick:s=>s.stopPropagation()},g.createElement("div",{className:"text-center"},g.createElement("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 dark:bg-red-900/50"},g.createElement("svg",{className:"h-6 w-6 text-red-600 dark:text-red-300",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"}))),g.createElement("h3",{className:"text-lg leading-6 font-medium text-gray-900 dark:text-white mt-4"},r),g.createElement("div",{className:"mt-2 px-7 py-3"},g.createElement("p",{className:"text-sm text-gray-500 dark:text-gray-300"},i))),g.createElement("div",{className:"mt-5 sm:mt-6 sm:grid sm:grid-cols-2 sm:gap-3 sm:grid-flow-row-dense"},g.createElement("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:col-start-2 sm:text-sm",onClick:()=>{n(),e()}},"Delete"),g.createElement("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 dark:border-gray-500 shadow-sm px-4 py-2 bg-white dark:bg-gray-700 text-base font-medium text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none sm:mt-0 sm:col-start-1 sm:text-sm",onClick:e},"Cancel")))):null,hG=zv().shape({question:fi().trim().min(5,"Question too short").max(200,"Question too long").required("Question is required"),answer:fi().trim().min(5,"Answer too short").max(1e3,"Answer too long").required("Answer is required")}),X2=t=>t.replace(/<[^>]*>?/gm,"").trim(),dG=({faqs:t,onSave:e,onDelete:n})=>{const[r,i]=O.useState(!1),[s,o]=O.useState(!1),[a,l]=O.useState({id:null,question:"",answer:""}),[u,c]=O.useState({}),d=async _=>{console.log("FAQ form submitted"),_.preventDefault(),c({});const E={...a,question:X2(a.question),answer:X2(a.answer)};try{await hG.validate(E,{abortEarly:!1}),e(E),y()}catch(w){if(w.inner){const b={};w.inner.forEach(T=>{b[T.path]=T.message}),c(b)}}},f=_=>{o(!0),l(_),r||i(!0)},m=_=>{n(_)},y=()=>{o(!1),l({id:null,question:"",answer:""})};return g.createElement("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md mb-8"},g.createElement("button",{className:"w-full flex justify-between items-center text-xl font-semibold text-gray-700 dark:text-gray-200",onClick:()=>i(!r)},g.createElement("span",null,"Manage FAQs"),g.createElement(vf,{className:`transition-transform duration-300 ${r?"rotate-180":""}`})),g.createElement("div",{className:`overflow-hidden transition-all duration-500 ease-in-out ${r?"max-h-[2000px] mt-6":"max-h-0"}`},g.createElement("form",{onSubmit:d,className:"mb-8 p-4 border rounded-lg dark:border-gray-700"},g.createElement("h3",{className:"text-lg font-semibold mb-4"},s?"Edit FAQ":"Add New FAQ"),g.createElement("div",{className:"flex flex-col gap-4"},g.createElement("input",{type:"text",placeholder:"Question",value:a.question,onChange:_=>l({...a,question:_.target.value}),className:"p-2 border rounded bg-white dark:bg-gray-700 dark:border-gray-600",required:!0}),u.question&&g.createElement("span",{className:"text-red-500 text-sm"},u.question),g.createElement("textarea",{placeholder:"Answer",value:a.answer,onChange:_=>l({...a,answer:_.target.value}),className:"p-2 border rounded bg-white dark:bg-gray-700 dark:border-gray-600 h-24",required:!0}),u.answer&&g.createElement("span",{className:"text-red-500 text-sm"},u.answer),g.createElement("div",{className:"flex gap-4"},g.createElement("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700"},s?"Update FAQ":"Add FAQ"),s&&g.createElement("button",{type:"button",onClick:y,className:"px-4 py-2 bg-gray-300 dark:bg-gray-600 rounded"},"Cancel")))),g.createElement("div",{className:"space-y-4"},t&&t.length>0?t.map(_=>g.createElement("div",{key:_.id,className:"p-4 border rounded-lg dark:border-gray-700 flex justify-between items-start"},g.createElement("div",null,g.createElement("h4",{className:"font-bold"},_.question),g.createElement("p",{className:"text-sm text-gray-600 dark:text-gray-400"},_.answer)),g.createElement("div",{className:"flex gap-2 flex-shrink-0 ml-4"},g.createElement("button",{onClick:()=>f(_),className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded"},g.createElement(Tk,null)),g.createElement("button",{onClick:()=>m(_.id),className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded text-red-500"},g.createElement(xd,null))))):g.createElement("p",{className:"text-center text-gray-500 dark:text-gray-400"},"No FAQs yet. Add one above!"))))},fG=["PUBG","Free Fire","PES","FIFA"],pG=t=>{switch(t){case"PUBG":return"UC";case"Free Fire":return"Diamonds";case"PES":return"Coins";case"FIFA":return"Points";default:return""}},mG=({packages:t,onSave:e,onDelete:n})=>{const[r,i]=O.useState(!1),[s,o]=O.useState(!1),[a,l]=O.useState({game:"PUBG",amount:"",price:""}),u=f=>{f.preventDefault();const m=pG(a.game),y=`${a.amount} ${m}`,_={id:a.id,game:a.game,name:y,price:Number(a.price)};e(_),d()},c=f=>{o(!0);const m=f.name.split(" ")[0];l({...f,amount:m}),r||i(!0)},d=()=>{o(!1),l({game:"PUBG",amount:"",price:""})};return g.createElement("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md mb-8"},g.createElement("button",{className:"w-full flex justify-between items-center text-xl font-semibold text-gray-700 dark:text-gray-200",onClick:()=>i(!r)},g.createElement("span",null,"Manage Packages"),g.createElement(vf,{className:`transition-transform duration-300 ${r?"rotate-180":""}`})),g.createElement("div",{className:`overflow-hidden transition-all duration-500 ease-in-out ${r?"max-h-[2000px] mt-6":"max-h-0"}`},g.createElement("form",{onSubmit:u,className:"mb-8 p-4 border rounded-lg dark:border-gray-700"},g.createElement("h3",{className:"text-lg font-semibold mb-4"},s?"Edit Package":"Add New Package"),g.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4"},g.createElement("select",{value:a.game,onChange:f=>l({...a,game:f.target.value}),className:"p-2 border rounded bg-white dark:bg-gray-700 dark:border-gray-600",required:!0},fG.map(f=>g.createElement("option",{key:f,value:f},f))),g.createElement("input",{type:"number",placeholder:"Amount (e.g., 60)",value:a.amount,onChange:f=>l({...a,amount:f.target.value}),className:"p-2 border rounded bg-white dark:bg-gray-700 dark:border-gray-600",required:!0}),g.createElement("input",{type:"number",placeholder:"Price",value:a.price,onChange:f=>l({...a,price:f.target.value}),className:"p-2 border rounded bg-white dark:bg-gray-700 dark:border-gray-600",required:!0})),g.createElement("div",{className:"flex gap-4 mt-4"},g.createElement("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700"},s?"Update Package":"Add Package"),s&&g.createElement("button",{type:"button",onClick:d,className:"px-4 py-2 bg-gray-300 dark:bg-gray-600 rounded"},"Cancel"))),g.createElement("div",{className:"space-y-4"},t&&t.length>0?t.map(f=>g.createElement("div",{key:f.id,className:"p-4 border rounded-lg dark:border-gray-700 flex justify-between items-center"},g.createElement("div",null,g.createElement("span",{className:"font-bold bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 text-xs font-medium me-2 px-2.5 py-0.5 rounded"},f.game),g.createElement("span",{className:"font-semibold"},f.name)," -",g.createElement("span",{className:"text-gray-600 dark:text-gray-400"}," EGP ",f.price)),g.createElement("div",{className:"flex gap-2"},g.createElement("button",{onClick:()=>c(f),className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded"},g.createElement(Tk,null)),g.createElement("button",{onClick:()=>n(f.id),className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded text-red-500"},g.createElement(xd,null))))):g.createElement("p",{className:"text-center text-gray-500 dark:text-gray-400"},"No packages yet. Add one above."))))},fh=({title:t,value:e,icon:n,color:r})=>g.createElement("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md flex items-center"},g.createElement("div",{className:`p-3 rounded-full mr-4 ${r}`},n),g.createElement("div",null,g.createElement("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400"},t),g.createElement("p",{className:"text-2xl font-bold text-gray-900 dark:text-white"},e))),Z2=()=>g.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})),gG=()=>g.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-yellow-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})),yG=()=>g.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})),vG=()=>g.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})),_G=({title:t,items:e})=>g.createElement("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md"},g.createElement("h3",{className:"text-lg font-semibold text-gray-700 dark:text-gray-200 mb-4"},t),g.createElement("ul",{className:"space-y-2"},e.map((n,r)=>g.createElement("li",{key:r,className:"flex justify-between text-sm"},g.createElement("span",{className:"text-gray-600 dark:text-gray-300"},n.name),g.createElement("span",{className:"font-bold text-gray-800 dark:text-white"},n.count," sales"))))),wG=()=>{const[t,e]=O.useState([]),[n,r]=O.useState([]),[i,s]=O.useState(!0),[o,a]=O.useState({searchTerm:"",status:"",game:"",paymentMethod:""}),[l,u]=O.useState(""),[c,d]=O.useState(null),[f,m]=O.useState(""),[y,_]=O.useState(!1),[E,w]=O.useState(null),[b,T]=O.useState([]),[R,D]=O.useState([]),[M,S]=O.useState([]),[x,I]=O.useState(null),[C,A]=O.useState("dashboard"),[N,P]=O.useState(!1),[ue,he]=O.useState(!1),ve=O.useRef(!0);O.useEffect(()=>{let $=!0;const Ce=BF(Se=>{if(!$)return;const es=Se.sort((ts,ns)=>new Date(ns.createdAt)-new Date(ts.createdAt));!ve.current&&es.length>t.length&&m("A new order has arrived!"),e(es),i&&s(!1)}),ke=hA(Se=>{console.log("subscribeToFaqs callback, faqsData:",Se),$&&(r(Se),i&&s(!1))}),Q=TA(Se=>{$&&(T(Se),i&&s(!1))}),ae=Xg("pending",Se=>{$&&(D(Se),i&&s(!1))}),we=Xg("approved",Se=>{$&&S(Se)});return ve.current=!1,()=>{$=!1,Ce(),ke(),Q(),ae(),we()}},[]);const X=($,Ce,ke)=>{w({id:$,deleteFunction:Ce,name:ke}),_(!0)},z=async()=>{E&&(await E.deleteFunction(E.id),m(`'${E.name}' has been deleted.`),w(null),_(!1))},K=$=>{const{name:Ce,value:ke}=$.target;a(Q=>({...Q,[Ce]:ke}))},G=O.useMemo(()=>{if(!l)return t;const $=new Date,Ce=new Date;return l==="day"?Ce.setHours(0,0,0,0):l==="week"?Ce.setDate($.getDate()-7):l==="month"&&Ce.setMonth($.getMonth()-1),t.filter(ke=>new Date(ke.createdAt)>=Ce)},[t,l]),{stats:se,topPackages:ie,chartData:oe}=O.useMemo(()=>{const $=G,Ce=$.length,ke=$.filter(Ee=>Ee.status==="Pending Payment"||Ee.status==="Awaiting Confirmation").length,Q=$.filter(Ee=>Ee.status==="Completed").length,ae=$.filter(Ee=>Ee.status==="Completed").reduce((Ee,mt)=>Ee+(mt.price||0),0),we=$.filter(Ee=>Ee.status==="Completed").reduce((Ee,mt)=>(Ee[mt.package]=(Ee[mt.package]||0)+1,Ee),{}),Se=Object.entries(we).map(([Ee,mt])=>({name:Ee,count:mt})).sort((Ee,mt)=>mt.count-Ee.count).slice(0,3),es=$.filter(Ee=>Ee.status==="Completed").reduce((Ee,mt)=>{const ro=new Date(mt.createdAt).toLocaleDateString();return Ee[ro]=(Ee[ro]||0)+mt.price,Ee},{}),ts=Object.keys(es).sort((Ee,mt)=>new Date(Ee)-new Date(mt)),ns=ts.map(Ee=>es[Ee]),lc=`Revenue for ${l?"This "+l:"All Time"}`;return{stats:{totalOrders:Ce,pending:ke,completed:Q,revenue:ae},topPackages:Se,chartData:{labels:ts,values:ns,title:lc}}},[G]),Ue=async($,Ce)=>{if(await uA($,Ce),Ce==="Completed"){const ke=t.find(Q=>Q.firestoreId===$);ke&&(await HF(ke),m(`Completion email sent for order ${ke.id}`))}},Qe=$=>{X($.firestoreId,$F,`Order ${$.id}`)},Re=O.useMemo(()=>eH(G,o),[G,o]),jt=async $=>{if(console.log("handleFaqSave called with:",$),$.id){const{id:Ce,...ke}=$;await KF(Ce,ke)}else{const{id:Ce,...ke}=$;await qF(ke)}},Zr=async $=>{X($,GF,"FAQ")},Ji=async $=>{await n7($)},Gn=async $=>{X($,r7,"Package")};return i?g.createElement("div",{className:"flex justify-center items-center min-h-screen bg-gray-100 dark:bg-gray-900"},g.createElement(Zs,null)):g.createElement("div",{className:"bg-gray-100 dark:bg-gray-900 min-h-screen"},g.createElement("header",{className:"fixed top-0 left-0 w-full z-50 flex items-center justify-between px-6 py-4 bg-white dark:bg-gray-800 shadow-md"},g.createElement("div",null,g.createElement("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white"},"Genius Store"),g.createElement("p",{className:"text-sm text-gray-500 dark:text-gray-400"},"Admin Panel")),g.createElement("button",{onClick:async()=>{const{signOut:$}=await Ub(async()=>{const{signOut:ke}=await Promise.resolve().then(()=>EF);return{signOut:ke}},void 0),{auth:Ce}=await Ub(async()=>{const{auth:ke}=await Promise.resolve().then(()=>xF);return{auth:ke}},void 0);window.location.href="/login",await $(Ce)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 shadow"},"Log Out")),g.createElement("main",{className:"mt-20 p-4 sm:p-6 lg:p-8 w-full"},g.createElement("div",{className:"flex items-center justify-between mb-6 lg:hidden"},g.createElement("h1",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100"},"Dashboard"),g.createElement("div",{className:"w-10"})," "),g.createElement("h1",{className:"text-3xl font-bold mb-6 text-gray-800 dark:text-gray-100 hidden lg:block"},"Dashboard"),g.createElement("div",{className:"mb-8"},g.createElement("h2",{className:"text-xl font-semibold text-gray-700 dark:text-gray-200 mb-4"},"Reports"),g.createElement("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 w-full"},g.createElement("button",{onClick:()=>u("day"),className:`w-full px-4 py-2 rounded-lg shadow-sm ${l==="day"?"bg-blue-600 text-white":"bg-white dark:bg-gray-800"}`},"Today"),g.createElement("button",{onClick:()=>u("week"),className:`w-full px-4 py-2 rounded-lg shadow-sm ${l==="week"?"bg-blue-600 text-white":"bg-white dark:bg-gray-800"}`},"This Week"),g.createElement("button",{onClick:()=>u("month"),className:`w-full px-4 py-2 rounded-lg shadow-sm ${l==="month"?"bg-blue-600 text-white":"bg-white dark:bg-gray-800"}`},"This Month"),g.createElement("button",{onClick:()=>u(""),className:`w-full px-4 py-2 rounded-lg shadow-sm ${l?"bg-white dark:bg-gray-800":"bg-blue-600 text-white"}`},"All Time"))),g.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},g.createElement(fh,{title:"Total Orders",value:se.totalOrders,icon:g.createElement(yG,null),color:"bg-blue-100 dark:bg-blue-900/50"}),g.createElement(fh,{title:"Pending / Awaiting",value:se.pending,icon:g.createElement(gG,null),color:"bg-yellow-100 dark:bg-yellow-900/50"}),g.createElement(fh,{title:"Completed Orders",value:se.completed,icon:g.createElement(Z2,null),color:"bg-green-100 dark:bg-green-900/50"}),g.createElement(fh,{title:"Total Revenue",value:`EGP ${se.revenue.toFixed(2)}`,icon:g.createElement(vG,null),color:"bg-purple-100 dark:bg-purple-900/50"})),g.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8"},g.createElement("div",{className:"lg:col-span-2 bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md"},g.createElement(uG,{data:oe,title:oe.title})),g.createElement(_G,{title:"Top 3 Selling Packages",items:ie})),g.createElement("div",{className:"space-y-8"},g.createElement("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md"},g.createElement("button",{className:"w-full flex justify-between items-center text-xl font-semibold text-gray-700 dark:text-gray-200",onClick:()=>P(!N)},g.createElement("span",null,"Testimonial Management"),g.createElement(vf,{className:`transition-transform duration-300 ${N?"rotate-180":""}`})),g.createElement("div",{className:`overflow-hidden transition-all duration-500 ease-in-out ${N?"max-h-[2000px] mt-6":"max-h-0"}`},g.createElement("div",null,g.createElement("h3",{className:"text-xl font-semibold mb-4 text-gray-800 dark:text-white"},"Pending Testimonials"),R.length>0?g.createElement("ul",{className:"space-y-2"},R.map($=>g.createElement("li",{key:$.id,className:"flex justify-between items-center p-4 border rounded-lg dark:border-gray-700"},g.createElement("span",null,$.name,': "',$.quote,'"'),g.createElement("div",null,g.createElement("button",{onClick:()=>ZF($.id),className:"p-2 text-green-500 hover:text-green-700"},g.createElement(Z2,null)),g.createElement("button",{onClick:()=>X($.id,fx,$.name),className:"p-2 text-red-500 hover:text-red-700"},g.createElement(xd,null)))))):g.createElement("p",{className:"text-gray-500 dark:text-gray-400"},"No pending testimonials.")),g.createElement("div",{className:"mt-6"},g.createElement("h3",{className:"text-xl font-semibold mb-4 text-gray-800 dark:text-white"},"Approved Testimonials"),M.length>0?g.createElement("ul",{className:"space-y-4"},M.map($=>g.createElement("li",{key:$.id,className:"flex justify-between items-center p-4 border rounded-lg dark:border-gray-700"},g.createElement("div",null,g.createElement("p",{className:"font-semibold text-gray-900 dark:text-white"},$.name),g.createElement("p",{className:"text-sm text-gray-600 dark:text-gray-300"},'"',$.quote,'"'),g.createElement("p",{className:"text-xs text-gray-400 dark:text-gray-500"},"Likes: ",$.likes,", Dislikes: ",$.dislikes)),g.createElement("button",{onClick:()=>X($.id,fx,$.name),className:"p-2 text-red-500 hover:text-red-700"},g.createElement(xd,null))))):g.createElement("p",{className:"text-gray-500 dark:text-gray-400"},"No approved testimonials.")))),g.createElement(dG,{faqs:n,onSave:jt,onDelete:Zr}),g.createElement(mG,{packages:b,onSave:Ji,onDelete:Gn})),g.createElement("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md mt-8"},g.createElement("div",{className:"flex flex-col sm:flex-row gap-4 mb-6 items-center"},g.createElement("h2",{className:"text-xl font-semibold text-gray-700 dark:text-gray-200 flex-grow"},"All Orders"),g.createElement("div",{className:"flex gap-4"},g.createElement("input",{type:"text",placeholder:"Search orders...",className:"p-2 border rounded shadow-sm w-full sm:w-64 bg-white dark:bg-gray-700 dark:border-gray-600",value:o.searchTerm,onChange:K,name:"searchTerm"}),g.createElement("select",{className:"p-2 border rounded shadow-sm w-full sm:w-auto bg-white dark:bg-gray-700 dark:border-gray-600",value:o.status,onChange:K,name:"status"},g.createElement("option",{value:""},"All Statuses"),g.createElement("option",{value:"Pending Payment"},"Pending Payment"),g.createElement("option",{value:"Awaiting Confirmation"},"Awaiting Confirmation"),g.createElement("option",{value:"Completed"},"Completed")))),g.createElement("div",{className:"overflow-x-auto"},g.createElement(tH,{orders:Re,onStatusChange:Ue,onDeleteClick:Qe,onRowClick:d}))),c&&g.createElement(nH,{order:c,onClose:()=>d(null)}),f&&g.createElement(rH,{message:f,onClose:()=>m("")}),g.createElement(cG,{isOpen:y,onClose:()=>_(!1),onConfirm:z,title:"Confirm Deletion",message:"Are you sure you want to delete this item? This action cannot be undone."})))};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function EG(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(t,[])).next())})}function xG(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Mo=function(){return Mo=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Mo.apply(this,arguments)},e4=function(t){return{loading:t==null,value:t}},bG=function(){return function(t,e){switch(e.type){case"error":return Mo(Mo({},t),{error:e.error,loading:!1,value:void 0});case"reset":return e4(e.defaultValue);case"value":return Mo(Mo({},t),{error:void 0,loading:!1,value:e.value});default:return t}}},TG=function(t){var e=t?t():void 0,n=O.useReducer(bG(),e4(e)),r=n[0],i=n[1],s=O.useCallback(function(){var l=t?t():void 0;i({type:"reset",defaultValue:l})},[t]),o=O.useCallback(function(l){i({type:"error",error:l})},[]),a=O.useCallback(function(l){i({type:"value",value:l})},[]);return O.useMemo(function(){return{error:r.error,loading:r.loading,reset:s,setError:o,setValue:a,value:r.value}},[r.error,r.loading,s,o,a,r.value])},t4=function(t,e){var n=TG(function(){return t.currentUser}),r=n.error,i=n.loading,s=n.setError,o=n.setValue,a=n.value;return O.useEffect(function(){var l=UC(t,function(u){return EG(void 0,void 0,void 0,function(){var c;return xG(this,function(d){switch(d.label){case 0:return[3,4];case 1:return d.trys.push([1,3,,4]),[4,e.onUserChanged(u)];case 2:return d.sent(),[3,4];case 3:return c=d.sent(),s(c),[3,4];case 4:return o(u),[2]}})})},s);return function(){l()}},[t]),[a,i,r]};const SG=()=>{const t=Qi(),[e,n]=O.useState(""),[r,i]=O.useState(""),[s,o]=O.useState(""),[a,l]=O.useState(!1),[u,c]=t4(Ud);if(u)return g.createElement(Ih,{to:"/dashboard"});const d=async f=>{f.preventDefault(),l(!0),o("");try{await LC(Ud,e,r),t("/dashboard")}catch(m){o("Failed to sign in. Please check your email and password."),console.error("Authentication error:",m)}finally{l(!1)}};return c?g.createElement("div",{className:"flex justify-center items-center min-h-screen bg-gray-100 dark:bg-gray-900"},g.createElement(Zs,null)):g.createElement("div",{className:"flex items-center justify-center min-h-screen bg-gray-100 dark:bg-gray-900"},g.createElement("div",{className:"w-full max-w-md p-8 space-y-6 bg-white rounded-lg shadow-md dark:bg-gray-800"},g.createElement("h1",{className:"text-2xl font-bold text-center text-gray-800 dark:text-gray-100"},"Admin Login"),g.createElement("form",{onSubmit:d,className:"space-y-6"},g.createElement("div",null,g.createElement("label",{htmlFor:"email",className:"block mb-2 text-sm font-medium text-gray-700 dark:text-gray-300"},"Email"),g.createElement("input",{id:"email",type:"email",value:e,onChange:f=>n(f.target.value),required:!0,className:"w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 focus:outline-none focus:ring focus:ring-blue-500"})),g.createElement("div",null,g.createElement("label",{htmlFor:"password",className:"block mb-2 text-sm font-medium text-gray-700 dark:text-gray-300"},"Password"),g.createElement("input",{id:"password",type:"password",value:r,onChange:f=>i(f.target.value),required:!0,className:"w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 focus:outline-none focus:ring focus:ring-blue-500"})),s&&g.createElement("p",{className:"text-sm text-center text-red-500"},s),g.createElement("button",{type:"submit",disabled:a,className:"w-full px-4 py-2 font-bold text-white bg-blue-500 rounded-md hover:bg-blue-600 disabled:bg-gray-400"},a?"Signing In...":"Sign In"))))},kG=()=>g.createElement("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100 dark:bg-gray-900"},g.createElement("div",{className:"p-8 bg-white rounded-lg shadow-md dark:bg-gray-800"},g.createElement("h1",{className:"mb-4 text-2xl font-bold text-center text-red-500"},"Unauthorized Access"),g.createElement("p",{className:"mb-4 text-center text-gray-700 dark:text-gray-300"},"You do not have permission to view this page."),g.createElement(_k,{to:"/",className:"block w-full px-4 py-2 font-bold text-center text-white bg-blue-500 rounded hover:bg-blue-700"},"Go to Homepage"))),IG="abdo.nasef.web@gmail.com",CG=({children:t})=>{const[e,n,r]=t4(Ud);return n?g.createElement("div",{className:"flex justify-center items-center min-h-screen bg-gray-100 dark:bg-gray-900"},g.createElement(Zs,null)):r?(console.error("Authentication error:",r),g.createElement(Ih,{to:"/login"})):e?e.email!==IG?g.createElement(Ih,{to:"/unauthorized"}):t:g.createElement(Ih,{to:"/login"})},AG=()=>g.createElement(qO,null,g.createElement(Xn,{element:g.createElement(DM,null)},g.createElement(Xn,{path:"/",element:g.createElement(J8,null)}),g.createElement(Xn,{path:"/select-package",element:g.createElement(i7,null)}),g.createElement(Xn,{path:"/payment",element:g.createElement(sU,null)}),g.createElement(Xn,{path:"/payment-instructions/:method",element:g.createElement(lU,null)}),g.createElement(Xn,{path:"/success",element:g.createElement(X$,null)})),g.createElement(Xn,{path:"/login",element:g.createElement(SG,null)}),g.createElement(Xn,{path:"/unauthorized",element:g.createElement(kG,null)}),g.createElement(Xn,{path:"/dashboard",element:g.createElement(CG,null,g.createElement(wG,null))}));function PG(){return g.createElement(JO,null,g.createElement(AG,null))}Am.createRoot(document.getElementById("root")).render(g.createElement(g.StrictMode,null,g.createElement(bA,null,g.createElement(PG,null))));
